/* Generated by CIL v. 1.3.2 */
/* print_CIL_Input is true */

typedef unsigned int size_t;
typedef unsigned char __uint8_t;
typedef unsigned long long __dev_t;
typedef unsigned int __uid_t;
typedef unsigned int __gid_t;
typedef unsigned long __ino_t;
typedef unsigned int __mode_t;
typedef unsigned int __nlink_t;
typedef long __off_t;
typedef int __pid_t;
typedef long __clock_t;
typedef long __time_t;
typedef long __blksize_t;
typedef long __blkcnt_t;
typedef int __ssize_t;
typedef __off_t off_t;
typedef __ssize_t ssize_t;
struct __anonstruct___sigset_t_10 {
   unsigned long __val[(int )(1024U / (8U * sizeof(unsigned long )))] ;
};
typedef struct __anonstruct___sigset_t_10 __sigset_t;
typedef __sigset_t sigset_t;
struct timespec {
   __time_t tv_sec ;
   long tv_nsec ;
};
struct stat {
   __dev_t st_dev ;
   unsigned short __pad1 ;
   __ino_t st_ino ;
   __mode_t st_mode ;
   __nlink_t st_nlink ;
   __uid_t st_uid ;
   __gid_t st_gid ;
   __dev_t st_rdev ;
   unsigned short __pad2 ;
   __off_t st_size ;
   __blksize_t st_blksize ;
   __blkcnt_t st_blocks ;
   struct timespec st_atim ;
   struct timespec st_mtim ;
   struct timespec st_ctim ;
   unsigned long __unused4 ;
   unsigned long __unused5 ;
};
typedef unsigned char cc_t;
typedef unsigned int speed_t;
typedef unsigned int tcflag_t;
struct termios {
   tcflag_t c_iflag ;
   tcflag_t c_oflag ;
   tcflag_t c_cflag ;
   tcflag_t c_lflag ;
   cc_t c_line ;
   cc_t c_cc[32] ;
   speed_t c_ispeed ;
   speed_t c_ospeed ;
};
typedef unsigned int tUint32;
typedef unsigned char tBoolean;
typedef unsigned long chtype;
typedef unsigned char NCURSES_BOOL;
struct _win_st;
typedef struct _win_st WINDOW;
typedef chtype attr_t;
struct ldat;
struct pdat {
   short _pad_y ;
   short _pad_x ;
   short _pad_top ;
   short _pad_left ;
   short _pad_bottom ;
   short _pad_right ;
};
struct _win_st {
   short _cury ;
   short _curx ;
   short _maxy ;
   short _maxx ;
   short _begy ;
   short _begx ;
   short _flags ;
   attr_t _attrs ;
   chtype _bkgd ;
   NCURSES_BOOL _notimeout ;
   NCURSES_BOOL _clear ;
   NCURSES_BOOL _leaveok ;
   NCURSES_BOOL _scroll ;
   NCURSES_BOOL _idlok ;
   NCURSES_BOOL _idcok ;
   NCURSES_BOOL _immed ;
   NCURSES_BOOL _sync ;
   NCURSES_BOOL _use_keypad ;
   int _delay ;
   struct ldat *_line ;
   short _regtop ;
   short _regbottom ;
   int _parx ;
   int _pary ;
   WINDOW *_parent ;
   struct pdat _pad ;
   short _yoffset ;
};
typedef unsigned long mmask_t;
typedef unsigned char tColorCode;
typedef short tColorPairNumber;
typedef chtype tColorBitmask;
typedef unsigned char tProgramMode;
typedef short tMbsIndex;
typedef unsigned short tPortnumber;
struct tConfigProxy {
   struct tConfigProxy *next ;
   char *hosts_pattern ;
   char *proxy_hostname ;
   char *auth_user ;
   char *auth_pass ;
   tPortnumber hosts_portnumber ;
   tPortnumber proxy_portnumber ;
};
typedef struct tConfigProxy tConfigProxy;
struct tConfigProtocolVersion {
   struct tConfigProtocolVersion *next ;
   char *hosts_pattern ;
   char *protstr ;
   tPortnumber hosts_portnumber ;
};
typedef struct tConfigProtocolVersion tConfigProtocolVersion;
typedef unsigned char tConfigCookieFlags;
struct tConfigCookie {
   struct tConfigCookie *next ;
   char const   *hosts_pattern ;
   tConfigCookieFlags flags ;
};
typedef struct tConfigCookie tConfigCookie;
struct tConfigLogin {
   struct tConfigLogin *next ;
   char *user ;
   char *password ;
   char *hosts_pattern ;
   tPortnumber hosts_portnumber ;
};
typedef struct tConfigLogin tConfigLogin;
struct tConfigJump {
   struct tConfigJump *next ;
   char const   *name ;
   char *uri ;
   char **arg ;
   unsigned short argcount ;
   unsigned short maxargcount ;
};
typedef struct tConfigJump tConfigJump;
struct tConfigLocaldirsort {
   struct tConfigLocaldirsort *next ;
   char const   *path_pattern ;
   char *sorting ;
};
typedef struct tConfigLocaldirsort tConfigLocaldirsort;
struct tConfigLocaldirformat {
   struct tConfigLocaldirformat *next ;
   char const   *path_pattern ;
   char const   *format ;
};
typedef struct tConfigLocaldirformat tConfigLocaldirformat;
typedef tUint32 tConfigurationFlags;
struct __anonstruct_tConfiguration_44 {
   char const   *path ;
   char const   *user_agent ;
   char const   *languages ;
   char const   *home_uri ;
   char const   *search_engine ;
   char const   *bookmarks ;
   char const   *pm_uri ;
   tConfigProtocolVersion *http_version ;
   tConfigProxy *http_proxies ;
   tConfigLogin *ftp_login ;
   tConfigJump *jumps ;
   tConfigLocaldirsort *lds ;
   tConfigLocaldirformat *ldf ;
   tConfigCookie *http_cookies ;
   char const   *session_default ;
   char const   *session_resume ;
   char const   *news_server ;
   size_t ramcachesize ;
   tConfigurationFlags flags ;
   char char_yes ;
   char char_no ;
   char console_backspace ;
   char char_file ;
   char char_dir ;
   char char_link ;
   unsigned char redirections ;
};
typedef struct __anonstruct_tConfiguration_44 tConfiguration;
typedef unsigned char tResourceProtocol;
union sigval {
   int sival_int ;
   void *sival_ptr ;
};
typedef union sigval sigval_t;
struct __anonstruct__kill_70 {
   __pid_t si_pid ;
   __uid_t si_uid ;
};
struct __anonstruct__timer_71 {
   int si_tid ;
   int si_overrun ;
   sigval_t si_sigval ;
};
struct __anonstruct__rt_72 {
   __pid_t si_pid ;
   __uid_t si_uid ;
   sigval_t si_sigval ;
};
struct __anonstruct__sigchld_73 {
   __pid_t si_pid ;
   __uid_t si_uid ;
   int si_status ;
   __clock_t si_utime ;
   __clock_t si_stime ;
};
struct __anonstruct__sigfault_74 {
   void *si_addr ;
};
struct __anonstruct__sigpoll_75 {
   long si_band ;
   int si_fd ;
};
union __anonunion__sifields_69 {
   int _pad[(int )(128U / sizeof(int ) - 3U)] ;
   struct __anonstruct__kill_70 _kill ;
   struct __anonstruct__timer_71 _timer ;
   struct __anonstruct__rt_72 _rt ;
   struct __anonstruct__sigchld_73 _sigchld ;
   struct __anonstruct__sigfault_74 _sigfault ;
   struct __anonstruct__sigpoll_75 _sigpoll ;
};
struct siginfo {
   int si_signo ;
   int si_errno ;
   int si_code ;
   union __anonunion__sifields_69 _sifields ;
};
typedef struct siginfo siginfo_t;
union __anonunion___sigaction_handler_87 {
   void (*sa_handler)(int  ) ;
   void (*sa_sigaction)(int  , siginfo_t * , void * ) ;
};
struct sigaction {
   union __anonunion___sigaction_handler_87 __sigaction_handler ;
   __sigset_t sa_mask ;
   int sa_flags ;
   void (*sa_restorer)(void) ;
};
struct winsize {
   unsigned short ws_row ;
   unsigned short ws_col ;
   unsigned short ws_xpixel ;
   unsigned short ws_ypixel ;
};
struct utsname {
   char sysname[65] ;
   char nodename[65] ;
   char release[65] ;
   char version[65] ;
   char machine[65] ;
   char __domainname[65] ;
};
union __anonunion___u_95 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_96 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_97 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
typedef unsigned char tConfigSectionCode;
typedef unsigned char tKeymapKind;
union __anonunion___u_100 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
typedef __mode_t mode_t;
struct __anonstruct_MEVENT_22 {
   short id ;
   int x ;
   int y ;
   int z ;
   mmask_t bstate ;
};
typedef struct __anonstruct_MEVENT_22 MEVENT;
typedef int tKey;
typedef short tCoordinate;
typedef unsigned int tHtmlInputLength;
typedef unsigned char tActiveElementKind;
typedef unsigned char tActiveElementFlags;
typedef int tActiveElementNumber;
typedef int tHtmlFormNumber;
struct __anonstruct_tActiveElementBase_27 {
   char const   *data ;
   char const   *render ;
   tHtmlInputLength size ;
   tHtmlInputLength maxlength ;
   tActiveElementKind kind ;
   tActiveElementFlags flags ;
};
typedef struct __anonstruct_tActiveElementBase_27 tActiveElementBase;
typedef unsigned char tHtmlFormFlags;
struct __anonstruct_tHtmlForm_29 {
   char const   *action_uri ;
   tActiveElementNumber first_ae ;
   tActiveElementNumber last_ae ;
   tHtmlFormFlags flags ;
};
typedef struct __anonstruct_tHtmlForm_29 tHtmlForm;
struct tContentblock {
   struct tContentblock *next ;
   char *data ;
   size_t usable ;
   size_t used ;
};
typedef struct tContentblock tContentblock;
typedef unsigned char tResourceContentKind;
typedef unsigned char tCantentFlags;
struct __anonstruct_tCantent_32 {
   tContentblock *content ;
   tContentblock *lastcontent ;
   tContentblock *lhpp_content ;
   void *tree ;
   tActiveElementBase *aebase ;
   tHtmlForm *form ;
   char const   *redirection ;
   char const   *major_html_title ;
   size_t lhpp_byte ;
   size_t refcount ;
   tActiveElementNumber aenum ;
   tActiveElementNumber aemax ;
   tHtmlFormNumber hfnum ;
   tHtmlFormNumber hfmax ;
   tResourceContentKind kind ;
   tCantentFlags caf ;
};
typedef struct __anonstruct_tCantent_32 tCantent;
typedef unsigned char tFileTreatment;
typedef unsigned char tDhmCommand;
typedef unsigned char tDhmNotificationFlags;
struct tDhmNotificationEntry {
   struct tDhmNotificationEntry *next ;
   void (*callback)(void * , tDhmNotificationFlags  ) ;
   void *callback_data ;
   tDhmNotificationFlags flags ;
};
typedef struct tDhmNotificationEntry tDhmNotificationEntry;
typedef unsigned char tDhmControlCode;
struct __anonstruct_tDhmGenericData_39 {
   void *object ;
   void (*control_handler)(void * , void * , tDhmControlCode  ) ;
   tDhmNotificationEntry *notifications ;
   size_t refcount ;
};
typedef struct __anonstruct_tDhmGenericData_39 tDhmGenericData;
typedef unsigned char tDhmNotimode;
struct __anonstruct_tDhmNotificationSetup_41 {
   void (*callback)(void * , tDhmNotificationFlags  ) ;
   void *callback_data ;
   tDhmNotificationFlags flags ;
   tDhmNotimode mode ;
};
typedef struct __anonstruct_tDhmNotificationSetup_41 tDhmNotificationSetup;
typedef unsigned char tFdObservationFlags;
typedef unsigned short tRpFlags;
struct __anonstruct_tRpData_49 {
   char const   *scheme ;
   tResourceProtocol final_rp ;
   tRpFlags flags ;
};
typedef struct __anonstruct_tRpData_49 tRpData;
typedef unsigned int tResourceFlags;
typedef unsigned char tResourceState;
typedef unsigned char tResourceCommandHandshake;
typedef unsigned char tResourceError;
typedef unsigned char tUriDataFlags;
struct __anonstruct_tUriData_55 {
   char *uri ;
   char *hostname ;
   char *path ;
   char *query ;
   char *post ;
   char *username ;
   char *password ;
   tPortnumber portnumber ;
   unsigned char refcount ;
   tResourceProtocol rp ;
   tResourceError re ;
   tUriDataFlags udf ;
};
typedef struct __anonstruct_tUriData_55 tUriData;
struct tSaveAs {
   struct tSaveAs *next ;
   int fd ;
};
typedef struct tSaveAs tSaveAs;
typedef unsigned short tServerStatusCode;
typedef signed char tTlHeaderState;
struct tRpsdGeneric;
struct tTransferData {
   struct tTransferData *next ;
   char const   *name ;
   char *data ;
   size_t size ;
   tBoolean need_unmap ;
};
typedef struct tTransferData tTransferData;
typedef unsigned char tSinkingDataFlags;
struct __anonstruct_tSinkingData_57 {
   tTransferData *transfer_data ;
   size_t restart_marker ;
   int download_fd ;
   tSinkingDataFlags flags ;
};
typedef struct __anonstruct_tSinkingData_57 tSinkingData;
struct tConnection;
struct tHostPortProtInfo;
struct tResource {
   struct tResource *next ;
   struct tResource *prev ;
   struct tConnection *cconn ;
   struct tConnection *dconn ;
   tCantent *cantent ;
   tUriData *uri_data ;
   tDhmGenericData *dhm_data ;
   tConfigProxy const   *proxy ;
   struct tHostPortProtInfo *actual_hppi ;
   struct tHostPortProtInfo *textual_hppi ;
   tSinkingData *sinking_data ;
   tSaveAs *save_as ;
   struct tRpsdGeneric *rpsd ;
   void *custconn_handle ;
   size_t nominal_contentlength ;
   size_t bytecount ;
   tResourceFlags flags ;
   tServerStatusCode server_status_code ;
   tTlHeaderState tlheaderstate ;
   tResourceProtocol protocol ;
   tResourceState state ;
   tResourceCommandHandshake handshake ;
   tResourceError error ;
};
typedef struct tResource tResource;
typedef unsigned char tResourceRequestAction;
typedef unsigned char tResourceRequestState;
typedef unsigned char tResourceRequestFlags;
struct tCachedHostInformation;
struct __anonstruct_tResourceRequest_61 {
   tUriData *uri_data ;
   tDhmGenericData *dhm_data ;
   tConfigProxy const   *proxy ;
   tResource *resource ;
   struct tCachedHostInformation *lookup ;
   tSinkingData *sinking_data ;
   tResourceRequestFlags flags ;
   tResourceRequestAction action ;
   tResourceRequestState state ;
   tResourceError error ;
};
typedef struct __anonstruct_tResourceRequest_61 tResourceRequest;
typedef unsigned short tMissingInformationFlags;
struct tUserQuery;
struct tUserQuery {
   void (*callback)(struct tUserQuery * ) ;
   tResource *resource ;
   struct tHostPortProtInfo *hppi ;
   char const   *hostname ;
   tPortnumber portnumber ;
   tMissingInformationFlags mif ;
};
typedef struct tUserQuery tUserQuery;
typedef unsigned char tCustomConnPrintingKind;
struct __anonstruct_tCustomConnPrintingData_64 {
   char const   *text ;
   size_t len ;
   tCustomConnPrintingKind ccpk ;
};
typedef struct __anonstruct_tCustomConnPrintingData_64 tCustomConnPrintingData;
typedef unsigned char tHtmlTagKind;
typedef unsigned char tAttributeName;
struct tAttribute {
   struct tAttribute *next ;
   char *value ;
   tAttributeName name ;
};
typedef struct tAttribute tAttribute;
typedef unsigned char tHtmlNodeFlags;
struct tHtmlNode {
   struct tHtmlNode *next ;
   void *data ;
   tHtmlNodeFlags flags ;
   tHtmlTagKind kind ;
};
typedef struct tHtmlNode tHtmlNode;
typedef unsigned char tHtmlOptionFlags;
typedef tHtmlInputLength tHtmlOptionNumber;
struct tHtmlOption {
   struct tHtmlOption *next ;
   char *value ;
   char *render ;
   tHtmlOptionFlags flags ;
};
typedef struct tHtmlOption tHtmlOption;
typedef unsigned char tProgramCommandCode;
struct __anonstruct_tKeymapCommandEntry_76 {
   tKey key ;
   tProgramCommandCode pcc ;
};
typedef struct __anonstruct_tKeymapCommandEntry_76 tKeymapCommandEntry;
struct __anonstruct_keymap_command_str2pcc_77 {
   char const   *str ;
   tProgramCommandCode pcc ;
};
typedef unsigned char tLineInputActionCode;
struct __anonstruct_tKeymapLineinputEntry_79 {
   tKey key ;
   tLineInputActionCode liac ;
};
typedef struct __anonstruct_tKeymapLineinputEntry_79 tKeymapLineinputEntry;
struct __anonstruct_keymap_lineinput_str2liac_80 {
   char const   *str ;
   tLineInputActionCode liac ;
};
typedef unsigned char tKeyHandlingMode;
struct tRemainingWork;
struct tRemainingWork {
   struct tRemainingWork *next ;
   tBoolean (*callback)(struct tRemainingWork  const  * ) ;
   void *data1 ;
   void *data2 ;
   void *data3 ;
};
typedef struct tRemainingWork tRemainingWork;
typedef unsigned char tLineInputEventKind;
typedef unsigned char tLineInputAreaFlags;
struct __anonstruct_tLineInputArea_84 {
   char *text ;
   short len ;
   short maxlen ;
   short pos ;
   short first ;
   short row ;
   short colmin ;
   short colcurr ;
   short colmax ;
   short usable ;
   tLineInputAreaFlags flags ;
};
typedef struct __anonstruct_tLineInputArea_84 tLineInputArea;
typedef unsigned char tLineInputAreaIndex;
typedef unsigned short tPrrFlags;
union __anonunion___u_86 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
struct __anonstruct_lid_87 {
   tLineInputArea area[2] ;
   void (*callback)(void * , tLineInputEventKind  , tKey key ) ;
   void *callback_data ;
   tPrrFlags prrf ;
   tLineInputAreaIndex curr ;
   tLineInputAreaIndex num_areas ;
};
typedef unsigned char tEditableLineInputGoal;
typedef unsigned char tConfirmationGoal;
typedef unsigned char tDumpStyleFlags;
struct __anonstruct_tDumpStyle_92 {
   tCoordinate width ;
   unsigned char kb_hashmarks ;
   tDumpStyleFlags flags ;
};
typedef struct __anonstruct_tDumpStyle_92 tDumpStyle;
typedef unsigned char tWindowRedrawingTask;
struct __anonstruct_scheme2rp_94 {
   char const   *scheme ;
   tResourceProtocol rp ;
};
typedef unsigned char tWindowKind;
struct tWindowSpec;
struct tWindow {
   struct tWindow *prev ;
   struct tWindow *next ;
   struct tWindowSpec  const  *spec ;
   void *wksd ;
};
typedef struct tWindow tWindow;
typedef unsigned char tWindowSpecFlags;
struct tBrowserDocument;
struct tWindowSpec {
   void (*create)(tWindow * ) ;
   void (*remove)(tWindow * ) ;
   void (*redraw)(tWindow const   * ) ;
   tBoolean (*is_precious)(tWindow const   * ) ;
   tBoolean (*handle_key)(tWindow * , tKey  ) ;
   tBoolean (*handle_pcc)(tWindow * , tProgramCommandCode  ) ;
   struct tBrowserDocument *(*find_currdoc)(tWindow const   * ) ;
   char const   *(*get_info)(tWindow * , tBoolean * ) ;
   char const   *(*get_menu_entry)(tWindow * ) ;
   void (*setup_cm)(tWindow * , short * , short * , tActiveElementNumber  ) ;
   void (*save_session)(tWindow * , int  ) ;
   void (*handle_mouse)(tWindow * , tCoordinate  , tCoordinate  , int  ) ;
   char ui_char ;
   char session_char ;
   tWindowKind kind ;
   tWindowSpecFlags flags ;
};
typedef struct tWindowSpec tWindowSpec;
typedef unsigned char tVisibleWindowIndex;
typedef unsigned char tWindowViewFlags;
typedef unsigned char tBrowserDocumentDisplayMode;
struct __anonstruct_tBrowserDocumentOps_99 {
   tBoolean (*find_coords)(struct tBrowserDocument  const  * , short * , short * ,
                           short * , short * ) ;
   void (*display_meta1)(struct tBrowserDocument * ) ;
   void (*display_meta2)(struct tBrowserDocument * ) ;
};
typedef struct __anonstruct_tBrowserDocumentOps_99 tBrowserDocumentOps;
typedef int tLinenumber;
struct tActiveElementCoordinates {
   struct tActiveElementCoordinates *next ;
   tLinenumber y ;
   short x1 ;
   short x2 ;
};
typedef struct tActiveElementCoordinates tActiveElementCoordinates;
struct __anonstruct_tActiveElement_100 {
   char *current_text ;
   tActiveElementCoordinates *aec ;
   tActiveElementFlags flags ;
};
typedef struct __anonstruct_tActiveElement_100 tActiveElement;
struct tBrowserDocument {
   tBrowserDocumentOps const   *ops ;
   void *container ;
   tResourceRequest *request ;
   tCantent *cantent ;
   char const   *title ;
   char const   *minor_html_title ;
   char const   *last_info ;
   char const   *anchor ;
   tActiveElement *active_element ;
   tActiveElementNumber aenum ;
   tActiveElementNumber aemax ;
   tActiveElementNumber aecur ;
   tActiveElementNumber former_ae ;
   tLinenumber origin_y ;
   unsigned char redirections ;
   tBrowserDocumentDisplayMode bddm ;
   tWindowViewFlags flags ;
};
typedef struct tBrowserDocument tBrowserDocument;
struct __anonstruct_tPrrData_101 {
   char const   *uri ;
   tBrowserDocument const   *referrer ;
   tResourceRequest *result ;
   char const   *uri_anchor ;
   tPrrFlags prrf ;
};
typedef struct __anonstruct_tPrrData_101 tPrrData;
union __anonunion___u_102 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_103 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
typedef unsigned char tRendererAction;
typedef unsigned short tRendererDataFlags;
typedef unsigned char tRendererText;
typedef attr_t tRendererAttr;
struct tRendererElement {
   struct tRendererElement *next ;
   tRendererText *text ;
   tRendererAttr *attr ;
   size_t textcount ;
   tBoolean is_spacer ;
};
typedef struct tRendererElement tRendererElement;
struct tRendererData;
struct tRendererData {
   void *rsd ;
   void (*line_callback)(struct tRendererData * ) ;
   void *line_callback_data ;
   tBrowserDocument *document ;
   tRendererElement const   *element ;
   tRendererText *inttext ;
   tRendererAttr *intattr ;
   tActiveElementNumber *intaenum ;
   size_t inttextlen ;
   size_t line_width ;
   tCoordinate resulting_line_width ;
   tRendererDataFlags flags ;
   tRendererAction ra ;
};
typedef struct tRendererData tRendererData;
typedef int tHtmlNestingNumber;
typedef unsigned char tHtmlNestingFlags;
struct __anonstruct_tHtmlNesting_108 {
   char const   *unknown_tagname ;
   tHtmlNestingNumber li_recalc ;
   size_t li_offset ;
   tRendererAttr currattr ;
   tHtmlNodeFlags align ;
   tHtmlTagKind htk ;
   tHtmlNestingFlags hnestf ;
   unsigned char listdepth ;
};
typedef struct __anonstruct_tHtmlNesting_108 tHtmlNesting;
typedef unsigned char tRendererHtmlDataFlags;
struct __anonstruct_tRendererHtmlData_110 {
   tHtmlNesting *nesting ;
   tHtmlNestingNumber numnest ;
   tHtmlNestingNumber maxnest ;
   tHtmlNestingNumber p_level ;
   tHtmlNestingNumber table_level ;
   tHtmlNestingNumber ae_level ;
   tHtmlNestingNumber form_level ;
   tActiveElementNumber _ae ;
   tActiveElementNumber __ae ;
   tHtmlFormNumber _hfn ;
   tHtmlFormNumber __hfn ;
   tLinenumber currline ;
   tRendererHtmlDataFlags flags ;
};
typedef struct __anonstruct_tRendererHtmlData_110 tRendererHtmlData;
union __anonunion___u_111 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_112 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_113 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_114 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_115 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
typedef unsigned char tWindowRedrawingFlags;
struct __anonstruct_tWindowRedrawingData_117 {
   tLinenumber origin_y ;
   tLinenumber currline ;
   tLinenumber highest_backward_line ;
   size_t searchlen ;
   short row ;
   short maxrow ;
   short mincol ;
   tWindowRedrawingTask task ;
   tWindowRedrawingFlags flags ;
};
typedef struct __anonstruct_tWindowRedrawingData_117 tWindowRedrawingData;
union __anonunion___u_118 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
struct __anonstruct_tContentDumpData_119 {
   char *line ;
   int fd ;
};
typedef struct __anonstruct_tContentDumpData_119 tContentDumpData;
union __anonunion___u_120 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_121 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_122 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
typedef void *tCmCallbackData;
typedef int tCmNumber;
struct __anonstruct_tCmEntry_123 {
   char const   *render ;
   void (*function)(tCmCallbackData  ) ;
   tCmCallbackData data ;
};
typedef struct __anonstruct_tCmEntry_123 tCmEntry;
union __anonunion___u_124 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
struct __anonstruct_tAskYesnoData_125 {
   tUserQuery *query ;
   tConfirmationGoal cg ;
};
typedef struct __anonstruct_tAskYesnoData_125 tAskYesnoData;
struct __anonstruct_tEstartData_126 {
   tUserQuery *query ;
   tEditableLineInputGoal elig ;
};
typedef struct __anonstruct_tEstartData_126 tEstartData;
typedef unsigned char tCccFlags;
typedef signed char tCccCode;
typedef unsigned char tCccArgnum;
struct __anonstruct_tCccData_129 {
   char const   *default_cmdstr ;
   char const   *helpstr ;
   tCccFlags flags ;
   tCccArgnum minarg ;
   tCccArgnum maxarg ;
};
typedef struct __anonstruct_tCccData_129 tCccData;
struct __anonstruct_tCccXlat_130 {
   char const   *cmdstr ;
   tCccCode code ;
};
typedef struct __anonstruct_tCccXlat_130 tCccXlat;
struct tCustomConnContext;
struct tCcSeqEntry;
typedef unsigned char tCcSeqStep;
struct tCcSeqEntry {
   void (*callback)(struct tCustomConnContext  const  * , tResource *resource , struct tCcSeqEntry *entry ,
                    tCcSeqStep  ) ;
   void *data ;
   tBoolean did_send ;
};
typedef struct tCcSeqEntry tCcSeqEntry;
struct __anonstruct_tCustomConnOps_132 {
   tBoolean (*may_handle)(struct tCustomConnContext  const  * ) ;
   tBoolean (*handle_cccc)(struct tCustomConnContext  const  * , tCccCode  , char const   ** ,
                           tCccArgnum  ) ;
   tBoolean (*try_open)(struct tCustomConnContext  const  * ) ;
   void (*do_open)(struct tCustomConnContext  const  * , tResourceRequest * ) ;
   void (*do_start)(struct tCustomConnContext  const  * , unsigned char  , void const   * ) ;
   void (*do_prepare_sequencer)(struct tCustomConnContext  const  * , char const   * ,
                                void (*)(struct tCustomConnContext  const  * , tResource *resource ,
                                         struct tCcSeqEntry *entry , tCcSeqStep  ) ) ;
   void (*getput)(struct tCustomConnContext  const  * , unsigned char  , char const   * ,
                  char const   * ) ;
};
typedef struct __anonstruct_tCustomConnOps_132 tCustomConnOps;
struct tCustomConnContext {
   tCustomConnOps const   *ops ;
   void *data ;
};
typedef struct tCustomConnContext tCustomConnContext;
union __anonunion___u_133 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
typedef int tConsoleTaskNum;
typedef unsigned char tConsoleTaskState;
struct __anonstruct_tConsoleTask_136 {
   tCustomConnContext context ;
   tCcSeqEntry sequencer_entry ;
   tResourceRequest *request ;
   char const   *label ;
   size_t last_hash_bytecount ;
   tConsoleTaskState state ;
};
typedef struct __anonstruct_tConsoleTask_136 tConsoleTask;
typedef unsigned char tConsolePromptKind;
union __anonunion___u_138 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_139 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
struct tWindowView {
   tBrowserDocument bd ;
   struct tWindow *window ;
   struct tWindowView *prev ;
   struct tWindowView *next ;
};
typedef struct tWindowView tWindowView;
struct __anonstruct_tWkBrowserData_140 {
   tWindowView *first_view ;
   tWindowView *current_view ;
};
typedef struct __anonstruct_tWkBrowserData_140 tWkBrowserData;
struct tIbuf {
   struct tIbuf *next ;
   char const   *str ;
};
typedef struct tIbuf tIbuf;
struct __anonstruct_tIbuffer_141 {
   tIbuf *head ;
   tIbuf *tail ;
};
typedef struct __anonstruct_tIbuffer_141 tIbuffer;
typedef signed char tIbufferIndex;
union __anonunion___u_143 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
struct __anonstruct_tWkInfoData_144 {
   tBrowserDocument document ;
   char const   *window_title ;
   char const   *message ;
   tBoolean is_finalized ;
   tBoolean message_is_error ;
};
typedef struct __anonstruct_tWkInfoData_144 tWkInfoData;
union __anonunion___u_145 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
typedef unsigned char tHtmlTagFlags;
struct __anonstruct_tagdata_70 {
   char const   *name ;
   tHtmlTagFlags flags ;
};
struct __anonstruct_chent_71 {
   char const   *name ;
   char const   *result ;
};
typedef unsigned short tEntityCode;
struct __anonstruct_chentcode_72 {
   tEntityCode code ;
   short index ;
};
struct __anonstruct_attrdata_74 {
   char const   *str ;
   tAttributeName an ;
};
typedef unsigned char tHtmlParserState;
typedef unsigned char tCharacterEntityInterpreterState;
typedef unsigned char tEntityKind;
struct __anonstruct_input_type_78 {
   char const   *name ;
   tActiveElementKind kind ;
};
union __anonunion___u_79 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_80 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_81 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_82 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_83 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_84 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
typedef unsigned int __socklen_t;
typedef __time_t time_t;
struct __sched_param {
   int __sched_priority ;
};
struct __pthread_attr_s {
   int __detachstate ;
   int __schedpolicy ;
   struct __sched_param __schedparam ;
   int __inheritsched ;
   int __scope ;
   size_t __guardsize ;
   int __stackaddr_set ;
   void *__stackaddr ;
   size_t __stacksize ;
};
typedef struct __pthread_attr_s pthread_attr_t;
typedef unsigned long pthread_t;
typedef __socklen_t socklen_t;
struct dirent {
   __ino_t d_ino ;
   __off_t d_off ;
   unsigned short d_reclen ;
   unsigned char d_type ;
   char d_name[256] ;
};
struct __dirstream;
typedef struct __dirstream DIR;
typedef unsigned short sa_family_t;
struct sockaddr {
   sa_family_t sa_family ;
   char sa_data[14] ;
};
typedef unsigned short uint16_t;
typedef unsigned int uint32_t;
typedef uint16_t in_port_t;
typedef uint32_t in_addr_t;
struct in_addr {
   in_addr_t s_addr ;
};
struct sockaddr_in {
   sa_family_t sin_family ;
   in_port_t sin_port ;
   struct in_addr sin_addr ;
   unsigned char sin_zero[(int )(((sizeof(struct sockaddr ) - sizeof(unsigned short )) -
                                  sizeof(in_port_t )) - sizeof(struct in_addr ))] ;
};
struct servent {
   char *s_name ;
   char **s_aliases ;
   int s_port ;
   char *s_proto ;
};
struct protoent {
   char *p_name ;
   char **p_aliases ;
   int p_proto ;
};
struct addrinfo {
   int ai_flags ;
   int ai_family ;
   int ai_socktype ;
   int ai_protocol ;
   socklen_t ai_addrlen ;
   struct sockaddr *ai_addr ;
   char *ai_canonname ;
   struct addrinfo *ai_next ;
};
typedef struct sockaddr tSockaddr;
typedef signed char tSockaddrRating;
typedef signed char tSockaddrIndex;
typedef unsigned char tSockaddrsBitfield;
typedef unsigned char tSockaddrPortProtInfoFlags;
struct tSockaddrPortProtInfo {
   struct tSockaddrPortProtInfo *next ;
   char const   *software_id ;
   tPortnumber portnumber ;
   tResourceProtocol protocol ;
   tSockaddrPortProtInfoFlags sppif ;
   tSockaddrRating rating ;
};
typedef struct tSockaddrPortProtInfo tSockaddrPortProtInfo;
struct tSockaddrEntry {
   tSockaddr addr ;
   struct tSockaddrEntry *next ;
   tSockaddrPortProtInfo *sppi ;
   size_t addrlen ;
   int address_family ;
};
typedef struct tSockaddrEntry tSockaddrEntry;
typedef unsigned short tHashIndex;
typedef unsigned char tDnsLookupFlags;
struct __anonstruct_tDnsLookup_98 {
   tSockaddrEntry sockaddrs[8] ;
   struct tCachedHostInformation *hostinfo ;
   char const   *hostname ;
   tSockaddrIndex num ;
   tDnsLookupFlags flags ;
};
typedef struct __anonstruct_tDnsLookup_98 tDnsLookup;
union __anonunion___u_99 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
struct __anonstruct_tDnsThreadData_108 {
   int reader ;
   int writer ;
};
typedef struct __anonstruct_tDnsThreadData_108 tDnsThreadData;
typedef unsigned char tHostPortProtInfoFlags;
struct tLoginData {
   struct tLoginData *next ;
   char const   *username ;
   char const   *password ;
};
typedef struct tLoginData tLoginData;
struct tHostPortProtInfo {
   struct tHostPortProtInfo *next ;
   struct tCachedHostInformation *host ;
   tLoginData *login_data ;
   tPortnumber portnumber ;
   tResourceProtocol protocol ;
   tHostPortProtInfoFlags flags ;
};
typedef struct tHostPortProtInfo tHostPortProtInfo;
typedef unsigned char tCachedHostInformationFlags;
struct tCookie;
struct tNewsGroupInformation;
struct tCachedHostInformation {
   struct tCachedHostInformation *next ;
   tSockaddrEntry **sockaddrs ;
   tHostPortProtInfo *hppi ;
   char const   *hostname ;
   tDhmGenericData *dhm_data ;
   struct tCookie *cookies ;
   struct tNewsGroupInformation *ngi ;
   tCachedHostInformationFlags flags ;
   tSockaddrIndex num_sockaddrs ;
   unsigned char cookiecount ;
};
typedef struct tCachedHostInformation tCachedHostInformation;
typedef unsigned char tHostAddressLookupResult;
typedef unsigned char tHostAddressLookupFlags;
typedef unsigned short tConnectionFlags;
typedef unsigned char tConnCbEventKind;
struct __anonstruct_tConnectAttemptData_115 {
   tSockaddrEntry **sockaddrs ;
   tPortnumber portnumber ;
   tSockaddrsBitfield tried ;
   tSockaddrIndex num ;
   tSockaddrIndex current ;
};
typedef struct __anonstruct_tConnectAttemptData_115 tConnectAttemptData;
struct tConnection {
   tConnectAttemptData cad ;
   struct tConnection *next ;
   void (*callback)(struct tConnection * , tConnCbEventKind  ) ;
   tBoolean (*dissolver)(struct tConnection * ) ;
   void *data ;
   tHostPortProtInfo const   *hppi ;
   void const   *writedata ;
   size_t writedata_todo ;
   size_t writedata_done ;
   int fd ;
   tConnectionFlags flags ;
   tResourceProtocol protocol ;
   tResourceError prelire ;
   unsigned char x ;
};
typedef struct tConnection tConnection;
struct __anonstruct_conv_117 {
   char const   *replacement ;
   unsigned short len ;
   char ch ;
};
struct tRpsdGeneric {
   void (*remover)(struct tRpsdGeneric * ) ;
};
typedef struct tRpsdGeneric tRpsdGeneric;
typedef unsigned char tCookieFlags;
typedef unsigned char tCookieVersion;
struct tCookie {
   struct tCookie *next ;
   char *name ;
   char *value ;
   char *path ;
   char *portstr ;
   char *comment ;
   char const   *domain ;
   tPortnumber *portlist ;
   time_t expiry ;
   unsigned char portlistlen ;
   tCookieVersion version ;
   tCookieFlags flags ;
};
typedef struct tCookie tCookie;
struct __anonstruct_month_table_119 {
   char const   *name ;
   unsigned char monthnumber ;
   unsigned char namelen ;
   unsigned char monthlength ;
};
typedef unsigned char tCookieAttributeName;
union __anonunion___u_123 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_124___0 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
struct __anonstruct_tCookieSorterElement_125 {
   char const   *text ;
   unsigned short domainlen ;
   unsigned short pathlen ;
};
typedef struct __anonstruct_tCookieSorterElement_125 tCookieSorterElement;
typedef unsigned char tHttpHeaderParsingState;
struct __anonstruct_tDirSorterElement_127 {
   struct stat statbuf ;
   char const   *key ;
   char const   *value ;
   tBoolean statbuf_is_good ;
};
typedef struct __anonstruct_tDirSorterElement_127 tDirSorterElement;
typedef unsigned char tChunkParsingState;
typedef unsigned char tHttpRpsdFlags;
struct __anonstruct_tHttpRpsd_131 {
   void (*remover)(struct tRpsdGeneric * ) ;
   char *header ;
   char const   *challenge ;
   char const   *new_auth ;
   size_t usable ;
   size_t used ;
   size_t chunksize_left ;
   tChunkParsingState cps ;
   tHttpRpsdFlags flags ;
};
typedef struct __anonstruct_tHttpRpsd_131 tHttpRpsd;
struct __anonstruct_tHttpHeaderContext_132 {
   char *current ;
   char *n ;
   char *r ;
};
typedef struct __anonstruct_tHttpHeaderContext_132 tHttpHeaderContext;
union __anonunion___u_133___0 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
typedef unsigned char tFtpRpsdFlags;
struct __anonstruct_tFtpRpsd_135 {
   void (*remover)(struct tRpsdGeneric * ) ;
   char const   *reply_snippet ;
   char *text ;
   size_t usable ;
   size_t used ;
   tFtpRpsdFlags flags ;
};
typedef struct __anonstruct_tFtpRpsd_135 tFtpRpsd;
union __anonunion___u_136 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
typedef unsigned char tFtpHandshakeDataFlags;
struct __anonstruct_ftp_handshake_data_138 {
   tResourceCommandHandshake next_rch ;
   tResourceError re ;
   tFtpHandshakeDataFlags flags ;
};
union __anonunion___u_139___0 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
typedef int tNewsArticleNumber;
typedef unsigned char tNntpRpsdFlags;
struct __anonstruct_tNntpRpsd_142 {
   void (*remover)(struct tRpsdGeneric * ) ;
   char *text ;
   size_t usable ;
   size_t used ;
   tNewsArticleNumber curr_artnum ;
   tNewsArticleNumber end_artnum ;
   tNntpRpsdFlags flags ;
};
typedef struct __anonstruct_tNntpRpsd_142 tNntpRpsd;
struct tNewsArticle {
   struct tNewsArticle *next ;
   char *header ;
   char *lastheader ;
   char *body ;
   char *lastbody ;
   char *id ;
   tNewsArticleNumber num ;
};
typedef struct tNewsArticle tNewsArticle;
typedef unsigned char tNewsGroupInformationFlags;
struct tNewsGroupInformation {
   struct tNewsGroupInformation *next ;
   char *name ;
   tNewsArticle *articles ;
   tNewsArticleNumber estnum ;
   tNewsArticleNumber firstnum ;
   tNewsArticleNumber lastnum ;
   tNewsGroupInformationFlags flags ;
};
typedef struct tNewsGroupInformation tNewsGroupInformation;
union __anonunion___u_145___0 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_146 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
union __anonunion___u_147 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
typedef long __suseconds_t;
typedef __builtin_va_list __gnuc_va_list;
struct timeval {
   __time_t tv_sec ;
   __suseconds_t tv_usec ;
};
typedef long __fd_mask;
struct __anonstruct_fd_set_11 {
   __fd_mask __fds_bits[(int )(1024U / (8U * sizeof(__fd_mask )))] ;
};
typedef struct __anonstruct_fd_set_11 fd_set;
typedef __gnuc_va_list va_list;
struct __anonstruct_tDhmControlData_38 {
   void *data ;
   tDhmControlCode code ;
};
typedef struct __anonstruct_tDhmControlData_38 tDhmControlData;
union __anonunion___u_65 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
struct tFdObservationData {
   struct tFdObservationData *next ;
   void (*handler)(void * , tFdObservationFlags  ) ;
   void *handler_data ;
   int fd ;
   tFdObservationFlags flags ;
   tBoolean is_trashed ;
};
typedef struct tFdObservationData tFdObservationData;
union __anonunion___u_66 {
   unsigned int __ui ;
   unsigned short __usi ;
   unsigned char __uc ;
};
#pragma merger(0,"/tmp/cil-lvmhos0v.i","-O2")
extern int sprintf(char * __restrict  __s , char const   * __restrict  __format  , ...) ;
extern char *getenv(char const   *__name ) ;
extern void *memcpy(void * __restrict  __dest , void const   * __restrict  __src ,
                    size_t __n ) ;
extern int memcmp(void const   *__s1 , void const   *__s2 , size_t __n )  __attribute__((__pure__)) ;
extern char *strcpy(char * __restrict  __dest , char const   * __restrict  __src ) ;
extern int strcmp(char const   *__s1 , char const   *__s2 )  __attribute__((__pure__)) ;
extern int strncmp(char const   *__s1 , char const   *__s2 , size_t __n )  __attribute__((__pure__)) ;
extern char *strchr(char const   *__s , int __c )  __attribute__((__pure__)) ;
extern char *strrchr(char const   *__s , int __c )  __attribute__((__pure__)) ;
extern size_t strlen(char const   *__s )  __attribute__((__pure__)) ;
extern char *strerror(int __errnum ) ;
extern int ( /* missing proto */  __builtin_constant_p)() ;
extern int isatty(int __fd ) ;
extern int *__errno_location(void)  __attribute__((__const__)) ;
extern int tcgetattr(int __fd , struct termios *__termios_p ) ;
extern int tcsetattr(int __fd , int __optional_actions , struct termios  const  *__termios_p ) ;
char const   strCopyright[81] ;
char const   strProgramLegalese[172] ;
char const   strOptHelp[7] ;
char const   strOptVersion[10] ;
char const   strProgramVersion[14] ;
char const   strText[5] ;
char const   strEmpty[1] ;
char const   strNewline[2] ;
char const   strSlash[2] ;
char const   str1dot0[4] ;
char const   str1dot1[4] ;
char const   strPercsPercs[5] ;
char const   strClose[6] ;
char const   strQuit[5] ;
char const   strYes[4] ;
char const   strNo[3] ;
char const   strFileUc[5] ;
char const   strDirectoryUc[10] ;
char const   strLink[5] ;
char const   strFwdact[44] ;
char const   strOff[4] ;
char const   strBadValue[10] ;
char const   strFexecext[47] ;
char const   strConsoleDiscard[5] ;
extern int COLOR_PAIRS ;
extern WINDOW *stdscr ;
extern int cbreak(void) ;
extern NCURSES_BOOL has_colors(void) ;
extern WINDOW *initscr(void) ;
extern int init_pair(short  , short  , short  ) ;
extern int intrflush(WINDOW * , NCURSES_BOOL  ) ;
extern int keypad(WINDOW * , NCURSES_BOOL  ) ;
extern int nodelay(WINDOW * , NCURSES_BOOL  ) ;
extern int noecho(void) ;
extern int nonl(void) ;
extern int start_color(void) ;
extern int wattr_on(WINDOW * , attr_t  , void * ) ;
extern void wbkgdset(WINDOW * , chtype  ) ;
extern int wclear(WINDOW * ) ;
extern mmask_t mousemask(mmask_t  , mmask_t * ) ;
unsigned char do_restore_termios ;
struct termios saved_termios ;
unsigned char need_tglib_cleanup ;
unsigned char __lfdmbs ;
unsigned char use_colors ;
tColorBitmask color_bitmask[6] ;
extern void *mmap(void *__addr , size_t __len , int __prot , int __flags , int __fd ,
                  __off_t __offset ) ;
extern int munmap(void *__addr , size_t __len ) ;
extern int madvise(void *__addr , size_t __len , int __advice ) ;
unsigned char program_mode ;
char const   *initial_messages ;
char const   *initial_console_msgs ;
unsigned char launch_uri_count ;
char const   *launch_uri[2] ;
int fd_stdin ;
int fd_stdout ;
int fd_stderr ;
int fd_keyboard_input ;
tConfiguration config ;
void my_atoi(char const   *src , int *value , char const   **next , int maxvalue ) ;
 __attribute__((__noreturn__)) void do_quit(void) ;
 __attribute__((__noreturn__)) void fatal_error(int err , char const   *str ) ;
void *memory_allocate_ll(size_t size ) ;
void *memory_reallocate_ll(void *ptr___0 , size_t size ) ;
void memory_deallocate_ll(void const   *ptr___0 ) ;
char *my_strdup(char const   *str ) ;
char *my_strndup(char const   *str , size_t len ) ;
char *my_strndup_tolower(char const   *str , size_t len ) ;
tBoolean my_memdiff(void const   *_a , void const   *_b , size_t count___2 ) ;
char const   *get_homepath(void) ;
void check_localdirsort(char *str ) ;
void fd_observe_init(void) ;
int my_open(char const   *path , int flags ) ;
void my_close(int fd ) ;
ssize_t my_write(int fd , void const   *buf___2 , size_t count___2 ) ;
int my_fstat(int fd , struct stat *sb ) ;
void ( /* format attribute */  my_spf)(char *staticbuf , size_t staticbufsize , char **spfbuf ,
                                       char const   *format  , ...) ;
tBoolean calc_termsize(int *_x , int *_y ) ;
unsigned char keymap_command_key_register(char const   *keystr , char const   *cmdstr ) ;
unsigned char keymap_lineinput_key_register(char const   *keystr , char const   *listr ) ;
__inline void initialize(int argc , char const   **argv ) ;
int fd_any2main_write ;
tPortnumber rp2portnumber(tResourceProtocol rp ) ;
void resource_initialize(void) ;
void parser_initialize(void) ;
extern int sigemptyset(sigset_t *__set ) ;
extern int sigaction(int __sig , struct sigaction  const  * __restrict  __act , struct sigaction * __restrict  __oact ) ;
extern int ioctl(int __fd , unsigned long __request  , ...) ;
extern int uname(struct utsname *__name ) ;
static char strbuf[4096]  ;
static char const   strEn[3]  = {      (char const   )'e',      (char const   )'n',      (char const   )'\000'};
static char const   strReverse[8]  = 
  {      (char const   )'r',      (char const   )'e',      (char const   )'v',      (char const   )'e', 
        (char const   )'r',      (char const   )'s',      (char const   )'e',      (char const   )'\000'};
static char const   strNone[5]  = {      (char const   )'n',      (char const   )'o',      (char const   )'n',      (char const   )'e', 
        (char const   )'\000'};
static unsigned char color_highlight  =    (unsigned char)0;
static void store_initmsg(char const   *msg ) 
{ char *spfbuf ;
  char const   *tmp ;
  size_t len ;
  size_t tmp___0 ;
  tBoolean has_newline ;
  int tmp___1 ;
  char const   *tmp___2 ;
  char const   *tmp___3 ;

  {
  if ((unsigned int )initial_messages == (unsigned int )((void *)0)) {
    tmp = strEmpty;
  } else {
    tmp = initial_messages;
  }
  my_spf((char *)((void *)0), 0U, & spfbuf, "%s\n<br>%s", tmp, msg);
  while (1) {
    if ((unsigned int )initial_messages != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)initial_messages);
    }
    break;
  }
  initial_messages = (char const   *)spfbuf;
  tmp___0 = strlen(msg);
  len = tmp___0;
  if (len > 0U) {
    if ((int const   )(*(msg + (len - 1U))) == 10) {
      tmp___1 = 1;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    tmp___1 = 0;
  }
  has_newline = (tBoolean )tmp___1;
  if (has_newline) {
    tmp___2 = strEmpty;
  } else {
    tmp___2 = strNewline;
  }
  if ((unsigned int )initial_console_msgs == (unsigned int )((void *)0)) {
    tmp___3 = strEmpty;
  } else {
    tmp___3 = initial_console_msgs;
  }
  my_spf((char *)((void *)0), 0U, & spfbuf, "%s%s%s", tmp___3, msg, tmp___2);
  while (1) {
    if ((unsigned int )initial_console_msgs != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)initial_console_msgs);
    }
    break;
  }
  initial_console_msgs = (char const   *)spfbuf;
  return;
}
}
static void show_warning(char const   *str ) 
{ char const   *strR ;
  size_t count___2 ;
  size_t tmp ;
  char buf___2[1024] ;
  char *spfbuf ;
  char *temp ;
  char const   *_x ;
  size_t tmp___0 ;
  size_t tmp___1 ;

  {
  strR = "retawq: ";
  tmp = strlen(strR);
  count___2 = tmp;
  my_spf(buf___2, 1024U, & spfbuf, "%swarning: %s\n", strR, str);
  if ((int )__lfdmbs & 4) {
    if ((int )program_mode != 3) {
      while (1) {
        _x = (char const   *)spfbuf;
        tmp___0 = strlen(_x);
        my_write(fd_stderr, (void const   *)_x, tmp___0);
        break;
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  temp = spfbuf;
  while (1) {
    tmp___1 = count___2;
    count___2 --;
    if (! (tmp___1 > 0U)) {
      break;
    }
    if ((int )(*temp) == 0) {
      goto out;
    }
    temp ++;
  }
  if ((int )(*temp) >= 97) {
    if ((int )(*temp) <= 122) {
      (*temp) = (char )((int )(*temp) - 32);
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ 
    (*temp) = (*temp);
  }
  store_initmsg((char const   *)temp);
  out: 
  while (1) {
    if ((unsigned int )(buf___2) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  return;
}
}
__inline static void precheck_commandline(int argc , char const   **argv ) ;
static char const   h[181]  = 
  {      (char const   )'D',      (char const   )'o',      (char const   )'c',      (char const   )'u', 
        (char const   )'m',      (char const   )'e',      (char const   )'n',      (char const   )'t', 
        (char const   )'a',      (char const   )'t',      (char const   )'i',      (char const   )'o', 
        (char const   )'n',      (char const   )' ',      (char const   )'i',      (char const   )'s', 
        (char const   )' ',      (char const   )'a',      (char const   )'v',      (char const   )'a', 
        (char const   )'i',      (char const   )'l',      (char const   )'a',      (char const   )'b', 
        (char const   )'l',      (char const   )'e',      (char const   )' ',      (char const   )'i', 
        (char const   )'n',      (char const   )' ',      (char const   )'t',      (char const   )'h', 
        (char const   )'e',      (char const   )' ',      (char const   )'d',      (char const   )'i', 
        (char const   )'r',      (char const   )'e',      (char const   )'c',      (char const   )'t', 
        (char const   )'o',      (char const   )'r',      (char const   )'y',      (char const   )' ', 
        (char const   )'d',      (char const   )'o',      (char const   )'c',      (char const   )'u', 
        (char const   )'/',      (char const   )' ',      (char const   )'i',      (char const   )'n', 
        (char const   )' ',      (char const   )'t',      (char const   )'h',      (char const   )'e', 
        (char const   )' ',      (char const   )'s',      (char const   )'o',      (char const   )'u', 
        (char const   )'r',      (char const   )'c',      (char const   )'e',      (char const   )' ', 
        (char const   )'c',      (char const   )'o',      (char const   )'d',      (char const   )'e', 
        (char const   )' ',      (char const   )'p',      (char const   )'a',      (char const   )'c', 
        (char const   )'k',      (char const   )'a',      (char const   )'g',      (char const   )'e', 
        (char const   )',',      (char const   )'\n',      (char const   )'i',      (char const   )'n', 
        (char const   )' ',      (char const   )'t',      (char const   )'h',      (char const   )'e', 
        (char const   )' ',      (char const   )'d',      (char const   )'i',      (char const   )'r', 
        (char const   )'e',      (char const   )'c',      (char const   )'t',      (char const   )'o', 
        (char const   )'r',      (char const   )'y',      (char const   )' ',      (char const   )'\"', 
        (char const   )'/',      (char const   )'u',      (char const   )'s',      (char const   )'r', 
        (char const   )'/',      (char const   )'l',      (char const   )'o',      (char const   )'c', 
        (char const   )'a',      (char const   )'l',      (char const   )'/',      (char const   )'d', 
        (char const   )'o',      (char const   )'c',      (char const   )'/',      (char const   )'r', 
        (char const   )'e',      (char const   )'t',      (char const   )'a',      (char const   )'w', 
        (char const   )'q',      (char const   )'\"',      (char const   )' ',      (char const   )'(', 
        (char const   )'i',      (char const   )'f',      (char const   )' ',      (char const   )'i', 
        (char const   )'n',      (char const   )'s',      (char const   )'t',      (char const   )'a', 
        (char const   )'l',      (char const   )'l',      (char const   )'e',      (char const   )'d', 
        (char const   )')',      (char const   )'\n',      (char const   )'a',      (char const   )'n', 
        (char const   )'d',      (char const   )' ',      (char const   )'a',      (char const   )'t', 
        (char const   )' ',      (char const   )'<',      (char const   )'h',      (char const   )'t', 
        (char const   )'t',      (char const   )'p',      (char const   )':',      (char const   )'/', 
        (char const   )'/',      (char const   )'r',      (char const   )'e',      (char const   )'t', 
        (char const   )'a',      (char const   )'w',      (char const   )'q',      (char const   )'.', 
        (char const   )'s',      (char const   )'o',      (char const   )'u',      (char const   )'r', 
        (char const   )'c',      (char const   )'e',      (char const   )'f',      (char const   )'o', 
        (char const   )'r',      (char const   )'g',      (char const   )'e',      (char const   )'.', 
        (char const   )'n',      (char const   )'e',      (char const   )'t',      (char const   )'/', 
        (char const   )'d',      (char const   )'o',      (char const   )'c',      (char const   )'u', 
        (char const   )'/',      (char const   )'>',      (char const   )'.',      (char const   )'\n', 
        (char const   )'\000'};
static char const   h2[640]  = 
  {      (char const   )'\n',      (char const   )'C',      (char const   )'o',      (char const   )'m', 
        (char const   )'m',      (char const   )'a',      (char const   )'n',      (char const   )'d', 
        (char const   )'-',      (char const   )'l',      (char const   )'i',      (char const   )'n', 
        (char const   )'e',      (char const   )' ',      (char const   )'o',      (char const   )'p', 
        (char const   )'t',      (char const   )'i',      (char const   )'o',      (char const   )'n', 
        (char const   )'s',      (char const   )':',      (char const   )'\n',      (char const   )'-', 
        (char const   )'-',      (char const   )'c',      (char const   )'o',      (char const   )'l', 
        (char const   )'o',      (char const   )'r',      (char const   )'s',      (char const   )'=', 
        (char const   )'o',      (char const   )'f',      (char const   )'f',      (char const   )' ', 
        (char const   )'-',      (char const   )' ',      (char const   )'d',      (char const   )'i', 
        (char const   )'s',      (char const   )'a',      (char const   )'b',      (char const   )'l', 
        (char const   )'e',      (char const   )' ',      (char const   )'c',      (char const   )'o', 
        (char const   )'l',      (char const   )'o',      (char const   )'r',      (char const   )'s', 
        (char const   )'\n',      (char const   )'-',      (char const   )'-',      (char const   )'c', 
        (char const   )'o',      (char const   )'l',      (char const   )'o',      (char const   )'r', 
        (char const   )'s',      (char const   )'=',      (char const   )'r',      (char const   )'e', 
        (char const   )'v',      (char const   )'e',      (char const   )'r',      (char const   )'s', 
        (char const   )'e',      (char const   )' ',      (char const   )'-',      (char const   )' ', 
        (char const   )'u',      (char const   )'s',      (char const   )'e',      (char const   )' ', 
        (char const   )'b',      (char const   )'l',      (char const   )'a',      (char const   )'c', 
        (char const   )'k',      (char const   )'-',      (char const   )'o',      (char const   )'n', 
        (char const   )'-',      (char const   )'w',      (char const   )'h',      (char const   )'i', 
        (char const   )'t',      (char const   )'e',      (char const   )' ',      (char const   )'c', 
        (char const   )'o',      (char const   )'l',      (char const   )'o',      (char const   )'r', 
        (char const   )'s',      (char const   )'\n',      (char const   )'-',      (char const   )'-', 
        (char const   )'c',      (char const   )'o',      (char const   )'n',      (char const   )'s', 
        (char const   )'o',      (char const   )'l',      (char const   )'e',      (char const   )' ', 
        (char const   )'-',      (char const   )' ',      (char const   )'e',      (char const   )'n', 
        (char const   )'t',      (char const   )'e',      (char const   )'r',      (char const   )' ', 
        (char const   )'c',      (char const   )'o',      (char const   )'n',      (char const   )'s', 
        (char const   )'o',      (char const   )'l',      (char const   )'e',      (char const   )' ', 
        (char const   )'r',      (char const   )'u',      (char const   )'n',      (char const   )'m', 
        (char const   )'o',      (char const   )'d',      (char const   )'e',      (char const   )'\n', 
        (char const   )'-',      (char const   )'-',      (char const   )'d',      (char const   )'o', 
        (char const   )'w',      (char const   )'n',      (char const   )'l',      (char const   )'o', 
        (char const   )'a',      (char const   )'d',      (char const   )'=',      (char const   )'U', 
        (char const   )'R',      (char const   )'L',      (char const   )' ',      (char const   )'-', 
        (char const   )' ',      (char const   )'d',      (char const   )'o',      (char const   )'w', 
        (char const   )'n',      (char const   )'l',      (char const   )'o',      (char const   )'a', 
        (char const   )'d',      (char const   )' ',      (char const   )'c',      (char const   )'o', 
        (char const   )'n',      (char const   )'t',      (char const   )'e',      (char const   )'n', 
        (char const   )'t',      (char const   )' ',      (char const   )'f',      (char const   )'r', 
        (char const   )'o',      (char const   )'m',      (char const   )' ',      (char const   )'U', 
        (char const   )'R',      (char const   )'L',      (char const   )',',      (char const   )' ', 
        (char const   )'w',      (char const   )'r',      (char const   )'i',      (char const   )'t', 
        (char const   )'e',      (char const   )' ',      (char const   )'i',      (char const   )'t', 
        (char const   )' ',      (char const   )'t',      (char const   )'o',      (char const   )' ', 
        (char const   )'s',      (char const   )'t',      (char const   )'d',      (char const   )'o', 
        (char const   )'u',      (char const   )'t',      (char const   )';',      (char const   )' ', 
        (char const   )'q',      (char const   )'u',      (char const   )'i',      (char const   )'t', 
        (char const   )'\n',      (char const   )'-',      (char const   )'-',      (char const   )'d', 
        (char const   )'u',      (char const   )'m',      (char const   )'p',      (char const   )'=', 
        (char const   )'U',      (char const   )'R',      (char const   )'L',      (char const   )' ', 
        (char const   )'-',      (char const   )' ',      (char const   )'r',      (char const   )'e', 
        (char const   )'c',      (char const   )'e',      (char const   )'i',      (char const   )'v', 
        (char const   )'e',      (char const   )' ',      (char const   )'d',      (char const   )'o', 
        (char const   )'c',      (char const   )'u',      (char const   )'m',      (char const   )'e', 
        (char const   )'n',      (char const   )'t',      (char const   )' ',      (char const   )'f', 
        (char const   )'r',      (char const   )'o',      (char const   )'m',      (char const   )' ', 
        (char const   )'U',      (char const   )'R',      (char const   )'L',      (char const   )';', 
        (char const   )' ',      (char const   )'w',      (char const   )'r',      (char const   )'i', 
        (char const   )'t',      (char const   )'e',      (char const   )' ',      (char const   )'i', 
        (char const   )'t',      (char const   )' ',      (char const   )'t',      (char const   )'o', 
        (char const   )' ',      (char const   )'s',      (char const   )'t',      (char const   )'d', 
        (char const   )'o',      (char const   )'u',      (char const   )'t',      (char const   )' ', 
        (char const   )'(',      (char const   )'l',      (char const   )'a',      (char const   )'y', 
        (char const   )'o',      (char const   )'u',      (char const   )'t',      (char const   )'e', 
        (char const   )'d',      (char const   )')',      (char const   )';',      (char const   )' ', 
        (char const   )'q',      (char const   )'u',      (char const   )'i',      (char const   )'t', 
        (char const   )'\n',      (char const   )'-',      (char const   )'-',      (char const   )'h', 
        (char const   )'e',      (char const   )'l',      (char const   )'p',      (char const   )',', 
        (char const   )' ',      (char const   )'-',      (char const   )'h',      (char const   )' ', 
        (char const   )'-',      (char const   )' ',      (char const   )'p',      (char const   )'r', 
        (char const   )'i',      (char const   )'n',      (char const   )'t',      (char const   )' ', 
        (char const   )'t',      (char const   )'h',      (char const   )'i',      (char const   )'s', 
        (char const   )' ',      (char const   )'h',      (char const   )'e',      (char const   )'l', 
        (char const   )'p',      (char const   )' ',      (char const   )'t',      (char const   )'e', 
        (char const   )'x',      (char const   )'t',      (char const   )';',      (char const   )' ', 
        (char const   )'q',      (char const   )'u',      (char const   )'i',      (char const   )'t', 
        (char const   )'\n',      (char const   )'-',      (char const   )'-',      (char const   )'r', 
        (char const   )'e',      (char const   )'s',      (char const   )'u',      (char const   )'m', 
        (char const   )'e',      (char const   )'-',      (char const   )'s',      (char const   )'e', 
        (char const   )'s',      (char const   )'s',      (char const   )'i',      (char const   )'o', 
        (char const   )'n',      (char const   )' ',      (char const   )'-',      (char const   )' ', 
        (char const   )'r',      (char const   )'e',      (char const   )'s',      (char const   )'u', 
        (char const   )'m',      (char const   )'e',      (char const   )' ',      (char const   )'f', 
        (char const   )'r',      (char const   )'o',      (char const   )'m',      (char const   )' ', 
        (char const   )'d',      (char const   )'e',      (char const   )'f',      (char const   )'a', 
        (char const   )'u',      (char const   )'l',      (char const   )'t',      (char const   )' ', 
        (char const   )'s',      (char const   )'e',      (char const   )'s',      (char const   )'s', 
        (char const   )'i',      (char const   )'o',      (char const   )'n',      (char const   )' ', 
        (char const   )'f',      (char const   )'i',      (char const   )'l',      (char const   )'e', 
        (char const   )'\n',      (char const   )'-',      (char const   )'-',      (char const   )'r', 
        (char const   )'e',      (char const   )'s',      (char const   )'u',      (char const   )'m', 
        (char const   )'e',      (char const   )'-',      (char const   )'s',      (char const   )'e', 
        (char const   )'s',      (char const   )'s',      (char const   )'i',      (char const   )'o', 
        (char const   )'n',      (char const   )'=',      (char const   )'F',      (char const   )'I', 
        (char const   )'L',      (char const   )'E',      (char const   )' ',      (char const   )'-', 
        (char const   )' ',      (char const   )'r',      (char const   )'e',      (char const   )'s', 
        (char const   )'u',      (char const   )'m',      (char const   )'e',      (char const   )' ', 
        (char const   )'f',      (char const   )'r',      (char const   )'o',      (char const   )'m', 
        (char const   )' ',      (char const   )'g',      (char const   )'i',      (char const   )'v', 
        (char const   )'e',      (char const   )'n',      (char const   )' ',      (char const   )'s', 
        (char const   )'e',      (char const   )'s',      (char const   )'s',      (char const   )'i', 
        (char const   )'o',      (char const   )'n',      (char const   )' ',      (char const   )'f', 
        (char const   )'i',      (char const   )'l',      (char const   )'e',      (char const   )'\n', 
        (char const   )'-',      (char const   )'-',      (char const   )'r',      (char const   )'t', 
        (char const   )'c',      (char const   )'f',      (char const   )'g',      (char const   )'=', 
        (char const   )'L',      (char const   )'E',      (char const   )'T',      (char const   )'T', 
        (char const   )'E',      (char const   )'R',      (char const   )'S',      (char const   )' ', 
        (char const   )'-',      (char const   )' ',      (char const   )'u',      (char const   )'s', 
        (char const   )'e',      (char const   )' ',      (char const   )'r',      (char const   )'u', 
        (char const   )'n',      (char const   )'-',      (char const   )'t',      (char const   )'i', 
        (char const   )'m',      (char const   )'e',      (char const   )' ',      (char const   )'c', 
        (char const   )'o',      (char const   )'n',      (char const   )'f',      (char const   )'i', 
        (char const   )'g',      (char const   )'u',      (char const   )'r',      (char const   )'a', 
        (char const   )'t',      (char const   )'i',      (char const   )'o',      (char const   )'n', 
        (char const   )'?',      (char const   )'\n',      (char const   )'-',      (char const   )'-', 
        (char const   )'u',      (char const   )'s',      (char const   )'e',      (char const   )'r', 
        (char const   )'d',      (char const   )'i',      (char const   )'r',      (char const   )'=', 
        (char const   )'P',      (char const   )'A',      (char const   )'T',      (char const   )'H', 
        (char const   )' ',      (char const   )'-',      (char const   )' ',      (char const   )'s', 
        (char const   )'e',      (char const   )'t',      (char const   )' ',      (char const   )'r', 
        (char const   )'e',      (char const   )'t',      (char const   )'a',      (char const   )'w', 
        (char const   )'q',      (char const   )'\'',      (char const   )'s',      (char const   )' ', 
        (char const   )'u',      (char const   )'s',      (char const   )'e',      (char const   )'r', 
        (char const   )' ',      (char const   )'d',      (char const   )'i',      (char const   )'r', 
        (char const   )'e',      (char const   )'c',      (char const   )'t',      (char const   )'o', 
        (char const   )'r',      (char const   )'y',      (char const   )'\n',      (char const   )'-', 
        (char const   )'-',      (char const   )'v',      (char const   )'e',      (char const   )'r', 
        (char const   )'s',      (char const   )'i',      (char const   )'o',      (char const   )'n', 
        (char const   )',',      (char const   )' ',      (char const   )'-',      (char const   )'v', 
        (char const   )' ',      (char const   )'-',      (char const   )' ',      (char const   )'p', 
        (char const   )'r',      (char const   )'i',      (char const   )'n',      (char const   )'t', 
        (char const   )' ',      (char const   )'v',      (char const   )'e',      (char const   )'r', 
        (char const   )'s',      (char const   )'i',      (char const   )'o',      (char const   )'n', 
        (char const   )' ',      (char const   )'i',      (char const   )'n',      (char const   )'f', 
        (char const   )'o',      (char const   )'r',      (char const   )'m',      (char const   )'a', 
        (char const   )'t',      (char const   )'i',      (char const   )'o',      (char const   )'n', 
        (char const   )';',      (char const   )' ',      (char const   )'q',      (char const   )'u', 
        (char const   )'i',      (char const   )'t',      (char const   )'\n',      (char const   )'A', 
        (char const   )'d',      (char const   )'d',      (char const   )'i',      (char const   )'t', 
        (char const   )'i',      (char const   )'o',      (char const   )'n',      (char const   )'a', 
        (char const   )'l',      (char const   )'l',      (char const   )'y',      (char const   )',', 
        (char const   )' ',      (char const   )'y',      (char const   )'o',      (char const   )'u', 
        (char const   )' ',      (char const   )'c',      (char const   )'a',      (char const   )'n', 
        (char const   )' ',      (char const   )'s',      (char const   )'p',      (char const   )'e', 
        (char const   )'c',      (char const   )'i',      (char const   )'f',      (char const   )'y', 
        (char const   )' ',      (char const   )'t',      (char const   )'h',      (char const   )'e', 
        (char const   )' ',      (char const   )'U',      (char const   )'R',      (char const   )'L', 
        (char const   )'s',      (char const   )' ',      (char const   )'o',      (char const   )'f', 
        (char const   )' ',      (char const   )'o',      (char const   )'n',      (char const   )'e', 
        (char const   )' ',      (char const   )'o',      (char const   )'r',      (char const   )' ', 
        (char const   )'t',      (char const   )'w',      (char const   )'o',      (char const   )' ', 
        (char const   )'d',      (char const   )'o',      (char const   )'c',      (char const   )'u', 
        (char const   )'m',      (char const   )'e',      (char const   )'n',      (char const   )'t', 
        (char const   )'s',      (char const   )' ',      (char const   )'t',      (char const   )'o', 
        (char const   )' ',      (char const   )'b',      (char const   )'e',      (char const   )' ', 
        (char const   )'s',      (char const   )'h',      (char const   )'o',      (char const   )'w', 
        (char const   )'n',      (char const   )'.',      (char const   )'\n',      (char const   )'\000'};
__inline static void precheck_commandline(int argc , char const   **argv ) 
{ char const   *str ;
  char const   *_x ;
  size_t tmp ;
  char const   *_x___0 ;
  size_t tmp___0 ;
  char const   *_x___1 ;
  size_t tmp___1 ;
  char const   *_x___2 ;
  size_t tmp___2 ;
  char const   *_x___3 ;
  size_t tmp___3 ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___34 ;
  size_t tmp___35 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___50 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___57 ;
  int tmp___58 ;
  int tmp___59 ;
  int tmp___60 ;
  int tmp___61 ;
  int tmp___62 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___84 ;
  size_t tmp___85 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___100 ;
  int tmp___101 ;
  int tmp___102 ;
  int tmp___103 ;
  size_t __s1_len___1 ;
  size_t __s2_len___1 ;
  int tmp___134 ;
  size_t tmp___135 ;
  register int __result___133 ;
  unsigned char const   *__s2___22 ;
  register int __result___134 ;
  int tmp___150 ;
  register int __result___141 ;
  unsigned char const   *__s1___46 ;
  register int __result___142 ;
  int tmp___157 ;
  int tmp___158 ;
  int tmp___159 ;
  int tmp___160 ;
  int tmp___161 ;
  int tmp___162 ;
  size_t __s1_len___2 ;
  size_t __s2_len___2 ;
  int tmp___184 ;
  size_t tmp___185 ;
  register int __result___181 ;
  unsigned char const   *__s2___30 ;
  register int __result___182 ;
  register int __result___189 ;
  unsigned char const   *__s1___62 ;
  register int __result___190 ;
  int tmp___200 ;
  int tmp___201 ;
  int tmp___202 ;
  int tmp___203 ;

  {
  while (1) {
    argc --;
    if (! (argc > 0)) {
      break;
    }
    argv ++;
    str = (*argv);
    if (! ((int const   )(*str) != 45)) {
      tmp___160 = __builtin_constant_p(str);
      if (tmp___160) {
        tmp___161 = __builtin_constant_p(strOptVersion);
        if (tmp___161) {
          __s1_len___1 = strlen(str);
          __s2_len___1 = strlen(strOptVersion);
          if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                 1U)) {
            goto _L___517;
          } else {
            if (__s1_len___1 >= 4U) {
              _L___517: /* CIL Label */ 
              if (! ((unsigned int )((void const   *)(strOptVersion + 1)) - (unsigned int )((void const   *)(strOptVersion)) ==
                     1U)) {
                goto _L___516;
              } else {
                if (__s2_len___1 >= 4U) {
                  _L___516: /* CIL Label */ 
                  tmp___162 = 1;
                } else {
                  goto _L___515;
                }
              }
            } else {
              _L___515: /* CIL Label */ 
              tmp___162 = 0;
            }
          }
          if (tmp___162) {
            if (__s1_len___1 < __s2_len___1) {
              tmp___135 = __s1_len___1;
            } else {
              tmp___135 = __s2_len___1;
            }
            tmp___134 = memcmp((void const   *)str, (void const   *)(strOptVersion),
                               tmp___135 + 1U);
          } else {
            goto _L___519;
          }
        } else {
          goto _L___519;
        }
      } else {
        _L___519: /* CIL Label */ 
        tmp___159 = __builtin_constant_p(str);
        if (tmp___159) {
          if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
              1U) {
            __s1_len___1 = strlen(str);
            if (__s1_len___1 < 4U) {
              tmp___150 = __builtin_constant_p(strOptVersion);
              if (tmp___150) {
                if ((unsigned int )((void const   *)(strOptVersion + 1)) - (unsigned int )((void const   *)(strOptVersion)) ==
                    1U) {
                  __result___133 = (int )((int const   )(*((unsigned char const   *)str +
                                                           0)) - (int const   )(*((unsigned char const   *)(strOptVersion) +
                                                                                  0)));
                  if (__s1_len___1 > 0U) {
                    if (__result___133 == 0) {
                      __result___133 = (int )((int const   )(*((unsigned char const   *)str +
                                                               1)) - (int const   )(*((unsigned char const   *)(strOptVersion) +
                                                                                      1)));
                      if (__s1_len___1 > 1U) {
                        if (__result___133 == 0) {
                          __result___133 = (int )((int const   )(*((unsigned char const   *)str +
                                                                   2)) - (int const   )(*((unsigned char const   *)(strOptVersion) +
                                                                                          2)));
                          if (__s1_len___1 > 2U) {
                            if (__result___133 == 0) {
                              __result___133 = (int )((int const   )(*((unsigned char const   *)str +
                                                                       3)) - (int const   )(*((unsigned char const   *)(strOptVersion) +
                                                                                              3)));
                            } else {
                              goto _L___478;
                            }
                          } else {
                            _L___478: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___479;
                        }
                      } else {
                        _L___479: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___480;
                    }
                  } else {
                    _L___480: /* CIL Label */ ;
                  }
                  tmp___134 = __result___133;
                } else {
                  goto _L___484;
                }
              } else {
                _L___484: /* CIL Label */ 
                __s2___22 = (unsigned char const   *)(strOptVersion);
                __result___134 = (int )((int const   )(*((unsigned char const   *)str +
                                                         0)) - (int const   )(*(__s2___22 +
                                                                                0)));
                if (__s1_len___1 > 0U) {
                  if (__result___134 == 0) {
                    __result___134 = (int )((int const   )(*((unsigned char const   *)str +
                                                             1)) - (int const   )(*(__s2___22 +
                                                                                    1)));
                    if (__s1_len___1 > 1U) {
                      if (__result___134 == 0) {
                        __result___134 = (int )((int const   )(*((unsigned char const   *)str +
                                                                 2)) - (int const   )(*(__s2___22 +
                                                                                        2)));
                        if (__s1_len___1 > 2U) {
                          if (__result___134 == 0) {
                            __result___134 = (int )((int const   )(*((unsigned char const   *)str +
                                                                     3)) - (int const   )(*(__s2___22 +
                                                                                            3)));
                          } else {
                            goto _L___481;
                          }
                        } else {
                          _L___481: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___482;
                      }
                    } else {
                      _L___482: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___483;
                  }
                } else {
                  _L___483: /* CIL Label */ ;
                }
                tmp___134 = __result___134;
              }
            } else {
              goto _L___514;
            }
          } else {
            goto _L___514;
          }
        } else {
          _L___514: /* CIL Label */ 
          tmp___158 = __builtin_constant_p(strOptVersion);
          if (tmp___158) {
            if ((unsigned int )((void const   *)(strOptVersion + 1)) - (unsigned int )((void const   *)(strOptVersion)) ==
                1U) {
              __s2_len___1 = strlen(strOptVersion);
              if (__s2_len___1 < 4U) {
                tmp___157 = __builtin_constant_p(str);
                if (tmp___157) {
                  if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                      1U) {
                    __result___141 = (int )((int const   )(*((unsigned char const   *)str +
                                                             0)) - (int const   )(*((unsigned char const   *)(strOptVersion) +
                                                                                    0)));
                    if (__s2_len___1 > 0U) {
                      if (__result___141 == 0) {
                        __result___141 = (int )((int const   )(*((unsigned char const   *)str +
                                                                 1)) - (int const   )(*((unsigned char const   *)(strOptVersion) +
                                                                                        1)));
                        if (__s2_len___1 > 1U) {
                          if (__result___141 == 0) {
                            __result___141 = (int )((int const   )(*((unsigned char const   *)str +
                                                                     2)) - (int const   )(*((unsigned char const   *)(strOptVersion) +
                                                                                            2)));
                            if (__s2_len___1 > 2U) {
                              if (__result___141 == 0) {
                                __result___141 = (int )((int const   )(*((unsigned char const   *)str +
                                                                         3)) - (int const   )(*((unsigned char const   *)(strOptVersion) +
                                                                                                3)));
                              } else {
                                goto _L___504;
                              }
                            } else {
                              _L___504: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___505;
                          }
                        } else {
                          _L___505: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___506;
                      }
                    } else {
                      _L___506: /* CIL Label */ ;
                    }
                    tmp___134 = __result___141;
                  } else {
                    goto _L___510;
                  }
                } else {
                  _L___510: /* CIL Label */ 
                  __s1___46 = (unsigned char const   *)str;
                  __result___142 = (int )((int const   )(*(__s1___46 + 0)) - (int const   )(*((unsigned char const   *)(strOptVersion) +
                                                                                              0)));
                  if (__s2_len___1 > 0U) {
                    if (__result___142 == 0) {
                      __result___142 = (int )((int const   )(*(__s1___46 + 1)) - (int const   )(*((unsigned char const   *)(strOptVersion) +
                                                                                                  1)));
                      if (__s2_len___1 > 1U) {
                        if (__result___142 == 0) {
                          __result___142 = (int )((int const   )(*(__s1___46 + 2)) -
                                                  (int const   )(*((unsigned char const   *)(strOptVersion) +
                                                                   2)));
                          if (__s2_len___1 > 2U) {
                            if (__result___142 == 0) {
                              __result___142 = (int )((int const   )(*(__s1___46 +
                                                                       3)) - (int const   )(*((unsigned char const   *)(strOptVersion) +
                                                                                              3)));
                            } else {
                              goto _L___507;
                            }
                          } else {
                            _L___507: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___508;
                        }
                      } else {
                        _L___508: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___509;
                    }
                  } else {
                    _L___509: /* CIL Label */ ;
                  }
                  tmp___134 = __result___142;
                }
              } else {
                goto _L___512;
              }
            } else {
              goto _L___512;
            }
          } else {
            _L___512: /* CIL Label */ 
            tmp___134 = strcmp(str, strOptVersion);
          }
        }
      }
      if (tmp___134) {
        tmp___202 = __builtin_constant_p(str);
        if (tmp___202) {
          __s1_len___2 = strlen(str);
          __s2_len___2 = strlen("-v");
          if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                 1U)) {
            goto _L___685;
          } else {
            if (__s1_len___2 >= 4U) {
              _L___685: /* CIL Label */ 
              if (! ((unsigned int )((void const   *)("-v" + 1)) - (unsigned int )((void const   *)"-v") ==
                     1U)) {
                goto _L___684;
              } else {
                if (__s2_len___2 >= 4U) {
                  _L___684: /* CIL Label */ 
                  tmp___203 = 1;
                } else {
                  goto _L___683;
                }
              }
            } else {
              _L___683: /* CIL Label */ 
              tmp___203 = 0;
            }
          }
          if (tmp___203) {
            if (__s1_len___2 < __s2_len___2) {
              tmp___185 = __s1_len___2;
            } else {
              tmp___185 = __s2_len___2;
            }
            tmp___184 = memcmp((void const   *)str, (void const   *)"-v", tmp___185 +
                                                                          1U);
          } else {
            goto _L___687;
          }
        } else {
          _L___687: /* CIL Label */ 
          tmp___201 = __builtin_constant_p(str);
          if (tmp___201) {
            if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                1U) {
              __s1_len___2 = strlen(str);
              if (__s1_len___2 < 4U) {
                if ((unsigned int )((void const   *)("-v" + 1)) - (unsigned int )((void const   *)"-v") ==
                    1U) {
                  __result___181 = (int )((int const   )(*((unsigned char const   *)str +
                                                           0)) - (int const   )(*((unsigned char const   *)"-v" +
                                                                                  0)));
                  if (__s1_len___2 > 0U) {
                    if (__result___181 == 0) {
                      __result___181 = (int )((int const   )(*((unsigned char const   *)str +
                                                               1)) - (int const   )(*((unsigned char const   *)"-v" +
                                                                                      1)));
                      if (__s1_len___2 > 1U) {
                        if (__result___181 == 0) {
                          __result___181 = (int )((int const   )(*((unsigned char const   *)str +
                                                                   2)) - (int const   )(*((unsigned char const   *)"-v" +
                                                                                          2)));
                          if (__s1_len___2 > 2U) {
                            if (__result___181 == 0) {
                              __result___181 = (int )((int const   )(*((unsigned char const   *)str +
                                                                       3)) - (int const   )(*((unsigned char const   *)"-v" +
                                                                                              3)));
                            } else {
                              goto _L___648;
                            }
                          } else {
                            _L___648: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___649;
                        }
                      } else {
                        _L___649: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___650;
                    }
                  } else {
                    _L___650: /* CIL Label */ ;
                  }
                  tmp___184 = __result___181;
                } else {
                  __s2___30 = (unsigned char const   *)"-v";
                  __result___182 = (int )((int const   )(*((unsigned char const   *)str +
                                                           0)) - (int const   )(*(__s2___30 +
                                                                                  0)));
                  if (__s1_len___2 > 0U) {
                    if (__result___182 == 0) {
                      __result___182 = (int )((int const   )(*((unsigned char const   *)str +
                                                               1)) - (int const   )(*(__s2___30 +
                                                                                      1)));
                      if (__s1_len___2 > 1U) {
                        if (__result___182 == 0) {
                          __result___182 = (int )((int const   )(*((unsigned char const   *)str +
                                                                   2)) - (int const   )(*(__s2___30 +
                                                                                          2)));
                          if (__s1_len___2 > 2U) {
                            if (__result___182 == 0) {
                              __result___182 = (int )((int const   )(*((unsigned char const   *)str +
                                                                       3)) - (int const   )(*(__s2___30 +
                                                                                              3)));
                            } else {
                              goto _L___651;
                            }
                          } else {
                            _L___651: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___652;
                        }
                      } else {
                        _L___652: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___653;
                    }
                  } else {
                    _L___653: /* CIL Label */ ;
                  }
                  tmp___184 = __result___182;
                }
              } else {
                goto _L___682;
              }
            } else {
              goto _L___682;
            }
          } else {
            _L___682: /* CIL Label */ 
            if ((unsigned int )((void const   *)("-v" + 1)) - (unsigned int )((void const   *)"-v") ==
                1U) {
              __s2_len___2 = strlen("-v");
              if (__s2_len___2 < 4U) {
                tmp___200 = __builtin_constant_p(str);
                if (tmp___200) {
                  if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                      1U) {
                    __result___189 = (int )((int const   )(*((unsigned char const   *)str +
                                                             0)) - (int const   )(*((unsigned char const   *)"-v" +
                                                                                    0)));
                    if (__s2_len___2 > 0U) {
                      if (__result___189 == 0) {
                        __result___189 = (int )((int const   )(*((unsigned char const   *)str +
                                                                 1)) - (int const   )(*((unsigned char const   *)"-v" +
                                                                                        1)));
                        if (__s2_len___2 > 1U) {
                          if (__result___189 == 0) {
                            __result___189 = (int )((int const   )(*((unsigned char const   *)str +
                                                                     2)) - (int const   )(*((unsigned char const   *)"-v" +
                                                                                            2)));
                            if (__s2_len___2 > 2U) {
                              if (__result___189 == 0) {
                                __result___189 = (int )((int const   )(*((unsigned char const   *)str +
                                                                         3)) - (int const   )(*((unsigned char const   *)"-v" +
                                                                                                3)));
                              } else {
                                goto _L___673;
                              }
                            } else {
                              _L___673: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___674;
                          }
                        } else {
                          _L___674: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___675;
                      }
                    } else {
                      _L___675: /* CIL Label */ ;
                    }
                    tmp___184 = __result___189;
                  } else {
                    goto _L___679;
                  }
                } else {
                  _L___679: /* CIL Label */ 
                  __s1___62 = (unsigned char const   *)str;
                  __result___190 = (int )((int const   )(*(__s1___62 + 0)) - (int const   )(*((unsigned char const   *)"-v" +
                                                                                              0)));
                  if (__s2_len___2 > 0U) {
                    if (__result___190 == 0) {
                      __result___190 = (int )((int const   )(*(__s1___62 + 1)) - (int const   )(*((unsigned char const   *)"-v" +
                                                                                                  1)));
                      if (__s2_len___2 > 1U) {
                        if (__result___190 == 0) {
                          __result___190 = (int )((int const   )(*(__s1___62 + 2)) -
                                                  (int const   )(*((unsigned char const   *)"-v" +
                                                                   2)));
                          if (__s2_len___2 > 2U) {
                            if (__result___190 == 0) {
                              __result___190 = (int )((int const   )(*(__s1___62 +
                                                                       3)) - (int const   )(*((unsigned char const   *)"-v" +
                                                                                              3)));
                            } else {
                              goto _L___676;
                            }
                          } else {
                            _L___676: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___677;
                        }
                      } else {
                        _L___677: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___678;
                    }
                  } else {
                    _L___678: /* CIL Label */ ;
                  }
                  tmp___184 = __result___190;
                }
              } else {
                goto _L___680;
              }
            } else {
              _L___680: /* CIL Label */ 
              tmp___184 = strcmp(str, "-v");
            }
          }
        }
        if (tmp___184) {
          tmp___60 = __builtin_constant_p(str);
          if (tmp___60) {
            tmp___61 = __builtin_constant_p(strOptHelp);
            if (tmp___61) {
              __s1_len = strlen(str);
              __s2_len = strlen(strOptHelp);
              if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                     1U)) {
                goto _L___172;
              } else {
                if (__s1_len >= 4U) {
                  _L___172: /* CIL Label */ 
                  if (! ((unsigned int )((void const   *)(strOptHelp + 1)) - (unsigned int )((void const   *)(strOptHelp)) ==
                         1U)) {
                    goto _L___171;
                  } else {
                    if (__s2_len >= 4U) {
                      _L___171: /* CIL Label */ 
                      tmp___62 = 1;
                    } else {
                      goto _L___170;
                    }
                  }
                } else {
                  _L___170: /* CIL Label */ 
                  tmp___62 = 0;
                }
              }
              if (tmp___62) {
                if (__s1_len < __s2_len) {
                  tmp___35 = __s1_len;
                } else {
                  tmp___35 = __s2_len;
                }
                tmp___34 = memcmp((void const   *)str, (void const   *)(strOptHelp),
                                  tmp___35 + 1U);
              } else {
                goto _L___174;
              }
            } else {
              goto _L___174;
            }
          } else {
            _L___174: /* CIL Label */ 
            tmp___59 = __builtin_constant_p(str);
            if (tmp___59) {
              if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                  1U) {
                __s1_len = strlen(str);
                if (__s1_len < 4U) {
                  tmp___50 = __builtin_constant_p(strOptHelp);
                  if (tmp___50) {
                    if ((unsigned int )((void const   *)(strOptHelp + 1)) - (unsigned int )((void const   *)(strOptHelp)) ==
                        1U) {
                      __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                              0)) - (int const   )(*((unsigned char const   *)(strOptHelp) +
                                                                                     0)));
                      if (__s1_len > 0U) {
                        if (__result___37 == 0) {
                          __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  1)) - (int const   )(*((unsigned char const   *)(strOptHelp) +
                                                                                         1)));
                          if (__s1_len > 1U) {
                            if (__result___37 == 0) {
                              __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      2)) - (int const   )(*((unsigned char const   *)(strOptHelp) +
                                                                                             2)));
                              if (__s1_len > 2U) {
                                if (__result___37 == 0) {
                                  __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                                          3)) - (int const   )(*((unsigned char const   *)(strOptHelp) +
                                                                                                 3)));
                                } else {
                                  goto _L___133;
                                }
                              } else {
                                _L___133: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___134;
                            }
                          } else {
                            _L___134: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___135;
                        }
                      } else {
                        _L___135: /* CIL Label */ ;
                      }
                      tmp___34 = __result___37;
                    } else {
                      goto _L___139;
                    }
                  } else {
                    _L___139: /* CIL Label */ 
                    __s2___6 = (unsigned char const   *)(strOptHelp);
                    __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                            0)) - (int const   )(*(__s2___6 +
                                                                                   0)));
                    if (__s1_len > 0U) {
                      if (__result___38 == 0) {
                        __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                                1)) - (int const   )(*(__s2___6 +
                                                                                       1)));
                        if (__s1_len > 1U) {
                          if (__result___38 == 0) {
                            __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                                    2)) - (int const   )(*(__s2___6 +
                                                                                           2)));
                            if (__s1_len > 2U) {
                              if (__result___38 == 0) {
                                __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                                        3)) - (int const   )(*(__s2___6 +
                                                                                               3)));
                              } else {
                                goto _L___136;
                              }
                            } else {
                              _L___136: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___137;
                          }
                        } else {
                          _L___137: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___138;
                      }
                    } else {
                      _L___138: /* CIL Label */ ;
                    }
                    tmp___34 = __result___38;
                  }
                } else {
                  goto _L___169;
                }
              } else {
                goto _L___169;
              }
            } else {
              _L___169: /* CIL Label */ 
              tmp___58 = __builtin_constant_p(strOptHelp);
              if (tmp___58) {
                if ((unsigned int )((void const   *)(strOptHelp + 1)) - (unsigned int )((void const   *)(strOptHelp)) ==
                    1U) {
                  __s2_len = strlen(strOptHelp);
                  if (__s2_len < 4U) {
                    tmp___57 = __builtin_constant_p(str);
                    if (tmp___57) {
                      if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                          1U) {
                        __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                                0)) - (int const   )(*((unsigned char const   *)(strOptHelp) +
                                                                                       0)));
                        if (__s2_len > 0U) {
                          if (__result___45 == 0) {
                            __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                                    1)) - (int const   )(*((unsigned char const   *)(strOptHelp) +
                                                                                           1)));
                            if (__s2_len > 1U) {
                              if (__result___45 == 0) {
                                __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                                        2)) - (int const   )(*((unsigned char const   *)(strOptHelp) +
                                                                                               2)));
                                if (__s2_len > 2U) {
                                  if (__result___45 == 0) {
                                    __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)(strOptHelp) +
                                                                            3)));
                                  } else {
                                    goto _L___159;
                                  }
                                } else {
                                  _L___159: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___160;
                              }
                            } else {
                              _L___160: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___161;
                          }
                        } else {
                          _L___161: /* CIL Label */ ;
                        }
                        tmp___34 = __result___45;
                      } else {
                        goto _L___165;
                      }
                    } else {
                      _L___165: /* CIL Label */ 
                      __s1___14 = (unsigned char const   *)str;
                      __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)(strOptHelp) +
                                                                                                 0)));
                      if (__s2_len > 0U) {
                        if (__result___46 == 0) {
                          __result___46 = (int )((int const   )(*(__s1___14 + 1)) -
                                                 (int const   )(*((unsigned char const   *)(strOptHelp) +
                                                                  1)));
                          if (__s2_len > 1U) {
                            if (__result___46 == 0) {
                              __result___46 = (int )((int const   )(*(__s1___14 +
                                                                      2)) - (int const   )(*((unsigned char const   *)(strOptHelp) +
                                                                                             2)));
                              if (__s2_len > 2U) {
                                if (__result___46 == 0) {
                                  __result___46 = (int )((int const   )(*(__s1___14 +
                                                                          3)) - (int const   )(*((unsigned char const   *)(strOptHelp) +
                                                                                                 3)));
                                } else {
                                  goto _L___162;
                                }
                              } else {
                                _L___162: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___163;
                            }
                          } else {
                            _L___163: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___164;
                        }
                      } else {
                        _L___164: /* CIL Label */ ;
                      }
                      tmp___34 = __result___46;
                    }
                  } else {
                    goto _L___167;
                  }
                } else {
                  goto _L___167;
                }
              } else {
                _L___167: /* CIL Label */ 
                tmp___34 = strcmp(str, strOptHelp);
              }
            }
          }
          if (tmp___34) {
            tmp___102 = __builtin_constant_p(str);
            if (tmp___102) {
              __s1_len___0 = strlen(str);
              __s2_len___0 = strlen("-h");
              if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                     1U)) {
                goto _L___340;
              } else {
                if (__s1_len___0 >= 4U) {
                  _L___340: /* CIL Label */ 
                  if (! ((unsigned int )((void const   *)("-h" + 1)) - (unsigned int )((void const   *)"-h") ==
                         1U)) {
                    goto _L___339;
                  } else {
                    if (__s2_len___0 >= 4U) {
                      _L___339: /* CIL Label */ 
                      tmp___103 = 1;
                    } else {
                      goto _L___338;
                    }
                  }
                } else {
                  _L___338: /* CIL Label */ 
                  tmp___103 = 0;
                }
              }
              if (tmp___103) {
                if (__s1_len___0 < __s2_len___0) {
                  tmp___85 = __s1_len___0;
                } else {
                  tmp___85 = __s2_len___0;
                }
                tmp___84 = memcmp((void const   *)str, (void const   *)"-h", tmp___85 +
                                                                             1U);
              } else {
                goto _L___342;
              }
            } else {
              _L___342: /* CIL Label */ 
              tmp___101 = __builtin_constant_p(str);
              if (tmp___101) {
                if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                    1U) {
                  __s1_len___0 = strlen(str);
                  if (__s1_len___0 < 4U) {
                    if ((unsigned int )((void const   *)("-h" + 1)) - (unsigned int )((void const   *)"-h") ==
                        1U) {
                      __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                              0)) - (int const   )(*((unsigned char const   *)"-h" +
                                                                                     0)));
                      if (__s1_len___0 > 0U) {
                        if (__result___85 == 0) {
                          __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  1)) - (int const   )(*((unsigned char const   *)"-h" +
                                                                                         1)));
                          if (__s1_len___0 > 1U) {
                            if (__result___85 == 0) {
                              __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      2)) - (int const   )(*((unsigned char const   *)"-h" +
                                                                                             2)));
                              if (__s1_len___0 > 2U) {
                                if (__result___85 == 0) {
                                  __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                                          3)) - (int const   )(*((unsigned char const   *)"-h" +
                                                                                                 3)));
                                } else {
                                  goto _L___303;
                                }
                              } else {
                                _L___303: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___304;
                            }
                          } else {
                            _L___304: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___305;
                        }
                      } else {
                        _L___305: /* CIL Label */ ;
                      }
                      tmp___84 = __result___85;
                    } else {
                      __s2___14 = (unsigned char const   *)"-h";
                      __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                              0)) - (int const   )(*(__s2___14 +
                                                                                     0)));
                      if (__s1_len___0 > 0U) {
                        if (__result___86 == 0) {
                          __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  1)) - (int const   )(*(__s2___14 +
                                                                                         1)));
                          if (__s1_len___0 > 1U) {
                            if (__result___86 == 0) {
                              __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      2)) - (int const   )(*(__s2___14 +
                                                                                             2)));
                              if (__s1_len___0 > 2U) {
                                if (__result___86 == 0) {
                                  __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                                          3)) - (int const   )(*(__s2___14 +
                                                                                                 3)));
                                } else {
                                  goto _L___306;
                                }
                              } else {
                                _L___306: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___307;
                            }
                          } else {
                            _L___307: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___308;
                        }
                      } else {
                        _L___308: /* CIL Label */ ;
                      }
                      tmp___84 = __result___86;
                    }
                  } else {
                    goto _L___337;
                  }
                } else {
                  goto _L___337;
                }
              } else {
                _L___337: /* CIL Label */ 
                if ((unsigned int )((void const   *)("-h" + 1)) - (unsigned int )((void const   *)"-h") ==
                    1U) {
                  __s2_len___0 = strlen("-h");
                  if (__s2_len___0 < 4U) {
                    tmp___100 = __builtin_constant_p(str);
                    if (tmp___100) {
                      if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                          1U) {
                        __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                                0)) - (int const   )(*((unsigned char const   *)"-h" +
                                                                                       0)));
                        if (__s2_len___0 > 0U) {
                          if (__result___93 == 0) {
                            __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                                    1)) - (int const   )(*((unsigned char const   *)"-h" +
                                                                                           1)));
                            if (__s2_len___0 > 1U) {
                              if (__result___93 == 0) {
                                __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                                        2)) - (int const   )(*((unsigned char const   *)"-h" +
                                                                                               2)));
                                if (__s2_len___0 > 2U) {
                                  if (__result___93 == 0) {
                                    __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)"-h" +
                                                                            3)));
                                  } else {
                                    goto _L___328;
                                  }
                                } else {
                                  _L___328: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___329;
                              }
                            } else {
                              _L___329: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___330;
                          }
                        } else {
                          _L___330: /* CIL Label */ ;
                        }
                        tmp___84 = __result___93;
                      } else {
                        goto _L___334;
                      }
                    } else {
                      _L___334: /* CIL Label */ 
                      __s1___30 = (unsigned char const   *)str;
                      __result___94 = (int )((int const   )(*(__s1___30 + 0)) - (int const   )(*((unsigned char const   *)"-h" +
                                                                                                 0)));
                      if (__s2_len___0 > 0U) {
                        if (__result___94 == 0) {
                          __result___94 = (int )((int const   )(*(__s1___30 + 1)) -
                                                 (int const   )(*((unsigned char const   *)"-h" +
                                                                  1)));
                          if (__s2_len___0 > 1U) {
                            if (__result___94 == 0) {
                              __result___94 = (int )((int const   )(*(__s1___30 +
                                                                      2)) - (int const   )(*((unsigned char const   *)"-h" +
                                                                                             2)));
                              if (__s2_len___0 > 2U) {
                                if (__result___94 == 0) {
                                  __result___94 = (int )((int const   )(*(__s1___30 +
                                                                          3)) - (int const   )(*((unsigned char const   *)"-h" +
                                                                                                 3)));
                                } else {
                                  goto _L___331;
                                }
                              } else {
                                _L___331: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___332;
                            }
                          } else {
                            _L___332: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___333;
                        }
                      } else {
                        _L___333: /* CIL Label */ ;
                      }
                      tmp___84 = __result___94;
                    }
                  } else {
                    goto _L___335;
                  }
                } else {
                  _L___335: /* CIL Label */ 
                  tmp___84 = strcmp(str, "-h");
                }
              }
            }
            if (! tmp___84) {
              _L___343: /* CIL Label */ 
              while (1) {
                _x___1 = strCopyright;
                tmp___1 = strlen(_x___1);
                my_write(fd_stdout, (void const   *)_x___1, tmp___1);
                break;
              }
              while (1) {
                _x___2 = h;
                tmp___2 = strlen(_x___2);
                my_write(fd_stdout, (void const   *)_x___2, tmp___2);
                break;
              }
              while (1) {
                _x___3 = h2;
                tmp___3 = strlen(_x___3);
                my_write(fd_stdout, (void const   *)_x___3, tmp___3);
                break;
              }
              do_quit();
            }
          } else {
            goto _L___343;
          }
        } else {
          _L___688: /* CIL Label */ 
          while (1) {
            _x = strCopyright;
            tmp = strlen(_x);
            my_write(fd_stdout, (void const   *)_x, tmp);
            break;
          }
          while (1) {
            _x___0 = strProgramLegalese;
            tmp___0 = strlen(_x___0);
            my_write(fd_stdout, (void const   *)_x___0, tmp___0);
            break;
          }
          do_quit();
        }
      } else {
        goto _L___688;
      }
    }
  }
  return;
}
}
__inline static void process_commandline(int argc , char const   **argv ) 
{ char const   *str ;
  unsigned char tmp ;
  char const   *temp ;
  char *path ;
  char const   *tmp___1 ;
  size_t tmp___2 ;
  char const   *temp___0 ;
  char ch ;
  char const   *temp___1 ;
  char const   *temp___2 ;
  char const   *temp___3 ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___33 ;
  size_t tmp___34 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___49 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___56 ;
  int tmp___57 ;
  int tmp___58 ;
  int tmp___59 ;
  int tmp___60 ;
  int tmp___61 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___92 ;
  size_t tmp___93 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  int tmp___108 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___115 ;
  int tmp___116 ;
  int tmp___117 ;
  int tmp___118 ;
  int tmp___119 ;
  int tmp___120 ;
  char const   *temp___4 ;
  char *hl ;
  char *pos ;
  tColorPairNumber cpn ;
  tBoolean is_last ;
  tBoolean negate ;
  char ch___0 ;
  size_t tmp___121 ;
  size_t __s1_len___1 ;
  size_t __s2_len___1 ;
  int tmp___152 ;
  size_t tmp___153 ;
  register int __result___133 ;
  unsigned char const   *__s2___22 ;
  register int __result___134 ;
  int tmp___168 ;
  register int __result___141 ;
  unsigned char const   *__s1___46 ;
  register int __result___142 ;
  int tmp___175 ;
  int tmp___176 ;
  int tmp___177 ;
  int tmp___178 ;
  int tmp___179 ;
  int tmp___180 ;
  size_t __s1_len___2 ;
  size_t __s2_len___2 ;
  int tmp___202 ;
  size_t tmp___203 ;
  register int __result___181 ;
  unsigned char const   *__s2___30 ;
  register int __result___182 ;
  register int __result___189 ;
  unsigned char const   *__s1___62 ;
  register int __result___190 ;
  int tmp___218 ;
  int tmp___219 ;
  int tmp___220 ;
  int tmp___221 ;
  size_t __s1_len___3 ;
  size_t __s2_len___3 ;
  int tmp___243 ;
  size_t tmp___244 ;
  register int __result___229 ;
  unsigned char const   *__s2___38 ;
  register int __result___230 ;
  register int __result___237 ;
  unsigned char const   *__s1___78 ;
  register int __result___238 ;
  int tmp___259 ;
  int tmp___260 ;
  int tmp___261 ;
  int tmp___262 ;
  size_t __s1_len___4 ;
  size_t __s2_len___4 ;
  int tmp___284 ;
  size_t tmp___285 ;
  register int __result___277 ;
  unsigned char const   *__s2___46 ;
  register int __result___278 ;
  register int __result___285 ;
  unsigned char const   *__s1___94 ;
  register int __result___286 ;
  int tmp___300 ;
  int tmp___301 ;
  int tmp___302 ;
  int tmp___303 ;
  size_t __s1_len___5 ;
  size_t __s2_len___5 ;
  int tmp___325 ;
  size_t tmp___326 ;
  register int __result___325 ;
  unsigned char const   *__s2___54 ;
  register int __result___326 ;
  register int __result___333 ;
  unsigned char const   *__s1___110 ;
  register int __result___334 ;
  int tmp___341 ;
  int tmp___342 ;
  int tmp___343 ;
  int tmp___344 ;
  size_t __s1_len___6 ;
  size_t __s2_len___6 ;
  int tmp___366 ;
  size_t tmp___367 ;
  register int __result___373 ;
  unsigned char const   *__s2___62 ;
  register int __result___374 ;
  register int __result___381 ;
  unsigned char const   *__s1___126 ;
  register int __result___382 ;
  int tmp___382 ;
  int tmp___383 ;
  int tmp___384 ;
  int tmp___385 ;
  char const   *temp___5 ;
  char ch___1 ;
  char const   *tmp___386 ;
  char *spfbuf ;
  int tmp___432 ;
  size_t __s1_len___8 ;
  size_t __s2_len___8 ;
  int tmp___454 ;
  size_t tmp___455 ;
  register int __result___469 ;
  unsigned char const   *__s2___78 ;
  register int __result___470 ;
  register int __result___477 ;
  unsigned char const   *__s1___158 ;
  register int __result___478 ;
  int tmp___470 ;
  int tmp___471 ;
  int tmp___472 ;
  int tmp___473 ;
  int tmp___474 ;
  size_t tmp___475 ;
  size_t tmp___476 ;
  int tmp___522 ;
  size_t __s1_len___10 ;
  size_t __s2_len___10 ;
  int tmp___544 ;
  size_t tmp___545 ;
  register int __result___565 ;
  unsigned char const   *__s2___94 ;
  register int __result___566 ;
  register int __result___573 ;
  unsigned char const   *__s1___190 ;
  register int __result___574 ;
  int tmp___560 ;
  int tmp___561 ;
  int tmp___562 ;
  int tmp___563 ;
  int tmp___564 ;
  size_t tmp___565 ;
  size_t tmp___566 ;
  int tmp___612 ;
  size_t __s1_len___12 ;
  size_t __s2_len___12 ;
  int tmp___634 ;
  size_t tmp___635 ;
  register int __result___661 ;
  unsigned char const   *__s2___110 ;
  register int __result___662 ;
  register int __result___669 ;
  unsigned char const   *__s1___222 ;
  register int __result___670 ;
  int tmp___650 ;
  int tmp___651 ;
  int tmp___652 ;
  int tmp___653 ;
  int tmp___654 ;
  size_t tmp___655 ;
  size_t tmp___656 ;
  size_t __s1_len___13 ;
  size_t __s2_len___13 ;
  int tmp___678 ;
  size_t tmp___679 ;
  register int __result___709 ;
  unsigned char const   *__s2___118 ;
  register int __result___710 ;
  register int __result___717 ;
  unsigned char const   *__s1___238 ;
  register int __result___718 ;
  int tmp___694 ;
  int tmp___695 ;
  int tmp___696 ;
  int tmp___697 ;
  int tmp___743 ;
  size_t __s1_len___15 ;
  size_t __s2_len___15 ;
  int tmp___765 ;
  size_t tmp___766 ;
  register int __result___805 ;
  unsigned char const   *__s2___134 ;
  register int __result___806 ;
  register int __result___813 ;
  unsigned char const   *__s1___270 ;
  register int __result___814 ;
  int tmp___781 ;
  int tmp___782 ;
  int tmp___783 ;
  int tmp___784 ;
  int tmp___785 ;
  size_t tmp___786 ;
  size_t tmp___787 ;
  int tmp___833 ;
  size_t __s1_len___17 ;
  size_t __s2_len___17 ;
  int tmp___855 ;
  size_t tmp___856 ;
  register int __result___901 ;
  unsigned char const   *__s2___150 ;
  register int __result___902 ;
  register int __result___909 ;
  unsigned char const   *__s1___302 ;
  register int __result___910 ;
  int tmp___871 ;
  int tmp___872 ;
  int tmp___873 ;
  int tmp___874 ;
  int tmp___875 ;
  size_t tmp___876 ;
  size_t tmp___877 ;
  int tmp___923 ;
  size_t __s1_len___19 ;
  size_t __s2_len___19 ;
  int tmp___945 ;
  size_t tmp___946 ;
  register int __result___997 ;
  unsigned char const   *__s2___166 ;
  register int __result___998 ;
  register int __result___1005 ;
  unsigned char const   *__s1___334 ;
  register int __result___1006 ;
  int tmp___961 ;
  int tmp___962 ;
  int tmp___963 ;
  int tmp___964 ;
  int tmp___965 ;
  size_t tmp___966 ;
  size_t tmp___967 ;
  int tmp___1013 ;
  size_t __s1_len___21 ;
  size_t __s2_len___21 ;
  int tmp___1035 ;
  size_t tmp___1036 ;
  register int __result___1093 ;
  unsigned char const   *__s2___182 ;
  register int __result___1094 ;
  register int __result___1101 ;
  unsigned char const   *__s1___366 ;
  register int __result___1102 ;
  int tmp___1051 ;
  int tmp___1052 ;
  int tmp___1053 ;
  int tmp___1054 ;
  int tmp___1055 ;
  size_t tmp___1056 ;
  size_t tmp___1057 ;

  {
  while (1) {
    argc --;
    if (! (argc > 0)) {
      break;
    }
    argv ++;
    str = (*argv);
    if ((int const   )(*str) != 45) {
      if ((int )program_mode == 0) {
        if ((int const   )(*str) != 0) {
          if ((int )launch_uri_count < 2) {
            tmp = launch_uri_count;
            launch_uri_count = (unsigned char )((int )launch_uri_count + 1);
            launch_uri[tmp] = str;
          } else {
            goto _L___0;
          }
        } else {
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ ;
      }
    } else {
      tmp___1055 = __builtin_constant_p(str);
      if (tmp___1055) {
        tmp___1056 = strlen(str);
        if (tmp___1056 < 10U) {
          goto _L___3901;
        } else {
          goto _L___3902;
        }
      } else {
        _L___3902: /* CIL Label */ 
        tmp___1057 = strlen("--userdir=");
        if (tmp___1057 < 10U) {
          _L___3901: /* CIL Label */ 
          tmp___1053 = __builtin_constant_p(str);
          if (tmp___1053) {
            __s1_len___21 = strlen(str);
            __s2_len___21 = strlen("--userdir=");
            if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                   1U)) {
              goto _L___3898;
            } else {
              if (__s1_len___21 >= 4U) {
                _L___3898: /* CIL Label */ 
                if (! ((unsigned int )((void const   *)("--userdir=" + 1)) - (unsigned int )((void const   *)"--userdir=") ==
                       1U)) {
                  goto _L___3897;
                } else {
                  if (__s2_len___21 >= 4U) {
                    _L___3897: /* CIL Label */ 
                    tmp___1054 = 1;
                  } else {
                    goto _L___3896;
                  }
                }
              } else {
                _L___3896: /* CIL Label */ 
                tmp___1054 = 0;
              }
            }
            if (tmp___1054) {
              if (__s1_len___21 < __s2_len___21) {
                tmp___1036 = __s1_len___21;
              } else {
                tmp___1036 = __s2_len___21;
              }
              tmp___1035 = memcmp((void const   *)str, (void const   *)"--userdir=",
                                  tmp___1036 + 1U);
            } else {
              goto _L___3900;
            }
          } else {
            _L___3900: /* CIL Label */ 
            tmp___1052 = __builtin_constant_p(str);
            if (tmp___1052) {
              if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                  1U) {
                __s1_len___21 = strlen(str);
                if (__s1_len___21 < 4U) {
                  if ((unsigned int )((void const   *)("--userdir=" + 1)) - (unsigned int )((void const   *)"--userdir=") ==
                      1U) {
                    __result___1093 = (int )((int const   )(*((unsigned char const   *)str +
                                                              0)) - (int const   )(*((unsigned char const   *)"--userdir=" +
                                                                                     0)));
                    if (__s1_len___21 > 0U) {
                      if (__result___1093 == 0) {
                        __result___1093 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  1)) - (int const   )(*((unsigned char const   *)"--userdir=" +
                                                                                         1)));
                        if (__s1_len___21 > 1U) {
                          if (__result___1093 == 0) {
                            __result___1093 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      2)) - (int const   )(*((unsigned char const   *)"--userdir=" +
                                                                                             2)));
                            if (__s1_len___21 > 2U) {
                              if (__result___1093 == 0) {
                                __result___1093 = (int )((int const   )(*((unsigned char const   *)str +
                                                                          3)) - (int const   )(*((unsigned char const   *)"--userdir=" +
                                                                                                 3)));
                              } else {
                                goto _L___3861;
                              }
                            } else {
                              _L___3861: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___3862;
                          }
                        } else {
                          _L___3862: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___3863;
                      }
                    } else {
                      _L___3863: /* CIL Label */ ;
                    }
                    tmp___1035 = __result___1093;
                  } else {
                    __s2___182 = (unsigned char const   *)"--userdir=";
                    __result___1094 = (int )((int const   )(*((unsigned char const   *)str +
                                                              0)) - (int const   )(*(__s2___182 +
                                                                                     0)));
                    if (__s1_len___21 > 0U) {
                      if (__result___1094 == 0) {
                        __result___1094 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  1)) - (int const   )(*(__s2___182 +
                                                                                         1)));
                        if (__s1_len___21 > 1U) {
                          if (__result___1094 == 0) {
                            __result___1094 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      2)) - (int const   )(*(__s2___182 +
                                                                                             2)));
                            if (__s1_len___21 > 2U) {
                              if (__result___1094 == 0) {
                                __result___1094 = (int )((int const   )(*((unsigned char const   *)str +
                                                                          3)) - (int const   )(*(__s2___182 +
                                                                                                 3)));
                              } else {
                                goto _L___3864;
                              }
                            } else {
                              _L___3864: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___3865;
                          }
                        } else {
                          _L___3865: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___3866;
                      }
                    } else {
                      _L___3866: /* CIL Label */ ;
                    }
                    tmp___1035 = __result___1094;
                  }
                } else {
                  goto _L___3895;
                }
              } else {
                goto _L___3895;
              }
            } else {
              _L___3895: /* CIL Label */ 
              if ((unsigned int )((void const   *)("--userdir=" + 1)) - (unsigned int )((void const   *)"--userdir=") ==
                  1U) {
                __s2_len___21 = strlen("--userdir=");
                if (__s2_len___21 < 4U) {
                  tmp___1051 = __builtin_constant_p(str);
                  if (tmp___1051) {
                    if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                        1U) {
                      __result___1101 = (int )((int const   )(*((unsigned char const   *)str +
                                                                0)) - (int const   )(*((unsigned char const   *)"--userdir=" +
                                                                                       0)));
                      if (__s2_len___21 > 0U) {
                        if (__result___1101 == 0) {
                          __result___1101 = (int )((int const   )(*((unsigned char const   *)str +
                                                                    1)) - (int const   )(*((unsigned char const   *)"--userdir=" +
                                                                                           1)));
                          if (__s2_len___21 > 1U) {
                            if (__result___1101 == 0) {
                              __result___1101 = (int )((int const   )(*((unsigned char const   *)str +
                                                                        2)) - (int const   )(*((unsigned char const   *)"--userdir=" +
                                                                                               2)));
                              if (__s2_len___21 > 2U) {
                                if (__result___1101 == 0) {
                                  __result___1101 = (int )((int const   )(*((unsigned char const   *)str +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)"--userdir=" +
                                                                            3)));
                                } else {
                                  goto _L___3886;
                                }
                              } else {
                                _L___3886: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___3887;
                            }
                          } else {
                            _L___3887: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___3888;
                        }
                      } else {
                        _L___3888: /* CIL Label */ ;
                      }
                      tmp___1035 = __result___1101;
                    } else {
                      goto _L___3892;
                    }
                  } else {
                    _L___3892: /* CIL Label */ 
                    __s1___366 = (unsigned char const   *)str;
                    __result___1102 = (int )((int const   )(*(__s1___366 + 0)) - (int const   )(*((unsigned char const   *)"--userdir=" +
                                                                                                  0)));
                    if (__s2_len___21 > 0U) {
                      if (__result___1102 == 0) {
                        __result___1102 = (int )((int const   )(*(__s1___366 + 1)) -
                                                 (int const   )(*((unsigned char const   *)"--userdir=" +
                                                                  1)));
                        if (__s2_len___21 > 1U) {
                          if (__result___1102 == 0) {
                            __result___1102 = (int )((int const   )(*(__s1___366 +
                                                                      2)) - (int const   )(*((unsigned char const   *)"--userdir=" +
                                                                                             2)));
                            if (__s2_len___21 > 2U) {
                              if (__result___1102 == 0) {
                                __result___1102 = (int )((int const   )(*(__s1___366 +
                                                                          3)) - (int const   )(*((unsigned char const   *)"--userdir=" +
                                                                                                 3)));
                              } else {
                                goto _L___3889;
                              }
                            } else {
                              _L___3889: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___3890;
                          }
                        } else {
                          _L___3890: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___3891;
                      }
                    } else {
                      _L___3891: /* CIL Label */ ;
                    }
                    tmp___1035 = __result___1102;
                  }
                } else {
                  goto _L___3893;
                }
              } else {
                _L___3893: /* CIL Label */ 
                tmp___1035 = strcmp(str, "--userdir=");
              }
            }
          }
          tmp___1013 = tmp___1035;
        } else {
          tmp___1013 = strncmp(str, "--userdir=", 10U);
        }
      }
      if (tmp___1013) {
        tmp___965 = __builtin_constant_p(str);
        if (tmp___965) {
          tmp___966 = strlen(str);
          if (tmp___966 < 16U) {
            goto _L___3563;
          } else {
            goto _L___3564;
          }
        } else {
          _L___3564: /* CIL Label */ 
          tmp___967 = strlen("--resume-session");
          if (tmp___967 < 16U) {
            _L___3563: /* CIL Label */ 
            tmp___963 = __builtin_constant_p(str);
            if (tmp___963) {
              __s1_len___19 = strlen(str);
              __s2_len___19 = strlen("--resume-session");
              if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                     1U)) {
                goto _L___3560;
              } else {
                if (__s1_len___19 >= 4U) {
                  _L___3560: /* CIL Label */ 
                  if (! ((unsigned int )((void const   *)("--resume-session" + 1)) -
                         (unsigned int )((void const   *)"--resume-session") == 1U)) {
                    goto _L___3559;
                  } else {
                    if (__s2_len___19 >= 4U) {
                      _L___3559: /* CIL Label */ 
                      tmp___964 = 1;
                    } else {
                      goto _L___3558;
                    }
                  }
                } else {
                  _L___3558: /* CIL Label */ 
                  tmp___964 = 0;
                }
              }
              if (tmp___964) {
                if (__s1_len___19 < __s2_len___19) {
                  tmp___946 = __s1_len___19;
                } else {
                  tmp___946 = __s2_len___19;
                }
                tmp___945 = memcmp((void const   *)str, (void const   *)"--resume-session",
                                   tmp___946 + 1U);
              } else {
                goto _L___3562;
              }
            } else {
              _L___3562: /* CIL Label */ 
              tmp___962 = __builtin_constant_p(str);
              if (tmp___962) {
                if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                    1U) {
                  __s1_len___19 = strlen(str);
                  if (__s1_len___19 < 4U) {
                    if ((unsigned int )((void const   *)("--resume-session" + 1)) -
                        (unsigned int )((void const   *)"--resume-session") == 1U) {
                      __result___997 = (int )((int const   )(*((unsigned char const   *)str +
                                                               0)) - (int const   )(*((unsigned char const   *)"--resume-session" +
                                                                                      0)));
                      if (__s1_len___19 > 0U) {
                        if (__result___997 == 0) {
                          __result___997 = (int )((int const   )(*((unsigned char const   *)str +
                                                                   1)) - (int const   )(*((unsigned char const   *)"--resume-session" +
                                                                                          1)));
                          if (__s1_len___19 > 1U) {
                            if (__result___997 == 0) {
                              __result___997 = (int )((int const   )(*((unsigned char const   *)str +
                                                                       2)) - (int const   )(*((unsigned char const   *)"--resume-session" +
                                                                                              2)));
                              if (__s1_len___19 > 2U) {
                                if (__result___997 == 0) {
                                  __result___997 = (int )((int const   )(*((unsigned char const   *)str +
                                                                           3)) - (int const   )(*((unsigned char const   *)"--resume-session" +
                                                                                                  3)));
                                } else {
                                  goto _L___3523;
                                }
                              } else {
                                _L___3523: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___3524;
                            }
                          } else {
                            _L___3524: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___3525;
                        }
                      } else {
                        _L___3525: /* CIL Label */ ;
                      }
                      tmp___945 = __result___997;
                    } else {
                      __s2___166 = (unsigned char const   *)"--resume-session";
                      __result___998 = (int )((int const   )(*((unsigned char const   *)str +
                                                               0)) - (int const   )(*(__s2___166 +
                                                                                      0)));
                      if (__s1_len___19 > 0U) {
                        if (__result___998 == 0) {
                          __result___998 = (int )((int const   )(*((unsigned char const   *)str +
                                                                   1)) - (int const   )(*(__s2___166 +
                                                                                          1)));
                          if (__s1_len___19 > 1U) {
                            if (__result___998 == 0) {
                              __result___998 = (int )((int const   )(*((unsigned char const   *)str +
                                                                       2)) - (int const   )(*(__s2___166 +
                                                                                              2)));
                              if (__s1_len___19 > 2U) {
                                if (__result___998 == 0) {
                                  __result___998 = (int )((int const   )(*((unsigned char const   *)str +
                                                                           3)) - (int const   )(*(__s2___166 +
                                                                                                  3)));
                                } else {
                                  goto _L___3526;
                                }
                              } else {
                                _L___3526: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___3527;
                            }
                          } else {
                            _L___3527: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___3528;
                        }
                      } else {
                        _L___3528: /* CIL Label */ ;
                      }
                      tmp___945 = __result___998;
                    }
                  } else {
                    goto _L___3557;
                  }
                } else {
                  goto _L___3557;
                }
              } else {
                _L___3557: /* CIL Label */ 
                if ((unsigned int )((void const   *)("--resume-session" + 1)) - (unsigned int )((void const   *)"--resume-session") ==
                    1U) {
                  __s2_len___19 = strlen("--resume-session");
                  if (__s2_len___19 < 4U) {
                    tmp___961 = __builtin_constant_p(str);
                    if (tmp___961) {
                      if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                          1U) {
                        __result___1005 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  0)) - (int const   )(*((unsigned char const   *)"--resume-session" +
                                                                                         0)));
                        if (__s2_len___19 > 0U) {
                          if (__result___1005 == 0) {
                            __result___1005 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      1)) - (int const   )(*((unsigned char const   *)"--resume-session" +
                                                                                             1)));
                            if (__s2_len___19 > 1U) {
                              if (__result___1005 == 0) {
                                __result___1005 = (int )((int const   )(*((unsigned char const   *)str +
                                                                          2)) - (int const   )(*((unsigned char const   *)"--resume-session" +
                                                                                                 2)));
                                if (__s2_len___19 > 2U) {
                                  if (__result___1005 == 0) {
                                    __result___1005 = (int )((int const   )(*((unsigned char const   *)str +
                                                                              3)) -
                                                             (int const   )(*((unsigned char const   *)"--resume-session" +
                                                                              3)));
                                  } else {
                                    goto _L___3548;
                                  }
                                } else {
                                  _L___3548: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___3549;
                              }
                            } else {
                              _L___3549: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___3550;
                          }
                        } else {
                          _L___3550: /* CIL Label */ ;
                        }
                        tmp___945 = __result___1005;
                      } else {
                        goto _L___3554;
                      }
                    } else {
                      _L___3554: /* CIL Label */ 
                      __s1___334 = (unsigned char const   *)str;
                      __result___1006 = (int )((int const   )(*(__s1___334 + 0)) -
                                               (int const   )(*((unsigned char const   *)"--resume-session" +
                                                                0)));
                      if (__s2_len___19 > 0U) {
                        if (__result___1006 == 0) {
                          __result___1006 = (int )((int const   )(*(__s1___334 + 1)) -
                                                   (int const   )(*((unsigned char const   *)"--resume-session" +
                                                                    1)));
                          if (__s2_len___19 > 1U) {
                            if (__result___1006 == 0) {
                              __result___1006 = (int )((int const   )(*(__s1___334 +
                                                                        2)) - (int const   )(*((unsigned char const   *)"--resume-session" +
                                                                                               2)));
                              if (__s2_len___19 > 2U) {
                                if (__result___1006 == 0) {
                                  __result___1006 = (int )((int const   )(*(__s1___334 +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)"--resume-session" +
                                                                            3)));
                                } else {
                                  goto _L___3551;
                                }
                              } else {
                                _L___3551: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___3552;
                            }
                          } else {
                            _L___3552: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___3553;
                        }
                      } else {
                        _L___3553: /* CIL Label */ ;
                      }
                      tmp___945 = __result___1006;
                    }
                  } else {
                    goto _L___3555;
                  }
                } else {
                  _L___3555: /* CIL Label */ 
                  tmp___945 = strcmp(str, "--resume-session");
                }
              }
            }
            tmp___923 = tmp___945;
          } else {
            tmp___923 = strncmp(str, "--resume-session", 16U);
          }
        }
        if (tmp___923) {
          tmp___875 = __builtin_constant_p(str);
          if (tmp___875) {
            tmp___876 = strlen(str);
            if (tmp___876 < 11U) {
              goto _L___3225;
            } else {
              goto _L___3226;
            }
          } else {
            _L___3226: /* CIL Label */ 
            tmp___877 = strlen("--download=");
            if (tmp___877 < 11U) {
              _L___3225: /* CIL Label */ 
              tmp___873 = __builtin_constant_p(str);
              if (tmp___873) {
                __s1_len___17 = strlen(str);
                __s2_len___17 = strlen("--download=");
                if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                       1U)) {
                  goto _L___3222;
                } else {
                  if (__s1_len___17 >= 4U) {
                    _L___3222: /* CIL Label */ 
                    if (! ((unsigned int )((void const   *)("--download=" + 1)) -
                           (unsigned int )((void const   *)"--download=") == 1U)) {
                      goto _L___3221;
                    } else {
                      if (__s2_len___17 >= 4U) {
                        _L___3221: /* CIL Label */ 
                        tmp___874 = 1;
                      } else {
                        goto _L___3220;
                      }
                    }
                  } else {
                    _L___3220: /* CIL Label */ 
                    tmp___874 = 0;
                  }
                }
                if (tmp___874) {
                  if (__s1_len___17 < __s2_len___17) {
                    tmp___856 = __s1_len___17;
                  } else {
                    tmp___856 = __s2_len___17;
                  }
                  tmp___855 = memcmp((void const   *)str, (void const   *)"--download=",
                                     tmp___856 + 1U);
                } else {
                  goto _L___3224;
                }
              } else {
                _L___3224: /* CIL Label */ 
                tmp___872 = __builtin_constant_p(str);
                if (tmp___872) {
                  if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                      1U) {
                    __s1_len___17 = strlen(str);
                    if (__s1_len___17 < 4U) {
                      if ((unsigned int )((void const   *)("--download=" + 1)) - (unsigned int )((void const   *)"--download=") ==
                          1U) {
                        __result___901 = (int )((int const   )(*((unsigned char const   *)str +
                                                                 0)) - (int const   )(*((unsigned char const   *)"--download=" +
                                                                                        0)));
                        if (__s1_len___17 > 0U) {
                          if (__result___901 == 0) {
                            __result___901 = (int )((int const   )(*((unsigned char const   *)str +
                                                                     1)) - (int const   )(*((unsigned char const   *)"--download=" +
                                                                                            1)));
                            if (__s1_len___17 > 1U) {
                              if (__result___901 == 0) {
                                __result___901 = (int )((int const   )(*((unsigned char const   *)str +
                                                                         2)) - (int const   )(*((unsigned char const   *)"--download=" +
                                                                                                2)));
                                if (__s1_len___17 > 2U) {
                                  if (__result___901 == 0) {
                                    __result___901 = (int )((int const   )(*((unsigned char const   *)str +
                                                                             3)) -
                                                            (int const   )(*((unsigned char const   *)"--download=" +
                                                                             3)));
                                  } else {
                                    goto _L___3185;
                                  }
                                } else {
                                  _L___3185: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___3186;
                              }
                            } else {
                              _L___3186: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___3187;
                          }
                        } else {
                          _L___3187: /* CIL Label */ ;
                        }
                        tmp___855 = __result___901;
                      } else {
                        __s2___150 = (unsigned char const   *)"--download=";
                        __result___902 = (int )((int const   )(*((unsigned char const   *)str +
                                                                 0)) - (int const   )(*(__s2___150 +
                                                                                        0)));
                        if (__s1_len___17 > 0U) {
                          if (__result___902 == 0) {
                            __result___902 = (int )((int const   )(*((unsigned char const   *)str +
                                                                     1)) - (int const   )(*(__s2___150 +
                                                                                            1)));
                            if (__s1_len___17 > 1U) {
                              if (__result___902 == 0) {
                                __result___902 = (int )((int const   )(*((unsigned char const   *)str +
                                                                         2)) - (int const   )(*(__s2___150 +
                                                                                                2)));
                                if (__s1_len___17 > 2U) {
                                  if (__result___902 == 0) {
                                    __result___902 = (int )((int const   )(*((unsigned char const   *)str +
                                                                             3)) -
                                                            (int const   )(*(__s2___150 +
                                                                             3)));
                                  } else {
                                    goto _L___3188;
                                  }
                                } else {
                                  _L___3188: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___3189;
                              }
                            } else {
                              _L___3189: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___3190;
                          }
                        } else {
                          _L___3190: /* CIL Label */ ;
                        }
                        tmp___855 = __result___902;
                      }
                    } else {
                      goto _L___3219;
                    }
                  } else {
                    goto _L___3219;
                  }
                } else {
                  _L___3219: /* CIL Label */ 
                  if ((unsigned int )((void const   *)("--download=" + 1)) - (unsigned int )((void const   *)"--download=") ==
                      1U) {
                    __s2_len___17 = strlen("--download=");
                    if (__s2_len___17 < 4U) {
                      tmp___871 = __builtin_constant_p(str);
                      if (tmp___871) {
                        if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                            1U) {
                          __result___909 = (int )((int const   )(*((unsigned char const   *)str +
                                                                   0)) - (int const   )(*((unsigned char const   *)"--download=" +
                                                                                          0)));
                          if (__s2_len___17 > 0U) {
                            if (__result___909 == 0) {
                              __result___909 = (int )((int const   )(*((unsigned char const   *)str +
                                                                       1)) - (int const   )(*((unsigned char const   *)"--download=" +
                                                                                              1)));
                              if (__s2_len___17 > 1U) {
                                if (__result___909 == 0) {
                                  __result___909 = (int )((int const   )(*((unsigned char const   *)str +
                                                                           2)) - (int const   )(*((unsigned char const   *)"--download=" +
                                                                                                  2)));
                                  if (__s2_len___17 > 2U) {
                                    if (__result___909 == 0) {
                                      __result___909 = (int )((int const   )(*((unsigned char const   *)str +
                                                                               3)) -
                                                              (int const   )(*((unsigned char const   *)"--download=" +
                                                                               3)));
                                    } else {
                                      goto _L___3210;
                                    }
                                  } else {
                                    _L___3210: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___3211;
                                }
                              } else {
                                _L___3211: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___3212;
                            }
                          } else {
                            _L___3212: /* CIL Label */ ;
                          }
                          tmp___855 = __result___909;
                        } else {
                          goto _L___3216;
                        }
                      } else {
                        _L___3216: /* CIL Label */ 
                        __s1___302 = (unsigned char const   *)str;
                        __result___910 = (int )((int const   )(*(__s1___302 + 0)) -
                                                (int const   )(*((unsigned char const   *)"--download=" +
                                                                 0)));
                        if (__s2_len___17 > 0U) {
                          if (__result___910 == 0) {
                            __result___910 = (int )((int const   )(*(__s1___302 +
                                                                     1)) - (int const   )(*((unsigned char const   *)"--download=" +
                                                                                            1)));
                            if (__s2_len___17 > 1U) {
                              if (__result___910 == 0) {
                                __result___910 = (int )((int const   )(*(__s1___302 +
                                                                         2)) - (int const   )(*((unsigned char const   *)"--download=" +
                                                                                                2)));
                                if (__s2_len___17 > 2U) {
                                  if (__result___910 == 0) {
                                    __result___910 = (int )((int const   )(*(__s1___302 +
                                                                             3)) -
                                                            (int const   )(*((unsigned char const   *)"--download=" +
                                                                             3)));
                                  } else {
                                    goto _L___3213;
                                  }
                                } else {
                                  _L___3213: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___3214;
                              }
                            } else {
                              _L___3214: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___3215;
                          }
                        } else {
                          _L___3215: /* CIL Label */ ;
                        }
                        tmp___855 = __result___910;
                      }
                    } else {
                      goto _L___3217;
                    }
                  } else {
                    _L___3217: /* CIL Label */ 
                    tmp___855 = strcmp(str, "--download=");
                  }
                }
              }
              tmp___833 = tmp___855;
            } else {
              tmp___833 = strncmp(str, "--download=", 11U);
            }
          }
          if (tmp___833) {
            tmp___785 = __builtin_constant_p(str);
            if (tmp___785) {
              tmp___786 = strlen(str);
              if (tmp___786 < 7U) {
                goto _L___2887;
              } else {
                goto _L___2888;
              }
            } else {
              _L___2888: /* CIL Label */ 
              tmp___787 = strlen("--dump=");
              if (tmp___787 < 7U) {
                _L___2887: /* CIL Label */ 
                tmp___783 = __builtin_constant_p(str);
                if (tmp___783) {
                  __s1_len___15 = strlen(str);
                  __s2_len___15 = strlen("--dump=");
                  if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                         1U)) {
                    goto _L___2884;
                  } else {
                    if (__s1_len___15 >= 4U) {
                      _L___2884: /* CIL Label */ 
                      if (! ((unsigned int )((void const   *)("--dump=" + 1)) - (unsigned int )((void const   *)"--dump=") ==
                             1U)) {
                        goto _L___2883;
                      } else {
                        if (__s2_len___15 >= 4U) {
                          _L___2883: /* CIL Label */ 
                          tmp___784 = 1;
                        } else {
                          goto _L___2882;
                        }
                      }
                    } else {
                      _L___2882: /* CIL Label */ 
                      tmp___784 = 0;
                    }
                  }
                  if (tmp___784) {
                    if (__s1_len___15 < __s2_len___15) {
                      tmp___766 = __s1_len___15;
                    } else {
                      tmp___766 = __s2_len___15;
                    }
                    tmp___765 = memcmp((void const   *)str, (void const   *)"--dump=",
                                       tmp___766 + 1U);
                  } else {
                    goto _L___2886;
                  }
                } else {
                  _L___2886: /* CIL Label */ 
                  tmp___782 = __builtin_constant_p(str);
                  if (tmp___782) {
                    if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                        1U) {
                      __s1_len___15 = strlen(str);
                      if (__s1_len___15 < 4U) {
                        if ((unsigned int )((void const   *)("--dump=" + 1)) - (unsigned int )((void const   *)"--dump=") ==
                            1U) {
                          __result___805 = (int )((int const   )(*((unsigned char const   *)str +
                                                                   0)) - (int const   )(*((unsigned char const   *)"--dump=" +
                                                                                          0)));
                          if (__s1_len___15 > 0U) {
                            if (__result___805 == 0) {
                              __result___805 = (int )((int const   )(*((unsigned char const   *)str +
                                                                       1)) - (int const   )(*((unsigned char const   *)"--dump=" +
                                                                                              1)));
                              if (__s1_len___15 > 1U) {
                                if (__result___805 == 0) {
                                  __result___805 = (int )((int const   )(*((unsigned char const   *)str +
                                                                           2)) - (int const   )(*((unsigned char const   *)"--dump=" +
                                                                                                  2)));
                                  if (__s1_len___15 > 2U) {
                                    if (__result___805 == 0) {
                                      __result___805 = (int )((int const   )(*((unsigned char const   *)str +
                                                                               3)) -
                                                              (int const   )(*((unsigned char const   *)"--dump=" +
                                                                               3)));
                                    } else {
                                      goto _L___2847;
                                    }
                                  } else {
                                    _L___2847: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___2848;
                                }
                              } else {
                                _L___2848: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___2849;
                            }
                          } else {
                            _L___2849: /* CIL Label */ ;
                          }
                          tmp___765 = __result___805;
                        } else {
                          __s2___134 = (unsigned char const   *)"--dump=";
                          __result___806 = (int )((int const   )(*((unsigned char const   *)str +
                                                                   0)) - (int const   )(*(__s2___134 +
                                                                                          0)));
                          if (__s1_len___15 > 0U) {
                            if (__result___806 == 0) {
                              __result___806 = (int )((int const   )(*((unsigned char const   *)str +
                                                                       1)) - (int const   )(*(__s2___134 +
                                                                                              1)));
                              if (__s1_len___15 > 1U) {
                                if (__result___806 == 0) {
                                  __result___806 = (int )((int const   )(*((unsigned char const   *)str +
                                                                           2)) - (int const   )(*(__s2___134 +
                                                                                                  2)));
                                  if (__s1_len___15 > 2U) {
                                    if (__result___806 == 0) {
                                      __result___806 = (int )((int const   )(*((unsigned char const   *)str +
                                                                               3)) -
                                                              (int const   )(*(__s2___134 +
                                                                               3)));
                                    } else {
                                      goto _L___2850;
                                    }
                                  } else {
                                    _L___2850: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___2851;
                                }
                              } else {
                                _L___2851: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___2852;
                            }
                          } else {
                            _L___2852: /* CIL Label */ ;
                          }
                          tmp___765 = __result___806;
                        }
                      } else {
                        goto _L___2881;
                      }
                    } else {
                      goto _L___2881;
                    }
                  } else {
                    _L___2881: /* CIL Label */ 
                    if ((unsigned int )((void const   *)("--dump=" + 1)) - (unsigned int )((void const   *)"--dump=") ==
                        1U) {
                      __s2_len___15 = strlen("--dump=");
                      if (__s2_len___15 < 4U) {
                        tmp___781 = __builtin_constant_p(str);
                        if (tmp___781) {
                          if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                              1U) {
                            __result___813 = (int )((int const   )(*((unsigned char const   *)str +
                                                                     0)) - (int const   )(*((unsigned char const   *)"--dump=" +
                                                                                            0)));
                            if (__s2_len___15 > 0U) {
                              if (__result___813 == 0) {
                                __result___813 = (int )((int const   )(*((unsigned char const   *)str +
                                                                         1)) - (int const   )(*((unsigned char const   *)"--dump=" +
                                                                                                1)));
                                if (__s2_len___15 > 1U) {
                                  if (__result___813 == 0) {
                                    __result___813 = (int )((int const   )(*((unsigned char const   *)str +
                                                                             2)) -
                                                            (int const   )(*((unsigned char const   *)"--dump=" +
                                                                             2)));
                                    if (__s2_len___15 > 2U) {
                                      if (__result___813 == 0) {
                                        __result___813 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                 3)) -
                                                                (int const   )(*((unsigned char const   *)"--dump=" +
                                                                                 3)));
                                      } else {
                                        goto _L___2872;
                                      }
                                    } else {
                                      _L___2872: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___2873;
                                  }
                                } else {
                                  _L___2873: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___2874;
                              }
                            } else {
                              _L___2874: /* CIL Label */ ;
                            }
                            tmp___765 = __result___813;
                          } else {
                            goto _L___2878;
                          }
                        } else {
                          _L___2878: /* CIL Label */ 
                          __s1___270 = (unsigned char const   *)str;
                          __result___814 = (int )((int const   )(*(__s1___270 + 0)) -
                                                  (int const   )(*((unsigned char const   *)"--dump=" +
                                                                   0)));
                          if (__s2_len___15 > 0U) {
                            if (__result___814 == 0) {
                              __result___814 = (int )((int const   )(*(__s1___270 +
                                                                       1)) - (int const   )(*((unsigned char const   *)"--dump=" +
                                                                                              1)));
                              if (__s2_len___15 > 1U) {
                                if (__result___814 == 0) {
                                  __result___814 = (int )((int const   )(*(__s1___270 +
                                                                           2)) - (int const   )(*((unsigned char const   *)"--dump=" +
                                                                                                  2)));
                                  if (__s2_len___15 > 2U) {
                                    if (__result___814 == 0) {
                                      __result___814 = (int )((int const   )(*(__s1___270 +
                                                                               3)) -
                                                              (int const   )(*((unsigned char const   *)"--dump=" +
                                                                               3)));
                                    } else {
                                      goto _L___2875;
                                    }
                                  } else {
                                    _L___2875: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___2876;
                                }
                              } else {
                                _L___2876: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___2877;
                            }
                          } else {
                            _L___2877: /* CIL Label */ ;
                          }
                          tmp___765 = __result___814;
                        }
                      } else {
                        goto _L___2879;
                      }
                    } else {
                      _L___2879: /* CIL Label */ 
                      tmp___765 = strcmp(str, "--dump=");
                    }
                  }
                }
                tmp___743 = tmp___765;
              } else {
                tmp___743 = strncmp(str, "--dump=", 7U);
              }
            }
            if (tmp___743) {
              tmp___696 = __builtin_constant_p(str);
              if (tmp___696) {
                __s1_len___13 = strlen(str);
                __s2_len___13 = strlen("--console");
                if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                       1U)) {
                  goto _L___2548;
                } else {
                  if (__s1_len___13 >= 4U) {
                    _L___2548: /* CIL Label */ 
                    if (! ((unsigned int )((void const   *)("--console" + 1)) - (unsigned int )((void const   *)"--console") ==
                           1U)) {
                      goto _L___2547;
                    } else {
                      if (__s2_len___13 >= 4U) {
                        _L___2547: /* CIL Label */ 
                        tmp___697 = 1;
                      } else {
                        goto _L___2546;
                      }
                    }
                  } else {
                    _L___2546: /* CIL Label */ 
                    tmp___697 = 0;
                  }
                }
                if (tmp___697) {
                  if (__s1_len___13 < __s2_len___13) {
                    tmp___679 = __s1_len___13;
                  } else {
                    tmp___679 = __s2_len___13;
                  }
                  tmp___678 = memcmp((void const   *)str, (void const   *)"--console",
                                     tmp___679 + 1U);
                } else {
                  goto _L___2550;
                }
              } else {
                _L___2550: /* CIL Label */ 
                tmp___695 = __builtin_constant_p(str);
                if (tmp___695) {
                  if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                      1U) {
                    __s1_len___13 = strlen(str);
                    if (__s1_len___13 < 4U) {
                      if ((unsigned int )((void const   *)("--console" + 1)) - (unsigned int )((void const   *)"--console") ==
                          1U) {
                        __result___709 = (int )((int const   )(*((unsigned char const   *)str +
                                                                 0)) - (int const   )(*((unsigned char const   *)"--console" +
                                                                                        0)));
                        if (__s1_len___13 > 0U) {
                          if (__result___709 == 0) {
                            __result___709 = (int )((int const   )(*((unsigned char const   *)str +
                                                                     1)) - (int const   )(*((unsigned char const   *)"--console" +
                                                                                            1)));
                            if (__s1_len___13 > 1U) {
                              if (__result___709 == 0) {
                                __result___709 = (int )((int const   )(*((unsigned char const   *)str +
                                                                         2)) - (int const   )(*((unsigned char const   *)"--console" +
                                                                                                2)));
                                if (__s1_len___13 > 2U) {
                                  if (__result___709 == 0) {
                                    __result___709 = (int )((int const   )(*((unsigned char const   *)str +
                                                                             3)) -
                                                            (int const   )(*((unsigned char const   *)"--console" +
                                                                             3)));
                                  } else {
                                    goto _L___2511;
                                  }
                                } else {
                                  _L___2511: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___2512;
                              }
                            } else {
                              _L___2512: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___2513;
                          }
                        } else {
                          _L___2513: /* CIL Label */ ;
                        }
                        tmp___678 = __result___709;
                      } else {
                        __s2___118 = (unsigned char const   *)"--console";
                        __result___710 = (int )((int const   )(*((unsigned char const   *)str +
                                                                 0)) - (int const   )(*(__s2___118 +
                                                                                        0)));
                        if (__s1_len___13 > 0U) {
                          if (__result___710 == 0) {
                            __result___710 = (int )((int const   )(*((unsigned char const   *)str +
                                                                     1)) - (int const   )(*(__s2___118 +
                                                                                            1)));
                            if (__s1_len___13 > 1U) {
                              if (__result___710 == 0) {
                                __result___710 = (int )((int const   )(*((unsigned char const   *)str +
                                                                         2)) - (int const   )(*(__s2___118 +
                                                                                                2)));
                                if (__s1_len___13 > 2U) {
                                  if (__result___710 == 0) {
                                    __result___710 = (int )((int const   )(*((unsigned char const   *)str +
                                                                             3)) -
                                                            (int const   )(*(__s2___118 +
                                                                             3)));
                                  } else {
                                    goto _L___2514;
                                  }
                                } else {
                                  _L___2514: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___2515;
                              }
                            } else {
                              _L___2515: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___2516;
                          }
                        } else {
                          _L___2516: /* CIL Label */ ;
                        }
                        tmp___678 = __result___710;
                      }
                    } else {
                      goto _L___2545;
                    }
                  } else {
                    goto _L___2545;
                  }
                } else {
                  _L___2545: /* CIL Label */ 
                  if ((unsigned int )((void const   *)("--console" + 1)) - (unsigned int )((void const   *)"--console") ==
                      1U) {
                    __s2_len___13 = strlen("--console");
                    if (__s2_len___13 < 4U) {
                      tmp___694 = __builtin_constant_p(str);
                      if (tmp___694) {
                        if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                            1U) {
                          __result___717 = (int )((int const   )(*((unsigned char const   *)str +
                                                                   0)) - (int const   )(*((unsigned char const   *)"--console" +
                                                                                          0)));
                          if (__s2_len___13 > 0U) {
                            if (__result___717 == 0) {
                              __result___717 = (int )((int const   )(*((unsigned char const   *)str +
                                                                       1)) - (int const   )(*((unsigned char const   *)"--console" +
                                                                                              1)));
                              if (__s2_len___13 > 1U) {
                                if (__result___717 == 0) {
                                  __result___717 = (int )((int const   )(*((unsigned char const   *)str +
                                                                           2)) - (int const   )(*((unsigned char const   *)"--console" +
                                                                                                  2)));
                                  if (__s2_len___13 > 2U) {
                                    if (__result___717 == 0) {
                                      __result___717 = (int )((int const   )(*((unsigned char const   *)str +
                                                                               3)) -
                                                              (int const   )(*((unsigned char const   *)"--console" +
                                                                               3)));
                                    } else {
                                      goto _L___2536;
                                    }
                                  } else {
                                    _L___2536: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___2537;
                                }
                              } else {
                                _L___2537: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___2538;
                            }
                          } else {
                            _L___2538: /* CIL Label */ ;
                          }
                          tmp___678 = __result___717;
                        } else {
                          goto _L___2542;
                        }
                      } else {
                        _L___2542: /* CIL Label */ 
                        __s1___238 = (unsigned char const   *)str;
                        __result___718 = (int )((int const   )(*(__s1___238 + 0)) -
                                                (int const   )(*((unsigned char const   *)"--console" +
                                                                 0)));
                        if (__s2_len___13 > 0U) {
                          if (__result___718 == 0) {
                            __result___718 = (int )((int const   )(*(__s1___238 +
                                                                     1)) - (int const   )(*((unsigned char const   *)"--console" +
                                                                                            1)));
                            if (__s2_len___13 > 1U) {
                              if (__result___718 == 0) {
                                __result___718 = (int )((int const   )(*(__s1___238 +
                                                                         2)) - (int const   )(*((unsigned char const   *)"--console" +
                                                                                                2)));
                                if (__s2_len___13 > 2U) {
                                  if (__result___718 == 0) {
                                    __result___718 = (int )((int const   )(*(__s1___238 +
                                                                             3)) -
                                                            (int const   )(*((unsigned char const   *)"--console" +
                                                                             3)));
                                  } else {
                                    goto _L___2539;
                                  }
                                } else {
                                  _L___2539: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___2540;
                              }
                            } else {
                              _L___2540: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___2541;
                          }
                        } else {
                          _L___2541: /* CIL Label */ ;
                        }
                        tmp___678 = __result___718;
                      }
                    } else {
                      goto _L___2543;
                    }
                  } else {
                    _L___2543: /* CIL Label */ 
                    tmp___678 = strcmp(str, "--console");
                  }
                }
              }
              if (tmp___678) {
                tmp___654 = __builtin_constant_p(str);
                if (tmp___654) {
                  tmp___655 = strlen(str);
                  if (tmp___655 < 9U) {
                    goto _L___2381;
                  } else {
                    goto _L___2382;
                  }
                } else {
                  _L___2382: /* CIL Label */ 
                  tmp___656 = strlen("--colors=");
                  if (tmp___656 < 9U) {
                    _L___2381: /* CIL Label */ 
                    tmp___652 = __builtin_constant_p(str);
                    if (tmp___652) {
                      __s1_len___12 = strlen(str);
                      __s2_len___12 = strlen("--colors=");
                      if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                             1U)) {
                        goto _L___2378;
                      } else {
                        if (__s1_len___12 >= 4U) {
                          _L___2378: /* CIL Label */ 
                          if (! ((unsigned int )((void const   *)("--colors=" + 1)) -
                                 (unsigned int )((void const   *)"--colors=") == 1U)) {
                            goto _L___2377;
                          } else {
                            if (__s2_len___12 >= 4U) {
                              _L___2377: /* CIL Label */ 
                              tmp___653 = 1;
                            } else {
                              goto _L___2376;
                            }
                          }
                        } else {
                          _L___2376: /* CIL Label */ 
                          tmp___653 = 0;
                        }
                      }
                      if (tmp___653) {
                        if (__s1_len___12 < __s2_len___12) {
                          tmp___635 = __s1_len___12;
                        } else {
                          tmp___635 = __s2_len___12;
                        }
                        tmp___634 = memcmp((void const   *)str, (void const   *)"--colors=",
                                           tmp___635 + 1U);
                      } else {
                        goto _L___2380;
                      }
                    } else {
                      _L___2380: /* CIL Label */ 
                      tmp___651 = __builtin_constant_p(str);
                      if (tmp___651) {
                        if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                            1U) {
                          __s1_len___12 = strlen(str);
                          if (__s1_len___12 < 4U) {
                            if ((unsigned int )((void const   *)("--colors=" + 1)) -
                                (unsigned int )((void const   *)"--colors=") == 1U) {
                              __result___661 = (int )((int const   )(*((unsigned char const   *)str +
                                                                       0)) - (int const   )(*((unsigned char const   *)"--colors=" +
                                                                                              0)));
                              if (__s1_len___12 > 0U) {
                                if (__result___661 == 0) {
                                  __result___661 = (int )((int const   )(*((unsigned char const   *)str +
                                                                           1)) - (int const   )(*((unsigned char const   *)"--colors=" +
                                                                                                  1)));
                                  if (__s1_len___12 > 1U) {
                                    if (__result___661 == 0) {
                                      __result___661 = (int )((int const   )(*((unsigned char const   *)str +
                                                                               2)) -
                                                              (int const   )(*((unsigned char const   *)"--colors=" +
                                                                               2)));
                                      if (__s1_len___12 > 2U) {
                                        if (__result___661 == 0) {
                                          __result___661 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                   3)) -
                                                                  (int const   )(*((unsigned char const   *)"--colors=" +
                                                                                   3)));
                                        } else {
                                          goto _L___2341;
                                        }
                                      } else {
                                        _L___2341: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___2342;
                                    }
                                  } else {
                                    _L___2342: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___2343;
                                }
                              } else {
                                _L___2343: /* CIL Label */ ;
                              }
                              tmp___634 = __result___661;
                            } else {
                              __s2___110 = (unsigned char const   *)"--colors=";
                              __result___662 = (int )((int const   )(*((unsigned char const   *)str +
                                                                       0)) - (int const   )(*(__s2___110 +
                                                                                              0)));
                              if (__s1_len___12 > 0U) {
                                if (__result___662 == 0) {
                                  __result___662 = (int )((int const   )(*((unsigned char const   *)str +
                                                                           1)) - (int const   )(*(__s2___110 +
                                                                                                  1)));
                                  if (__s1_len___12 > 1U) {
                                    if (__result___662 == 0) {
                                      __result___662 = (int )((int const   )(*((unsigned char const   *)str +
                                                                               2)) -
                                                              (int const   )(*(__s2___110 +
                                                                               2)));
                                      if (__s1_len___12 > 2U) {
                                        if (__result___662 == 0) {
                                          __result___662 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                   3)) -
                                                                  (int const   )(*(__s2___110 +
                                                                                   3)));
                                        } else {
                                          goto _L___2344;
                                        }
                                      } else {
                                        _L___2344: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___2345;
                                    }
                                  } else {
                                    _L___2345: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___2346;
                                }
                              } else {
                                _L___2346: /* CIL Label */ ;
                              }
                              tmp___634 = __result___662;
                            }
                          } else {
                            goto _L___2375;
                          }
                        } else {
                          goto _L___2375;
                        }
                      } else {
                        _L___2375: /* CIL Label */ 
                        if ((unsigned int )((void const   *)("--colors=" + 1)) - (unsigned int )((void const   *)"--colors=") ==
                            1U) {
                          __s2_len___12 = strlen("--colors=");
                          if (__s2_len___12 < 4U) {
                            tmp___650 = __builtin_constant_p(str);
                            if (tmp___650) {
                              if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                                  1U) {
                                __result___669 = (int )((int const   )(*((unsigned char const   *)str +
                                                                         0)) - (int const   )(*((unsigned char const   *)"--colors=" +
                                                                                                0)));
                                if (__s2_len___12 > 0U) {
                                  if (__result___669 == 0) {
                                    __result___669 = (int )((int const   )(*((unsigned char const   *)str +
                                                                             1)) -
                                                            (int const   )(*((unsigned char const   *)"--colors=" +
                                                                             1)));
                                    if (__s2_len___12 > 1U) {
                                      if (__result___669 == 0) {
                                        __result___669 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                 2)) -
                                                                (int const   )(*((unsigned char const   *)"--colors=" +
                                                                                 2)));
                                        if (__s2_len___12 > 2U) {
                                          if (__result___669 == 0) {
                                            __result___669 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                     3)) -
                                                                    (int const   )(*((unsigned char const   *)"--colors=" +
                                                                                     3)));
                                          } else {
                                            goto _L___2366;
                                          }
                                        } else {
                                          _L___2366: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___2367;
                                      }
                                    } else {
                                      _L___2367: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___2368;
                                  }
                                } else {
                                  _L___2368: /* CIL Label */ ;
                                }
                                tmp___634 = __result___669;
                              } else {
                                goto _L___2372;
                              }
                            } else {
                              _L___2372: /* CIL Label */ 
                              __s1___222 = (unsigned char const   *)str;
                              __result___670 = (int )((int const   )(*(__s1___222 +
                                                                       0)) - (int const   )(*((unsigned char const   *)"--colors=" +
                                                                                              0)));
                              if (__s2_len___12 > 0U) {
                                if (__result___670 == 0) {
                                  __result___670 = (int )((int const   )(*(__s1___222 +
                                                                           1)) - (int const   )(*((unsigned char const   *)"--colors=" +
                                                                                                  1)));
                                  if (__s2_len___12 > 1U) {
                                    if (__result___670 == 0) {
                                      __result___670 = (int )((int const   )(*(__s1___222 +
                                                                               2)) -
                                                              (int const   )(*((unsigned char const   *)"--colors=" +
                                                                               2)));
                                      if (__s2_len___12 > 2U) {
                                        if (__result___670 == 0) {
                                          __result___670 = (int )((int const   )(*(__s1___222 +
                                                                                   3)) -
                                                                  (int const   )(*((unsigned char const   *)"--colors=" +
                                                                                   3)));
                                        } else {
                                          goto _L___2369;
                                        }
                                      } else {
                                        _L___2369: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___2370;
                                    }
                                  } else {
                                    _L___2370: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___2371;
                                }
                              } else {
                                _L___2371: /* CIL Label */ ;
                              }
                              tmp___634 = __result___670;
                            }
                          } else {
                            goto _L___2373;
                          }
                        } else {
                          _L___2373: /* CIL Label */ 
                          tmp___634 = strcmp(str, "--colors=");
                        }
                      }
                    }
                    tmp___612 = tmp___634;
                  } else {
                    tmp___612 = strncmp(str, "--colors=", 9U);
                  }
                }
                if (tmp___612) {
                  tmp___564 = __builtin_constant_p(str);
                  if (tmp___564) {
                    tmp___565 = strlen(str);
                    if (tmp___565 < 10U) {
                      goto _L___2043;
                    } else {
                      goto _L___2044;
                    }
                  } else {
                    _L___2044: /* CIL Label */ 
                    tmp___566 = strlen("--colorhl=");
                    if (tmp___566 < 10U) {
                      _L___2043: /* CIL Label */ 
                      tmp___562 = __builtin_constant_p(str);
                      if (tmp___562) {
                        __s1_len___10 = strlen(str);
                        __s2_len___10 = strlen("--colorhl=");
                        if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                               1U)) {
                          goto _L___2040;
                        } else {
                          if (__s1_len___10 >= 4U) {
                            _L___2040: /* CIL Label */ 
                            if (! ((unsigned int )((void const   *)("--colorhl=" +
                                                                    1)) - (unsigned int )((void const   *)"--colorhl=") ==
                                   1U)) {
                              goto _L___2039;
                            } else {
                              if (__s2_len___10 >= 4U) {
                                _L___2039: /* CIL Label */ 
                                tmp___563 = 1;
                              } else {
                                goto _L___2038;
                              }
                            }
                          } else {
                            _L___2038: /* CIL Label */ 
                            tmp___563 = 0;
                          }
                        }
                        if (tmp___563) {
                          if (__s1_len___10 < __s2_len___10) {
                            tmp___545 = __s1_len___10;
                          } else {
                            tmp___545 = __s2_len___10;
                          }
                          tmp___544 = memcmp((void const   *)str, (void const   *)"--colorhl=",
                                             tmp___545 + 1U);
                        } else {
                          goto _L___2042;
                        }
                      } else {
                        _L___2042: /* CIL Label */ 
                        tmp___561 = __builtin_constant_p(str);
                        if (tmp___561) {
                          if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                              1U) {
                            __s1_len___10 = strlen(str);
                            if (__s1_len___10 < 4U) {
                              if ((unsigned int )((void const   *)("--colorhl=" +
                                                                   1)) - (unsigned int )((void const   *)"--colorhl=") ==
                                  1U) {
                                __result___565 = (int )((int const   )(*((unsigned char const   *)str +
                                                                         0)) - (int const   )(*((unsigned char const   *)"--colorhl=" +
                                                                                                0)));
                                if (__s1_len___10 > 0U) {
                                  if (__result___565 == 0) {
                                    __result___565 = (int )((int const   )(*((unsigned char const   *)str +
                                                                             1)) -
                                                            (int const   )(*((unsigned char const   *)"--colorhl=" +
                                                                             1)));
                                    if (__s1_len___10 > 1U) {
                                      if (__result___565 == 0) {
                                        __result___565 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                 2)) -
                                                                (int const   )(*((unsigned char const   *)"--colorhl=" +
                                                                                 2)));
                                        if (__s1_len___10 > 2U) {
                                          if (__result___565 == 0) {
                                            __result___565 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                     3)) -
                                                                    (int const   )(*((unsigned char const   *)"--colorhl=" +
                                                                                     3)));
                                          } else {
                                            goto _L___2003;
                                          }
                                        } else {
                                          _L___2003: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___2004;
                                      }
                                    } else {
                                      _L___2004: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___2005;
                                  }
                                } else {
                                  _L___2005: /* CIL Label */ ;
                                }
                                tmp___544 = __result___565;
                              } else {
                                __s2___94 = (unsigned char const   *)"--colorhl=";
                                __result___566 = (int )((int const   )(*((unsigned char const   *)str +
                                                                         0)) - (int const   )(*(__s2___94 +
                                                                                                0)));
                                if (__s1_len___10 > 0U) {
                                  if (__result___566 == 0) {
                                    __result___566 = (int )((int const   )(*((unsigned char const   *)str +
                                                                             1)) -
                                                            (int const   )(*(__s2___94 +
                                                                             1)));
                                    if (__s1_len___10 > 1U) {
                                      if (__result___566 == 0) {
                                        __result___566 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                 2)) -
                                                                (int const   )(*(__s2___94 +
                                                                                 2)));
                                        if (__s1_len___10 > 2U) {
                                          if (__result___566 == 0) {
                                            __result___566 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                     3)) -
                                                                    (int const   )(*(__s2___94 +
                                                                                     3)));
                                          } else {
                                            goto _L___2006;
                                          }
                                        } else {
                                          _L___2006: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___2007;
                                      }
                                    } else {
                                      _L___2007: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___2008;
                                  }
                                } else {
                                  _L___2008: /* CIL Label */ ;
                                }
                                tmp___544 = __result___566;
                              }
                            } else {
                              goto _L___2037;
                            }
                          } else {
                            goto _L___2037;
                          }
                        } else {
                          _L___2037: /* CIL Label */ 
                          if ((unsigned int )((void const   *)("--colorhl=" + 1)) -
                              (unsigned int )((void const   *)"--colorhl=") == 1U) {
                            __s2_len___10 = strlen("--colorhl=");
                            if (__s2_len___10 < 4U) {
                              tmp___560 = __builtin_constant_p(str);
                              if (tmp___560) {
                                if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                                    1U) {
                                  __result___573 = (int )((int const   )(*((unsigned char const   *)str +
                                                                           0)) - (int const   )(*((unsigned char const   *)"--colorhl=" +
                                                                                                  0)));
                                  if (__s2_len___10 > 0U) {
                                    if (__result___573 == 0) {
                                      __result___573 = (int )((int const   )(*((unsigned char const   *)str +
                                                                               1)) -
                                                              (int const   )(*((unsigned char const   *)"--colorhl=" +
                                                                               1)));
                                      if (__s2_len___10 > 1U) {
                                        if (__result___573 == 0) {
                                          __result___573 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                   2)) -
                                                                  (int const   )(*((unsigned char const   *)"--colorhl=" +
                                                                                   2)));
                                          if (__s2_len___10 > 2U) {
                                            if (__result___573 == 0) {
                                              __result___573 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                       3)) -
                                                                      (int const   )(*((unsigned char const   *)"--colorhl=" +
                                                                                       3)));
                                            } else {
                                              goto _L___2028;
                                            }
                                          } else {
                                            _L___2028: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___2029;
                                        }
                                      } else {
                                        _L___2029: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___2030;
                                    }
                                  } else {
                                    _L___2030: /* CIL Label */ ;
                                  }
                                  tmp___544 = __result___573;
                                } else {
                                  goto _L___2034;
                                }
                              } else {
                                _L___2034: /* CIL Label */ 
                                __s1___190 = (unsigned char const   *)str;
                                __result___574 = (int )((int const   )(*(__s1___190 +
                                                                         0)) - (int const   )(*((unsigned char const   *)"--colorhl=" +
                                                                                                0)));
                                if (__s2_len___10 > 0U) {
                                  if (__result___574 == 0) {
                                    __result___574 = (int )((int const   )(*(__s1___190 +
                                                                             1)) -
                                                            (int const   )(*((unsigned char const   *)"--colorhl=" +
                                                                             1)));
                                    if (__s2_len___10 > 1U) {
                                      if (__result___574 == 0) {
                                        __result___574 = (int )((int const   )(*(__s1___190 +
                                                                                 2)) -
                                                                (int const   )(*((unsigned char const   *)"--colorhl=" +
                                                                                 2)));
                                        if (__s2_len___10 > 2U) {
                                          if (__result___574 == 0) {
                                            __result___574 = (int )((int const   )(*(__s1___190 +
                                                                                     3)) -
                                                                    (int const   )(*((unsigned char const   *)"--colorhl=" +
                                                                                     3)));
                                          } else {
                                            goto _L___2031;
                                          }
                                        } else {
                                          _L___2031: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___2032;
                                      }
                                    } else {
                                      _L___2032: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___2033;
                                  }
                                } else {
                                  _L___2033: /* CIL Label */ ;
                                }
                                tmp___544 = __result___574;
                              }
                            } else {
                              goto _L___2035;
                            }
                          } else {
                            _L___2035: /* CIL Label */ 
                            tmp___544 = strcmp(str, "--colorhl=");
                          }
                        }
                      }
                      tmp___522 = tmp___544;
                    } else {
                      tmp___522 = strncmp(str, "--colorhl=", 10U);
                    }
                  }
                  if (tmp___522) {
                    tmp___474 = __builtin_constant_p(str);
                    if (tmp___474) {
                      tmp___475 = strlen(str);
                      if (tmp___475 < 8U) {
                        goto _L___1705;
                      } else {
                        goto _L___1706;
                      }
                    } else {
                      _L___1706: /* CIL Label */ 
                      tmp___476 = strlen("--rtcfg=");
                      if (tmp___476 < 8U) {
                        _L___1705: /* CIL Label */ 
                        tmp___472 = __builtin_constant_p(str);
                        if (tmp___472) {
                          __s1_len___8 = strlen(str);
                          __s2_len___8 = strlen("--rtcfg=");
                          if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                                 1U)) {
                            goto _L___1702;
                          } else {
                            if (__s1_len___8 >= 4U) {
                              _L___1702: /* CIL Label */ 
                              if (! ((unsigned int )((void const   *)("--rtcfg=" +
                                                                      1)) - (unsigned int )((void const   *)"--rtcfg=") ==
                                     1U)) {
                                goto _L___1701;
                              } else {
                                if (__s2_len___8 >= 4U) {
                                  _L___1701: /* CIL Label */ 
                                  tmp___473 = 1;
                                } else {
                                  goto _L___1700;
                                }
                              }
                            } else {
                              _L___1700: /* CIL Label */ 
                              tmp___473 = 0;
                            }
                          }
                          if (tmp___473) {
                            if (__s1_len___8 < __s2_len___8) {
                              tmp___455 = __s1_len___8;
                            } else {
                              tmp___455 = __s2_len___8;
                            }
                            tmp___454 = memcmp((void const   *)str, (void const   *)"--rtcfg=",
                                               tmp___455 + 1U);
                          } else {
                            goto _L___1704;
                          }
                        } else {
                          _L___1704: /* CIL Label */ 
                          tmp___471 = __builtin_constant_p(str);
                          if (tmp___471) {
                            if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                                1U) {
                              __s1_len___8 = strlen(str);
                              if (__s1_len___8 < 4U) {
                                if ((unsigned int )((void const   *)("--rtcfg=" +
                                                                     1)) - (unsigned int )((void const   *)"--rtcfg=") ==
                                    1U) {
                                  __result___469 = (int )((int const   )(*((unsigned char const   *)str +
                                                                           0)) - (int const   )(*((unsigned char const   *)"--rtcfg=" +
                                                                                                  0)));
                                  if (__s1_len___8 > 0U) {
                                    if (__result___469 == 0) {
                                      __result___469 = (int )((int const   )(*((unsigned char const   *)str +
                                                                               1)) -
                                                              (int const   )(*((unsigned char const   *)"--rtcfg=" +
                                                                               1)));
                                      if (__s1_len___8 > 1U) {
                                        if (__result___469 == 0) {
                                          __result___469 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                   2)) -
                                                                  (int const   )(*((unsigned char const   *)"--rtcfg=" +
                                                                                   2)));
                                          if (__s1_len___8 > 2U) {
                                            if (__result___469 == 0) {
                                              __result___469 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                       3)) -
                                                                      (int const   )(*((unsigned char const   *)"--rtcfg=" +
                                                                                       3)));
                                            } else {
                                              goto _L___1665;
                                            }
                                          } else {
                                            _L___1665: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___1666;
                                        }
                                      } else {
                                        _L___1666: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___1667;
                                    }
                                  } else {
                                    _L___1667: /* CIL Label */ ;
                                  }
                                  tmp___454 = __result___469;
                                } else {
                                  __s2___78 = (unsigned char const   *)"--rtcfg=";
                                  __result___470 = (int )((int const   )(*((unsigned char const   *)str +
                                                                           0)) - (int const   )(*(__s2___78 +
                                                                                                  0)));
                                  if (__s1_len___8 > 0U) {
                                    if (__result___470 == 0) {
                                      __result___470 = (int )((int const   )(*((unsigned char const   *)str +
                                                                               1)) -
                                                              (int const   )(*(__s2___78 +
                                                                               1)));
                                      if (__s1_len___8 > 1U) {
                                        if (__result___470 == 0) {
                                          __result___470 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                   2)) -
                                                                  (int const   )(*(__s2___78 +
                                                                                   2)));
                                          if (__s1_len___8 > 2U) {
                                            if (__result___470 == 0) {
                                              __result___470 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                       3)) -
                                                                      (int const   )(*(__s2___78 +
                                                                                       3)));
                                            } else {
                                              goto _L___1668;
                                            }
                                          } else {
                                            _L___1668: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___1669;
                                        }
                                      } else {
                                        _L___1669: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___1670;
                                    }
                                  } else {
                                    _L___1670: /* CIL Label */ ;
                                  }
                                  tmp___454 = __result___470;
                                }
                              } else {
                                goto _L___1699;
                              }
                            } else {
                              goto _L___1699;
                            }
                          } else {
                            _L___1699: /* CIL Label */ 
                            if ((unsigned int )((void const   *)("--rtcfg=" + 1)) -
                                (unsigned int )((void const   *)"--rtcfg=") == 1U) {
                              __s2_len___8 = strlen("--rtcfg=");
                              if (__s2_len___8 < 4U) {
                                tmp___470 = __builtin_constant_p(str);
                                if (tmp___470) {
                                  if ((unsigned int )((void const   *)(str + 1)) -
                                      (unsigned int )((void const   *)str) == 1U) {
                                    __result___477 = (int )((int const   )(*((unsigned char const   *)str +
                                                                             0)) -
                                                            (int const   )(*((unsigned char const   *)"--rtcfg=" +
                                                                             0)));
                                    if (__s2_len___8 > 0U) {
                                      if (__result___477 == 0) {
                                        __result___477 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                 1)) -
                                                                (int const   )(*((unsigned char const   *)"--rtcfg=" +
                                                                                 1)));
                                        if (__s2_len___8 > 1U) {
                                          if (__result___477 == 0) {
                                            __result___477 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                     2)) -
                                                                    (int const   )(*((unsigned char const   *)"--rtcfg=" +
                                                                                     2)));
                                            if (__s2_len___8 > 2U) {
                                              if (__result___477 == 0) {
                                                __result___477 = (int )((int const   )(*((unsigned char const   *)str +
                                                                                         3)) -
                                                                        (int const   )(*((unsigned char const   *)"--rtcfg=" +
                                                                                         3)));
                                              } else {
                                                goto _L___1690;
                                              }
                                            } else {
                                              _L___1690: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___1691;
                                          }
                                        } else {
                                          _L___1691: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___1692;
                                      }
                                    } else {
                                      _L___1692: /* CIL Label */ ;
                                    }
                                    tmp___454 = __result___477;
                                  } else {
                                    goto _L___1696;
                                  }
                                } else {
                                  _L___1696: /* CIL Label */ 
                                  __s1___158 = (unsigned char const   *)str;
                                  __result___478 = (int )((int const   )(*(__s1___158 +
                                                                           0)) - (int const   )(*((unsigned char const   *)"--rtcfg=" +
                                                                                                  0)));
                                  if (__s2_len___8 > 0U) {
                                    if (__result___478 == 0) {
                                      __result___478 = (int )((int const   )(*(__s1___158 +
                                                                               1)) -
                                                              (int const   )(*((unsigned char const   *)"--rtcfg=" +
                                                                               1)));
                                      if (__s2_len___8 > 1U) {
                                        if (__result___478 == 0) {
                                          __result___478 = (int )((int const   )(*(__s1___158 +
                                                                                   2)) -
                                                                  (int const   )(*((unsigned char const   *)"--rtcfg=" +
                                                                                   2)));
                                          if (__s2_len___8 > 2U) {
                                            if (__result___478 == 0) {
                                              __result___478 = (int )((int const   )(*(__s1___158 +
                                                                                       3)) -
                                                                      (int const   )(*((unsigned char const   *)"--rtcfg=" +
                                                                                       3)));
                                            } else {
                                              goto _L___1693;
                                            }
                                          } else {
                                            _L___1693: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___1694;
                                        }
                                      } else {
                                        _L___1694: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___1695;
                                    }
                                  } else {
                                    _L___1695: /* CIL Label */ ;
                                  }
                                  tmp___454 = __result___478;
                                }
                              } else {
                                goto _L___1697;
                              }
                            } else {
                              _L___1697: /* CIL Label */ 
                              tmp___454 = strcmp(str, "--rtcfg=");
                            }
                          }
                        }
                        tmp___432 = tmp___454;
                      } else {
                        tmp___432 = strncmp(str, "--rtcfg=", 8U);
                      }
                    }
                    if (tmp___432) {
                      uclo: 
                      my_spf(strbuf, 4096U, & spfbuf, "unknown command-line option: \"%s\"%s",
                             str, "; try \"retawq --help\"");
                      fatal_error(0, (char const   *)spfbuf);
                    } else {
                      temp___5 = str + 8;
                      config.flags &= 4294836223U;
                      while (1) {
                        tmp___386 = temp___5;
                        temp___5 ++;
                        ch___1 = (char )(*tmp___386);
                        if (! ((int )ch___1 != 0)) {
                          break;
                        }
                        if ((int )ch___1 == 101) {
                          config.flags |= 131072U;
                        }
                      }
                    }
                  } else {
                    temp___4 = str + 10;
                    tmp___121 = strlen(temp___4);
                    if (tmp___121 > 2048U) {
                      goto hl_out;
                    }
                    strcpy((char * __restrict  )(strbuf), (char const   * __restrict  )temp___4);
                    hl = strbuf;
                    is_last = (unsigned char)0;
                    hl_loop: 
                    ch___0 = (*hl);
                    if ((int )ch___0 == 0) {
                      goto hl_out;
                    }
                    if ((int )ch___0 == 33) {
                      hl ++;
                      negate = (unsigned char)1;
                    } else {
                      negate = (unsigned char)0;
                    }
                    pos = hl;
                    while (1) {
                      ch___0 = (*pos);
                      if ((int )ch___0 == 0) {
                        is_last = (unsigned char)1;
                        break;
                      } else {
                        if ((int )ch___0 == 44) {
                          (*pos) = (char )'\000';
                          break;
                        }
                      }
                      pos ++;
                    }
                    tmp___384 = __builtin_constant_p(hl);
                    if (tmp___384) {
                      __s1_len___6 = strlen((char const   *)hl);
                      __s2_len___6 = strlen("red");
                      if (! ((unsigned int )((void const   *)(hl + 1)) - (unsigned int )((void const   *)hl) ==
                             1U)) {
                        goto _L___1366;
                      } else {
                        if (__s1_len___6 >= 4U) {
                          _L___1366: /* CIL Label */ 
                          if (! ((unsigned int )((void const   *)("red" + 1)) - (unsigned int )((void const   *)"red") ==
                                 1U)) {
                            goto _L___1365;
                          } else {
                            if (__s2_len___6 >= 4U) {
                              _L___1365: /* CIL Label */ 
                              tmp___385 = 1;
                            } else {
                              goto _L___1364;
                            }
                          }
                        } else {
                          _L___1364: /* CIL Label */ 
                          tmp___385 = 0;
                        }
                      }
                      if (tmp___385) {
                        if (__s1_len___6 < __s2_len___6) {
                          tmp___367 = __s1_len___6;
                        } else {
                          tmp___367 = __s2_len___6;
                        }
                        tmp___366 = memcmp((void const   *)((char const   *)hl), (void const   *)"red",
                                           tmp___367 + 1U);
                      } else {
                        goto _L___1368;
                      }
                    } else {
                      _L___1368: /* CIL Label */ 
                      tmp___383 = __builtin_constant_p(hl);
                      if (tmp___383) {
                        if ((unsigned int )((void const   *)(hl + 1)) - (unsigned int )((void const   *)hl) ==
                            1U) {
                          __s1_len___6 = strlen((char const   *)hl);
                          if (__s1_len___6 < 4U) {
                            if ((unsigned int )((void const   *)("red" + 1)) - (unsigned int )((void const   *)"red") ==
                                1U) {
                              __result___373 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                       0)) - (int const   )(*((unsigned char const   *)"red" +
                                                                                              0)));
                              if (__s1_len___6 > 0U) {
                                if (__result___373 == 0) {
                                  __result___373 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                           1)) - (int const   )(*((unsigned char const   *)"red" +
                                                                                                  1)));
                                  if (__s1_len___6 > 1U) {
                                    if (__result___373 == 0) {
                                      __result___373 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                               2)) -
                                                              (int const   )(*((unsigned char const   *)"red" +
                                                                               2)));
                                      if (__s1_len___6 > 2U) {
                                        if (__result___373 == 0) {
                                          __result___373 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                   3)) -
                                                                  (int const   )(*((unsigned char const   *)"red" +
                                                                                   3)));
                                        } else {
                                          goto _L___1329;
                                        }
                                      } else {
                                        _L___1329: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___1330;
                                    }
                                  } else {
                                    _L___1330: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___1331;
                                }
                              } else {
                                _L___1331: /* CIL Label */ ;
                              }
                              tmp___366 = __result___373;
                            } else {
                              __s2___62 = (unsigned char const   *)"red";
                              __result___374 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                       0)) - (int const   )(*(__s2___62 +
                                                                                              0)));
                              if (__s1_len___6 > 0U) {
                                if (__result___374 == 0) {
                                  __result___374 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                           1)) - (int const   )(*(__s2___62 +
                                                                                                  1)));
                                  if (__s1_len___6 > 1U) {
                                    if (__result___374 == 0) {
                                      __result___374 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                               2)) -
                                                              (int const   )(*(__s2___62 +
                                                                               2)));
                                      if (__s1_len___6 > 2U) {
                                        if (__result___374 == 0) {
                                          __result___374 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                   3)) -
                                                                  (int const   )(*(__s2___62 +
                                                                                   3)));
                                        } else {
                                          goto _L___1332;
                                        }
                                      } else {
                                        _L___1332: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___1333;
                                    }
                                  } else {
                                    _L___1333: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___1334;
                                }
                              } else {
                                _L___1334: /* CIL Label */ ;
                              }
                              tmp___366 = __result___374;
                            }
                          } else {
                            goto _L___1363;
                          }
                        } else {
                          goto _L___1363;
                        }
                      } else {
                        _L___1363: /* CIL Label */ 
                        if ((unsigned int )((void const   *)("red" + 1)) - (unsigned int )((void const   *)"red") ==
                            1U) {
                          __s2_len___6 = strlen("red");
                          if (__s2_len___6 < 4U) {
                            tmp___382 = __builtin_constant_p(hl);
                            if (tmp___382) {
                              if ((unsigned int )((void const   *)(hl + 1)) - (unsigned int )((void const   *)hl) ==
                                  1U) {
                                __result___381 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                         0)) - (int const   )(*((unsigned char const   *)"red" +
                                                                                                0)));
                                if (__s2_len___6 > 0U) {
                                  if (__result___381 == 0) {
                                    __result___381 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                             1)) -
                                                            (int const   )(*((unsigned char const   *)"red" +
                                                                             1)));
                                    if (__s2_len___6 > 1U) {
                                      if (__result___381 == 0) {
                                        __result___381 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                 2)) -
                                                                (int const   )(*((unsigned char const   *)"red" +
                                                                                 2)));
                                        if (__s2_len___6 > 2U) {
                                          if (__result___381 == 0) {
                                            __result___381 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                     3)) -
                                                                    (int const   )(*((unsigned char const   *)"red" +
                                                                                     3)));
                                          } else {
                                            goto _L___1354;
                                          }
                                        } else {
                                          _L___1354: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___1355;
                                      }
                                    } else {
                                      _L___1355: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___1356;
                                  }
                                } else {
                                  _L___1356: /* CIL Label */ ;
                                }
                                tmp___366 = __result___381;
                              } else {
                                goto _L___1360;
                              }
                            } else {
                              _L___1360: /* CIL Label */ 
                              __s1___126 = (unsigned char const   *)((char const   *)hl);
                              __result___382 = (int )((int const   )(*(__s1___126 +
                                                                       0)) - (int const   )(*((unsigned char const   *)"red" +
                                                                                              0)));
                              if (__s2_len___6 > 0U) {
                                if (__result___382 == 0) {
                                  __result___382 = (int )((int const   )(*(__s1___126 +
                                                                           1)) - (int const   )(*((unsigned char const   *)"red" +
                                                                                                  1)));
                                  if (__s2_len___6 > 1U) {
                                    if (__result___382 == 0) {
                                      __result___382 = (int )((int const   )(*(__s1___126 +
                                                                               2)) -
                                                              (int const   )(*((unsigned char const   *)"red" +
                                                                               2)));
                                      if (__s2_len___6 > 2U) {
                                        if (__result___382 == 0) {
                                          __result___382 = (int )((int const   )(*(__s1___126 +
                                                                                   3)) -
                                                                  (int const   )(*((unsigned char const   *)"red" +
                                                                                   3)));
                                        } else {
                                          goto _L___1357;
                                        }
                                      } else {
                                        _L___1357: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___1358;
                                    }
                                  } else {
                                    _L___1358: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___1359;
                                }
                              } else {
                                _L___1359: /* CIL Label */ ;
                              }
                              tmp___366 = __result___382;
                            }
                          } else {
                            goto _L___1361;
                          }
                        } else {
                          _L___1361: /* CIL Label */ 
                          tmp___366 = strcmp((char const   *)hl, "red");
                        }
                      }
                    }
                    if (tmp___366) {
                      tmp___343 = __builtin_constant_p(hl);
                      if (tmp___343) {
                        __s1_len___5 = strlen((char const   *)hl);
                        __s2_len___5 = strlen("green");
                        if (! ((unsigned int )((void const   *)(hl + 1)) - (unsigned int )((void const   *)hl) ==
                               1U)) {
                          goto _L___1198;
                        } else {
                          if (__s1_len___5 >= 4U) {
                            _L___1198: /* CIL Label */ 
                            if (! ((unsigned int )((void const   *)("green" + 1)) -
                                   (unsigned int )((void const   *)"green") == 1U)) {
                              goto _L___1197;
                            } else {
                              if (__s2_len___5 >= 4U) {
                                _L___1197: /* CIL Label */ 
                                tmp___344 = 1;
                              } else {
                                goto _L___1196;
                              }
                            }
                          } else {
                            _L___1196: /* CIL Label */ 
                            tmp___344 = 0;
                          }
                        }
                        if (tmp___344) {
                          if (__s1_len___5 < __s2_len___5) {
                            tmp___326 = __s1_len___5;
                          } else {
                            tmp___326 = __s2_len___5;
                          }
                          tmp___325 = memcmp((void const   *)((char const   *)hl),
                                             (void const   *)"green", tmp___326 +
                                                                      1U);
                        } else {
                          goto _L___1200;
                        }
                      } else {
                        _L___1200: /* CIL Label */ 
                        tmp___342 = __builtin_constant_p(hl);
                        if (tmp___342) {
                          if ((unsigned int )((void const   *)(hl + 1)) - (unsigned int )((void const   *)hl) ==
                              1U) {
                            __s1_len___5 = strlen((char const   *)hl);
                            if (__s1_len___5 < 4U) {
                              if ((unsigned int )((void const   *)("green" + 1)) -
                                  (unsigned int )((void const   *)"green") == 1U) {
                                __result___325 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                         0)) - (int const   )(*((unsigned char const   *)"green" +
                                                                                                0)));
                                if (__s1_len___5 > 0U) {
                                  if (__result___325 == 0) {
                                    __result___325 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                             1)) -
                                                            (int const   )(*((unsigned char const   *)"green" +
                                                                             1)));
                                    if (__s1_len___5 > 1U) {
                                      if (__result___325 == 0) {
                                        __result___325 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                 2)) -
                                                                (int const   )(*((unsigned char const   *)"green" +
                                                                                 2)));
                                        if (__s1_len___5 > 2U) {
                                          if (__result___325 == 0) {
                                            __result___325 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                     3)) -
                                                                    (int const   )(*((unsigned char const   *)"green" +
                                                                                     3)));
                                          } else {
                                            goto _L___1161;
                                          }
                                        } else {
                                          _L___1161: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___1162;
                                      }
                                    } else {
                                      _L___1162: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___1163;
                                  }
                                } else {
                                  _L___1163: /* CIL Label */ ;
                                }
                                tmp___325 = __result___325;
                              } else {
                                __s2___54 = (unsigned char const   *)"green";
                                __result___326 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                         0)) - (int const   )(*(__s2___54 +
                                                                                                0)));
                                if (__s1_len___5 > 0U) {
                                  if (__result___326 == 0) {
                                    __result___326 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                             1)) -
                                                            (int const   )(*(__s2___54 +
                                                                             1)));
                                    if (__s1_len___5 > 1U) {
                                      if (__result___326 == 0) {
                                        __result___326 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                 2)) -
                                                                (int const   )(*(__s2___54 +
                                                                                 2)));
                                        if (__s1_len___5 > 2U) {
                                          if (__result___326 == 0) {
                                            __result___326 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                     3)) -
                                                                    (int const   )(*(__s2___54 +
                                                                                     3)));
                                          } else {
                                            goto _L___1164;
                                          }
                                        } else {
                                          _L___1164: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___1165;
                                      }
                                    } else {
                                      _L___1165: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___1166;
                                  }
                                } else {
                                  _L___1166: /* CIL Label */ ;
                                }
                                tmp___325 = __result___326;
                              }
                            } else {
                              goto _L___1195;
                            }
                          } else {
                            goto _L___1195;
                          }
                        } else {
                          _L___1195: /* CIL Label */ 
                          if ((unsigned int )((void const   *)("green" + 1)) - (unsigned int )((void const   *)"green") ==
                              1U) {
                            __s2_len___5 = strlen("green");
                            if (__s2_len___5 < 4U) {
                              tmp___341 = __builtin_constant_p(hl);
                              if (tmp___341) {
                                if ((unsigned int )((void const   *)(hl + 1)) - (unsigned int )((void const   *)hl) ==
                                    1U) {
                                  __result___333 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                           0)) - (int const   )(*((unsigned char const   *)"green" +
                                                                                                  0)));
                                  if (__s2_len___5 > 0U) {
                                    if (__result___333 == 0) {
                                      __result___333 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                               1)) -
                                                              (int const   )(*((unsigned char const   *)"green" +
                                                                               1)));
                                      if (__s2_len___5 > 1U) {
                                        if (__result___333 == 0) {
                                          __result___333 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                   2)) -
                                                                  (int const   )(*((unsigned char const   *)"green" +
                                                                                   2)));
                                          if (__s2_len___5 > 2U) {
                                            if (__result___333 == 0) {
                                              __result___333 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                       3)) -
                                                                      (int const   )(*((unsigned char const   *)"green" +
                                                                                       3)));
                                            } else {
                                              goto _L___1186;
                                            }
                                          } else {
                                            _L___1186: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___1187;
                                        }
                                      } else {
                                        _L___1187: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___1188;
                                    }
                                  } else {
                                    _L___1188: /* CIL Label */ ;
                                  }
                                  tmp___325 = __result___333;
                                } else {
                                  goto _L___1192;
                                }
                              } else {
                                _L___1192: /* CIL Label */ 
                                __s1___110 = (unsigned char const   *)((char const   *)hl);
                                __result___334 = (int )((int const   )(*(__s1___110 +
                                                                         0)) - (int const   )(*((unsigned char const   *)"green" +
                                                                                                0)));
                                if (__s2_len___5 > 0U) {
                                  if (__result___334 == 0) {
                                    __result___334 = (int )((int const   )(*(__s1___110 +
                                                                             1)) -
                                                            (int const   )(*((unsigned char const   *)"green" +
                                                                             1)));
                                    if (__s2_len___5 > 1U) {
                                      if (__result___334 == 0) {
                                        __result___334 = (int )((int const   )(*(__s1___110 +
                                                                                 2)) -
                                                                (int const   )(*((unsigned char const   *)"green" +
                                                                                 2)));
                                        if (__s2_len___5 > 2U) {
                                          if (__result___334 == 0) {
                                            __result___334 = (int )((int const   )(*(__s1___110 +
                                                                                     3)) -
                                                                    (int const   )(*((unsigned char const   *)"green" +
                                                                                     3)));
                                          } else {
                                            goto _L___1189;
                                          }
                                        } else {
                                          _L___1189: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___1190;
                                      }
                                    } else {
                                      _L___1190: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___1191;
                                  }
                                } else {
                                  _L___1191: /* CIL Label */ ;
                                }
                                tmp___325 = __result___334;
                              }
                            } else {
                              goto _L___1193;
                            }
                          } else {
                            _L___1193: /* CIL Label */ 
                            tmp___325 = strcmp((char const   *)hl, "green");
                          }
                        }
                      }
                      if (tmp___325) {
                        tmp___302 = __builtin_constant_p(hl);
                        if (tmp___302) {
                          __s1_len___4 = strlen((char const   *)hl);
                          __s2_len___4 = strlen("yellow");
                          if (! ((unsigned int )((void const   *)(hl + 1)) - (unsigned int )((void const   *)hl) ==
                                 1U)) {
                            goto _L___1030;
                          } else {
                            if (__s1_len___4 >= 4U) {
                              _L___1030: /* CIL Label */ 
                              if (! ((unsigned int )((void const   *)("yellow" + 1)) -
                                     (unsigned int )((void const   *)"yellow") ==
                                     1U)) {
                                goto _L___1029;
                              } else {
                                if (__s2_len___4 >= 4U) {
                                  _L___1029: /* CIL Label */ 
                                  tmp___303 = 1;
                                } else {
                                  goto _L___1028;
                                }
                              }
                            } else {
                              _L___1028: /* CIL Label */ 
                              tmp___303 = 0;
                            }
                          }
                          if (tmp___303) {
                            if (__s1_len___4 < __s2_len___4) {
                              tmp___285 = __s1_len___4;
                            } else {
                              tmp___285 = __s2_len___4;
                            }
                            tmp___284 = memcmp((void const   *)((char const   *)hl),
                                               (void const   *)"yellow", tmp___285 +
                                                                         1U);
                          } else {
                            goto _L___1032;
                          }
                        } else {
                          _L___1032: /* CIL Label */ 
                          tmp___301 = __builtin_constant_p(hl);
                          if (tmp___301) {
                            if ((unsigned int )((void const   *)(hl + 1)) - (unsigned int )((void const   *)hl) ==
                                1U) {
                              __s1_len___4 = strlen((char const   *)hl);
                              if (__s1_len___4 < 4U) {
                                if ((unsigned int )((void const   *)("yellow" + 1)) -
                                    (unsigned int )((void const   *)"yellow") == 1U) {
                                  __result___277 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                           0)) - (int const   )(*((unsigned char const   *)"yellow" +
                                                                                                  0)));
                                  if (__s1_len___4 > 0U) {
                                    if (__result___277 == 0) {
                                      __result___277 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                               1)) -
                                                              (int const   )(*((unsigned char const   *)"yellow" +
                                                                               1)));
                                      if (__s1_len___4 > 1U) {
                                        if (__result___277 == 0) {
                                          __result___277 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                   2)) -
                                                                  (int const   )(*((unsigned char const   *)"yellow" +
                                                                                   2)));
                                          if (__s1_len___4 > 2U) {
                                            if (__result___277 == 0) {
                                              __result___277 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                       3)) -
                                                                      (int const   )(*((unsigned char const   *)"yellow" +
                                                                                       3)));
                                            } else {
                                              goto _L___993;
                                            }
                                          } else {
                                            _L___993: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___994;
                                        }
                                      } else {
                                        _L___994: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___995;
                                    }
                                  } else {
                                    _L___995: /* CIL Label */ ;
                                  }
                                  tmp___284 = __result___277;
                                } else {
                                  __s2___46 = (unsigned char const   *)"yellow";
                                  __result___278 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                           0)) - (int const   )(*(__s2___46 +
                                                                                                  0)));
                                  if (__s1_len___4 > 0U) {
                                    if (__result___278 == 0) {
                                      __result___278 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                               1)) -
                                                              (int const   )(*(__s2___46 +
                                                                               1)));
                                      if (__s1_len___4 > 1U) {
                                        if (__result___278 == 0) {
                                          __result___278 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                   2)) -
                                                                  (int const   )(*(__s2___46 +
                                                                                   2)));
                                          if (__s1_len___4 > 2U) {
                                            if (__result___278 == 0) {
                                              __result___278 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                       3)) -
                                                                      (int const   )(*(__s2___46 +
                                                                                       3)));
                                            } else {
                                              goto _L___996;
                                            }
                                          } else {
                                            _L___996: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___997;
                                        }
                                      } else {
                                        _L___997: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___998;
                                    }
                                  } else {
                                    _L___998: /* CIL Label */ ;
                                  }
                                  tmp___284 = __result___278;
                                }
                              } else {
                                goto _L___1027;
                              }
                            } else {
                              goto _L___1027;
                            }
                          } else {
                            _L___1027: /* CIL Label */ 
                            if ((unsigned int )((void const   *)("yellow" + 1)) -
                                (unsigned int )((void const   *)"yellow") == 1U) {
                              __s2_len___4 = strlen("yellow");
                              if (__s2_len___4 < 4U) {
                                tmp___300 = __builtin_constant_p(hl);
                                if (tmp___300) {
                                  if ((unsigned int )((void const   *)(hl + 1)) -
                                      (unsigned int )((void const   *)hl) == 1U) {
                                    __result___285 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                             0)) -
                                                            (int const   )(*((unsigned char const   *)"yellow" +
                                                                             0)));
                                    if (__s2_len___4 > 0U) {
                                      if (__result___285 == 0) {
                                        __result___285 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                 1)) -
                                                                (int const   )(*((unsigned char const   *)"yellow" +
                                                                                 1)));
                                        if (__s2_len___4 > 1U) {
                                          if (__result___285 == 0) {
                                            __result___285 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                     2)) -
                                                                    (int const   )(*((unsigned char const   *)"yellow" +
                                                                                     2)));
                                            if (__s2_len___4 > 2U) {
                                              if (__result___285 == 0) {
                                                __result___285 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                         3)) -
                                                                        (int const   )(*((unsigned char const   *)"yellow" +
                                                                                         3)));
                                              } else {
                                                goto _L___1018;
                                              }
                                            } else {
                                              _L___1018: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___1019;
                                          }
                                        } else {
                                          _L___1019: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___1020;
                                      }
                                    } else {
                                      _L___1020: /* CIL Label */ ;
                                    }
                                    tmp___284 = __result___285;
                                  } else {
                                    goto _L___1024;
                                  }
                                } else {
                                  _L___1024: /* CIL Label */ 
                                  __s1___94 = (unsigned char const   *)((char const   *)hl);
                                  __result___286 = (int )((int const   )(*(__s1___94 +
                                                                           0)) - (int const   )(*((unsigned char const   *)"yellow" +
                                                                                                  0)));
                                  if (__s2_len___4 > 0U) {
                                    if (__result___286 == 0) {
                                      __result___286 = (int )((int const   )(*(__s1___94 +
                                                                               1)) -
                                                              (int const   )(*((unsigned char const   *)"yellow" +
                                                                               1)));
                                      if (__s2_len___4 > 1U) {
                                        if (__result___286 == 0) {
                                          __result___286 = (int )((int const   )(*(__s1___94 +
                                                                                   2)) -
                                                                  (int const   )(*((unsigned char const   *)"yellow" +
                                                                                   2)));
                                          if (__s2_len___4 > 2U) {
                                            if (__result___286 == 0) {
                                              __result___286 = (int )((int const   )(*(__s1___94 +
                                                                                       3)) -
                                                                      (int const   )(*((unsigned char const   *)"yellow" +
                                                                                       3)));
                                            } else {
                                              goto _L___1021;
                                            }
                                          } else {
                                            _L___1021: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___1022;
                                        }
                                      } else {
                                        _L___1022: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___1023;
                                    }
                                  } else {
                                    _L___1023: /* CIL Label */ ;
                                  }
                                  tmp___284 = __result___286;
                                }
                              } else {
                                goto _L___1025;
                              }
                            } else {
                              _L___1025: /* CIL Label */ 
                              tmp___284 = strcmp((char const   *)hl, "yellow");
                            }
                          }
                        }
                        if (tmp___284) {
                          tmp___261 = __builtin_constant_p(hl);
                          if (tmp___261) {
                            __s1_len___3 = strlen((char const   *)hl);
                            __s2_len___3 = strlen("blue");
                            if (! ((unsigned int )((void const   *)(hl + 1)) - (unsigned int )((void const   *)hl) ==
                                   1U)) {
                              goto _L___862;
                            } else {
                              if (__s1_len___3 >= 4U) {
                                _L___862: /* CIL Label */ 
                                if (! ((unsigned int )((void const   *)("blue" + 1)) -
                                       (unsigned int )((void const   *)"blue") ==
                                       1U)) {
                                  goto _L___861;
                                } else {
                                  if (__s2_len___3 >= 4U) {
                                    _L___861: /* CIL Label */ 
                                    tmp___262 = 1;
                                  } else {
                                    goto _L___860;
                                  }
                                }
                              } else {
                                _L___860: /* CIL Label */ 
                                tmp___262 = 0;
                              }
                            }
                            if (tmp___262) {
                              if (__s1_len___3 < __s2_len___3) {
                                tmp___244 = __s1_len___3;
                              } else {
                                tmp___244 = __s2_len___3;
                              }
                              tmp___243 = memcmp((void const   *)((char const   *)hl),
                                                 (void const   *)"blue", tmp___244 +
                                                                         1U);
                            } else {
                              goto _L___864;
                            }
                          } else {
                            _L___864: /* CIL Label */ 
                            tmp___260 = __builtin_constant_p(hl);
                            if (tmp___260) {
                              if ((unsigned int )((void const   *)(hl + 1)) - (unsigned int )((void const   *)hl) ==
                                  1U) {
                                __s1_len___3 = strlen((char const   *)hl);
                                if (__s1_len___3 < 4U) {
                                  if ((unsigned int )((void const   *)("blue" + 1)) -
                                      (unsigned int )((void const   *)"blue") == 1U) {
                                    __result___229 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                             0)) -
                                                            (int const   )(*((unsigned char const   *)"blue" +
                                                                             0)));
                                    if (__s1_len___3 > 0U) {
                                      if (__result___229 == 0) {
                                        __result___229 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                 1)) -
                                                                (int const   )(*((unsigned char const   *)"blue" +
                                                                                 1)));
                                        if (__s1_len___3 > 1U) {
                                          if (__result___229 == 0) {
                                            __result___229 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                     2)) -
                                                                    (int const   )(*((unsigned char const   *)"blue" +
                                                                                     2)));
                                            if (__s1_len___3 > 2U) {
                                              if (__result___229 == 0) {
                                                __result___229 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                         3)) -
                                                                        (int const   )(*((unsigned char const   *)"blue" +
                                                                                         3)));
                                              } else {
                                                goto _L___825;
                                              }
                                            } else {
                                              _L___825: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___826;
                                          }
                                        } else {
                                          _L___826: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___827;
                                      }
                                    } else {
                                      _L___827: /* CIL Label */ ;
                                    }
                                    tmp___243 = __result___229;
                                  } else {
                                    __s2___38 = (unsigned char const   *)"blue";
                                    __result___230 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                             0)) -
                                                            (int const   )(*(__s2___38 +
                                                                             0)));
                                    if (__s1_len___3 > 0U) {
                                      if (__result___230 == 0) {
                                        __result___230 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                 1)) -
                                                                (int const   )(*(__s2___38 +
                                                                                 1)));
                                        if (__s1_len___3 > 1U) {
                                          if (__result___230 == 0) {
                                            __result___230 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                     2)) -
                                                                    (int const   )(*(__s2___38 +
                                                                                     2)));
                                            if (__s1_len___3 > 2U) {
                                              if (__result___230 == 0) {
                                                __result___230 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                         3)) -
                                                                        (int const   )(*(__s2___38 +
                                                                                         3)));
                                              } else {
                                                goto _L___828;
                                              }
                                            } else {
                                              _L___828: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___829;
                                          }
                                        } else {
                                          _L___829: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___830;
                                      }
                                    } else {
                                      _L___830: /* CIL Label */ ;
                                    }
                                    tmp___243 = __result___230;
                                  }
                                } else {
                                  goto _L___859;
                                }
                              } else {
                                goto _L___859;
                              }
                            } else {
                              _L___859: /* CIL Label */ 
                              if ((unsigned int )((void const   *)("blue" + 1)) -
                                  (unsigned int )((void const   *)"blue") == 1U) {
                                __s2_len___3 = strlen("blue");
                                if (__s2_len___3 < 4U) {
                                  tmp___259 = __builtin_constant_p(hl);
                                  if (tmp___259) {
                                    if ((unsigned int )((void const   *)(hl + 1)) -
                                        (unsigned int )((void const   *)hl) == 1U) {
                                      __result___237 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                               0)) -
                                                              (int const   )(*((unsigned char const   *)"blue" +
                                                                               0)));
                                      if (__s2_len___3 > 0U) {
                                        if (__result___237 == 0) {
                                          __result___237 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                   1)) -
                                                                  (int const   )(*((unsigned char const   *)"blue" +
                                                                                   1)));
                                          if (__s2_len___3 > 1U) {
                                            if (__result___237 == 0) {
                                              __result___237 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                       2)) -
                                                                      (int const   )(*((unsigned char const   *)"blue" +
                                                                                       2)));
                                              if (__s2_len___3 > 2U) {
                                                if (__result___237 == 0) {
                                                  __result___237 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                           3)) -
                                                                          (int const   )(*((unsigned char const   *)"blue" +
                                                                                           3)));
                                                } else {
                                                  goto _L___850;
                                                }
                                              } else {
                                                _L___850: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___851;
                                            }
                                          } else {
                                            _L___851: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___852;
                                        }
                                      } else {
                                        _L___852: /* CIL Label */ ;
                                      }
                                      tmp___243 = __result___237;
                                    } else {
                                      goto _L___856;
                                    }
                                  } else {
                                    _L___856: /* CIL Label */ 
                                    __s1___78 = (unsigned char const   *)((char const   *)hl);
                                    __result___238 = (int )((int const   )(*(__s1___78 +
                                                                             0)) -
                                                            (int const   )(*((unsigned char const   *)"blue" +
                                                                             0)));
                                    if (__s2_len___3 > 0U) {
                                      if (__result___238 == 0) {
                                        __result___238 = (int )((int const   )(*(__s1___78 +
                                                                                 1)) -
                                                                (int const   )(*((unsigned char const   *)"blue" +
                                                                                 1)));
                                        if (__s2_len___3 > 1U) {
                                          if (__result___238 == 0) {
                                            __result___238 = (int )((int const   )(*(__s1___78 +
                                                                                     2)) -
                                                                    (int const   )(*((unsigned char const   *)"blue" +
                                                                                     2)));
                                            if (__s2_len___3 > 2U) {
                                              if (__result___238 == 0) {
                                                __result___238 = (int )((int const   )(*(__s1___78 +
                                                                                         3)) -
                                                                        (int const   )(*((unsigned char const   *)"blue" +
                                                                                         3)));
                                              } else {
                                                goto _L___853;
                                              }
                                            } else {
                                              _L___853: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___854;
                                          }
                                        } else {
                                          _L___854: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___855;
                                      }
                                    } else {
                                      _L___855: /* CIL Label */ ;
                                    }
                                    tmp___243 = __result___238;
                                  }
                                } else {
                                  goto _L___857;
                                }
                              } else {
                                _L___857: /* CIL Label */ 
                                tmp___243 = strcmp((char const   *)hl, "blue");
                              }
                            }
                          }
                          if (tmp___243) {
                            tmp___220 = __builtin_constant_p(hl);
                            if (tmp___220) {
                              __s1_len___2 = strlen((char const   *)hl);
                              __s2_len___2 = strlen("all");
                              if (! ((unsigned int )((void const   *)(hl + 1)) - (unsigned int )((void const   *)hl) ==
                                     1U)) {
                                goto _L___694;
                              } else {
                                if (__s1_len___2 >= 4U) {
                                  _L___694: /* CIL Label */ 
                                  if (! ((unsigned int )((void const   *)("all" +
                                                                          1)) - (unsigned int )((void const   *)"all") ==
                                         1U)) {
                                    goto _L___693;
                                  } else {
                                    if (__s2_len___2 >= 4U) {
                                      _L___693: /* CIL Label */ 
                                      tmp___221 = 1;
                                    } else {
                                      goto _L___692;
                                    }
                                  }
                                } else {
                                  _L___692: /* CIL Label */ 
                                  tmp___221 = 0;
                                }
                              }
                              if (tmp___221) {
                                if (__s1_len___2 < __s2_len___2) {
                                  tmp___203 = __s1_len___2;
                                } else {
                                  tmp___203 = __s2_len___2;
                                }
                                tmp___202 = memcmp((void const   *)((char const   *)hl),
                                                   (void const   *)"all", tmp___203 +
                                                                          1U);
                              } else {
                                goto _L___696;
                              }
                            } else {
                              _L___696: /* CIL Label */ 
                              tmp___219 = __builtin_constant_p(hl);
                              if (tmp___219) {
                                if ((unsigned int )((void const   *)(hl + 1)) - (unsigned int )((void const   *)hl) ==
                                    1U) {
                                  __s1_len___2 = strlen((char const   *)hl);
                                  if (__s1_len___2 < 4U) {
                                    if ((unsigned int )((void const   *)("all" + 1)) -
                                        (unsigned int )((void const   *)"all") ==
                                        1U) {
                                      __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                               0)) -
                                                              (int const   )(*((unsigned char const   *)"all" +
                                                                               0)));
                                      if (__s1_len___2 > 0U) {
                                        if (__result___181 == 0) {
                                          __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                   1)) -
                                                                  (int const   )(*((unsigned char const   *)"all" +
                                                                                   1)));
                                          if (__s1_len___2 > 1U) {
                                            if (__result___181 == 0) {
                                              __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                       2)) -
                                                                      (int const   )(*((unsigned char const   *)"all" +
                                                                                       2)));
                                              if (__s1_len___2 > 2U) {
                                                if (__result___181 == 0) {
                                                  __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                           3)) -
                                                                          (int const   )(*((unsigned char const   *)"all" +
                                                                                           3)));
                                                } else {
                                                  goto _L___657;
                                                }
                                              } else {
                                                _L___657: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___658;
                                            }
                                          } else {
                                            _L___658: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___659;
                                        }
                                      } else {
                                        _L___659: /* CIL Label */ ;
                                      }
                                      tmp___202 = __result___181;
                                    } else {
                                      __s2___30 = (unsigned char const   *)"all";
                                      __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                               0)) -
                                                              (int const   )(*(__s2___30 +
                                                                               0)));
                                      if (__s1_len___2 > 0U) {
                                        if (__result___182 == 0) {
                                          __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                   1)) -
                                                                  (int const   )(*(__s2___30 +
                                                                                   1)));
                                          if (__s1_len___2 > 1U) {
                                            if (__result___182 == 0) {
                                              __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                       2)) -
                                                                      (int const   )(*(__s2___30 +
                                                                                       2)));
                                              if (__s1_len___2 > 2U) {
                                                if (__result___182 == 0) {
                                                  __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                           3)) -
                                                                          (int const   )(*(__s2___30 +
                                                                                           3)));
                                                } else {
                                                  goto _L___660;
                                                }
                                              } else {
                                                _L___660: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___661;
                                            }
                                          } else {
                                            _L___661: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___662;
                                        }
                                      } else {
                                        _L___662: /* CIL Label */ ;
                                      }
                                      tmp___202 = __result___182;
                                    }
                                  } else {
                                    goto _L___691;
                                  }
                                } else {
                                  goto _L___691;
                                }
                              } else {
                                _L___691: /* CIL Label */ 
                                if ((unsigned int )((void const   *)("all" + 1)) -
                                    (unsigned int )((void const   *)"all") == 1U) {
                                  __s2_len___2 = strlen("all");
                                  if (__s2_len___2 < 4U) {
                                    tmp___218 = __builtin_constant_p(hl);
                                    if (tmp___218) {
                                      if ((unsigned int )((void const   *)(hl + 1)) -
                                          (unsigned int )((void const   *)hl) == 1U) {
                                        __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                 0)) -
                                                                (int const   )(*((unsigned char const   *)"all" +
                                                                                 0)));
                                        if (__s2_len___2 > 0U) {
                                          if (__result___189 == 0) {
                                            __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                     1)) -
                                                                    (int const   )(*((unsigned char const   *)"all" +
                                                                                     1)));
                                            if (__s2_len___2 > 1U) {
                                              if (__result___189 == 0) {
                                                __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                         2)) -
                                                                        (int const   )(*((unsigned char const   *)"all" +
                                                                                         2)));
                                                if (__s2_len___2 > 2U) {
                                                  if (__result___189 == 0) {
                                                    __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                             3)) -
                                                                            (int const   )(*((unsigned char const   *)"all" +
                                                                                             3)));
                                                  } else {
                                                    goto _L___682;
                                                  }
                                                } else {
                                                  _L___682: /* CIL Label */ ;
                                                }
                                              } else {
                                                goto _L___683;
                                              }
                                            } else {
                                              _L___683: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___684;
                                          }
                                        } else {
                                          _L___684: /* CIL Label */ ;
                                        }
                                        tmp___202 = __result___189;
                                      } else {
                                        goto _L___688;
                                      }
                                    } else {
                                      _L___688: /* CIL Label */ 
                                      __s1___62 = (unsigned char const   *)((char const   *)hl);
                                      __result___190 = (int )((int const   )(*(__s1___62 +
                                                                               0)) -
                                                              (int const   )(*((unsigned char const   *)"all" +
                                                                               0)));
                                      if (__s2_len___2 > 0U) {
                                        if (__result___190 == 0) {
                                          __result___190 = (int )((int const   )(*(__s1___62 +
                                                                                   1)) -
                                                                  (int const   )(*((unsigned char const   *)"all" +
                                                                                   1)));
                                          if (__s2_len___2 > 1U) {
                                            if (__result___190 == 0) {
                                              __result___190 = (int )((int const   )(*(__s1___62 +
                                                                                       2)) -
                                                                      (int const   )(*((unsigned char const   *)"all" +
                                                                                       2)));
                                              if (__s2_len___2 > 2U) {
                                                if (__result___190 == 0) {
                                                  __result___190 = (int )((int const   )(*(__s1___62 +
                                                                                           3)) -
                                                                          (int const   )(*((unsigned char const   *)"all" +
                                                                                           3)));
                                                } else {
                                                  goto _L___685;
                                                }
                                              } else {
                                                _L___685: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___686;
                                            }
                                          } else {
                                            _L___686: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___687;
                                        }
                                      } else {
                                        _L___687: /* CIL Label */ ;
                                      }
                                      tmp___202 = __result___190;
                                    }
                                  } else {
                                    goto _L___689;
                                  }
                                } else {
                                  _L___689: /* CIL Label */ 
                                  tmp___202 = strcmp((char const   *)hl, "all");
                                }
                              }
                            }
                            if (tmp___202) {
                              tmp___178 = __builtin_constant_p(hl);
                              if (tmp___178) {
                                tmp___179 = __builtin_constant_p(strNone);
                                if (tmp___179) {
                                  __s1_len___1 = strlen((char const   *)hl);
                                  __s2_len___1 = strlen(strNone);
                                  if (! ((unsigned int )((void const   *)(hl + 1)) -
                                         (unsigned int )((void const   *)hl) == 1U)) {
                                    goto _L___526;
                                  } else {
                                    if (__s1_len___1 >= 4U) {
                                      _L___526: /* CIL Label */ 
                                      if (! ((unsigned int )((void const   *)(strNone +
                                                                              1)) -
                                             (unsigned int )((void const   *)(strNone)) ==
                                             1U)) {
                                        goto _L___525;
                                      } else {
                                        if (__s2_len___1 >= 4U) {
                                          _L___525: /* CIL Label */ 
                                          tmp___180 = 1;
                                        } else {
                                          goto _L___524;
                                        }
                                      }
                                    } else {
                                      _L___524: /* CIL Label */ 
                                      tmp___180 = 0;
                                    }
                                  }
                                  if (tmp___180) {
                                    if (__s1_len___1 < __s2_len___1) {
                                      tmp___153 = __s1_len___1;
                                    } else {
                                      tmp___153 = __s2_len___1;
                                    }
                                    tmp___152 = memcmp((void const   *)((char const   *)hl),
                                                       (void const   *)(strNone),
                                                       tmp___153 + 1U);
                                  } else {
                                    goto _L___528;
                                  }
                                } else {
                                  goto _L___528;
                                }
                              } else {
                                _L___528: /* CIL Label */ 
                                tmp___177 = __builtin_constant_p(hl);
                                if (tmp___177) {
                                  if ((unsigned int )((void const   *)(hl + 1)) -
                                      (unsigned int )((void const   *)hl) == 1U) {
                                    __s1_len___1 = strlen((char const   *)hl);
                                    if (__s1_len___1 < 4U) {
                                      tmp___168 = __builtin_constant_p(strNone);
                                      if (tmp___168) {
                                        if ((unsigned int )((void const   *)(strNone +
                                                                             1)) -
                                            (unsigned int )((void const   *)(strNone)) ==
                                            1U) {
                                          __result___133 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                   0)) -
                                                                  (int const   )(*((unsigned char const   *)(strNone) +
                                                                                   0)));
                                          if (__s1_len___1 > 0U) {
                                            if (__result___133 == 0) {
                                              __result___133 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                       1)) -
                                                                      (int const   )(*((unsigned char const   *)(strNone) +
                                                                                       1)));
                                              if (__s1_len___1 > 1U) {
                                                if (__result___133 == 0) {
                                                  __result___133 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                           2)) -
                                                                          (int const   )(*((unsigned char const   *)(strNone) +
                                                                                           2)));
                                                  if (__s1_len___1 > 2U) {
                                                    if (__result___133 == 0) {
                                                      __result___133 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                               3)) -
                                                                              (int const   )(*((unsigned char const   *)(strNone) +
                                                                                               3)));
                                                    } else {
                                                      goto _L___487;
                                                    }
                                                  } else {
                                                    _L___487: /* CIL Label */ ;
                                                  }
                                                } else {
                                                  goto _L___488;
                                                }
                                              } else {
                                                _L___488: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___489;
                                            }
                                          } else {
                                            _L___489: /* CIL Label */ ;
                                          }
                                          tmp___152 = __result___133;
                                        } else {
                                          goto _L___493;
                                        }
                                      } else {
                                        _L___493: /* CIL Label */ 
                                        __s2___22 = (unsigned char const   *)(strNone);
                                        __result___134 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                 0)) -
                                                                (int const   )(*(__s2___22 +
                                                                                 0)));
                                        if (__s1_len___1 > 0U) {
                                          if (__result___134 == 0) {
                                            __result___134 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                     1)) -
                                                                    (int const   )(*(__s2___22 +
                                                                                     1)));
                                            if (__s1_len___1 > 1U) {
                                              if (__result___134 == 0) {
                                                __result___134 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                         2)) -
                                                                        (int const   )(*(__s2___22 +
                                                                                         2)));
                                                if (__s1_len___1 > 2U) {
                                                  if (__result___134 == 0) {
                                                    __result___134 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                             3)) -
                                                                            (int const   )(*(__s2___22 +
                                                                                             3)));
                                                  } else {
                                                    goto _L___490;
                                                  }
                                                } else {
                                                  _L___490: /* CIL Label */ ;
                                                }
                                              } else {
                                                goto _L___491;
                                              }
                                            } else {
                                              _L___491: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___492;
                                          }
                                        } else {
                                          _L___492: /* CIL Label */ ;
                                        }
                                        tmp___152 = __result___134;
                                      }
                                    } else {
                                      goto _L___523;
                                    }
                                  } else {
                                    goto _L___523;
                                  }
                                } else {
                                  _L___523: /* CIL Label */ 
                                  tmp___176 = __builtin_constant_p(strNone);
                                  if (tmp___176) {
                                    if ((unsigned int )((void const   *)(strNone +
                                                                         1)) - (unsigned int )((void const   *)(strNone)) ==
                                        1U) {
                                      __s2_len___1 = strlen(strNone);
                                      if (__s2_len___1 < 4U) {
                                        tmp___175 = __builtin_constant_p(hl);
                                        if (tmp___175) {
                                          if ((unsigned int )((void const   *)(hl +
                                                                               1)) -
                                              (unsigned int )((void const   *)hl) ==
                                              1U) {
                                            __result___141 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                     0)) -
                                                                    (int const   )(*((unsigned char const   *)(strNone) +
                                                                                     0)));
                                            if (__s2_len___1 > 0U) {
                                              if (__result___141 == 0) {
                                                __result___141 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                         1)) -
                                                                        (int const   )(*((unsigned char const   *)(strNone) +
                                                                                         1)));
                                                if (__s2_len___1 > 1U) {
                                                  if (__result___141 == 0) {
                                                    __result___141 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                             2)) -
                                                                            (int const   )(*((unsigned char const   *)(strNone) +
                                                                                             2)));
                                                    if (__s2_len___1 > 2U) {
                                                      if (__result___141 == 0) {
                                                        __result___141 = (int )((int const   )(*((unsigned char const   *)((char const   *)hl) +
                                                                                                 3)) -
                                                                                (int const   )(*((unsigned char const   *)(strNone) +
                                                                                                 3)));
                                                      } else {
                                                        goto _L___513;
                                                      }
                                                    } else {
                                                      _L___513: /* CIL Label */ ;
                                                    }
                                                  } else {
                                                    goto _L___514;
                                                  }
                                                } else {
                                                  _L___514: /* CIL Label */ ;
                                                }
                                              } else {
                                                goto _L___515;
                                              }
                                            } else {
                                              _L___515: /* CIL Label */ ;
                                            }
                                            tmp___152 = __result___141;
                                          } else {
                                            goto _L___519;
                                          }
                                        } else {
                                          _L___519: /* CIL Label */ 
                                          __s1___46 = (unsigned char const   *)((char const   *)hl);
                                          __result___142 = (int )((int const   )(*(__s1___46 +
                                                                                   0)) -
                                                                  (int const   )(*((unsigned char const   *)(strNone) +
                                                                                   0)));
                                          if (__s2_len___1 > 0U) {
                                            if (__result___142 == 0) {
                                              __result___142 = (int )((int const   )(*(__s1___46 +
                                                                                       1)) -
                                                                      (int const   )(*((unsigned char const   *)(strNone) +
                                                                                       1)));
                                              if (__s2_len___1 > 1U) {
                                                if (__result___142 == 0) {
                                                  __result___142 = (int )((int const   )(*(__s1___46 +
                                                                                           2)) -
                                                                          (int const   )(*((unsigned char const   *)(strNone) +
                                                                                           2)));
                                                  if (__s2_len___1 > 2U) {
                                                    if (__result___142 == 0) {
                                                      __result___142 = (int )((int const   )(*(__s1___46 +
                                                                                               3)) -
                                                                              (int const   )(*((unsigned char const   *)(strNone) +
                                                                                               3)));
                                                    } else {
                                                      goto _L___516;
                                                    }
                                                  } else {
                                                    _L___516: /* CIL Label */ ;
                                                  }
                                                } else {
                                                  goto _L___517;
                                                }
                                              } else {
                                                _L___517: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___518;
                                            }
                                          } else {
                                            _L___518: /* CIL Label */ ;
                                          }
                                          tmp___152 = __result___142;
                                        }
                                      } else {
                                        goto _L___521;
                                      }
                                    } else {
                                      goto _L___521;
                                    }
                                  } else {
                                    _L___521: /* CIL Label */ 
                                    tmp___152 = strcmp((char const   *)hl, strNone);
                                  }
                                }
                              }
                              if (! tmp___152) {
                                color_highlight = (unsigned char)0;
                              }
                            } else {
                              color_highlight = (unsigned char )(~ 0);
                            }
                          } else {
                            cpn = (short)5;
                            goto hl_flip;
                          }
                        } else {
                          cpn = (short)4;
                          goto hl_flip;
                        }
                      } else {
                        cpn = (short)3;
                        goto hl_flip;
                      }
                    } else {
                      cpn = (short)2;
                      hl_flip: 
                      if (negate) {
                        color_highlight = (unsigned char )((int )color_highlight &
                                                           ~ (1 << (int )cpn));
                      } else {
                        color_highlight = (unsigned char )((int )color_highlight |
                                                           (1 << (int )cpn));
                      }
                    }
                    if (! is_last) {
                      hl = pos + 1;
                      goto hl_loop;
                    }
                    hl_out: ;
                  }
                } else {
                  temp___3 = str + 9;
                  tmp___118 = __builtin_constant_p(temp___3);
                  if (tmp___118) {
                    tmp___119 = __builtin_constant_p(strOff);
                    if (tmp___119) {
                      __s1_len___0 = strlen(temp___3);
                      __s2_len___0 = strlen(strOff);
                      if (! ((unsigned int )((void const   *)(temp___3 + 1)) - (unsigned int )((void const   *)temp___3) ==
                             1U)) {
                        goto _L___350;
                      } else {
                        if (__s1_len___0 >= 4U) {
                          _L___350: /* CIL Label */ 
                          if (! ((unsigned int )((void const   *)(strOff + 1)) - (unsigned int )((void const   *)(strOff)) ==
                                 1U)) {
                            goto _L___349;
                          } else {
                            if (__s2_len___0 >= 4U) {
                              _L___349: /* CIL Label */ 
                              tmp___120 = 1;
                            } else {
                              goto _L___348;
                            }
                          }
                        } else {
                          _L___348: /* CIL Label */ 
                          tmp___120 = 0;
                        }
                      }
                      if (tmp___120) {
                        if (__s1_len___0 < __s2_len___0) {
                          tmp___93 = __s1_len___0;
                        } else {
                          tmp___93 = __s2_len___0;
                        }
                        tmp___92 = memcmp((void const   *)temp___3, (void const   *)(strOff),
                                          tmp___93 + 1U);
                      } else {
                        goto _L___352;
                      }
                    } else {
                      goto _L___352;
                    }
                  } else {
                    _L___352: /* CIL Label */ 
                    tmp___117 = __builtin_constant_p(temp___3);
                    if (tmp___117) {
                      if ((unsigned int )((void const   *)(temp___3 + 1)) - (unsigned int )((void const   *)temp___3) ==
                          1U) {
                        __s1_len___0 = strlen(temp___3);
                        if (__s1_len___0 < 4U) {
                          tmp___108 = __builtin_constant_p(strOff);
                          if (tmp___108) {
                            if ((unsigned int )((void const   *)(strOff + 1)) - (unsigned int )((void const   *)(strOff)) ==
                                1U) {
                              __result___85 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                      0)) - (int const   )(*((unsigned char const   *)(strOff) +
                                                                                             0)));
                              if (__s1_len___0 > 0U) {
                                if (__result___85 == 0) {
                                  __result___85 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                          1)) - (int const   )(*((unsigned char const   *)(strOff) +
                                                                                                 1)));
                                  if (__s1_len___0 > 1U) {
                                    if (__result___85 == 0) {
                                      __result___85 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                              2)) -
                                                             (int const   )(*((unsigned char const   *)(strOff) +
                                                                              2)));
                                      if (__s1_len___0 > 2U) {
                                        if (__result___85 == 0) {
                                          __result___85 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                                  3)) -
                                                                 (int const   )(*((unsigned char const   *)(strOff) +
                                                                                  3)));
                                        } else {
                                          goto _L___311;
                                        }
                                      } else {
                                        _L___311: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___312;
                                    }
                                  } else {
                                    _L___312: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___313;
                                }
                              } else {
                                _L___313: /* CIL Label */ ;
                              }
                              tmp___92 = __result___85;
                            } else {
                              goto _L___317;
                            }
                          } else {
                            _L___317: /* CIL Label */ 
                            __s2___14 = (unsigned char const   *)(strOff);
                            __result___86 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                    0)) - (int const   )(*(__s2___14 +
                                                                                           0)));
                            if (__s1_len___0 > 0U) {
                              if (__result___86 == 0) {
                                __result___86 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                        1)) - (int const   )(*(__s2___14 +
                                                                                               1)));
                                if (__s1_len___0 > 1U) {
                                  if (__result___86 == 0) {
                                    __result___86 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                            2)) -
                                                           (int const   )(*(__s2___14 +
                                                                            2)));
                                    if (__s1_len___0 > 2U) {
                                      if (__result___86 == 0) {
                                        __result___86 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                                3)) -
                                                               (int const   )(*(__s2___14 +
                                                                                3)));
                                      } else {
                                        goto _L___314;
                                      }
                                    } else {
                                      _L___314: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___315;
                                  }
                                } else {
                                  _L___315: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___316;
                              }
                            } else {
                              _L___316: /* CIL Label */ ;
                            }
                            tmp___92 = __result___86;
                          }
                        } else {
                          goto _L___347;
                        }
                      } else {
                        goto _L___347;
                      }
                    } else {
                      _L___347: /* CIL Label */ 
                      tmp___116 = __builtin_constant_p(strOff);
                      if (tmp___116) {
                        if ((unsigned int )((void const   *)(strOff + 1)) - (unsigned int )((void const   *)(strOff)) ==
                            1U) {
                          __s2_len___0 = strlen(strOff);
                          if (__s2_len___0 < 4U) {
                            tmp___115 = __builtin_constant_p(temp___3);
                            if (tmp___115) {
                              if ((unsigned int )((void const   *)(temp___3 + 1)) -
                                  (unsigned int )((void const   *)temp___3) == 1U) {
                                __result___93 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                        0)) - (int const   )(*((unsigned char const   *)(strOff) +
                                                                                               0)));
                                if (__s2_len___0 > 0U) {
                                  if (__result___93 == 0) {
                                    __result___93 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                            1)) -
                                                           (int const   )(*((unsigned char const   *)(strOff) +
                                                                            1)));
                                    if (__s2_len___0 > 1U) {
                                      if (__result___93 == 0) {
                                        __result___93 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                                2)) -
                                                               (int const   )(*((unsigned char const   *)(strOff) +
                                                                                2)));
                                        if (__s2_len___0 > 2U) {
                                          if (__result___93 == 0) {
                                            __result___93 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                                    3)) -
                                                                   (int const   )(*((unsigned char const   *)(strOff) +
                                                                                    3)));
                                          } else {
                                            goto _L___337;
                                          }
                                        } else {
                                          _L___337: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___338;
                                      }
                                    } else {
                                      _L___338: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___339;
                                  }
                                } else {
                                  _L___339: /* CIL Label */ ;
                                }
                                tmp___92 = __result___93;
                              } else {
                                goto _L___343;
                              }
                            } else {
                              _L___343: /* CIL Label */ 
                              __s1___30 = (unsigned char const   *)temp___3;
                              __result___94 = (int )((int const   )(*(__s1___30 +
                                                                      0)) - (int const   )(*((unsigned char const   *)(strOff) +
                                                                                             0)));
                              if (__s2_len___0 > 0U) {
                                if (__result___94 == 0) {
                                  __result___94 = (int )((int const   )(*(__s1___30 +
                                                                          1)) - (int const   )(*((unsigned char const   *)(strOff) +
                                                                                                 1)));
                                  if (__s2_len___0 > 1U) {
                                    if (__result___94 == 0) {
                                      __result___94 = (int )((int const   )(*(__s1___30 +
                                                                              2)) -
                                                             (int const   )(*((unsigned char const   *)(strOff) +
                                                                              2)));
                                      if (__s2_len___0 > 2U) {
                                        if (__result___94 == 0) {
                                          __result___94 = (int )((int const   )(*(__s1___30 +
                                                                                  3)) -
                                                                 (int const   )(*((unsigned char const   *)(strOff) +
                                                                                  3)));
                                        } else {
                                          goto _L___340;
                                        }
                                      } else {
                                        _L___340: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___341;
                                    }
                                  } else {
                                    _L___341: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___342;
                                }
                              } else {
                                _L___342: /* CIL Label */ ;
                              }
                              tmp___92 = __result___94;
                            }
                          } else {
                            goto _L___345;
                          }
                        } else {
                          goto _L___345;
                        }
                      } else {
                        _L___345: /* CIL Label */ 
                        tmp___92 = strcmp(temp___3, strOff);
                      }
                    }
                  }
                  if (tmp___92) {
                    tmp___59 = __builtin_constant_p(temp___3);
                    if (tmp___59) {
                      tmp___60 = __builtin_constant_p(strReverse);
                      if (tmp___60) {
                        __s1_len = strlen(temp___3);
                        __s2_len = strlen(strReverse);
                        if (! ((unsigned int )((void const   *)(temp___3 + 1)) - (unsigned int )((void const   *)temp___3) ==
                               1U)) {
                          goto _L___174;
                        } else {
                          if (__s1_len >= 4U) {
                            _L___174: /* CIL Label */ 
                            if (! ((unsigned int )((void const   *)(strReverse + 1)) -
                                   (unsigned int )((void const   *)(strReverse)) ==
                                   1U)) {
                              goto _L___173;
                            } else {
                              if (__s2_len >= 4U) {
                                _L___173: /* CIL Label */ 
                                tmp___61 = 1;
                              } else {
                                goto _L___172;
                              }
                            }
                          } else {
                            _L___172: /* CIL Label */ 
                            tmp___61 = 0;
                          }
                        }
                        if (tmp___61) {
                          if (__s1_len < __s2_len) {
                            tmp___34 = __s1_len;
                          } else {
                            tmp___34 = __s2_len;
                          }
                          tmp___33 = memcmp((void const   *)temp___3, (void const   *)(strReverse),
                                            tmp___34 + 1U);
                        } else {
                          goto _L___176;
                        }
                      } else {
                        goto _L___176;
                      }
                    } else {
                      _L___176: /* CIL Label */ 
                      tmp___58 = __builtin_constant_p(temp___3);
                      if (tmp___58) {
                        if ((unsigned int )((void const   *)(temp___3 + 1)) - (unsigned int )((void const   *)temp___3) ==
                            1U) {
                          __s1_len = strlen(temp___3);
                          if (__s1_len < 4U) {
                            tmp___49 = __builtin_constant_p(strReverse);
                            if (tmp___49) {
                              if ((unsigned int )((void const   *)(strReverse + 1)) -
                                  (unsigned int )((void const   *)(strReverse)) ==
                                  1U) {
                                __result___37 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                        0)) - (int const   )(*((unsigned char const   *)(strReverse) +
                                                                                               0)));
                                if (__s1_len > 0U) {
                                  if (__result___37 == 0) {
                                    __result___37 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                            1)) -
                                                           (int const   )(*((unsigned char const   *)(strReverse) +
                                                                            1)));
                                    if (__s1_len > 1U) {
                                      if (__result___37 == 0) {
                                        __result___37 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                                2)) -
                                                               (int const   )(*((unsigned char const   *)(strReverse) +
                                                                                2)));
                                        if (__s1_len > 2U) {
                                          if (__result___37 == 0) {
                                            __result___37 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                                    3)) -
                                                                   (int const   )(*((unsigned char const   *)(strReverse) +
                                                                                    3)));
                                          } else {
                                            goto _L___135;
                                          }
                                        } else {
                                          _L___135: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___136;
                                      }
                                    } else {
                                      _L___136: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___137;
                                  }
                                } else {
                                  _L___137: /* CIL Label */ ;
                                }
                                tmp___33 = __result___37;
                              } else {
                                goto _L___141;
                              }
                            } else {
                              _L___141: /* CIL Label */ 
                              __s2___6 = (unsigned char const   *)(strReverse);
                              __result___38 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                      0)) - (int const   )(*(__s2___6 +
                                                                                             0)));
                              if (__s1_len > 0U) {
                                if (__result___38 == 0) {
                                  __result___38 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                          1)) - (int const   )(*(__s2___6 +
                                                                                                 1)));
                                  if (__s1_len > 1U) {
                                    if (__result___38 == 0) {
                                      __result___38 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                              2)) -
                                                             (int const   )(*(__s2___6 +
                                                                              2)));
                                      if (__s1_len > 2U) {
                                        if (__result___38 == 0) {
                                          __result___38 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                                  3)) -
                                                                 (int const   )(*(__s2___6 +
                                                                                  3)));
                                        } else {
                                          goto _L___138;
                                        }
                                      } else {
                                        _L___138: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___139;
                                    }
                                  } else {
                                    _L___139: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___140;
                                }
                              } else {
                                _L___140: /* CIL Label */ ;
                              }
                              tmp___33 = __result___38;
                            }
                          } else {
                            goto _L___171;
                          }
                        } else {
                          goto _L___171;
                        }
                      } else {
                        _L___171: /* CIL Label */ 
                        tmp___57 = __builtin_constant_p(strReverse);
                        if (tmp___57) {
                          if ((unsigned int )((void const   *)(strReverse + 1)) -
                              (unsigned int )((void const   *)(strReverse)) == 1U) {
                            __s2_len = strlen(strReverse);
                            if (__s2_len < 4U) {
                              tmp___56 = __builtin_constant_p(temp___3);
                              if (tmp___56) {
                                if ((unsigned int )((void const   *)(temp___3 + 1)) -
                                    (unsigned int )((void const   *)temp___3) == 1U) {
                                  __result___45 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                          0)) - (int const   )(*((unsigned char const   *)(strReverse) +
                                                                                                 0)));
                                  if (__s2_len > 0U) {
                                    if (__result___45 == 0) {
                                      __result___45 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                              1)) -
                                                             (int const   )(*((unsigned char const   *)(strReverse) +
                                                                              1)));
                                      if (__s2_len > 1U) {
                                        if (__result___45 == 0) {
                                          __result___45 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                                  2)) -
                                                                 (int const   )(*((unsigned char const   *)(strReverse) +
                                                                                  2)));
                                          if (__s2_len > 2U) {
                                            if (__result___45 == 0) {
                                              __result___45 = (int )((int const   )(*((unsigned char const   *)temp___3 +
                                                                                      3)) -
                                                                     (int const   )(*((unsigned char const   *)(strReverse) +
                                                                                      3)));
                                            } else {
                                              goto _L___161;
                                            }
                                          } else {
                                            _L___161: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___162;
                                        }
                                      } else {
                                        _L___162: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___163;
                                    }
                                  } else {
                                    _L___163: /* CIL Label */ ;
                                  }
                                  tmp___33 = __result___45;
                                } else {
                                  goto _L___167;
                                }
                              } else {
                                _L___167: /* CIL Label */ 
                                __s1___14 = (unsigned char const   *)temp___3;
                                __result___46 = (int )((int const   )(*(__s1___14 +
                                                                        0)) - (int const   )(*((unsigned char const   *)(strReverse) +
                                                                                               0)));
                                if (__s2_len > 0U) {
                                  if (__result___46 == 0) {
                                    __result___46 = (int )((int const   )(*(__s1___14 +
                                                                            1)) -
                                                           (int const   )(*((unsigned char const   *)(strReverse) +
                                                                            1)));
                                    if (__s2_len > 1U) {
                                      if (__result___46 == 0) {
                                        __result___46 = (int )((int const   )(*(__s1___14 +
                                                                                2)) -
                                                               (int const   )(*((unsigned char const   *)(strReverse) +
                                                                                2)));
                                        if (__s2_len > 2U) {
                                          if (__result___46 == 0) {
                                            __result___46 = (int )((int const   )(*(__s1___14 +
                                                                                    3)) -
                                                                   (int const   )(*((unsigned char const   *)(strReverse) +
                                                                                    3)));
                                          } else {
                                            goto _L___164;
                                          }
                                        } else {
                                          _L___164: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___165;
                                      }
                                    } else {
                                      _L___165: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___166;
                                  }
                                } else {
                                  _L___166: /* CIL Label */ ;
                                }
                                tmp___33 = __result___46;
                              }
                            } else {
                              goto _L___169;
                            }
                          } else {
                            goto _L___169;
                          }
                        } else {
                          _L___169: /* CIL Label */ 
                          tmp___33 = strcmp(temp___3, strReverse);
                        }
                      }
                    }
                    if (! tmp___33) {
                      config.flags |= 2U;
                    }
                  } else {
                    config.flags |= 1U;
                  }
                }
              } else {
                program_mode = (unsigned char)3;
              }
            } else {
              temp___2 = str + 7;
              if ((int const   )(*temp___2) != 0) {
                while (1) {
                  while (1) {
                    if ((unsigned int )config.pm_uri != (unsigned int )((void *)0)) {
                      memory_deallocate_ll((void const   *)config.pm_uri);
                    }
                    break;
                  }
                  config.pm_uri = my_strdup(temp___2);
                  break;
                }
                program_mode = (unsigned char)2;
              }
            }
          } else {
            temp___1 = str + 11;
            if ((int const   )(*temp___1) != 0) {
              while (1) {
                while (1) {
                  if ((unsigned int )config.pm_uri != (unsigned int )((void *)0)) {
                    memory_deallocate_ll((void const   *)config.pm_uri);
                  }
                  break;
                }
                config.pm_uri = my_strdup(temp___1);
                break;
              }
              program_mode = (unsigned char)1;
            }
          }
        } else {
          temp___0 = str + 16;
          ch = (char )(*temp___0);
          if ((int )ch == 0) {
            while (1) {
              while (1) {
                if ((unsigned int )config.session_resume != (unsigned int )((void *)0)) {
                  memory_deallocate_ll((void const   *)config.session_resume);
                }
                break;
              }
              config.session_resume = my_strdup(strEmpty);
              break;
            }
          } else {
            if ((int )ch == 61) {
              temp___0 ++;
              if ((int const   )(*temp___0) != 0) {
                while (1) {
                  while (1) {
                    if ((unsigned int )config.session_resume != (unsigned int )((void *)0)) {
                      memory_deallocate_ll((void const   *)config.session_resume);
                    }
                    break;
                  }
                  config.session_resume = my_strdup(temp___0);
                  break;
                }
              } else {
                goto uclo;
              }
            } else {
              goto uclo;
            }
          }
        }
      } else {
        temp = str + 10;
        if ((int const   )(*temp) != 0) {
          while (1) {
            if ((unsigned int )config.path != (unsigned int )((void *)0)) {
              memory_deallocate_ll((void const   *)config.path);
            }
            break;
          }
          tmp___2 = strlen(temp);
          if ((int const   )(*(temp + (tmp___2 - 1U))) != 47) {
            tmp___1 = strSlash;
          } else {
            tmp___1 = strEmpty;
          }
          my_spf((char *)((void *)0), 0U, & path, strPercsPercs, temp, tmp___1);
          config.path = (char const   *)path;
          config.flags |= 4U;
        }
      }
    }
  }
  return;
}
}
__inline static char str2char_(char const   *str ) 
{ 

  {
  return ((char )(*str));
}
}
static void prepare_terminal(void) 
{ struct termios t ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_95 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;
  int err ;
  unsigned char loopcount ;
  int *tmp___0 ;
  int tmp___1 ;

  {
  tmp = __builtin_constant_p(sizeof(t));
  if (tmp) {
    if (sizeof(t) <= 16U) {
      if (sizeof(t) == 1U) {
        __s___1 = (void *)(& t);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(& t);
        __u = (union __anonunion___u_95 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(t)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_95 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_95 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_95 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_95 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_95 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_95 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_95 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_95 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_95 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_95 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_95 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_95 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_95 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = (void *)(& t);
    __builtin_memset(__s, '\000', (int )sizeof(t));
  }
  tmp___1 = tcgetattr(0, & t);
  if (tmp___1 == 0) {
    loopcount = (unsigned char)0;
    saved_termios = t;
    t.c_iflag &= 4294967199U;
    t.c_iflag |= 256U;
    t.c_oflag &= 4294967239U;
    t.c_oflag |= 5U;
    t.c_cflag &= 4294966991U;
    t.c_cflag |= 48U;
    t.c_lflag &= 4294967175U;
    t.c_lflag &= 4294967293U;
    t.c_lflag |= 1U;
    t.c_cc[6] = (unsigned char)1;
    t.c_cc[5] = (unsigned char)0;
    loop: 
    err = tcsetattr(0, 2, (struct termios  const  *)(& t));
    if (err == 0) {
      do_restore_termios = (unsigned char)1;
    } else {
      if (err == -1) {
        tmp___0 = __errno_location();
        if ((*tmp___0) == 4) {
          loopcount = (unsigned char )((int )loopcount + 1);
          if (loopcount < 100) {
            goto loop;
          } else {
            goto _L___1;
          }
        } else {
          goto _L___1;
        }
      } else {
        _L___1: /* CIL Label */ ;
      }
    }
  }
  return;
}
}
__inline static void initialize_curses(void) 
{ WINDOW *tmp ;
  int tmp___0 ;
  NCURSES_BOOL tmp___1 ;
  tBoolean do_rev ;
  int tmp___2 ;
  tColorCode bg ;
  int tmp___3 ;
  tColorPairNumber i ;
  int tmp___4 ;
  tColorBitmask cb ;
  char const   *str ;
  char const   *_x ;
  size_t tmp___5 ;
  char const   *_x___0 ;
  size_t tmp___6 ;

  {
  tmp = initscr();
  if ((unsigned int )tmp == (unsigned int )((void *)0)) {
    fatal_error(0, "can\'t initialize terminal");
  }
  need_tglib_cleanup = (unsigned char)1;
  if (! (config.flags & 1U)) {
    tmp___0 = start_color();
    if (tmp___0 != -1) {
      tmp___1 = has_colors();
      if ((int )tmp___1 == 1) {
        if (COLOR_PAIRS > 5) {
          use_colors = (unsigned char)1;
        } else {
          goto _L___0;
        }
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ ;
    }
  }
  cbreak();
  noecho();
  nonl();
  intrflush(stdscr, (unsigned char)0);
  keypad(stdscr, (unsigned char)1);
  nodelay(stdscr, (unsigned char)1);
  mousemask(16644UL, (mmask_t *)((void *)0));
  if (use_colors) {
    if (config.flags & 2U) {
      tmp___2 = 1;
    } else {
      tmp___2 = 0;
    }
    do_rev = (tBoolean )tmp___2;
    if (do_rev) {
      tmp___3 = 7;
    } else {
      tmp___3 = 0;
    }
    bg = (tColorCode )tmp___3;
    if (do_rev) {
      tmp___4 = 0;
    } else {
      tmp___4 = 7;
    }
    init_pair((short)1, (short )tmp___4, (short )bg);
    init_pair((short)2, (short)1, (short )bg);
    init_pair((short)3, (short)2, (short )bg);
    init_pair((short)4, (short)3, (short )bg);
    init_pair((short)5, (short)4, (short )bg);
    i = (short)1;
    while ((int )i <= 5) {
      cb = (tColorBitmask )((int )i << 8);
      if ((int )color_highlight & (1 << (int )i)) {
        cb |= 2097152UL;
      }
      color_bitmask[i] = cb;
      i = (tColorPairNumber )((int )i + 1);
    }
    wbkgdset(stdscr, 256UL);
    while (1) {
      if (use_colors) {
        wattr_on(stdscr, color_bitmask[1], (void *)0);
      }
      break;
    }
  }
  if (config.flags & 8U) {
    if ((int )__lfdmbs & 2) {
      str = getenv("STY");
      if ((unsigned int )str != (unsigned int )((void *)0)) {
        if ((int const   )(*str) != 0) {
          sprintf((char * __restrict  )(strbuf), (char const   * __restrict  )"\033k%s\033\\",
                  strProgramVersion);
          while (1) {
            _x = (char const   *)(strbuf);
            tmp___5 = strlen(_x);
            my_write(fd_stdout, (void const   *)_x, tmp___5);
            break;
          }
          while (1) {
            break;
          }
        } else {
          goto _L___2;
        }
      } else {
        _L___2: /* CIL Label */ 
        str = getenv("DISPLAY");
        if ((unsigned int )str != (unsigned int )((void *)0)) {
          if ((int const   )(*str) != 0) {
            sprintf((char * __restrict  )(strbuf), (char const   * __restrict  )"\033]0;%s\a",
                    strProgramVersion);
            while (1) {
              _x___0 = (char const   *)(strbuf);
              tmp___6 = strlen(_x___0);
              my_write(fd_stdout, (void const   *)_x___0, tmp___6);
              break;
            }
            while (1) {
              break;
            }
          } else {
            goto _L___1;
          }
        } else {
          _L___1: /* CIL Label */ ;
        }
      }
    } else {
      goto _L___3;
    }
  } else {
    _L___3: /* CIL Label */ ;
  }
  return;
}
}
__inline static tBoolean signal_is_ignored(int signal_number ) 
{ struct sigaction signal_handler ;
  int tmp___1 ;
  int tmp___2 ;

  {
  tmp___2 = sigaction(signal_number, (struct sigaction  const  * __restrict  )((void *)0),
                      (struct sigaction * __restrict  )(& signal_handler));
  if (tmp___2 == 0) {
    if ((unsigned int )signal_handler.__sigaction_handler.sa_handler == (unsigned int )((void (*)(int  ))1)) {
      tmp___1 = 1;
    } else {
      tmp___1 = 0;
    }
  } else {
    tmp___1 = 0;
  }
  return ((unsigned char )tmp___1);
}
}
static void my_sigaction(int signal_number , void (*handler)(int  ) ) 
{ struct sigaction signal_handler ;
  tBoolean tmp ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_96 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp___0 ;

  {
  if ((int )program_mode == 0) {
    goto _L___3;
  } else {
    if ((int )program_mode == 3) {
      _L___3: /* CIL Label */ ;
    } else {
      if (signal_number == 2) {
        goto _L___2;
      } else {
        if (signal_number == 3) {
          _L___2: /* CIL Label */ 
          goto _L___1;
        } else {
          if (signal_number == 1) {
            _L___1: /* CIL Label */ 
            tmp = signal_is_ignored(signal_number);
            if (tmp) {
              return;
            } else {
              goto _L___3;
            }
          } else {
            goto _L___3;
          }
        }
      }
    }
  }
  tmp___0 = __builtin_constant_p(sizeof(signal_handler));
  if (tmp___0) {
    if (sizeof(signal_handler) <= 16U) {
      if (sizeof(signal_handler) == 1U) {
        __s___1 = (void *)(& signal_handler);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(& signal_handler);
        __u = (union __anonunion___u_96 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(signal_handler)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_96 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_96 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_96 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_96 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_96 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_96 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_96 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_96 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_96 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_96 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_96 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_96 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_96 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L___4;
    }
  } else {
    _L___4: /* CIL Label */ 
    __s = (void *)(& signal_handler);
    __builtin_memset(__s, '\000', (int )sizeof(signal_handler));
  }
  signal_handler.__sigaction_handler.sa_handler = handler;
  signal_handler.sa_flags = 268435456;
  sigemptyset(& signal_handler.sa_mask);
  sigaction(signal_number, (struct sigaction  const  * __restrict  )(& signal_handler),
            (struct sigaction * __restrict  )((void *)0));
  return;
}
}
static void my_termination_signal_handler(int signal_number  __attribute__((__unused__)) ) 
{ 

  {
  my_write(fd_any2main_write, (void const   *)(strQuit), 4U);
  return;
}
}
static void my_console_discard_handler(int signal_number  __attribute__((__unused__)) ) 
{ 

  {
  my_write(fd_any2main_write, (void const   *)(strConsoleDiscard), 4U);
  while (1) {
    break;
  }
  return;
}
}
tBoolean calc_termsize(int *_x , int *_y ) 
{ tBoolean retval ;
  struct winsize window_size ;
  unsigned char loopcount ;
  int err ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_97 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;
  int *tmp___0 ;

  {
  retval = (tBoolean )0;
  loopcount = (unsigned char)0;
  loop: 
  tmp = __builtin_constant_p(sizeof(window_size));
  if (tmp) {
    if (sizeof(window_size) <= 16U) {
      if (sizeof(window_size) == 1U) {
        __s___1 = (void *)(& window_size);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(& window_size);
        __u = (union __anonunion___u_97 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(window_size)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_97 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_97 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_97 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_97 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_97 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_97 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_97 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_97 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_97 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_97 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_97 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_97 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_97 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = (void *)(& window_size);
    __builtin_memset(__s, '\000', (int )sizeof(window_size));
  }
  err = ioctl(1, 21523UL, & window_size);
  if (err == 0) {
    (*_x) = (int )window_size.ws_col;
    if ((*_x) > 0) {
      (*_y) = (int )window_size.ws_row;
      if ((*_y) > 0) {
        retval = (unsigned char)1;
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ ;
    }
  } else {
    if (err == -1) {
      tmp___0 = __errno_location();
      if ((*tmp___0) == 4) {
        loopcount = (unsigned char )((int )loopcount + 1);
        if (loopcount < 100) {
          goto loop;
        } else {
          goto _L___2;
        }
      } else {
        goto _L___2;
      }
    } else {
      _L___2: /* CIL Label */ ;
    }
  }
  return (retval);
}
}
static void my_sigwinch_handler(int signal_number  __attribute__((__unused__)) ) 
{ int cols ;
  int rows ;
  char buf___2[4] ;
  unsigned char *temp ;
  tBoolean tmp ;

  {
  tmp = calc_termsize(& cols, & rows);
  if (tmp) {
    if (cols >= 30) {
      if (cols <= 250) {
        if (rows >= 10) {
          if (rows <= 250) {
            temp = (unsigned char *)(buf___2);
            buf___2[0] = (char )'w';
            (*(temp + 1)) = (unsigned char )cols;
            (*(temp + 2)) = (unsigned char )rows;
            my_write(fd_any2main_write, (void const   *)(buf___2), 4U);
          } else {
            goto _L___1;
          }
        } else {
          goto _L___1;
        }
      } else {
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ ;
    }
  }
  while (1) {
    break;
  }
  return;
}
}
__inline static void initialize_signals(void) 
{ void (*tmp)(int signal_number  __attribute__((__unused__)) ) ;

  {
  my_sigaction(1, & my_termination_signal_handler);
  my_sigaction(15, & my_termination_signal_handler);
  my_sigaction(3, & my_termination_signal_handler);
  if ((int )program_mode == 3) {
    tmp = & my_console_discard_handler;
  } else {
    tmp = (void (*)(int  ))1;
  }
  my_sigaction(2, tmp);
  if ((int )program_mode == 0) {
    my_sigaction(28, & my_sigwinch_handler);
  }
  my_sigaction(13, (void (*)(int  ))1);
  my_sigaction(29, (void (*)(int  ))1);
  my_sigaction(23, (void (*)(int  ))1);
  return;
}
}
static char const   strCache[6]  = {      (char const   )'c',      (char const   )'a',      (char const   )'c',      (char const   )'h', 
        (char const   )'e',      (char const   )'\000'};
static char const   strAllow[6]  = {      (char const   )'a',      (char const   )'l',      (char const   )'l',      (char const   )'o', 
        (char const   )'w',      (char const   )'\000'};
static char const   strDeny[5]  = {      (char const   )'d',      (char const   )'e',      (char const   )'n',      (char const   )'y', 
        (char const   )'\000'};
static char const   strAllowDenyExp[27]  = 
  {      (char const   )'\"',      (char const   )'a',      (char const   )'l',      (char const   )'l', 
        (char const   )'o',      (char const   )'w',      (char const   )'\"',      (char const   )' ', 
        (char const   )'o',      (char const   )'r',      (char const   )' ',      (char const   )'\"', 
        (char const   )'d',      (char const   )'e',      (char const   )'n',      (char const   )'y', 
        (char const   )'\"',      (char const   )' ',      (char const   )'e',      (char const   )'x', 
        (char const   )'p',      (char const   )'e',      (char const   )'c',      (char const   )'t', 
        (char const   )'e',      (char const   )'d',      (char const   )'\000'};
static unsigned char allow_uname_in_user_agent  =    (unsigned char)0;
static tConfigSectionCode csc  ;
static char const   * const  strCsc[27]  = 
  {      (char const   * const  )"U",      (char const   * const  )"bookmarks",      (char const   * const  )(strCache),      (char const   * const  )"colors", 
        (char const   * const  )"dont-confirm",      (char const   * const  )"execext-shell",      (char const   * const  )"ftp-login",      (char const   * const  )"ftps-method", 
        (char const   * const  )"home",      (char const   * const  )"http-cookies",      (char const   * const  )"http-proxies",      (char const   * const  )"http-version", 
        (char const   * const  )"https-cookies",      (char const   * const  )"https-proxies",      (char const   * const  )"jumps",      (char const   * const  )"keymap", 
        (char const   * const  )"languages",      (char const   * const  )"local-cgi",      (char const   * const  )"local-dir-format",      (char const   * const  )"local-dir-sort", 
        (char const   * const  )"may-write",      (char const   * const  )"news-server-default",      (char const   * const  )"redirections",      (char const   * const  )"scroll-bars", 
        (char const   * const  )"search-engine",      (char const   * const  )"termwintitle",      (char const   * const  )"user-agent"};
static tBoolean inside_comment  ;
static tBoolean is_line_indented  ;
static tBoolean allow_this  ;
static tKeymapKind current_keymap_kind  ;
static size_t linecount  ;
static size_t wordcount  ;
static char const   *wordstart  ;
static char const   *ptr  ;
static char *ftp_login_user  =    (char *)((void *)0);
static char *ftp_login_password  =    (char *)((void *)0);
static tConfigLogin *last_ftp_login  =    (tConfigLogin *)((void *)0);
static char *current_keymap_keystr  =    (char *)((void *)0);
static tBoolean is_word(char const   *str ) 
{ size_t len ;
  int tmp___1 ;
  size_t tmp___2 ;
  tBoolean tmp___3 ;

  {
  len = (size_t )((ptr - wordstart) - 1);
  if (len > 0U) {
    tmp___2 = strlen(str);
    if (len == tmp___2) {
      tmp___3 = my_memdiff((void const   *)wordstart, (void const   *)str, len);
      if (tmp___3) {
        goto _L___0;
      } else {
        tmp___1 = 1;
      }
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ 
    tmp___1 = 0;
  }
  return ((unsigned char )tmp___1);
}
}
static void copy_word(char *dest ) 
{ size_t len ;
  size_t max ;

  {
  len = (size_t )((ptr - wordstart) - 1);
  max = (size_t )2048;
  if (len > max) {
    len = max;
  }
  memcpy((void * __restrict  )dest, (void const   * __restrict  )wordstart, len);
  (*(dest + len)) = (char )'\000';
  return;
}
}
static void warn_section(tConfigSectionCode c , char const   *str ) 
{ char buf___2[1024] ;
  char *spfbuf ;

  {
  my_spf(buf___2, 1024U, & spfbuf, "configuration section %s (line %d): %s", strCsc[c],
         linecount, str);
  show_warning((char const   *)spfbuf);
  while (1) {
    if ((unsigned int )(buf___2) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  return;
}
}
__inline static void warn_section_fwdact(tConfigSectionCode c , char const   *str ) 
{ char *spfbuf ;

  {
  if ((int const   )(*str) == 70) {
    str ++;
  }
  my_spf(strbuf, 4096U, & spfbuf, strFwdact, str, "; skipping section");
  warn_section(c, (char const   *)(strbuf));
  while (1) {
    if ((unsigned int )(strbuf) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  return;
}
}
__inline static void warn_section_wordcount(void) 
{ 

  {
  warn_section(csc, "too many arguments in line");
  inside_comment = (unsigned char)1;
  return;
}
}
__inline static tMbsIndex do_lookup_csc(void) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___29 ;
  size_t tmp___30 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___45 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )26;
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    tmp___55 = __builtin_constant_p(strbuf);
    if (tmp___55) {
      tmp___56 = __builtin_constant_p(strCsc[idx]);
      if (tmp___56) {
        __s1_len = strlen((char const   *)(strbuf));
        __s2_len = strlen((char const   *)strCsc[idx]);
        if (! ((unsigned int )((void const   *)(strbuf + 1)) - (unsigned int )((void const   *)(strbuf)) ==
               1U)) {
          goto _L___172;
        } else {
          if (__s1_len >= 4U) {
            _L___172: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)(strCsc[idx] + 1)) - (unsigned int )((void const   *)strCsc[idx]) ==
                   1U)) {
              goto _L___171;
            } else {
              if (__s2_len >= 4U) {
                _L___171: /* CIL Label */ 
                tmp___57 = 1;
              } else {
                goto _L___170;
              }
            }
          } else {
            _L___170: /* CIL Label */ 
            tmp___57 = 0;
          }
        }
        if (tmp___57) {
          if (__s1_len < __s2_len) {
            tmp___30 = __s1_len;
          } else {
            tmp___30 = __s2_len;
          }
          tmp___29 = memcmp((void const   *)((char const   *)(strbuf)), (void const   *)((char const   *)strCsc[idx]),
                            tmp___30 + 1U);
        } else {
          goto _L___174;
        }
      } else {
        goto _L___174;
      }
    } else {
      _L___174: /* CIL Label */ 
      tmp___54 = __builtin_constant_p(strbuf);
      if (tmp___54) {
        if ((unsigned int )((void const   *)(strbuf + 1)) - (unsigned int )((void const   *)(strbuf)) ==
            1U) {
          __s1_len = strlen((char const   *)(strbuf));
          if (__s1_len < 4U) {
            tmp___45 = __builtin_constant_p(strCsc[idx]);
            if (tmp___45) {
              if ((unsigned int )((void const   *)(strCsc[idx] + 1)) - (unsigned int )((void const   *)strCsc[idx]) ==
                  1U) {
                __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)(strbuf)) +
                                                        0)) - (int const   )(*((unsigned char const   *)((char const   *)strCsc[idx]) +
                                                                               0)));
                if (__s1_len > 0U) {
                  if (__result___37 == 0) {
                    __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)(strbuf)) +
                                                            1)) - (int const   )(*((unsigned char const   *)((char const   *)strCsc[idx]) +
                                                                                   1)));
                    if (__s1_len > 1U) {
                      if (__result___37 == 0) {
                        __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)(strbuf)) +
                                                                2)) - (int const   )(*((unsigned char const   *)((char const   *)strCsc[idx]) +
                                                                                       2)));
                        if (__s1_len > 2U) {
                          if (__result___37 == 0) {
                            __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)(strbuf)) +
                                                                    3)) - (int const   )(*((unsigned char const   *)((char const   *)strCsc[idx]) +
                                                                                           3)));
                          } else {
                            goto _L___133;
                          }
                        } else {
                          _L___133: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___134;
                      }
                    } else {
                      _L___134: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___135;
                  }
                } else {
                  _L___135: /* CIL Label */ ;
                }
                tmp___29 = __result___37;
              } else {
                goto _L___139;
              }
            } else {
              _L___139: /* CIL Label */ 
              __s2___6 = (unsigned char const   *)((char const   *)strCsc[idx]);
              __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)(strbuf)) +
                                                      0)) - (int const   )(*(__s2___6 +
                                                                             0)));
              if (__s1_len > 0U) {
                if (__result___38 == 0) {
                  __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)(strbuf)) +
                                                          1)) - (int const   )(*(__s2___6 +
                                                                                 1)));
                  if (__s1_len > 1U) {
                    if (__result___38 == 0) {
                      __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)(strbuf)) +
                                                              2)) - (int const   )(*(__s2___6 +
                                                                                     2)));
                      if (__s1_len > 2U) {
                        if (__result___38 == 0) {
                          __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)(strbuf)) +
                                                                  3)) - (int const   )(*(__s2___6 +
                                                                                         3)));
                        } else {
                          goto _L___136;
                        }
                      } else {
                        _L___136: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___137;
                    }
                  } else {
                    _L___137: /* CIL Label */ ;
                  }
                } else {
                  goto _L___138;
                }
              } else {
                _L___138: /* CIL Label */ ;
              }
              tmp___29 = __result___38;
            }
          } else {
            goto _L___169;
          }
        } else {
          goto _L___169;
        }
      } else {
        _L___169: /* CIL Label */ 
        tmp___53 = __builtin_constant_p(strCsc[idx]);
        if (tmp___53) {
          if ((unsigned int )((void const   *)(strCsc[idx] + 1)) - (unsigned int )((void const   *)strCsc[idx]) ==
              1U) {
            __s2_len = strlen((char const   *)strCsc[idx]);
            if (__s2_len < 4U) {
              tmp___52 = __builtin_constant_p(strbuf);
              if (tmp___52) {
                if ((unsigned int )((void const   *)(strbuf + 1)) - (unsigned int )((void const   *)(strbuf)) ==
                    1U) {
                  __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)(strbuf)) +
                                                          0)) - (int const   )(*((unsigned char const   *)((char const   *)strCsc[idx]) +
                                                                                 0)));
                  if (__s2_len > 0U) {
                    if (__result___45 == 0) {
                      __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)(strbuf)) +
                                                              1)) - (int const   )(*((unsigned char const   *)((char const   *)strCsc[idx]) +
                                                                                     1)));
                      if (__s2_len > 1U) {
                        if (__result___45 == 0) {
                          __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)(strbuf)) +
                                                                  2)) - (int const   )(*((unsigned char const   *)((char const   *)strCsc[idx]) +
                                                                                         2)));
                          if (__s2_len > 2U) {
                            if (__result___45 == 0) {
                              __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)(strbuf)) +
                                                                      3)) - (int const   )(*((unsigned char const   *)((char const   *)strCsc[idx]) +
                                                                                             3)));
                            } else {
                              goto _L___159;
                            }
                          } else {
                            _L___159: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___160;
                        }
                      } else {
                        _L___160: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___161;
                    }
                  } else {
                    _L___161: /* CIL Label */ ;
                  }
                  tmp___29 = __result___45;
                } else {
                  goto _L___165;
                }
              } else {
                _L___165: /* CIL Label */ 
                __s1___14 = (unsigned char const   *)((char const   *)(strbuf));
                __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)((char const   *)strCsc[idx]) +
                                                                                           0)));
                if (__s2_len > 0U) {
                  if (__result___46 == 0) {
                    __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)((char const   *)strCsc[idx]) +
                                                                                               1)));
                    if (__s2_len > 1U) {
                      if (__result___46 == 0) {
                        __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                               (int const   )(*((unsigned char const   *)((char const   *)strCsc[idx]) +
                                                                2)));
                        if (__s2_len > 2U) {
                          if (__result___46 == 0) {
                            __result___46 = (int )((int const   )(*(__s1___14 + 3)) -
                                                   (int const   )(*((unsigned char const   *)((char const   *)strCsc[idx]) +
                                                                    3)));
                          } else {
                            goto _L___162;
                          }
                        } else {
                          _L___162: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___163;
                      }
                    } else {
                      _L___163: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___164;
                  }
                } else {
                  _L___164: /* CIL Label */ ;
                }
                tmp___29 = __result___46;
              }
            } else {
              goto _L___167;
            }
          } else {
            goto _L___167;
          }
        } else {
          _L___167: /* CIL Label */ 
          tmp___29 = strcmp((char const   *)(strbuf), (char const   *)strCsc[idx]);
        }
      }
    }
    res = tmp___29;
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
__inline static void lookup_csc(void) 
{ tMbsIndex idx ;
  tMbsIndex tmp ;
  char buf___2[1024] ;
  char *spfbuf ;

  {
  copy_word(strbuf);
  csc = (unsigned char)0;
  if ((ptr - wordstart) - 1 > 0) {
    tmp = do_lookup_csc();
    idx = tmp;
    if ((int )idx > 0) {
      csc = (unsigned char )idx;
    }
  }
  if ((int )csc == 0) {
    my_spf(buf___2, sizeof(buf___2), & spfbuf, "unknown section name \"%s\"; skipping section",
           strbuf);
    show_warning((char const   *)spfbuf);
    while (1) {
      if ((unsigned int )(buf___2) != (unsigned int )spfbuf) {
        memory_deallocate_ll((void const   *)spfbuf);
      }
      break;
    }
  }
  return;
}
}
static void interpret_portnumber(char *str , tPortnumber *dest , tPortnumber _default ,
                                 tBoolean none2zero ) 
{ tPortnumber portnumber ;
  char *temp ;
  int _portnumber ;
  register unsigned short __v ;
  register unsigned short __x ;
  int tmp ;
  char *tmp___1 ;

  {
  if ((unsigned int )str != (unsigned int )((void *)0)) {
    temp = strrchr((char const   *)str, ':');
    if ((unsigned int )temp != (unsigned int )((void *)0)) {
      tmp___1 = strchr((char const   *)(temp + 1), ']');
      if ((unsigned int )tmp___1 == (unsigned int )((void *)0)) {
        (*temp) = (char )'\000';
        my_atoi((char const   *)(temp + 1), & _portnumber, (char const   **)((void *)0),
                99999);
        if (_portnumber >= 0) {
          if (_portnumber <= 65535) {
            __x = (unsigned short )_portnumber;
            tmp = __builtin_constant_p(__x);
            if (tmp) {
              __v = (unsigned short )((((int )__x >> 8) & 255) | (((int )__x & 255) <<
                                                                  8));
            } else {
              __asm__  ("rorw $8, %w0": "=r" (__v): "0" (__x): "cc");
            }
            portnumber = __v;
          } else {
            goto _L;
          }
        } else {
          _L: /* CIL Label */ 
          portnumber = _default;
        }
      } else {
        goto _L___1;
      }
    } else {
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ 
    if (none2zero) {
      portnumber = (unsigned short)0;
    } else {
      portnumber = _default;
    }
  }
  (*dest) = portnumber;
  return;
}
}
__inline static void handle_proxylinepart(void) 
{ tConfigProxy *p ;
  tConfigProxy *tmp ;
  tBoolean tmp___0 ;
  register unsigned short __v ;
  register unsigned short __x ;
  int tmp___1 ;
  tConfigProxy *p___0 ;

  {
  if (wordcount == 0U) {
    tmp = (tConfigProxy *)memory_allocate_ll(sizeof(tConfigProxy ));
    p = tmp;
    p->next = config.http_proxies;
    config.http_proxies = p;
    tmp___0 = is_word(strNone);
    if (! tmp___0) {
      p->proxy_hostname = my_strndup_tolower(wordstart, (unsigned int )((ptr - wordstart) -
                                                                        1));
    }
    __x = (unsigned short)8080;
    tmp___1 = __builtin_constant_p(__x);
    if (tmp___1) {
      __v = (unsigned short )((((int )__x >> 8) & 255) | (((int )__x & 255) << 8));
    } else {
      __asm__  ("rorw $8, %w0": "=r" (__v): "0" (__x): "cc");
    }
    interpret_portnumber(p->proxy_hostname, & p->proxy_portnumber, __v, (unsigned char)1);
  } else {
    p___0 = config.http_proxies;
    if ((unsigned int )p___0 == (unsigned int )((void *)0)) {
      return;
    }
    switch ((int )wordcount) {
    case 1: 
    p___0->hosts_pattern = my_strndup_tolower(wordstart, (unsigned int )((ptr - wordstart) -
                                                                         1));
    interpret_portnumber(p___0->hosts_pattern, & p___0->hosts_portnumber, (unsigned short)0,
                         (unsigned char)1);
    break;
    case 2: 
    p___0->auth_user = my_strndup(wordstart, (unsigned int )((ptr - wordstart) - 1));
    break;
    case 3: 
    p___0->auth_pass = my_strndup(wordstart, (unsigned int )((ptr - wordstart) - 1));
    break;
    default: 
    warn_section_wordcount();
    break;
    }
  }
  return;
}
}
static void handle_word(void) 
{ char const   *dis ;
  int value ;
  char ch ;
  int value___0 ;
  char ch___0 ;
  size_t *target ;
  char const   *temp2 ;
  tBoolean tmp ;
  int value___1 ;
  tBoolean tmp___0 ;
  tBoolean tmp___1 ;
  tBoolean tmp___2 ;
  tBoolean tmp___3 ;
  tBoolean tmp___4 ;
  tBoolean tmp___5 ;
  tBoolean tmp___6 ;
  tBoolean tmp___7 ;
  tBoolean tmp___8 ;
  tBoolean tmp___9 ;
  tBoolean tmp___10 ;
  tBoolean tmp___11 ;
  tConfigProtocolVersion *v ;
  tConfigProtocolVersion *tmp___12 ;
  tBoolean tmp___13 ;
  tBoolean tmp___14 ;
  tBoolean tmp___15 ;
  tBoolean tmp___16 ;
  tConfigCookie *cc ;
  tConfigCookie *tmp___17 ;
  tConfigLogin *l ;
  tConfigLogin *tmp___18 ;
  tPortnumber tmp___19 ;
  tConfigJump *j ;
  tConfigJump *tmp___20 ;
  tConfigJump *j___0 ;
  unsigned short count___2 ;
  unsigned short maxcount ;
  tConfigLocaldirsort *s ;
  tConfigLocaldirsort *tmp___22 ;
  tConfigLocaldirformat *s___0 ;
  tConfigLocaldirformat *tmp___23 ;
  char const   *errstr ;
  unsigned char regres ;

  {
  if ((unsigned int )wordstart == (unsigned int )((void *)0)) {
    goto _L;
  } else {
    if ((ptr - wordstart) - 1 <= 0) {
      _L: /* CIL Label */ 
      return;
    }
  }
  if (! is_line_indented) {
    if (wordcount == 0U) {
      dis = (char const   *)((void *)0);
      lookup_csc();
      switch ((int )csc) {
      case 17: 
      dis = "Flocal CGI";
      break;
      case 5: 
      dis = strFexecext;
      break;
      case 12: ;
      case 7: ;
      case 13: 
      dis = "FTLS";
      break;
      default: ;
      break;
      }
      if ((unsigned int )dis != (unsigned int )((void *)0)) {
        warn_section_fwdact(csc, dis);
        csc = (unsigned char)0;
      }
      if ((int )csc == 0) {
        inside_comment = (unsigned char)1;
      } else {
        if ((int )csc == 15) {
          current_keymap_kind = (unsigned char)0;
        }
      }
      goto out;
    }
    switch ((int )csc) {
    case 16: ;
    while (1) {
      if ((unsigned int )config.languages != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)config.languages);
      }
      break;
    }
    config.languages = my_strndup(wordstart, (unsigned int )((ptr - wordstart) - 1));
    break;
    case 25: ;
    if (wordcount > 1U) {
      warn_section_wordcount();
    } else {
      copy_word(strbuf);
      my_atoi((char const   *)(strbuf), & value, (char const   **)((void *)0), 9);
      if (value > 0) {
        config.flags |= 8U;
      }
    }
    break;
    case 26: 
    ch = (char )(*wordstart);
    if ((int )ch < 48) {
      goto _L___1;
    } else {
      if ((int )ch > 51) {
        _L___1: /* CIL Label */ 
        goto _L___0;
      } else {
        if ((ptr - wordstart) - 1 > 1) {
          _L___0: /* CIL Label */ 
          warn_section((unsigned char)26, "number expected (0..3)");
        } else {
          allow_uname_in_user_agent = (unsigned char )((int )ch - 48);
        }
      }
    }
    break;
    case 2: 
    copy_word(strbuf);
    if ((int )strbuf[0] >= 65) {
      if ((int )strbuf[0] <= 90) {
        ch___0 = (char )((int )strbuf[0] + 32);
      } else {
        goto _L___2;
      }
    } else {
      _L___2: /* CIL Label */ 
      ch___0 = strbuf[0];
    }
    if ((int )ch___0 == 114) {
      if ((int )strbuf[1] == 58) {
        target = & config.ramcachesize;
        my_atoi((char const   *)(strbuf + 2), & value___0, & temp2, 1048576);
        if ((int const   )(*temp2) >= 65) {
          if ((int const   )(*temp2) <= 90) {
            ch___0 = (char )((int const   )(*temp2) + 32);
          } else {
            goto _L___3;
          }
        } else {
          _L___3: /* CIL Label */ 
          ch___0 = (char )(*temp2);
        }
        if ((int )ch___0 == 107) {
          value___0 *= 1024;
        } else {
          if ((int )ch___0 == 109) {
            if (value___0 > 100) {
              value___0 = 100;
            }
            value___0 *= 1048576;
          }
        }
        if (value___0 > 104857600) {
          value___0 = 104857600;
        }
        (*target) = (unsigned int )value___0;
      } else {
        goto _L___4;
      }
    } else {
      _L___4: /* CIL Label */ ;
    }
    break;
    case 8: 
    memory_deallocate_ll((void const   *)config.home_uri);
    tmp = is_word(strOff);
    if (tmp) {
      config.home_uri = (char const   *)((void *)0);
    } else {
      config.home_uri = my_strndup(wordstart, (unsigned int )((ptr - wordstart) -
                                                              1));
    }
    break;
    case 22: 
    copy_word(strbuf);
    my_atoi((char const   *)(strbuf), & value___1, (char const   **)((void *)0), 99);
    if (value___1 < 3) {
      value___1 = 3;
    } else {
      if (value___1 > 20) {
        value___1 = 20;
      }
    }
    config.redirections = (unsigned char )value___1;
    break;
    case 24: ;
    while (1) {
      if ((unsigned int )config.search_engine != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)config.search_engine);
      }
      break;
    }
    config.search_engine = my_strndup(wordstart, (unsigned int )((ptr - wordstart) -
                                                                 1));
    break;
    case 1: ;
    while (1) {
      if ((unsigned int )config.bookmarks != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)config.bookmarks);
      }
      break;
    }
    config.bookmarks = my_strndup(wordstart, (unsigned int )((ptr - wordstart) - 1));
    break;
    case 3: 
    tmp___1 = is_word(strOff);
    if (tmp___1) {
      config.flags |= 1U;
    } else {
      tmp___0 = is_word(strReverse);
      if (tmp___0) {
        config.flags |= 2U;
      }
    }
    break;
    case 4: 
    tmp___9 = is_word(strQuit);
    if (tmp___9) {
      config.flags |= 16U;
    } else {
      tmp___8 = is_word(strClose);
      if (tmp___8) {
        config.flags |= 32U;
      } else {
        tmp___7 = is_word("overwrite");
        if (tmp___7) {
          config.flags |= 64U;
        } else {
          tmp___6 = is_word("form-submit");
          if (tmp___6) {
            config.flags |= 128U;
          } else {
            tmp___5 = is_word("form-reset");
            if (tmp___5) {
              config.flags |= 256U;
            } else {
              tmp___4 = is_word("form-repost");
              if (tmp___4) {
                config.flags |= 512U;
              } else {
                tmp___3 = is_word("enforce-html");
                if (tmp___3) {
                  config.flags |= 1024U;
                } else {
                  tmp___2 = is_word("enable");
                  if (tmp___2) {
                    config.flags |= 2048U;
                  }
                }
              }
            }
          }
        }
      }
    }
    break;
    case 20: ;
    break;
    case 21: ;
    if (wordcount > 1U) {
      warn_section_wordcount();
    } else {
      while (1) {
        if ((unsigned int )config.news_server != (unsigned int )((void *)0)) {
          memory_deallocate_ll((void const   *)config.news_server);
        }
        break;
      }
      config.news_server = my_strndup_tolower(wordstart, (unsigned int )((ptr - wordstart) -
                                                                         1));
    }
    break;
    case 15: ;
    if (wordcount > 1U) {
      warn_section_wordcount();
    } else {
      tmp___11 = is_word("command");
      if (tmp___11) {
        current_keymap_kind = (unsigned char)1;
      } else {
        tmp___10 = is_word("line-input");
        if (tmp___10) {
          current_keymap_kind = (unsigned char)2;
        }
      }
    }
    break;
    }
  } else {
    switch ((int )csc) {
    case 0: 
    inside_comment = (unsigned char)1;
    break;
    case 11: ;
    if (wordcount == 0U) {
      tmp___12 = (tConfigProtocolVersion *)memory_allocate_ll(sizeof(tConfigProtocolVersion ));
      v = tmp___12;
      v->hosts_pattern = my_strndup_tolower(wordstart, (unsigned int )((ptr - wordstart) -
                                                                       1));
      interpret_portnumber(v->hosts_pattern, & v->hosts_portnumber, (unsigned short)0,
                           (unsigned char)1);
      v->next = config.http_version;
      config.http_version = v;
    } else {
      if (wordcount == 1U) {
        tmp___13 = is_word(str1dot0);
        if (tmp___13) {
          goto _L___5;
        } else {
          tmp___14 = is_word(str1dot1);
          if (tmp___14) {
            _L___5: /* CIL Label */ 
            (config.http_version)->protstr = my_strndup(wordstart, (unsigned int )((ptr -
                                                                                    wordstart) -
                                                                                   1));
          } else {
            warn_section((unsigned char)11, strBadValue);
          }
        }
      } else {
        warn_section_wordcount();
      }
    }
    break;
    case 10: 
    handle_proxylinepart();
    break;
    case 9: ;
    switch ((int )wordcount) {
    case 0: 
    tmp___16 = is_word(strAllow);
    if (tmp___16) {
      allow_this = (unsigned char)1;
    } else {
      tmp___15 = is_word(strDeny);
      if (! tmp___15) {
        warn_section(csc, strAllowDenyExp);
      }
      allow_this = (unsigned char)0;
    }
    break;
    case 1: 
    tmp___17 = (tConfigCookie *)memory_allocate_ll(sizeof(tConfigCookie ));
    cc = tmp___17;
    cc->hosts_pattern = my_strndup_tolower(wordstart, (unsigned int )((ptr - wordstart) -
                                                                      1));
    if (allow_this) {
      cc->flags = (unsigned char )((int )cc->flags | 1);
    }
    cc->next = config.http_cookies;
    config.http_cookies = cc;
    break;
    default: 
    warn_section_wordcount();
    break;
    }
    break;
    case 6: ;
    if (wordcount == 0U) {
      while (1) {
        if ((unsigned int )ftp_login_user != (unsigned int )((void *)0)) {
          memory_deallocate_ll((void const   *)ftp_login_user);
          ftp_login_user = (char *)((void *)0);
        }
        break;
      }
      ftp_login_user = my_strndup(wordstart, (unsigned int )((ptr - wordstart) - 1));
    } else {
      if (wordcount == 1U) {
        while (1) {
          if ((unsigned int )ftp_login_password != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)ftp_login_password);
            ftp_login_password = (char *)((void *)0);
          }
          break;
        }
        ftp_login_password = my_strndup(wordstart, (unsigned int )((ptr - wordstart) -
                                                                   1));
      } else {
        if (wordcount == 2U) {
          tmp___18 = (tConfigLogin *)memory_allocate_ll(sizeof(tConfigLogin ));
          l = tmp___18;
          l->user = ftp_login_user;
          l->password = ftp_login_password;
          ftp_login_password = (char *)((void *)0);
          ftp_login_user = ftp_login_password;
          l->hosts_pattern = my_strndup_tolower(wordstart, (unsigned int )((ptr -
                                                                            wordstart) -
                                                                           1));
          tmp___19 = rp2portnumber((unsigned char)3);
          interpret_portnumber(l->hosts_pattern, & l->hosts_portnumber, tmp___19,
                               (unsigned char)1);
          if ((unsigned int )last_ftp_login == (unsigned int )((void *)0)) {
            config.ftp_login = l;
          } else {
            last_ftp_login->next = l;
          }
          last_ftp_login = l;
        }
      }
    }
    break;
    case 14: ;
    if (wordcount == 0U) {
      tmp___20 = (tConfigJump *)memory_allocate_ll(sizeof(tConfigJump ));
      j = tmp___20;
      j->next = config.jumps;
      config.jumps = j;
      j->name = my_strndup(wordstart, (unsigned int )((ptr - wordstart) - 1));
    } else {
      if (wordcount == 1U) {
        (config.jumps)->uri = my_strndup(wordstart, (unsigned int )((ptr - wordstart) -
                                                                    1));
      } else {
        if (wordcount < 50U) {
          j___0 = config.jumps;
          count___2 = j___0->argcount;
          maxcount = j___0->maxargcount;
          if ((int )count___2 >= (int )maxcount) {
            if ((int )maxcount < 6) {
              maxcount = (unsigned short )((int )maxcount + 2);
            } else {
              maxcount = (unsigned short )((int )maxcount + 5);
            }
            j___0->arg = (char **)memory_reallocate_ll((void *)j___0->arg, (unsigned int )maxcount *
                                                                           sizeof(char *));
            j___0->maxargcount = maxcount;
          }
          (*(j___0->arg + count___2)) = my_strndup(wordstart, (unsigned int )((ptr -
                                                                               wordstart) -
                                                                              1));
          j___0->argcount = (unsigned short )((int )j___0->argcount + 1);
        } else {
          warn_section_wordcount();
        }
      }
    }
    break;
    case 19: ;
    if (wordcount == 0U) {
      tmp___22 = (tConfigLocaldirsort *)memory_allocate_ll(sizeof(tConfigLocaldirsort ));
      s = tmp___22;
      s->next = config.lds;
      config.lds = s;
      s->path_pattern = my_strndup(wordstart, (unsigned int )((ptr - wordstart) -
                                                              1));
    } else {
      if (wordcount == 1U) {
        (config.lds)->sorting = my_strndup(wordstart, (unsigned int )((ptr - wordstart) -
                                                                      1));
        check_localdirsort((config.lds)->sorting);
      } else {
        warn_section_wordcount();
      }
    }
    break;
    case 18: ;
    if (wordcount == 0U) {
      tmp___23 = (tConfigLocaldirformat *)memory_allocate_ll(sizeof(tConfigLocaldirformat ));
      s___0 = tmp___23;
      s___0->next = config.ldf;
      config.ldf = s___0;
      s___0->path_pattern = my_strndup(wordstart, (unsigned int )((ptr - wordstart) -
                                                                  1));
    } else {
      if (wordcount == 1U) {
        (config.ldf)->format = my_strndup(wordstart, (unsigned int )((ptr - wordstart) -
                                                                     1));
      } else {
        warn_section_wordcount();
      }
    }
    break;
    case 15: ;
    if ((int )current_keymap_kind == 0) {
      warn_section((unsigned char)15, "bad keymap kind; skipping section");
      csc = (unsigned char)0;
      inside_comment = (unsigned char)1;
    } else {
      if (wordcount == 0U) {
        while (1) {
          if ((unsigned int )current_keymap_keystr != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)current_keymap_keystr);
          }
          break;
        }
        current_keymap_keystr = my_strndup(wordstart, (unsigned int )((ptr - wordstart) -
                                                                      1));
      } else {
        if (wordcount == 1U) {
          if ((unsigned int )current_keymap_keystr != (unsigned int )((void *)0)) {
            copy_word(strbuf);
            if ((int )current_keymap_kind == 2) {
              regres = keymap_lineinput_key_register((char const   *)current_keymap_keystr,
                                                     (char const   *)(strbuf));
            } else {
              regres = keymap_command_key_register((char const   *)current_keymap_keystr,
                                                   (char const   *)(strbuf));
            }
            switch ((int )regres) {
            case 1: 
            errstr = "bad key identifier";
            break;
            case 2: 
            errstr = "repeatedly defined key";
            break;
            case 3: 
            errstr = "bad command identifier";
            break;
            default: 
            errstr = (char const   *)((void *)0);
            }
            if ((unsigned int )errstr != (unsigned int )((void *)0)) {
              warn_section((unsigned char)15, errstr);
            }
          }
        } else {
          warn_section_wordcount();
        }
      }
    }
    break;
    default: 
    warn_section(csc, "no subsections possible; skipping remainder of section");
    csc = (unsigned char)0;
    inside_comment = (unsigned char)1;
    break;
    }
  }
  out: 
  wordstart = (char const   *)((void *)0);
  wordcount ++;
  return;
}
}
static void cleanup_on_newline(void) 
{ 

  {
  while (1) {
    if ((unsigned int )ftp_login_user != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)ftp_login_user);
      ftp_login_user = (char *)((void *)0);
    }
    break;
  }
  while (1) {
    if ((unsigned int )ftp_login_password != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)ftp_login_password);
      ftp_login_password = (char *)((void *)0);
    }
    break;
  }
  while (1) {
    if ((unsigned int )current_keymap_keystr != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)current_keymap_keystr);
      current_keymap_keystr = (char *)((void *)0);
    }
    break;
  }
  return;
}
}
static void rtconfig_parse(char const   *buf___2 , size_t count___2 ) 
{ char ch ;
  char const   *tmp ;
  size_t tmp___0 ;

  {
  wordstart = (char const   *)((void *)0);
  wordcount = 0U;
  csc = (unsigned char)0;
  is_line_indented = (unsigned char)0;
  inside_comment = is_line_indented;
  linecount = 1U;
  ptr = buf___2;
  while (1) {
    tmp___0 = count___2;
    count___2 --;
    if (! (tmp___0 > 0U)) {
      break;
    }
    tmp = ptr;
    ptr ++;
    ch = (char )(*tmp);
    if ((int )ch == 10) {
      goto _L___1;
    } else {
      if ((int )ch == 13) {
        _L___1: /* CIL Label */ 
        if (! inside_comment) {
          handle_word();
        }
        is_line_indented = (unsigned char)0;
        inside_comment = is_line_indented;
        wordcount = 0U;
        linecount ++;
        cleanup_on_newline();
      } else {
        if (! inside_comment) {
          if ((int )ch == 32) {
            goto _L___0;
          } else {
            if ((int )ch == 9) {
              _L___0: /* CIL Label */ 
              if (wordcount == 0U) {
                if ((unsigned int )wordstart == (unsigned int )((void *)0)) {
                  is_line_indented = (unsigned char)1;
                } else {
                  goto _L;
                }
              } else {
                _L: /* CIL Label */ ;
              }
              handle_word();
            } else {
              if ((unsigned int )wordstart == (unsigned int )((void *)0)) {
                if ((int )ch == 35) {
                  inside_comment = (unsigned char)1;
                } else {
                  wordstart = ptr - 1;
                }
              }
            }
          }
        }
      }
    }
  }
  handle_word();
  cleanup_on_newline();
  return;
}
}
__inline static void rtconfig_handle(void) ;
static char const   strRtc[25]  = 
  {      (char const   )'R',      (char const   )'u',      (char const   )'n',      (char const   )'-', 
        (char const   )'t',      (char const   )'i',      (char const   )'m',      (char const   )'e', 
        (char const   )' ',      (char const   )'c',      (char const   )'o',      (char const   )'n', 
        (char const   )'f',      (char const   )'i',      (char const   )'g',      (char const   )'u', 
        (char const   )'r',      (char const   )'a',      (char const   )'t',      (char const   )'i', 
        (char const   )'o',      (char const   )'n',      (char const   )':',      (char const   )' ', 
        (char const   )'\000'};
__inline static void rtconfig_handle(void) 
{ char path[1024] ;
  char *spfbuf_path ;
  char *spfbuf ;
  int fd ;
  struct stat statbuf ;
  off_t filesize ;
  void *filebuf ;
  int *tmp ;
  char *tmp___0 ;
  int *tmp___1 ;
  int *tmp___2 ;
  int *tmp___3 ;
  char *tmp___4 ;
  int *tmp___5 ;
  int tmp___6 ;
  int *tmp___7 ;
  char *tmp___8 ;
  int *tmp___9 ;
  tConfigProtocolVersion *head ;
  tConfigProtocolVersion *temp ;
  tConfigProtocolVersion *next ;
  tConfigJump *head___0 ;
  tConfigJump *temp___0 ;
  tConfigJump *next___0 ;
  tConfigProxy *head___1 ;
  tConfigProxy *temp___1 ;
  tConfigProxy *next___1 ;
  tConfigLocaldirsort *head___2 ;
  tConfigLocaldirsort *temp___2 ;
  tConfigLocaldirsort *next___2 ;
  tConfigLocaldirformat *head___3 ;
  tConfigLocaldirformat *temp___3 ;
  tConfigLocaldirformat *next___3 ;
  tConfigCookie *head___4 ;
  tConfigCookie *temp___4 ;
  tConfigCookie *next___4 ;

  {
  if (! (config.flags & 131072U)) {
    goto no_external_rtcfg;
  }
  my_spf(path, 1024U, & spfbuf_path, strPercsPercs, config.path, "config");
  fd = my_open((char const   *)spfbuf_path, 0);
  if (fd == -1) {
    tmp___2 = __errno_location();
    if ((*tmp___2) == 2) {
      if (! (! (config.flags & 4U))) {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      tmp = __errno_location();
      tmp___0 = strerror((*tmp));
      tmp___1 = __errno_location();
      my_spf(strbuf, 4096U, & spfbuf, "%scan\'t open \"%s\" (error #%d, %s)", strRtc,
             spfbuf_path, (*tmp___1), tmp___0);
      store_initmsg((char const   *)spfbuf);
      while (1) {
        if ((unsigned int )(strbuf) != (unsigned int )spfbuf) {
          memory_deallocate_ll((void const   *)spfbuf);
        }
        break;
      }
    }
    goto finish;
  }
  tmp___6 = my_fstat(fd, & statbuf);
  if (tmp___6 != 0) {
    tmp___3 = __errno_location();
    tmp___4 = strerror((*tmp___3));
    tmp___5 = __errno_location();
    my_spf(strbuf, 4096U, & spfbuf, "%scan\'t get system information about \"%s\" (error #%d, %s)",
           strRtc, spfbuf_path, (*tmp___5), tmp___4);
    fail_cleanup: 
    store_initmsg((char const   *)spfbuf);
    while (1) {
      if ((unsigned int )(strbuf) != (unsigned int )spfbuf) {
        memory_deallocate_ll((void const   *)spfbuf);
      }
      break;
    }
    goto cleanup_file;
  }
  if (! ((statbuf.st_mode & 61440U) == 32768U)) {
    my_spf(strbuf, 4096U, & spfbuf, "%s\"%s\" isn\'t a regular file", strRtc, spfbuf_path);
    goto fail_cleanup;
  }
  filesize = statbuf.st_size;
  if (filesize <= 0L) {
    my_spf(strbuf, 4096U, & spfbuf, "%sfile \"%s\" is empty", strRtc, spfbuf_path);
    goto fail_cleanup;
  }
  filebuf = mmap((void *)0, (unsigned int )filesize, 1, 2, fd, 0L);
  if ((unsigned int )filebuf == (unsigned int )((void *)-1)) {
    tmp___7 = __errno_location();
    tmp___8 = strerror((*tmp___7));
    tmp___9 = __errno_location();
    my_spf(strbuf, 4096U, & spfbuf, "%scan\'t read file \"%s\" (error #%d, %s)", strRtc,
           spfbuf_path, (*tmp___9), tmp___8);
    goto fail_cleanup;
  }
  madvise(filebuf, (unsigned int )filesize, 2);
  my_spf(strbuf, 4096U, & spfbuf, "%sreading file \"%s\"", strRtc, spfbuf_path);
  store_initmsg((char const   *)spfbuf);
  while (1) {
    if ((unsigned int )(strbuf) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  rtconfig_parse((char const   *)filebuf, (unsigned int )filesize);
  munmap(filebuf, (unsigned int )filesize);
  cleanup_file: 
  my_close(fd);
  finish: 
  while (1) {
    if ((unsigned int )(path) != (unsigned int )spfbuf_path) {
      memory_deallocate_ll((void const   *)spfbuf_path);
    }
    break;
  }
  no_external_rtcfg: 
  while (1) {
    head = (tConfigProtocolVersion *)((void *)0);
    temp = config.http_version;
    while ((unsigned int )temp != (unsigned int )((void *)0)) {
      next = temp->next;
      temp->next = head;
      head = temp;
      temp = next;
    }
    config.http_version = head;
    break;
  }
  while (1) {
    head___0 = (tConfigJump *)((void *)0);
    temp___0 = config.jumps;
    while ((unsigned int )temp___0 != (unsigned int )((void *)0)) {
      next___0 = temp___0->next;
      temp___0->next = head___0;
      head___0 = temp___0;
      temp___0 = next___0;
    }
    config.jumps = head___0;
    break;
  }
  while (1) {
    head___1 = (tConfigProxy *)((void *)0);
    temp___1 = config.http_proxies;
    while ((unsigned int )temp___1 != (unsigned int )((void *)0)) {
      next___1 = temp___1->next;
      temp___1->next = head___1;
      head___1 = temp___1;
      temp___1 = next___1;
    }
    config.http_proxies = head___1;
    break;
  }
  while (1) {
    head___2 = (tConfigLocaldirsort *)((void *)0);
    temp___2 = config.lds;
    while ((unsigned int )temp___2 != (unsigned int )((void *)0)) {
      next___2 = temp___2->next;
      temp___2->next = head___2;
      head___2 = temp___2;
      temp___2 = next___2;
    }
    config.lds = head___2;
    break;
  }
  while (1) {
    head___3 = (tConfigLocaldirformat *)((void *)0);
    temp___3 = config.ldf;
    while ((unsigned int )temp___3 != (unsigned int )((void *)0)) {
      next___3 = temp___3->next;
      temp___3->next = head___3;
      head___3 = temp___3;
      temp___3 = next___3;
    }
    config.ldf = head___3;
    break;
  }
  while (1) {
    head___4 = (tConfigCookie *)((void *)0);
    temp___4 = config.http_cookies;
    while ((unsigned int )temp___4 != (unsigned int )((void *)0)) {
      next___4 = temp___4->next;
      temp___4->next = head___4;
      head___4 = temp___4;
      temp___4 = next___4;
    }
    config.http_cookies = head___4;
    break;
  }
  return;
}
}
__inline static void initialize_config(void) 
{ char const   *langstr ;
  char const   *unamestr ;
  char *temp ;
  char *temp2 ;
  char ch ;
  char const   *tmp ;
  struct utsname uts ;
  char const   *usys ;
  char const   *urel ;
  char const   *umac ;
  int tmp___0 ;

  {
  langstr = strEn;
  if ((unsigned int )config.path == (unsigned int )((void *)0)) {
    tmp = get_homepath();
    my_spf((char *)((void *)0), 0U, & temp, strPercsPercs, tmp, ".retawq/");
    config.path = (char const   *)temp;
  }
  config.home_uri = my_strdup("http://retawq.sourceforge.net/");
  config.ramcachesize = 102400U;
  config.redirections = (unsigned char)10;
  config.char_yes = str2char_(strYes);
  config.char_no = str2char_(strNo);
  config.char_file = str2char_(strFileUc);
  config.char_dir = str2char_(strDirectoryUc);
  ch = str2char_(strLink);
  if ((int )ch >= 97) {
    if ((int )ch <= 122) {
      config.char_link = (char )((int )ch - 32);
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    config.char_link = ch;
  }
  config.console_backspace = (char)8;
  rtconfig_handle();
  my_spf((char *)((void *)0), 0U, & temp, strPercsPercs, config.path, "session");
  config.session_default = (char const   *)temp;
  if ((unsigned int )config.languages == (unsigned int )((void *)0)) {
    config.languages = my_strdup(langstr);
  }
  unamestr = strEmpty;
  if ((int )allow_uname_in_user_agent > 0) {
    tmp___0 = uname(& uts);
    if (tmp___0 == 0) {
      usys = (char const   *)(uts.sysname);
      urel = (char const   *)(uts.release);
      umac = (char const   *)(uts.machine);
      if ((unsigned int )usys == (unsigned int )((void *)0)) {
        goto _L___0;
      } else {
        if ((int const   )(*usys) == 0) {
          _L___0: /* CIL Label */ 
          goto no_uname;
        }
      }
      if ((int )allow_uname_in_user_agent >= 3) {
        if ((unsigned int )umac == (unsigned int )((void *)0)) {
          goto _L___2;
        } else {
          if ((int const   )(*umac) == 0) {
            _L___2: /* CIL Label */ 
            allow_uname_in_user_agent = (unsigned char)2;
          } else {
            goto _L___1;
          }
        }
      } else {
        _L___1: /* CIL Label */ ;
      }
      if ((int )allow_uname_in_user_agent >= 2) {
        if ((unsigned int )urel == (unsigned int )((void *)0)) {
          goto _L___4;
        } else {
          if ((int const   )(*urel) == 0) {
            _L___4: /* CIL Label */ 
            allow_uname_in_user_agent = (unsigned char)1;
          } else {
            goto _L___3;
          }
        }
      } else {
        _L___3: /* CIL Label */ ;
      }
      if ((int )allow_uname_in_user_agent >= 3) {
        my_spf(strbuf, 4096U, & temp, "; %s %s; %s", usys, urel, umac);
      } else {
        if ((int )allow_uname_in_user_agent == 2) {
          my_spf(strbuf, 4096U, & temp, "; %s %s", usys, urel);
        } else {
          my_spf(strbuf, 4096U, & temp, "; %s", usys);
        }
      }
      unamestr = (char const   *)temp;
      no_uname: ;
    }
  }
  my_spf((char *)((void *)0), 0U, & temp2, "retawq/0.2.6b [%s] (%s%s)", langstr, strText,
         unamestr);
  config.user_agent = (char const   *)temp2;
  if ((unsigned int )unamestr != (unsigned int )(strEmpty)) {
    while (1) {
      if ((unsigned int )(strbuf) != (unsigned int )unamestr) {
        memory_deallocate_ll((void const   *)unamestr);
      }
      break;
    }
  }
  return;
}
}
__inline void initialize(int argc , char const   **argv ) 
{ struct stat statbuf ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_100 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
  tmp = my_fstat(0, & statbuf);
  if (tmp == 0) {
    fd_stdin = 0;
    while (1) {
      break;
    }
    fd_keyboard_input = fd_stdin;
    __lfdmbs = (unsigned char )((int )__lfdmbs | 1);
  }
  tmp___0 = my_fstat(1, & statbuf);
  if (tmp___0 == 0) {
    fd_stdout = 1;
    while (1) {
      break;
    }
    __lfdmbs = (unsigned char )((int )__lfdmbs | 2);
  }
  tmp___1 = my_fstat(2, & statbuf);
  if (tmp___1 == 0) {
    fd_stderr = 2;
    while (1) {
      break;
    }
    __lfdmbs = (unsigned char )((int )__lfdmbs | 4);
  }
  precheck_commandline(argc, argv);
  fd_observe_init();
  tmp___2 = __builtin_constant_p(sizeof(config));
  if (tmp___2) {
    if (sizeof(config) <= 16U) {
      if (sizeof(config) == 1U) {
        __s___1 = (void *)(& config);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(& config);
        __u = (union __anonunion___u_100 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(config)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_100 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_100 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_100 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_100 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_100 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_100 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_100 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_100 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_100 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_100 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_100 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_100 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_100 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = (void *)(& config);
    __builtin_memset(__s, '\000', (int )sizeof(config));
  }
  config.flags |= 131072U;
  process_commandline(argc, argv);
  if ((int )program_mode == 0) {
    goto _L___2;
  } else {
    if ((int )program_mode == 3) {
      _L___2: /* CIL Label */ 
      tmp___3 = isatty(fd_stdin);
      if (tmp___3) {
        tmp___4 = isatty(fd_stdout);
        if (tmp___4) {
          goto _L___0;
        } else {
          _L___1: /* CIL Label */ 
          fatal_error(0, "need to be launched on a terminal");
        }
      } else {
        goto _L___1;
      }
    } else {
      _L___0: /* CIL Label */ ;
    }
  }
  initialize_config();
  if ((int )program_mode == 0) {
    initialize_curses();
  } else {
    if ((int )program_mode == 3) {
      prepare_terminal();
    }
  }
  initialize_signals();
  parser_initialize();
  resource_initialize();
  if ((int )program_mode == 0) {
    wclear(stdscr);
  }
  return;
}
}
#pragma merger(0,"/tmp/cil-HBFJhroz.i","-O2")
extern void qsort(void *__base , size_t __nmemb , size_t __size , int (*__compar)(void const   * ,
                                                                                  void const   * ) ) ;
extern char *strstr(char const   *__haystack , char const   *__needle )  __attribute__((__pure__)) ;
extern int strcasecmp(char const   *__s1 , char const   *__s2 )  __attribute__((__pure__)) ;
extern char *getcwd(char *__buf , size_t __size ) ;
char const   strRetawq[7] ;
char const   strMinus[2] ;
char const   strHm[2] ;
char const   strQm[2] ;
char const   strDoubleQuote[2] ;
char const   strSpacedDash[4] ;
char const   strDoubleDot[3] ;
char const   strPercd[3] ;
char const   strBracedNumstr[9] ;
char const   strHexnum[17] ;
char const   strOn[3] ;
char const   strGet[4] ;
char const   strPost[5] ;
char const   strLocalhost[10] ;
char const   strUnknown[10] ;
char const   strImage[6] ;
char const   strCheckbox[9] ;
char const   strButton[7] ;
char const   strLoginFailed[13] ;
char const   strByte[5] ;
char const   strBytes[6] ;
char const   strErrorTrail[17] ;
char const   strHttp[5] ;
char const   strFtp[4] ;
char const   strLocal[6] ;
char const   strFile[5] ;
char const   strAbout[6] ;
char const   strFinger[7] ;
char const   strLocalCgi[10] ;
char const   strNntp[5] ;
char const   strNews[5] ;
char const   strGopher[7] ;
char const   strInfo[5] ;
char const   strMailto[7] ;
char const   strJavascript[11] ;
char const   strHttps[6] ;
char const   strFtps[5] ;
char const   strPop[4] ;
char const   strPops[5] ;
extern chtype acs_map[] ;
extern int LINES ;
extern int COLS ;
extern int resizeterm(int  , int  ) ;
extern int waddch(WINDOW * , chtype  ) ;
extern int waddnstr(WINDOW * , char const   * , int  ) ;
extern int wattr_off(WINDOW * , attr_t  , void * ) ;
extern int wclrtoeol(WINDOW * ) ;
extern int wgetch(WINDOW * ) ;
extern chtype winch(WINDOW * ) ;
extern int wmove(WINDOW * , int  , int  ) ;
extern int wrefresh(WINDOW * ) ;
extern int getmouse(MEVENT * ) ;
void dhm_generic_handler(tDhmGenericData **_dhm_data , void const   *cmddata , tDhmCommand cmd ) ;
int streqcase3(char const   *_str1 , char const   *_str2 ) ;
int strneqcase3(char const   *_str1 , char const   *_str2 , size_t maxlen ) ;
char *my_strncasestr(char const   *haystack , char const   *needle , size_t hlen ) ;
tBoolean my_pattern_matcher(char const   *pattern___0 , char const   *str ) ;
 __attribute__((__noreturn__)) void do_quit_sig(void) ;
void *__memory_allocate_ll(size_t size ) ;
char *my_strdup_tolower(char const   *str ) ;
void fd_observe(int fd , void (*handler)(void * , tFdObservationFlags  ) , void *handler_data ,
                tFdObservationFlags flags ) ;
void fd_multiplex(void) ;
int my_create(char const   *path , int flags , mode_t mode ) ;
ssize_t my_read(int fd , void *buf___2 , size_t count___2 ) ;
unsigned char my_mmap_file_readonly(char const   *filename , void **_b , size_t *_s ) ;
int my_stat(char const   *filename , struct stat *sb ) ;
char const   strRedirection[12] ;
int fd_any2main_read ;
char const   strList[5] ;
char const   strRetr[5] ;
tRpData const   rp_data[19] ;
char const   * const  strResourceState[7] ;
char const   * const  strResourceError[28] ;
char const   * const  strResourceRequestState[6] ;
void user_query_queue(tUserQuery *query ) ;
void resource_custom_conn_start(tResource *resource , unsigned char what , void const   *whatever ) ;
void main_handle_custom_conn(tResource *resource , unsigned char what , void *_x ) ;
void rp2scheme(tResourceProtocol rp , char *dest ) ;
void resource_request_start(tResourceRequest *request ) ;
void resource_request_stop(tResourceRequest *request ) ;
void resource_start_saving(tResource *resource , tCantent const   *cantent , int fd ) ;
void uri_put(tUriData *u ) ;
tCantent *cantent_create(void) ;
void cantent_put(tCantent *cantent ) ;
void cantent_collect_str(tCantent *cantent , char const   *str ) ;
void cantent_collect_title(tCantent *cantent , char const   *title ) ;
void sinking_data_cleanup(tSinkingData *sd ) ;
void sinking_data_deallocate(tSinkingData **_sd ) ;
char const   *htmlify(char const   *src ) ;
char const   *ssc2info(tResourceProtocol rp , tServerStatusCode ssc ) ;
tBoolean resource_ui_conn_ip(tResource const   *resource , char *buf___2 , size_t size ) ;
void deallocate_html_node(tHtmlNode const   *node ) ;
tBoolean htk_forbids_endtag(tHtmlTagKind kind ) ;
tBoolean htk_forbids_pre(tHtmlTagKind kind ) ;
tBoolean htk_is_block(tHtmlTagKind kind ) ;
tBoolean htk_is_par(tHtmlTagKind kind ) ;
void parser_html_start(tCantent *cantent ) ;
tHtmlNode const   *parser_html_next(tBoolean inside_pre ) ;
void parser_html_finish(void) ;
static char strbuf___0[4096]  ;
static char strbuf2[4096]  ;
static char strbuf3[4096]  ;
static char const   strDotSlash[3]  = {      (char const   )'.',      (char const   )'/',      (char const   )'\000'};
static char const   strSlashSlash[3]  = {      (char const   )'/',      (char const   )'/',      (char const   )'\000'};
static char const   strBracedNewWindow[13]  = 
  {      (char const   )'(',      (char const   )'n',      (char const   )'e',      (char const   )'w', 
        (char const   )' ',      (char const   )'w',      (char const   )'i',      (char const   )'n', 
        (char const   )'d',      (char const   )'o',      (char const   )'w',      (char const   )')', 
        (char const   )'\000'};
static char const   strBack[5]  = {      (char const   )'B',      (char const   )'a',      (char const   )'c',      (char const   )'k', 
        (char const   )'\000'};
static char const   strForward[8]  = 
  {      (char const   )'F',      (char const   )'o',      (char const   )'r',      (char const   )'w', 
        (char const   )'a',      (char const   )'r',      (char const   )'d',      (char const   )'\000'};
static char const   strReload[7]  = {      (char const   )'R',      (char const   )'e',      (char const   )'l',      (char const   )'o', 
        (char const   )'a',      (char const   )'d',      (char const   )'\000'};
static char const   strEnforcedReload[16]  = 
  {      (char const   )'E',      (char const   )'n',      (char const   )'f',      (char const   )'o', 
        (char const   )'r',      (char const   )'c',      (char const   )'e',      (char const   )'d', 
        (char const   )' ',      (char const   )'R',      (char const   )'e',      (char const   )'l', 
        (char const   )'o',      (char const   )'a',      (char const   )'d',      (char const   )'\000'};
static char const   strOpenInNewWindow[19]  = 
  {      (char const   )'O',      (char const   )'p',      (char const   )'e',      (char const   )'n', 
        (char const   )' ',      (char const   )'i',      (char const   )'n',      (char const   )' ', 
        (char const   )'N',      (char const   )'e',      (char const   )'w',      (char const   )' ', 
        (char const   )'W',      (char const   )'i',      (char const   )'n',      (char const   )'d', 
        (char const   )'o',      (char const   )'w',      (char const   )'\000'};
static char const   strSource[7]  = {      (char const   )'s',      (char const   )'o',      (char const   )'u',      (char const   )'r', 
        (char const   )'c',      (char const   )'e',      (char const   )'\000'};
static char const   strSourceCode[12]  = 
  {      (char const   )'S',      (char const   )'o',      (char const   )'u',      (char const   )'r', 
        (char const   )'c',      (char const   )'e',      (char const   )' ',      (char const   )'C', 
        (char const   )'o',      (char const   )'d',      (char const   )'e',      (char const   )'\000'};
static char const   strEnableThisElement[20]  = 
  {      (char const   )'E',      (char const   )'n',      (char const   )'a',      (char const   )'b', 
        (char const   )'l',      (char const   )'e',      (char const   )' ',      (char const   )'t', 
        (char const   )'h',      (char const   )'i',      (char const   )'s',      (char const   )' ', 
        (char const   )'E',      (char const   )'l',      (char const   )'e',      (char const   )'m', 
        (char const   )'e',      (char const   )'n',      (char const   )'t',      (char const   )'\000'};
static char const   strContext[8]  = 
  {      (char const   )'C',      (char const   )'o',      (char const   )'n',      (char const   )'t', 
        (char const   )'e',      (char const   )'x',      (char const   )'t',      (char const   )'\000'};
static char const   strShowElementInfo[18]  = 
  {      (char const   )'S',      (char const   )'h',      (char const   )'o',      (char const   )'w', 
        (char const   )' ',      (char const   )'E',      (char const   )'l',      (char const   )'e', 
        (char const   )'m',      (char const   )'e',      (char const   )'n',      (char const   )'t', 
        (char const   )' ',      (char const   )'I',      (char const   )'n',      (char const   )'f', 
        (char const   )'o',      (char const   )'\000'};
static char const   strOpenLinkInNewWindow[24]  = 
  {      (char const   )'O',      (char const   )'p',      (char const   )'e',      (char const   )'n', 
        (char const   )' ',      (char const   )'L',      (char const   )'i',      (char const   )'n', 
        (char const   )'k',      (char const   )' ',      (char const   )'i',      (char const   )'n', 
        (char const   )' ',      (char const   )'N',      (char const   )'e',      (char const   )'w', 
        (char const   )' ',      (char const   )'W',      (char const   )'i',      (char const   )'n', 
        (char const   )'d',      (char const   )'o',      (char const   )'w',      (char const   )'\000'};
static char const   strSelectionEmpty[30]  = 
  {      (char const   )'T',      (char const   )'h',      (char const   )'i',      (char const   )'s', 
        (char const   )' ',      (char const   )'s',      (char const   )'e',      (char const   )'l', 
        (char const   )'e',      (char const   )'c',      (char const   )'t',      (char const   )'i', 
        (char const   )'o',      (char const   )'n',      (char const   )' ',      (char const   )'l', 
        (char const   )'i',      (char const   )'s',      (char const   )'t',      (char const   )' ', 
        (char const   )'i',      (char const   )'s',      (char const   )' ',      (char const   )'e', 
        (char const   )'m',      (char const   )'p',      (char const   )'t',      (char const   )'y', 
        (char const   )'!',      (char const   )'\000'};
static char const   strSaveAs[11]  = 
  {      (char const   )'S',      (char const   )'a',      (char const   )'v',      (char const   )'e', 
        (char const   )' ',      (char const   )'A',      (char const   )'s',      (char const   )'.', 
        (char const   )'.',      (char const   )'.',      (char const   )'\000'};
static char const   strSaveLinkAs[16]  = 
  {      (char const   )'S',      (char const   )'a',      (char const   )'v',      (char const   )'e', 
        (char const   )' ',      (char const   )'L',      (char const   )'i',      (char const   )'n', 
        (char const   )'k',      (char const   )' ',      (char const   )'A',      (char const   )'s', 
        (char const   )'.',      (char const   )'.',      (char const   )'.',      (char const   )'\000'};
static char const   strUriColonSpace[6]  = {      (char const   )'U',      (char const   )'R',      (char const   )'L',      (char const   )':', 
        (char const   )' ',      (char const   )'\000'};
static char const   strSubmitThisForm[17]  = 
  {      (char const   )'S',      (char const   )'u',      (char const   )'b',      (char const   )'m', 
        (char const   )'i',      (char const   )'t',      (char const   )' ',      (char const   )'t', 
        (char const   )'h',      (char const   )'i',      (char const   )'s',      (char const   )' ', 
        (char const   )'F',      (char const   )'o',      (char const   )'r',      (char const   )'m', 
        (char const   )'\000'};
static char const   strCookies[11]  = 
  {      (char const   )'(',      (char const   )'c',      (char const   )'o',      (char const   )'o', 
        (char const   )'k',      (char const   )'i',      (char const   )'e',      (char const   )'s', 
        (char const   )')',      (char const   )' ',      (char const   )'\000'};
static char const   strUcDownload[9]  = 
  {      (char const   )'D',      (char const   )'o',      (char const   )'w',      (char const   )'n', 
        (char const   )'l',      (char const   )'o',      (char const   )'a',      (char const   )'d', 
        (char const   )'\000'};
static char const   strDone[5]  = {      (char const   )'D',      (char const   )'o',      (char const   )'n',      (char const   )'e', 
        (char const   )'\000'};
static char const   * const  strAek[14]  = 
  {      (char const   * const  )(strUnknown),      (char const   * const  )(strLink),      (char const   * const  )"text field",      (char const   * const  )"password field", 
        (char const   * const  )(strCheckbox),      (char const   * const  )"radio button",      (char const   * const  )"submit button",      (char const   * const  )"reset button", 
        (char const   * const  )"file field",      (char const   * const  )"text-area field",      (char const   * const  )"selection",      (char const   * const  )(strButton), 
        (char const   * const  )(strImage),      (char const   * const  )"hidden field"};
static char const   strUcClose[6]  = {      (char const   )'C',      (char const   )'l',      (char const   )'o',      (char const   )'s', 
        (char const   )'e',      (char const   )'\000'};
static char const   strUcQuit[5]  = {      (char const   )'Q',      (char const   )'u',      (char const   )'i',      (char const   )'t', 
        (char const   )'\000'};
static char const   strMouseFlip[11]  = 
  {      (char const   )'m',      (char const   )'o',      (char const   )'u',      (char const   )'s', 
        (char const   )'e',      (char const   )'-',      (char const   )'f',      (char const   )'l', 
        (char const   )'i',      (char const   )'p',      (char const   )'\000'};
static char const   strMouseOff[10]  = 
  {      (char const   )'m',      (char const   )'o',      (char const   )'u',      (char const   )'s', 
        (char const   )'e',      (char const   )'-',      (char const   )'o',      (char const   )'f', 
        (char const   )'f',      (char const   )'\000'};
static char const   strMouseOn[9]  = 
  {      (char const   )'m',      (char const   )'o',      (char const   )'u',      (char const   )'s', 
        (char const   )'e',      (char const   )'-',      (char const   )'o',      (char const   )'n', 
        (char const   )'\000'};
static char const   strAnonymous[10]  = 
  {      (char const   )'a',      (char const   )'n',      (char const   )'o',      (char const   )'n', 
        (char const   )'y',      (char const   )'m',      (char const   )'o',      (char const   )'u', 
        (char const   )'s',      (char const   )'\000'};
static unsigned char __must_reset_cursor  =    (tBoolean )0;
__inline static void must_reset_cursor(void) 
{ 

  {
  __must_reset_cursor = (unsigned char)1;
  return;
}
}
static tKeymapCommandEntry const   keymap_command_defaultkeys[55]  = 
  {      {'!', (tProgramCommandCode )22}, 
        {'&', (tProgramCommandCode )23}, 
        {'.', (tProgramCommandCode )51}, 
        {'/', (tProgramCommandCode )8}, 
        {'1', (tProgramCommandCode )47}, 
        {'2', (tProgramCommandCode )45}, 
        {'?', (tProgramCommandCode )9}, 
        {'C', (tProgramCommandCode )54}, 
        {'D', (tProgramCommandCode )14}, 
        {'E', (tProgramCommandCode )16}, 
        {'G', (tProgramCommandCode )30}, 
        {'H', (tProgramCommandCode )2}, 
        {'I', (tProgramCommandCode )4}, 
        {'J', (tProgramCommandCode )32}, 
        {'L', (tProgramCommandCode )34}, 
        {'M', (tProgramCommandCode )49}, 
        {'N', (tProgramCommandCode )56}, 
        {'O', (tProgramCommandCode )57}, 
        {'Q', (tProgramCommandCode )44}, 
        {'R', (tProgramCommandCode )6}, 
        {'S', (tProgramCommandCode )50}, 
        {'W', (tProgramCommandCode )59}, 
        {'Y', (tProgramCommandCode )39}, 
        {'\\', (tProgramCommandCode )3}, 
        {'b', (tProgramCommandCode )26}, 
        {4, (tProgramCommandCode )13}, 
        {15, (tProgramCommandCode )20}, 
        {23, (tProgramCommandCode )38}, 
        {258, (tProgramCommandCode )18}, 
        {260, (tProgramCommandCode )52}, 
        {261, (tProgramCommandCode )53}, 
        {259, (tProgramCommandCode )21}, 
        {'d', (tProgramCommandCode )15}, 
        {330, (tProgramCommandCode )33}, 
        {'e', (tProgramCommandCode )28}, 
        {360, (tProgramCommandCode )1}, 
        {343, (tProgramCommandCode )19}, 
        {'g', (tProgramCommandCode )29}, 
        {'h', (tProgramCommandCode )27}, 
        {262, (tProgramCommandCode )12}, 
        {'i', (tProgramCommandCode )17}, 
        {331, (tProgramCommandCode )34}, 
        {'j', (tProgramCommandCode )31}, 
        {'l', (tProgramCommandCode )33}, 
        {'m', (tProgramCommandCode )36}, 
        {'n', (tProgramCommandCode )55}, 
        {'o', (tProgramCommandCode )19}, 
        {338, (tProgramCommandCode )42}, 
        {339, (tProgramCommandCode )43}, 
        {'r', (tProgramCommandCode )5}, 
        {'s', (tProgramCommandCode )7}, 
        {' ', (tProgramCommandCode )42}, 
        {'\t', (tProgramCommandCode )46}, 
        {'u', (tProgramCommandCode )37}, 
        {'w', (tProgramCommandCode )58}};
static struct __anonstruct_keymap_command_str2pcc_77  const  keymap_command_str2pcc[59]  = 
  {      {"document-bottom", (tProgramCommandCode )1}, 
        {"document-enforce-html", (tProgramCommandCode )2}, 
        {"document-enforce-source", (tProgramCommandCode )3}, 
        {"document-info", (tProgramCommandCode )4}, 
        {"document-reload", (tProgramCommandCode )5}, 
        {"document-reload-enforced", (tProgramCommandCode )6}, 
        {"document-save", (tProgramCommandCode )7}, 
        {"document-search", (tProgramCommandCode )8}, 
        {"document-search-backward", (tProgramCommandCode )9}, 
        {"document-search-next", (tProgramCommandCode )10}, 
        {"document-search-previous", (tProgramCommandCode )11}, 
        {"document-top", (tProgramCommandCode )12}, 
        {"download", (tProgramCommandCode )13}, 
        {"download-from-element", (tProgramCommandCode )14}, 
        {"dump", (tProgramCommandCode )15}, 
        {"element-enable", (tProgramCommandCode )16}, 
        {"element-info", (tProgramCommandCode )17}, 
        {"element-next", (tProgramCommandCode )18}, 
        {"element-open", (tProgramCommandCode )19}, 
        {"element-open-split", (tProgramCommandCode )20}, 
        {"element-previous", (tProgramCommandCode )21}, 
        {"execext-shell", (tProgramCommandCode )22}, 
        {"execext-shell-flip", (tProgramCommandCode )23}, 
        {"form-reset", (tProgramCommandCode )24}, 
        {"form-submit", (tProgramCommandCode )25}, 
        {"go-bookmarks", (tProgramCommandCode )26}, 
        {"go-home", (tProgramCommandCode )27}, 
        {"go-search", (tProgramCommandCode )28}, 
        {"go-url", (tProgramCommandCode )29}, 
        {"go-url-preset", (tProgramCommandCode )30}, 
        {"jump", (tProgramCommandCode )31}, 
        {"jump-preset", (tProgramCommandCode )32}, 
        {"line-down", (tProgramCommandCode )33}, 
        {"line-up", (tProgramCommandCode )34}, 
        {"local-file-dir-open", (tProgramCommandCode )35}, 
        {"menu-contextual", (tProgramCommandCode )36}, 
        {"menu-url-history", (tProgramCommandCode )37}, 
        {"menu-windowlist", (tProgramCommandCode )38}, 
        {strMouseFlip, (tProgramCommandCode )39}, 
        {strMouseOff, (tProgramCommandCode )40}, 
        {strMouseOn, (tProgramCommandCode )41}, 
        {"page-down", (tProgramCommandCode )42}, 
        {"page-up", (tProgramCommandCode )43}, 
        {strQuit, (tProgramCommandCode )44}, 
        {"screen-split", (tProgramCommandCode )45}, 
        {"screen-switch", (tProgramCommandCode )46}, 
        {"screen-unsplit", (tProgramCommandCode )47}, 
        {"scroll-bars-flip", (tProgramCommandCode )48}, 
        {"session-resume", (tProgramCommandCode )49}, 
        {"session-save", (tProgramCommandCode )50}, 
        {"stop", (tProgramCommandCode )51}, 
        {"view-back", (tProgramCommandCode )52}, 
        {"view-forward", (tProgramCommandCode )53}, 
        {"window-close", (tProgramCommandCode )54}, 
        {"window-new", (tProgramCommandCode )55}, 
        {"window-new-from-document", (tProgramCommandCode )56}, 
        {"window-new-from-element", (tProgramCommandCode )57}, 
        {"window-next", (tProgramCommandCode )58}, 
        {"window-previous", (tProgramCommandCode )59}};
static tKeymapLineinputEntry const   keymap_lineinput_defaultkeys[11]  = 
  {      {1, (tLineInputActionCode )1}, 
        {21, (tLineInputActionCode )6}, 
        {258, (tLineInputActionCode )7}, 
        {260, (tLineInputActionCode )8}, 
        {261, (tLineInputActionCode )9}, 
        {259, (tLineInputActionCode )10}, 
        {360, (tLineInputActionCode )7}, 
        {355, (tLineInputActionCode )2}, 
        {262, (tLineInputActionCode )10}, 
        {338, (tLineInputActionCode )7}, 
        {339, (tLineInputActionCode )10}};
static struct __anonstruct_keymap_lineinput_str2liac_80  const  keymap_lineinput_str2liac[10]  = 
  {      {"area-switch", (tLineInputActionCode )1}, 
        {"cancel", (tLineInputActionCode )2}, 
        {strMouseFlip, (tLineInputActionCode )3}, 
        {strMouseOff, (tLineInputActionCode )4}, 
        {strMouseOn, (tLineInputActionCode )5}, 
        {"pass2user", (tLineInputActionCode )6}, 
        {"to-end", (tLineInputActionCode )7}, 
        {"to-left", (tLineInputActionCode )8}, 
        {"to-right", (tLineInputActionCode )9}, 
        {"to-start", (tLineInputActionCode )10}};
static tKeymapCommandEntry *keymap_command_keys  =    (tKeymapCommandEntry *)((void *)0);
static unsigned int keymap_command_keys_num  =    (size_t )0;
static unsigned int keymap_command_keys_maxnum  =    (size_t )0;
static int keymap_command_sorter(void const   *_a , void const   *_b ) 
{ tKeymapCommandEntry const   *a ;
  tKeymapCommandEntry const   *b ;
  tKey ak ;
  tKey bk ;
  int tmp___0 ;

  {
  a = (tKeymapCommandEntry const   *)_a;
  b = (tKeymapCommandEntry const   *)_b;
  ak = a->key;
  bk = b->key;
  if (ak > bk) {
    tmp___0 = 1;
  } else {
    if (ak < bk) {
      tmp___0 = -1;
    } else {
      tmp___0 = 0;
    }
  }
  return (tmp___0);
}
}
static tBoolean keymap_command_key_do_register(tKey key , tProgramCommandCode pcc ) 
{ size_t count___2 ;

  {
  count___2 = 0U;
  while (count___2 < keymap_command_keys_num) {
    if ((keymap_command_keys + count___2)->key == key) {
      return ((unsigned char)0);
    }
    count___2 ++;
  }
  if (keymap_command_keys_num >= keymap_command_keys_maxnum) {
    keymap_command_keys_maxnum += 32U;
    keymap_command_keys = (tKeymapCommandEntry *)memory_reallocate_ll((void *)keymap_command_keys,
                                                                      keymap_command_keys_maxnum *
                                                                      sizeof(tKeymapCommandEntry ));
  }
  (keymap_command_keys + keymap_command_keys_num)->key = key;
  (keymap_command_keys + keymap_command_keys_num)->pcc = pcc;
  keymap_command_keys_num ++;
  return ((unsigned char)1);
}
}
static tKeymapLineinputEntry *keymap_lineinput_keys  =    (tKeymapLineinputEntry *)((void *)0);
static unsigned int keymap_lineinput_keys_num  =    (size_t )0;
static unsigned int keymap_lineinput_keys_maxnum  =    (size_t )0;
static int keymap_lineinput_sorter(void const   *_a , void const   *_b ) 
{ tKeymapLineinputEntry const   *a ;
  tKeymapLineinputEntry const   *b ;
  tKey ak ;
  tKey bk ;
  int tmp___0 ;

  {
  a = (tKeymapLineinputEntry const   *)_a;
  b = (tKeymapLineinputEntry const   *)_b;
  ak = a->key;
  bk = b->key;
  if (ak > bk) {
    tmp___0 = 1;
  } else {
    if (ak < bk) {
      tmp___0 = -1;
    } else {
      tmp___0 = 0;
    }
  }
  return (tmp___0);
}
}
static tBoolean keymap_lineinput_key_do_register(tKey key , tLineInputActionCode liac ) 
{ size_t count___2 ;

  {
  count___2 = 0U;
  while (count___2 < keymap_lineinput_keys_num) {
    if ((keymap_lineinput_keys + count___2)->key == key) {
      return ((unsigned char)0);
    }
    count___2 ++;
  }
  if (keymap_lineinput_keys_num >= keymap_lineinput_keys_maxnum) {
    keymap_lineinput_keys_maxnum += 16U;
    keymap_lineinput_keys = (tKeymapLineinputEntry *)memory_reallocate_ll((void *)keymap_lineinput_keys,
                                                                          keymap_lineinput_keys_maxnum *
                                                                          sizeof(tKeymapLineinputEntry ));
  }
  (keymap_lineinput_keys + keymap_lineinput_keys_num)->key = key;
  (keymap_lineinput_keys + keymap_lineinput_keys_num)->liac = liac;
  keymap_lineinput_keys_num ++;
  return ((unsigned char)1);
}
}
static tKey keystr2key(char const   *keystr ) 
{ tKey key ;
  unsigned char ch ;
  char cc ;
  char const   *tmp ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___21 ;
  size_t tmp___22 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___37 ;
  int tmp___38 ;
  int tmp___39 ;
  int tmp___40 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___62 ;
  size_t tmp___63 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___78 ;
  int tmp___79 ;
  int tmp___80 ;
  int tmp___81 ;
  size_t __s1_len___1 ;
  size_t __s2_len___1 ;
  int tmp___103 ;
  size_t tmp___104 ;
  register int __result___133 ;
  unsigned char const   *__s2___22 ;
  register int __result___134 ;
  register int __result___141 ;
  unsigned char const   *__s1___46 ;
  register int __result___142 ;
  int tmp___119 ;
  int tmp___120 ;
  int tmp___121 ;
  int tmp___122 ;
  size_t __s1_len___2 ;
  size_t __s2_len___2 ;
  int tmp___144 ;
  size_t tmp___145 ;
  register int __result___181 ;
  unsigned char const   *__s2___30 ;
  register int __result___182 ;
  register int __result___189 ;
  unsigned char const   *__s1___62 ;
  register int __result___190 ;
  int tmp___160 ;
  int tmp___161 ;
  int tmp___162 ;
  int tmp___163 ;
  char const   *tmp___164 ;
  int num ;
  int tmp___210 ;
  size_t __s1_len___4 ;
  size_t __s2_len___4 ;
  int tmp___232 ;
  size_t tmp___233 ;
  register int __result___277 ;
  unsigned char const   *__s2___46 ;
  register int __result___278 ;
  register int __result___285 ;
  unsigned char const   *__s1___94 ;
  register int __result___286 ;
  int tmp___248 ;
  int tmp___249 ;
  int tmp___250 ;
  int tmp___251 ;
  int tmp___252 ;
  size_t tmp___253 ;
  size_t tmp___254 ;
  int tmp___300 ;
  size_t __s1_len___6 ;
  size_t __s2_len___6 ;
  int tmp___322 ;
  size_t tmp___323 ;
  register int __result___373 ;
  unsigned char const   *__s2___62 ;
  register int __result___374 ;
  register int __result___381 ;
  unsigned char const   *__s1___126 ;
  register int __result___382 ;
  int tmp___338 ;
  int tmp___339 ;
  int tmp___340 ;
  int tmp___341 ;
  int tmp___342 ;
  size_t tmp___343 ;
  size_t tmp___344 ;
  int tmp___390 ;
  size_t __s1_len___8 ;
  size_t __s2_len___8 ;
  int tmp___412 ;
  size_t tmp___413 ;
  register int __result___469 ;
  unsigned char const   *__s2___78 ;
  register int __result___470 ;
  register int __result___477 ;
  unsigned char const   *__s1___158 ;
  register int __result___478 ;
  int tmp___428 ;
  int tmp___429 ;
  int tmp___430 ;
  int tmp___431 ;
  int tmp___432 ;
  size_t tmp___433 ;
  size_t tmp___434 ;
  size_t __s1_len___9 ;
  size_t __s2_len___9 ;
  int tmp___456 ;
  size_t tmp___457 ;
  register int __result___517 ;
  unsigned char const   *__s2___86 ;
  register int __result___518 ;
  register int __result___525 ;
  unsigned char const   *__s1___174 ;
  register int __result___526 ;
  int tmp___472 ;
  int tmp___473 ;
  int tmp___474 ;
  int tmp___475 ;
  size_t __s1_len___10 ;
  size_t __s2_len___10 ;
  int tmp___497 ;
  size_t tmp___498 ;
  register int __result___565 ;
  unsigned char const   *__s2___94 ;
  register int __result___566 ;
  register int __result___573 ;
  unsigned char const   *__s1___190 ;
  register int __result___574 ;
  int tmp___513 ;
  int tmp___514 ;
  int tmp___515 ;
  int tmp___516 ;
  size_t __s1_len___11 ;
  size_t __s2_len___11 ;
  int tmp___538 ;
  size_t tmp___539 ;
  register int __result___613 ;
  unsigned char const   *__s2___102 ;
  register int __result___614 ;
  register int __result___621 ;
  unsigned char const   *__s1___206 ;
  register int __result___622 ;
  int tmp___554 ;
  int tmp___555 ;
  int tmp___556 ;
  int tmp___557 ;
  size_t __s1_len___12 ;
  size_t __s2_len___12 ;
  int tmp___579 ;
  size_t tmp___580 ;
  register int __result___661 ;
  unsigned char const   *__s2___110 ;
  register int __result___662 ;
  register int __result___669 ;
  unsigned char const   *__s1___222 ;
  register int __result___670 ;
  int tmp___595 ;
  int tmp___596 ;
  int tmp___597 ;
  int tmp___598 ;
  size_t __s1_len___13 ;
  size_t __s2_len___13 ;
  int tmp___620 ;
  size_t tmp___621 ;
  register int __result___709 ;
  unsigned char const   *__s2___118 ;
  register int __result___710 ;
  register int __result___717 ;
  unsigned char const   *__s1___238 ;
  register int __result___718 ;
  int tmp___636 ;
  int tmp___637 ;
  int tmp___638 ;
  int tmp___639 ;
  size_t __s1_len___14 ;
  size_t __s2_len___14 ;
  int tmp___661 ;
  size_t tmp___662 ;
  register int __result___757 ;
  unsigned char const   *__s2___126 ;
  register int __result___758 ;
  register int __result___765 ;
  unsigned char const   *__s1___254 ;
  register int __result___766 ;
  int tmp___677 ;
  int tmp___678 ;
  int tmp___679 ;
  int tmp___680 ;
  size_t __s1_len___15 ;
  size_t __s2_len___15 ;
  int tmp___702 ;
  size_t tmp___703 ;
  register int __result___805 ;
  unsigned char const   *__s2___134 ;
  register int __result___806 ;
  register int __result___813 ;
  unsigned char const   *__s1___270 ;
  register int __result___814 ;
  int tmp___718 ;
  int tmp___719 ;
  int tmp___720 ;
  int tmp___721 ;
  size_t __s1_len___16 ;
  size_t __s2_len___16 ;
  int tmp___743 ;
  size_t tmp___744 ;
  register int __result___853 ;
  unsigned char const   *__s2___142 ;
  register int __result___854 ;
  register int __result___861 ;
  unsigned char const   *__s1___286 ;
  register int __result___862 ;
  int tmp___759 ;
  int tmp___760 ;
  int tmp___761 ;
  int tmp___762 ;
  size_t __s1_len___17 ;
  size_t __s2_len___17 ;
  int tmp___784 ;
  size_t tmp___785 ;
  register int __result___901 ;
  unsigned char const   *__s2___150 ;
  register int __result___902 ;
  register int __result___909 ;
  unsigned char const   *__s1___302 ;
  register int __result___910 ;
  int tmp___800 ;
  int tmp___801 ;
  int tmp___802 ;
  int tmp___803 ;

  {
  key = '\000';
  ch = (unsigned char )(*keystr);
  if ((int )ch != 0) {
    if ((int const   )(*(keystr + 1)) == 0) {
      key = (int )ch;
    } else {
      goto _L___3202;
    }
  } else {
    _L___3202: /* CIL Label */ 
    tmp___802 = __builtin_constant_p(keystr);
    if (tmp___802) {
      __s1_len___17 = strlen(keystr);
      __s2_len___17 = strlen("delete");
      if (! ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
             1U)) {
        goto _L___3199;
      } else {
        if (__s1_len___17 >= 4U) {
          _L___3199: /* CIL Label */ 
          if (! ((unsigned int )((void const   *)("delete" + 1)) - (unsigned int )((void const   *)"delete") ==
                 1U)) {
            goto _L___3198;
          } else {
            if (__s2_len___17 >= 4U) {
              _L___3198: /* CIL Label */ 
              tmp___803 = 1;
            } else {
              goto _L___3197;
            }
          }
        } else {
          _L___3197: /* CIL Label */ 
          tmp___803 = 0;
        }
      }
      if (tmp___803) {
        if (__s1_len___17 < __s2_len___17) {
          tmp___785 = __s1_len___17;
        } else {
          tmp___785 = __s2_len___17;
        }
        tmp___784 = memcmp((void const   *)keystr, (void const   *)"delete", tmp___785 +
                                                                             1U);
      } else {
        goto _L___3201;
      }
    } else {
      _L___3201: /* CIL Label */ 
      tmp___801 = __builtin_constant_p(keystr);
      if (tmp___801) {
        if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
            1U) {
          __s1_len___17 = strlen(keystr);
          if (__s1_len___17 < 4U) {
            if ((unsigned int )((void const   *)("delete" + 1)) - (unsigned int )((void const   *)"delete") ==
                1U) {
              __result___901 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                       0)) - (int const   )(*((unsigned char const   *)"delete" +
                                                                              0)));
              if (__s1_len___17 > 0U) {
                if (__result___901 == 0) {
                  __result___901 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                           1)) - (int const   )(*((unsigned char const   *)"delete" +
                                                                                  1)));
                  if (__s1_len___17 > 1U) {
                    if (__result___901 == 0) {
                      __result___901 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                               2)) - (int const   )(*((unsigned char const   *)"delete" +
                                                                                      2)));
                      if (__s1_len___17 > 2U) {
                        if (__result___901 == 0) {
                          __result___901 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                   3)) - (int const   )(*((unsigned char const   *)"delete" +
                                                                                          3)));
                        } else {
                          goto _L___3162;
                        }
                      } else {
                        _L___3162: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___3163;
                    }
                  } else {
                    _L___3163: /* CIL Label */ ;
                  }
                } else {
                  goto _L___3164;
                }
              } else {
                _L___3164: /* CIL Label */ ;
              }
              tmp___784 = __result___901;
            } else {
              __s2___150 = (unsigned char const   *)"delete";
              __result___902 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                       0)) - (int const   )(*(__s2___150 +
                                                                              0)));
              if (__s1_len___17 > 0U) {
                if (__result___902 == 0) {
                  __result___902 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                           1)) - (int const   )(*(__s2___150 +
                                                                                  1)));
                  if (__s1_len___17 > 1U) {
                    if (__result___902 == 0) {
                      __result___902 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                               2)) - (int const   )(*(__s2___150 +
                                                                                      2)));
                      if (__s1_len___17 > 2U) {
                        if (__result___902 == 0) {
                          __result___902 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                   3)) - (int const   )(*(__s2___150 +
                                                                                          3)));
                        } else {
                          goto _L___3165;
                        }
                      } else {
                        _L___3165: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___3166;
                    }
                  } else {
                    _L___3166: /* CIL Label */ ;
                  }
                } else {
                  goto _L___3167;
                }
              } else {
                _L___3167: /* CIL Label */ ;
              }
              tmp___784 = __result___902;
            }
          } else {
            goto _L___3196;
          }
        } else {
          goto _L___3196;
        }
      } else {
        _L___3196: /* CIL Label */ 
        if ((unsigned int )((void const   *)("delete" + 1)) - (unsigned int )((void const   *)"delete") ==
            1U) {
          __s2_len___17 = strlen("delete");
          if (__s2_len___17 < 4U) {
            tmp___800 = __builtin_constant_p(keystr);
            if (tmp___800) {
              if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                  1U) {
                __result___909 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                         0)) - (int const   )(*((unsigned char const   *)"delete" +
                                                                                0)));
                if (__s2_len___17 > 0U) {
                  if (__result___909 == 0) {
                    __result___909 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                             1)) - (int const   )(*((unsigned char const   *)"delete" +
                                                                                    1)));
                    if (__s2_len___17 > 1U) {
                      if (__result___909 == 0) {
                        __result___909 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                 2)) - (int const   )(*((unsigned char const   *)"delete" +
                                                                                        2)));
                        if (__s2_len___17 > 2U) {
                          if (__result___909 == 0) {
                            __result___909 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                     3)) - (int const   )(*((unsigned char const   *)"delete" +
                                                                                            3)));
                          } else {
                            goto _L___3187;
                          }
                        } else {
                          _L___3187: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___3188;
                      }
                    } else {
                      _L___3188: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___3189;
                  }
                } else {
                  _L___3189: /* CIL Label */ ;
                }
                tmp___784 = __result___909;
              } else {
                goto _L___3193;
              }
            } else {
              _L___3193: /* CIL Label */ 
              __s1___302 = (unsigned char const   *)keystr;
              __result___910 = (int )((int const   )(*(__s1___302 + 0)) - (int const   )(*((unsigned char const   *)"delete" +
                                                                                           0)));
              if (__s2_len___17 > 0U) {
                if (__result___910 == 0) {
                  __result___910 = (int )((int const   )(*(__s1___302 + 1)) - (int const   )(*((unsigned char const   *)"delete" +
                                                                                               1)));
                  if (__s2_len___17 > 1U) {
                    if (__result___910 == 0) {
                      __result___910 = (int )((int const   )(*(__s1___302 + 2)) -
                                              (int const   )(*((unsigned char const   *)"delete" +
                                                               2)));
                      if (__s2_len___17 > 2U) {
                        if (__result___910 == 0) {
                          __result___910 = (int )((int const   )(*(__s1___302 + 3)) -
                                                  (int const   )(*((unsigned char const   *)"delete" +
                                                                   3)));
                        } else {
                          goto _L___3190;
                        }
                      } else {
                        _L___3190: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___3191;
                    }
                  } else {
                    _L___3191: /* CIL Label */ ;
                  }
                } else {
                  goto _L___3192;
                }
              } else {
                _L___3192: /* CIL Label */ ;
              }
              tmp___784 = __result___910;
            }
          } else {
            goto _L___3194;
          }
        } else {
          _L___3194: /* CIL Label */ 
          tmp___784 = strcmp(keystr, "delete");
        }
      }
    }
    if (tmp___784) {
      tmp___761 = __builtin_constant_p(keystr);
      if (tmp___761) {
        __s1_len___16 = strlen(keystr);
        __s2_len___16 = strlen("end");
        if (! ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
               1U)) {
          goto _L___3031;
        } else {
          if (__s1_len___16 >= 4U) {
            _L___3031: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)("end" + 1)) - (unsigned int )((void const   *)"end") ==
                   1U)) {
              goto _L___3030;
            } else {
              if (__s2_len___16 >= 4U) {
                _L___3030: /* CIL Label */ 
                tmp___762 = 1;
              } else {
                goto _L___3029;
              }
            }
          } else {
            _L___3029: /* CIL Label */ 
            tmp___762 = 0;
          }
        }
        if (tmp___762) {
          if (__s1_len___16 < __s2_len___16) {
            tmp___744 = __s1_len___16;
          } else {
            tmp___744 = __s2_len___16;
          }
          tmp___743 = memcmp((void const   *)keystr, (void const   *)"end", tmp___744 +
                                                                            1U);
        } else {
          goto _L___3033;
        }
      } else {
        _L___3033: /* CIL Label */ 
        tmp___760 = __builtin_constant_p(keystr);
        if (tmp___760) {
          if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
              1U) {
            __s1_len___16 = strlen(keystr);
            if (__s1_len___16 < 4U) {
              if ((unsigned int )((void const   *)("end" + 1)) - (unsigned int )((void const   *)"end") ==
                  1U) {
                __result___853 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                         0)) - (int const   )(*((unsigned char const   *)"end" +
                                                                                0)));
                if (__s1_len___16 > 0U) {
                  if (__result___853 == 0) {
                    __result___853 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                             1)) - (int const   )(*((unsigned char const   *)"end" +
                                                                                    1)));
                    if (__s1_len___16 > 1U) {
                      if (__result___853 == 0) {
                        __result___853 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                 2)) - (int const   )(*((unsigned char const   *)"end" +
                                                                                        2)));
                        if (__s1_len___16 > 2U) {
                          if (__result___853 == 0) {
                            __result___853 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                     3)) - (int const   )(*((unsigned char const   *)"end" +
                                                                                            3)));
                          } else {
                            goto _L___2994;
                          }
                        } else {
                          _L___2994: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___2995;
                      }
                    } else {
                      _L___2995: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___2996;
                  }
                } else {
                  _L___2996: /* CIL Label */ ;
                }
                tmp___743 = __result___853;
              } else {
                __s2___142 = (unsigned char const   *)"end";
                __result___854 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                         0)) - (int const   )(*(__s2___142 +
                                                                                0)));
                if (__s1_len___16 > 0U) {
                  if (__result___854 == 0) {
                    __result___854 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                             1)) - (int const   )(*(__s2___142 +
                                                                                    1)));
                    if (__s1_len___16 > 1U) {
                      if (__result___854 == 0) {
                        __result___854 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                 2)) - (int const   )(*(__s2___142 +
                                                                                        2)));
                        if (__s1_len___16 > 2U) {
                          if (__result___854 == 0) {
                            __result___854 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                     3)) - (int const   )(*(__s2___142 +
                                                                                            3)));
                          } else {
                            goto _L___2997;
                          }
                        } else {
                          _L___2997: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___2998;
                      }
                    } else {
                      _L___2998: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___2999;
                  }
                } else {
                  _L___2999: /* CIL Label */ ;
                }
                tmp___743 = __result___854;
              }
            } else {
              goto _L___3028;
            }
          } else {
            goto _L___3028;
          }
        } else {
          _L___3028: /* CIL Label */ 
          if ((unsigned int )((void const   *)("end" + 1)) - (unsigned int )((void const   *)"end") ==
              1U) {
            __s2_len___16 = strlen("end");
            if (__s2_len___16 < 4U) {
              tmp___759 = __builtin_constant_p(keystr);
              if (tmp___759) {
                if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                    1U) {
                  __result___861 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                           0)) - (int const   )(*((unsigned char const   *)"end" +
                                                                                  0)));
                  if (__s2_len___16 > 0U) {
                    if (__result___861 == 0) {
                      __result___861 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                               1)) - (int const   )(*((unsigned char const   *)"end" +
                                                                                      1)));
                      if (__s2_len___16 > 1U) {
                        if (__result___861 == 0) {
                          __result___861 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                   2)) - (int const   )(*((unsigned char const   *)"end" +
                                                                                          2)));
                          if (__s2_len___16 > 2U) {
                            if (__result___861 == 0) {
                              __result___861 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                       3)) - (int const   )(*((unsigned char const   *)"end" +
                                                                                              3)));
                            } else {
                              goto _L___3019;
                            }
                          } else {
                            _L___3019: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___3020;
                        }
                      } else {
                        _L___3020: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___3021;
                    }
                  } else {
                    _L___3021: /* CIL Label */ ;
                  }
                  tmp___743 = __result___861;
                } else {
                  goto _L___3025;
                }
              } else {
                _L___3025: /* CIL Label */ 
                __s1___286 = (unsigned char const   *)keystr;
                __result___862 = (int )((int const   )(*(__s1___286 + 0)) - (int const   )(*((unsigned char const   *)"end" +
                                                                                             0)));
                if (__s2_len___16 > 0U) {
                  if (__result___862 == 0) {
                    __result___862 = (int )((int const   )(*(__s1___286 + 1)) - (int const   )(*((unsigned char const   *)"end" +
                                                                                                 1)));
                    if (__s2_len___16 > 1U) {
                      if (__result___862 == 0) {
                        __result___862 = (int )((int const   )(*(__s1___286 + 2)) -
                                                (int const   )(*((unsigned char const   *)"end" +
                                                                 2)));
                        if (__s2_len___16 > 2U) {
                          if (__result___862 == 0) {
                            __result___862 = (int )((int const   )(*(__s1___286 +
                                                                     3)) - (int const   )(*((unsigned char const   *)"end" +
                                                                                            3)));
                          } else {
                            goto _L___3022;
                          }
                        } else {
                          _L___3022: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___3023;
                      }
                    } else {
                      _L___3023: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___3024;
                  }
                } else {
                  _L___3024: /* CIL Label */ ;
                }
                tmp___743 = __result___862;
              }
            } else {
              goto _L___3026;
            }
          } else {
            _L___3026: /* CIL Label */ 
            tmp___743 = strcmp(keystr, "end");
          }
        }
      }
      if (tmp___743) {
        tmp___720 = __builtin_constant_p(keystr);
        if (tmp___720) {
          __s1_len___15 = strlen(keystr);
          __s2_len___15 = strlen("insert");
          if (! ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                 1U)) {
            goto _L___2863;
          } else {
            if (__s1_len___15 >= 4U) {
              _L___2863: /* CIL Label */ 
              if (! ((unsigned int )((void const   *)("insert" + 1)) - (unsigned int )((void const   *)"insert") ==
                     1U)) {
                goto _L___2862;
              } else {
                if (__s2_len___15 >= 4U) {
                  _L___2862: /* CIL Label */ 
                  tmp___721 = 1;
                } else {
                  goto _L___2861;
                }
              }
            } else {
              _L___2861: /* CIL Label */ 
              tmp___721 = 0;
            }
          }
          if (tmp___721) {
            if (__s1_len___15 < __s2_len___15) {
              tmp___703 = __s1_len___15;
            } else {
              tmp___703 = __s2_len___15;
            }
            tmp___702 = memcmp((void const   *)keystr, (void const   *)"insert", tmp___703 +
                                                                                 1U);
          } else {
            goto _L___2865;
          }
        } else {
          _L___2865: /* CIL Label */ 
          tmp___719 = __builtin_constant_p(keystr);
          if (tmp___719) {
            if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                1U) {
              __s1_len___15 = strlen(keystr);
              if (__s1_len___15 < 4U) {
                if ((unsigned int )((void const   *)("insert" + 1)) - (unsigned int )((void const   *)"insert") ==
                    1U) {
                  __result___805 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                           0)) - (int const   )(*((unsigned char const   *)"insert" +
                                                                                  0)));
                  if (__s1_len___15 > 0U) {
                    if (__result___805 == 0) {
                      __result___805 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                               1)) - (int const   )(*((unsigned char const   *)"insert" +
                                                                                      1)));
                      if (__s1_len___15 > 1U) {
                        if (__result___805 == 0) {
                          __result___805 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                   2)) - (int const   )(*((unsigned char const   *)"insert" +
                                                                                          2)));
                          if (__s1_len___15 > 2U) {
                            if (__result___805 == 0) {
                              __result___805 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                       3)) - (int const   )(*((unsigned char const   *)"insert" +
                                                                                              3)));
                            } else {
                              goto _L___2826;
                            }
                          } else {
                            _L___2826: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___2827;
                        }
                      } else {
                        _L___2827: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___2828;
                    }
                  } else {
                    _L___2828: /* CIL Label */ ;
                  }
                  tmp___702 = __result___805;
                } else {
                  __s2___134 = (unsigned char const   *)"insert";
                  __result___806 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                           0)) - (int const   )(*(__s2___134 +
                                                                                  0)));
                  if (__s1_len___15 > 0U) {
                    if (__result___806 == 0) {
                      __result___806 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                               1)) - (int const   )(*(__s2___134 +
                                                                                      1)));
                      if (__s1_len___15 > 1U) {
                        if (__result___806 == 0) {
                          __result___806 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                   2)) - (int const   )(*(__s2___134 +
                                                                                          2)));
                          if (__s1_len___15 > 2U) {
                            if (__result___806 == 0) {
                              __result___806 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                       3)) - (int const   )(*(__s2___134 +
                                                                                              3)));
                            } else {
                              goto _L___2829;
                            }
                          } else {
                            _L___2829: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___2830;
                        }
                      } else {
                        _L___2830: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___2831;
                    }
                  } else {
                    _L___2831: /* CIL Label */ ;
                  }
                  tmp___702 = __result___806;
                }
              } else {
                goto _L___2860;
              }
            } else {
              goto _L___2860;
            }
          } else {
            _L___2860: /* CIL Label */ 
            if ((unsigned int )((void const   *)("insert" + 1)) - (unsigned int )((void const   *)"insert") ==
                1U) {
              __s2_len___15 = strlen("insert");
              if (__s2_len___15 < 4U) {
                tmp___718 = __builtin_constant_p(keystr);
                if (tmp___718) {
                  if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                      1U) {
                    __result___813 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                             0)) - (int const   )(*((unsigned char const   *)"insert" +
                                                                                    0)));
                    if (__s2_len___15 > 0U) {
                      if (__result___813 == 0) {
                        __result___813 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                 1)) - (int const   )(*((unsigned char const   *)"insert" +
                                                                                        1)));
                        if (__s2_len___15 > 1U) {
                          if (__result___813 == 0) {
                            __result___813 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                     2)) - (int const   )(*((unsigned char const   *)"insert" +
                                                                                            2)));
                            if (__s2_len___15 > 2U) {
                              if (__result___813 == 0) {
                                __result___813 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                         3)) - (int const   )(*((unsigned char const   *)"insert" +
                                                                                                3)));
                              } else {
                                goto _L___2851;
                              }
                            } else {
                              _L___2851: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___2852;
                          }
                        } else {
                          _L___2852: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___2853;
                      }
                    } else {
                      _L___2853: /* CIL Label */ ;
                    }
                    tmp___702 = __result___813;
                  } else {
                    goto _L___2857;
                  }
                } else {
                  _L___2857: /* CIL Label */ 
                  __s1___270 = (unsigned char const   *)keystr;
                  __result___814 = (int )((int const   )(*(__s1___270 + 0)) - (int const   )(*((unsigned char const   *)"insert" +
                                                                                               0)));
                  if (__s2_len___15 > 0U) {
                    if (__result___814 == 0) {
                      __result___814 = (int )((int const   )(*(__s1___270 + 1)) -
                                              (int const   )(*((unsigned char const   *)"insert" +
                                                               1)));
                      if (__s2_len___15 > 1U) {
                        if (__result___814 == 0) {
                          __result___814 = (int )((int const   )(*(__s1___270 + 2)) -
                                                  (int const   )(*((unsigned char const   *)"insert" +
                                                                   2)));
                          if (__s2_len___15 > 2U) {
                            if (__result___814 == 0) {
                              __result___814 = (int )((int const   )(*(__s1___270 +
                                                                       3)) - (int const   )(*((unsigned char const   *)"insert" +
                                                                                              3)));
                            } else {
                              goto _L___2854;
                            }
                          } else {
                            _L___2854: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___2855;
                        }
                      } else {
                        _L___2855: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___2856;
                    }
                  } else {
                    _L___2856: /* CIL Label */ ;
                  }
                  tmp___702 = __result___814;
                }
              } else {
                goto _L___2858;
              }
            } else {
              _L___2858: /* CIL Label */ 
              tmp___702 = strcmp(keystr, "insert");
            }
          }
        }
        if (tmp___702) {
          tmp___679 = __builtin_constant_p(keystr);
          if (tmp___679) {
            __s1_len___14 = strlen(keystr);
            __s2_len___14 = strlen("home");
            if (! ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                   1U)) {
              goto _L___2695;
            } else {
              if (__s1_len___14 >= 4U) {
                _L___2695: /* CIL Label */ 
                if (! ((unsigned int )((void const   *)("home" + 1)) - (unsigned int )((void const   *)"home") ==
                       1U)) {
                  goto _L___2694;
                } else {
                  if (__s2_len___14 >= 4U) {
                    _L___2694: /* CIL Label */ 
                    tmp___680 = 1;
                  } else {
                    goto _L___2693;
                  }
                }
              } else {
                _L___2693: /* CIL Label */ 
                tmp___680 = 0;
              }
            }
            if (tmp___680) {
              if (__s1_len___14 < __s2_len___14) {
                tmp___662 = __s1_len___14;
              } else {
                tmp___662 = __s2_len___14;
              }
              tmp___661 = memcmp((void const   *)keystr, (void const   *)"home", tmp___662 +
                                                                                 1U);
            } else {
              goto _L___2697;
            }
          } else {
            _L___2697: /* CIL Label */ 
            tmp___678 = __builtin_constant_p(keystr);
            if (tmp___678) {
              if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                  1U) {
                __s1_len___14 = strlen(keystr);
                if (__s1_len___14 < 4U) {
                  if ((unsigned int )((void const   *)("home" + 1)) - (unsigned int )((void const   *)"home") ==
                      1U) {
                    __result___757 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                             0)) - (int const   )(*((unsigned char const   *)"home" +
                                                                                    0)));
                    if (__s1_len___14 > 0U) {
                      if (__result___757 == 0) {
                        __result___757 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                 1)) - (int const   )(*((unsigned char const   *)"home" +
                                                                                        1)));
                        if (__s1_len___14 > 1U) {
                          if (__result___757 == 0) {
                            __result___757 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                     2)) - (int const   )(*((unsigned char const   *)"home" +
                                                                                            2)));
                            if (__s1_len___14 > 2U) {
                              if (__result___757 == 0) {
                                __result___757 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                         3)) - (int const   )(*((unsigned char const   *)"home" +
                                                                                                3)));
                              } else {
                                goto _L___2658;
                              }
                            } else {
                              _L___2658: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___2659;
                          }
                        } else {
                          _L___2659: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___2660;
                      }
                    } else {
                      _L___2660: /* CIL Label */ ;
                    }
                    tmp___661 = __result___757;
                  } else {
                    __s2___126 = (unsigned char const   *)"home";
                    __result___758 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                             0)) - (int const   )(*(__s2___126 +
                                                                                    0)));
                    if (__s1_len___14 > 0U) {
                      if (__result___758 == 0) {
                        __result___758 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                 1)) - (int const   )(*(__s2___126 +
                                                                                        1)));
                        if (__s1_len___14 > 1U) {
                          if (__result___758 == 0) {
                            __result___758 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                     2)) - (int const   )(*(__s2___126 +
                                                                                            2)));
                            if (__s1_len___14 > 2U) {
                              if (__result___758 == 0) {
                                __result___758 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                         3)) - (int const   )(*(__s2___126 +
                                                                                                3)));
                              } else {
                                goto _L___2661;
                              }
                            } else {
                              _L___2661: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___2662;
                          }
                        } else {
                          _L___2662: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___2663;
                      }
                    } else {
                      _L___2663: /* CIL Label */ ;
                    }
                    tmp___661 = __result___758;
                  }
                } else {
                  goto _L___2692;
                }
              } else {
                goto _L___2692;
              }
            } else {
              _L___2692: /* CIL Label */ 
              if ((unsigned int )((void const   *)("home" + 1)) - (unsigned int )((void const   *)"home") ==
                  1U) {
                __s2_len___14 = strlen("home");
                if (__s2_len___14 < 4U) {
                  tmp___677 = __builtin_constant_p(keystr);
                  if (tmp___677) {
                    if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                        1U) {
                      __result___765 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                               0)) - (int const   )(*((unsigned char const   *)"home" +
                                                                                      0)));
                      if (__s2_len___14 > 0U) {
                        if (__result___765 == 0) {
                          __result___765 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                   1)) - (int const   )(*((unsigned char const   *)"home" +
                                                                                          1)));
                          if (__s2_len___14 > 1U) {
                            if (__result___765 == 0) {
                              __result___765 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                       2)) - (int const   )(*((unsigned char const   *)"home" +
                                                                                              2)));
                              if (__s2_len___14 > 2U) {
                                if (__result___765 == 0) {
                                  __result___765 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                           3)) - (int const   )(*((unsigned char const   *)"home" +
                                                                                                  3)));
                                } else {
                                  goto _L___2683;
                                }
                              } else {
                                _L___2683: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___2684;
                            }
                          } else {
                            _L___2684: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___2685;
                        }
                      } else {
                        _L___2685: /* CIL Label */ ;
                      }
                      tmp___661 = __result___765;
                    } else {
                      goto _L___2689;
                    }
                  } else {
                    _L___2689: /* CIL Label */ 
                    __s1___254 = (unsigned char const   *)keystr;
                    __result___766 = (int )((int const   )(*(__s1___254 + 0)) - (int const   )(*((unsigned char const   *)"home" +
                                                                                                 0)));
                    if (__s2_len___14 > 0U) {
                      if (__result___766 == 0) {
                        __result___766 = (int )((int const   )(*(__s1___254 + 1)) -
                                                (int const   )(*((unsigned char const   *)"home" +
                                                                 1)));
                        if (__s2_len___14 > 1U) {
                          if (__result___766 == 0) {
                            __result___766 = (int )((int const   )(*(__s1___254 +
                                                                     2)) - (int const   )(*((unsigned char const   *)"home" +
                                                                                            2)));
                            if (__s2_len___14 > 2U) {
                              if (__result___766 == 0) {
                                __result___766 = (int )((int const   )(*(__s1___254 +
                                                                         3)) - (int const   )(*((unsigned char const   *)"home" +
                                                                                                3)));
                              } else {
                                goto _L___2686;
                              }
                            } else {
                              _L___2686: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___2687;
                          }
                        } else {
                          _L___2687: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___2688;
                      }
                    } else {
                      _L___2688: /* CIL Label */ ;
                    }
                    tmp___661 = __result___766;
                  }
                } else {
                  goto _L___2690;
                }
              } else {
                _L___2690: /* CIL Label */ 
                tmp___661 = strcmp(keystr, "home");
              }
            }
          }
          if (tmp___661) {
            tmp___638 = __builtin_constant_p(keystr);
            if (tmp___638) {
              __s1_len___13 = strlen(keystr);
              __s2_len___13 = strlen("page-down");
              if (! ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                     1U)) {
                goto _L___2527;
              } else {
                if (__s1_len___13 >= 4U) {
                  _L___2527: /* CIL Label */ 
                  if (! ((unsigned int )((void const   *)("page-down" + 1)) - (unsigned int )((void const   *)"page-down") ==
                         1U)) {
                    goto _L___2526;
                  } else {
                    if (__s2_len___13 >= 4U) {
                      _L___2526: /* CIL Label */ 
                      tmp___639 = 1;
                    } else {
                      goto _L___2525;
                    }
                  }
                } else {
                  _L___2525: /* CIL Label */ 
                  tmp___639 = 0;
                }
              }
              if (tmp___639) {
                if (__s1_len___13 < __s2_len___13) {
                  tmp___621 = __s1_len___13;
                } else {
                  tmp___621 = __s2_len___13;
                }
                tmp___620 = memcmp((void const   *)keystr, (void const   *)"page-down",
                                   tmp___621 + 1U);
              } else {
                goto _L___2529;
              }
            } else {
              _L___2529: /* CIL Label */ 
              tmp___637 = __builtin_constant_p(keystr);
              if (tmp___637) {
                if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                    1U) {
                  __s1_len___13 = strlen(keystr);
                  if (__s1_len___13 < 4U) {
                    if ((unsigned int )((void const   *)("page-down" + 1)) - (unsigned int )((void const   *)"page-down") ==
                        1U) {
                      __result___709 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                               0)) - (int const   )(*((unsigned char const   *)"page-down" +
                                                                                      0)));
                      if (__s1_len___13 > 0U) {
                        if (__result___709 == 0) {
                          __result___709 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                   1)) - (int const   )(*((unsigned char const   *)"page-down" +
                                                                                          1)));
                          if (__s1_len___13 > 1U) {
                            if (__result___709 == 0) {
                              __result___709 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                       2)) - (int const   )(*((unsigned char const   *)"page-down" +
                                                                                              2)));
                              if (__s1_len___13 > 2U) {
                                if (__result___709 == 0) {
                                  __result___709 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                           3)) - (int const   )(*((unsigned char const   *)"page-down" +
                                                                                                  3)));
                                } else {
                                  goto _L___2490;
                                }
                              } else {
                                _L___2490: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___2491;
                            }
                          } else {
                            _L___2491: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___2492;
                        }
                      } else {
                        _L___2492: /* CIL Label */ ;
                      }
                      tmp___620 = __result___709;
                    } else {
                      __s2___118 = (unsigned char const   *)"page-down";
                      __result___710 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                               0)) - (int const   )(*(__s2___118 +
                                                                                      0)));
                      if (__s1_len___13 > 0U) {
                        if (__result___710 == 0) {
                          __result___710 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                   1)) - (int const   )(*(__s2___118 +
                                                                                          1)));
                          if (__s1_len___13 > 1U) {
                            if (__result___710 == 0) {
                              __result___710 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                       2)) - (int const   )(*(__s2___118 +
                                                                                              2)));
                              if (__s1_len___13 > 2U) {
                                if (__result___710 == 0) {
                                  __result___710 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                           3)) - (int const   )(*(__s2___118 +
                                                                                                  3)));
                                } else {
                                  goto _L___2493;
                                }
                              } else {
                                _L___2493: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___2494;
                            }
                          } else {
                            _L___2494: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___2495;
                        }
                      } else {
                        _L___2495: /* CIL Label */ ;
                      }
                      tmp___620 = __result___710;
                    }
                  } else {
                    goto _L___2524;
                  }
                } else {
                  goto _L___2524;
                }
              } else {
                _L___2524: /* CIL Label */ 
                if ((unsigned int )((void const   *)("page-down" + 1)) - (unsigned int )((void const   *)"page-down") ==
                    1U) {
                  __s2_len___13 = strlen("page-down");
                  if (__s2_len___13 < 4U) {
                    tmp___636 = __builtin_constant_p(keystr);
                    if (tmp___636) {
                      if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                          1U) {
                        __result___717 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                 0)) - (int const   )(*((unsigned char const   *)"page-down" +
                                                                                        0)));
                        if (__s2_len___13 > 0U) {
                          if (__result___717 == 0) {
                            __result___717 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                     1)) - (int const   )(*((unsigned char const   *)"page-down" +
                                                                                            1)));
                            if (__s2_len___13 > 1U) {
                              if (__result___717 == 0) {
                                __result___717 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                         2)) - (int const   )(*((unsigned char const   *)"page-down" +
                                                                                                2)));
                                if (__s2_len___13 > 2U) {
                                  if (__result___717 == 0) {
                                    __result___717 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                             3)) -
                                                            (int const   )(*((unsigned char const   *)"page-down" +
                                                                             3)));
                                  } else {
                                    goto _L___2515;
                                  }
                                } else {
                                  _L___2515: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___2516;
                              }
                            } else {
                              _L___2516: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___2517;
                          }
                        } else {
                          _L___2517: /* CIL Label */ ;
                        }
                        tmp___620 = __result___717;
                      } else {
                        goto _L___2521;
                      }
                    } else {
                      _L___2521: /* CIL Label */ 
                      __s1___238 = (unsigned char const   *)keystr;
                      __result___718 = (int )((int const   )(*(__s1___238 + 0)) -
                                              (int const   )(*((unsigned char const   *)"page-down" +
                                                               0)));
                      if (__s2_len___13 > 0U) {
                        if (__result___718 == 0) {
                          __result___718 = (int )((int const   )(*(__s1___238 + 1)) -
                                                  (int const   )(*((unsigned char const   *)"page-down" +
                                                                   1)));
                          if (__s2_len___13 > 1U) {
                            if (__result___718 == 0) {
                              __result___718 = (int )((int const   )(*(__s1___238 +
                                                                       2)) - (int const   )(*((unsigned char const   *)"page-down" +
                                                                                              2)));
                              if (__s2_len___13 > 2U) {
                                if (__result___718 == 0) {
                                  __result___718 = (int )((int const   )(*(__s1___238 +
                                                                           3)) - (int const   )(*((unsigned char const   *)"page-down" +
                                                                                                  3)));
                                } else {
                                  goto _L___2518;
                                }
                              } else {
                                _L___2518: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___2519;
                            }
                          } else {
                            _L___2519: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___2520;
                        }
                      } else {
                        _L___2520: /* CIL Label */ ;
                      }
                      tmp___620 = __result___718;
                    }
                  } else {
                    goto _L___2522;
                  }
                } else {
                  _L___2522: /* CIL Label */ 
                  tmp___620 = strcmp(keystr, "page-down");
                }
              }
            }
            if (tmp___620) {
              tmp___597 = __builtin_constant_p(keystr);
              if (tmp___597) {
                __s1_len___12 = strlen(keystr);
                __s2_len___12 = strlen("page-up");
                if (! ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                       1U)) {
                  goto _L___2359;
                } else {
                  if (__s1_len___12 >= 4U) {
                    _L___2359: /* CIL Label */ 
                    if (! ((unsigned int )((void const   *)("page-up" + 1)) - (unsigned int )((void const   *)"page-up") ==
                           1U)) {
                      goto _L___2358;
                    } else {
                      if (__s2_len___12 >= 4U) {
                        _L___2358: /* CIL Label */ 
                        tmp___598 = 1;
                      } else {
                        goto _L___2357;
                      }
                    }
                  } else {
                    _L___2357: /* CIL Label */ 
                    tmp___598 = 0;
                  }
                }
                if (tmp___598) {
                  if (__s1_len___12 < __s2_len___12) {
                    tmp___580 = __s1_len___12;
                  } else {
                    tmp___580 = __s2_len___12;
                  }
                  tmp___579 = memcmp((void const   *)keystr, (void const   *)"page-up",
                                     tmp___580 + 1U);
                } else {
                  goto _L___2361;
                }
              } else {
                _L___2361: /* CIL Label */ 
                tmp___596 = __builtin_constant_p(keystr);
                if (tmp___596) {
                  if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                      1U) {
                    __s1_len___12 = strlen(keystr);
                    if (__s1_len___12 < 4U) {
                      if ((unsigned int )((void const   *)("page-up" + 1)) - (unsigned int )((void const   *)"page-up") ==
                          1U) {
                        __result___661 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                 0)) - (int const   )(*((unsigned char const   *)"page-up" +
                                                                                        0)));
                        if (__s1_len___12 > 0U) {
                          if (__result___661 == 0) {
                            __result___661 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                     1)) - (int const   )(*((unsigned char const   *)"page-up" +
                                                                                            1)));
                            if (__s1_len___12 > 1U) {
                              if (__result___661 == 0) {
                                __result___661 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                         2)) - (int const   )(*((unsigned char const   *)"page-up" +
                                                                                                2)));
                                if (__s1_len___12 > 2U) {
                                  if (__result___661 == 0) {
                                    __result___661 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                             3)) -
                                                            (int const   )(*((unsigned char const   *)"page-up" +
                                                                             3)));
                                  } else {
                                    goto _L___2322;
                                  }
                                } else {
                                  _L___2322: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___2323;
                              }
                            } else {
                              _L___2323: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___2324;
                          }
                        } else {
                          _L___2324: /* CIL Label */ ;
                        }
                        tmp___579 = __result___661;
                      } else {
                        __s2___110 = (unsigned char const   *)"page-up";
                        __result___662 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                 0)) - (int const   )(*(__s2___110 +
                                                                                        0)));
                        if (__s1_len___12 > 0U) {
                          if (__result___662 == 0) {
                            __result___662 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                     1)) - (int const   )(*(__s2___110 +
                                                                                            1)));
                            if (__s1_len___12 > 1U) {
                              if (__result___662 == 0) {
                                __result___662 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                         2)) - (int const   )(*(__s2___110 +
                                                                                                2)));
                                if (__s1_len___12 > 2U) {
                                  if (__result___662 == 0) {
                                    __result___662 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                             3)) -
                                                            (int const   )(*(__s2___110 +
                                                                             3)));
                                  } else {
                                    goto _L___2325;
                                  }
                                } else {
                                  _L___2325: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___2326;
                              }
                            } else {
                              _L___2326: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___2327;
                          }
                        } else {
                          _L___2327: /* CIL Label */ ;
                        }
                        tmp___579 = __result___662;
                      }
                    } else {
                      goto _L___2356;
                    }
                  } else {
                    goto _L___2356;
                  }
                } else {
                  _L___2356: /* CIL Label */ 
                  if ((unsigned int )((void const   *)("page-up" + 1)) - (unsigned int )((void const   *)"page-up") ==
                      1U) {
                    __s2_len___12 = strlen("page-up");
                    if (__s2_len___12 < 4U) {
                      tmp___595 = __builtin_constant_p(keystr);
                      if (tmp___595) {
                        if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                            1U) {
                          __result___669 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                   0)) - (int const   )(*((unsigned char const   *)"page-up" +
                                                                                          0)));
                          if (__s2_len___12 > 0U) {
                            if (__result___669 == 0) {
                              __result___669 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                       1)) - (int const   )(*((unsigned char const   *)"page-up" +
                                                                                              1)));
                              if (__s2_len___12 > 1U) {
                                if (__result___669 == 0) {
                                  __result___669 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                           2)) - (int const   )(*((unsigned char const   *)"page-up" +
                                                                                                  2)));
                                  if (__s2_len___12 > 2U) {
                                    if (__result___669 == 0) {
                                      __result___669 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                               3)) -
                                                              (int const   )(*((unsigned char const   *)"page-up" +
                                                                               3)));
                                    } else {
                                      goto _L___2347;
                                    }
                                  } else {
                                    _L___2347: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___2348;
                                }
                              } else {
                                _L___2348: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___2349;
                            }
                          } else {
                            _L___2349: /* CIL Label */ ;
                          }
                          tmp___579 = __result___669;
                        } else {
                          goto _L___2353;
                        }
                      } else {
                        _L___2353: /* CIL Label */ 
                        __s1___222 = (unsigned char const   *)keystr;
                        __result___670 = (int )((int const   )(*(__s1___222 + 0)) -
                                                (int const   )(*((unsigned char const   *)"page-up" +
                                                                 0)));
                        if (__s2_len___12 > 0U) {
                          if (__result___670 == 0) {
                            __result___670 = (int )((int const   )(*(__s1___222 +
                                                                     1)) - (int const   )(*((unsigned char const   *)"page-up" +
                                                                                            1)));
                            if (__s2_len___12 > 1U) {
                              if (__result___670 == 0) {
                                __result___670 = (int )((int const   )(*(__s1___222 +
                                                                         2)) - (int const   )(*((unsigned char const   *)"page-up" +
                                                                                                2)));
                                if (__s2_len___12 > 2U) {
                                  if (__result___670 == 0) {
                                    __result___670 = (int )((int const   )(*(__s1___222 +
                                                                             3)) -
                                                            (int const   )(*((unsigned char const   *)"page-up" +
                                                                             3)));
                                  } else {
                                    goto _L___2350;
                                  }
                                } else {
                                  _L___2350: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___2351;
                              }
                            } else {
                              _L___2351: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___2352;
                          }
                        } else {
                          _L___2352: /* CIL Label */ ;
                        }
                        tmp___579 = __result___670;
                      }
                    } else {
                      goto _L___2354;
                    }
                  } else {
                    _L___2354: /* CIL Label */ 
                    tmp___579 = strcmp(keystr, "page-up");
                  }
                }
              }
              if (tmp___579) {
                tmp___556 = __builtin_constant_p(keystr);
                if (tmp___556) {
                  __s1_len___11 = strlen(keystr);
                  __s2_len___11 = strlen("escape");
                  if (! ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                         1U)) {
                    goto _L___2191;
                  } else {
                    if (__s1_len___11 >= 4U) {
                      _L___2191: /* CIL Label */ 
                      if (! ((unsigned int )((void const   *)("escape" + 1)) - (unsigned int )((void const   *)"escape") ==
                             1U)) {
                        goto _L___2190;
                      } else {
                        if (__s2_len___11 >= 4U) {
                          _L___2190: /* CIL Label */ 
                          tmp___557 = 1;
                        } else {
                          goto _L___2189;
                        }
                      }
                    } else {
                      _L___2189: /* CIL Label */ 
                      tmp___557 = 0;
                    }
                  }
                  if (tmp___557) {
                    if (__s1_len___11 < __s2_len___11) {
                      tmp___539 = __s1_len___11;
                    } else {
                      tmp___539 = __s2_len___11;
                    }
                    tmp___538 = memcmp((void const   *)keystr, (void const   *)"escape",
                                       tmp___539 + 1U);
                  } else {
                    goto _L___2193;
                  }
                } else {
                  _L___2193: /* CIL Label */ 
                  tmp___555 = __builtin_constant_p(keystr);
                  if (tmp___555) {
                    if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                        1U) {
                      __s1_len___11 = strlen(keystr);
                      if (__s1_len___11 < 4U) {
                        if ((unsigned int )((void const   *)("escape" + 1)) - (unsigned int )((void const   *)"escape") ==
                            1U) {
                          __result___613 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                   0)) - (int const   )(*((unsigned char const   *)"escape" +
                                                                                          0)));
                          if (__s1_len___11 > 0U) {
                            if (__result___613 == 0) {
                              __result___613 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                       1)) - (int const   )(*((unsigned char const   *)"escape" +
                                                                                              1)));
                              if (__s1_len___11 > 1U) {
                                if (__result___613 == 0) {
                                  __result___613 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                           2)) - (int const   )(*((unsigned char const   *)"escape" +
                                                                                                  2)));
                                  if (__s1_len___11 > 2U) {
                                    if (__result___613 == 0) {
                                      __result___613 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                               3)) -
                                                              (int const   )(*((unsigned char const   *)"escape" +
                                                                               3)));
                                    } else {
                                      goto _L___2154;
                                    }
                                  } else {
                                    _L___2154: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___2155;
                                }
                              } else {
                                _L___2155: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___2156;
                            }
                          } else {
                            _L___2156: /* CIL Label */ ;
                          }
                          tmp___538 = __result___613;
                        } else {
                          __s2___102 = (unsigned char const   *)"escape";
                          __result___614 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                   0)) - (int const   )(*(__s2___102 +
                                                                                          0)));
                          if (__s1_len___11 > 0U) {
                            if (__result___614 == 0) {
                              __result___614 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                       1)) - (int const   )(*(__s2___102 +
                                                                                              1)));
                              if (__s1_len___11 > 1U) {
                                if (__result___614 == 0) {
                                  __result___614 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                           2)) - (int const   )(*(__s2___102 +
                                                                                                  2)));
                                  if (__s1_len___11 > 2U) {
                                    if (__result___614 == 0) {
                                      __result___614 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                               3)) -
                                                              (int const   )(*(__s2___102 +
                                                                               3)));
                                    } else {
                                      goto _L___2157;
                                    }
                                  } else {
                                    _L___2157: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___2158;
                                }
                              } else {
                                _L___2158: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___2159;
                            }
                          } else {
                            _L___2159: /* CIL Label */ ;
                          }
                          tmp___538 = __result___614;
                        }
                      } else {
                        goto _L___2188;
                      }
                    } else {
                      goto _L___2188;
                    }
                  } else {
                    _L___2188: /* CIL Label */ 
                    if ((unsigned int )((void const   *)("escape" + 1)) - (unsigned int )((void const   *)"escape") ==
                        1U) {
                      __s2_len___11 = strlen("escape");
                      if (__s2_len___11 < 4U) {
                        tmp___554 = __builtin_constant_p(keystr);
                        if (tmp___554) {
                          if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                              1U) {
                            __result___621 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                     0)) - (int const   )(*((unsigned char const   *)"escape" +
                                                                                            0)));
                            if (__s2_len___11 > 0U) {
                              if (__result___621 == 0) {
                                __result___621 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                         1)) - (int const   )(*((unsigned char const   *)"escape" +
                                                                                                1)));
                                if (__s2_len___11 > 1U) {
                                  if (__result___621 == 0) {
                                    __result___621 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                             2)) -
                                                            (int const   )(*((unsigned char const   *)"escape" +
                                                                             2)));
                                    if (__s2_len___11 > 2U) {
                                      if (__result___621 == 0) {
                                        __result___621 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                 3)) -
                                                                (int const   )(*((unsigned char const   *)"escape" +
                                                                                 3)));
                                      } else {
                                        goto _L___2179;
                                      }
                                    } else {
                                      _L___2179: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___2180;
                                  }
                                } else {
                                  _L___2180: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___2181;
                              }
                            } else {
                              _L___2181: /* CIL Label */ ;
                            }
                            tmp___538 = __result___621;
                          } else {
                            goto _L___2185;
                          }
                        } else {
                          _L___2185: /* CIL Label */ 
                          __s1___206 = (unsigned char const   *)keystr;
                          __result___622 = (int )((int const   )(*(__s1___206 + 0)) -
                                                  (int const   )(*((unsigned char const   *)"escape" +
                                                                   0)));
                          if (__s2_len___11 > 0U) {
                            if (__result___622 == 0) {
                              __result___622 = (int )((int const   )(*(__s1___206 +
                                                                       1)) - (int const   )(*((unsigned char const   *)"escape" +
                                                                                              1)));
                              if (__s2_len___11 > 1U) {
                                if (__result___622 == 0) {
                                  __result___622 = (int )((int const   )(*(__s1___206 +
                                                                           2)) - (int const   )(*((unsigned char const   *)"escape" +
                                                                                                  2)));
                                  if (__s2_len___11 > 2U) {
                                    if (__result___622 == 0) {
                                      __result___622 = (int )((int const   )(*(__s1___206 +
                                                                               3)) -
                                                              (int const   )(*((unsigned char const   *)"escape" +
                                                                               3)));
                                    } else {
                                      goto _L___2182;
                                    }
                                  } else {
                                    _L___2182: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___2183;
                                }
                              } else {
                                _L___2183: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___2184;
                            }
                          } else {
                            _L___2184: /* CIL Label */ ;
                          }
                          tmp___538 = __result___622;
                        }
                      } else {
                        goto _L___2186;
                      }
                    } else {
                      _L___2186: /* CIL Label */ 
                      tmp___538 = strcmp(keystr, "escape");
                    }
                  }
                }
                if (tmp___538) {
                  tmp___515 = __builtin_constant_p(keystr);
                  if (tmp___515) {
                    __s1_len___10 = strlen(keystr);
                    __s2_len___10 = strlen("space");
                    if (! ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                           1U)) {
                      goto _L___2023;
                    } else {
                      if (__s1_len___10 >= 4U) {
                        _L___2023: /* CIL Label */ 
                        if (! ((unsigned int )((void const   *)("space" + 1)) - (unsigned int )((void const   *)"space") ==
                               1U)) {
                          goto _L___2022;
                        } else {
                          if (__s2_len___10 >= 4U) {
                            _L___2022: /* CIL Label */ 
                            tmp___516 = 1;
                          } else {
                            goto _L___2021;
                          }
                        }
                      } else {
                        _L___2021: /* CIL Label */ 
                        tmp___516 = 0;
                      }
                    }
                    if (tmp___516) {
                      if (__s1_len___10 < __s2_len___10) {
                        tmp___498 = __s1_len___10;
                      } else {
                        tmp___498 = __s2_len___10;
                      }
                      tmp___497 = memcmp((void const   *)keystr, (void const   *)"space",
                                         tmp___498 + 1U);
                    } else {
                      goto _L___2025;
                    }
                  } else {
                    _L___2025: /* CIL Label */ 
                    tmp___514 = __builtin_constant_p(keystr);
                    if (tmp___514) {
                      if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                          1U) {
                        __s1_len___10 = strlen(keystr);
                        if (__s1_len___10 < 4U) {
                          if ((unsigned int )((void const   *)("space" + 1)) - (unsigned int )((void const   *)"space") ==
                              1U) {
                            __result___565 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                     0)) - (int const   )(*((unsigned char const   *)"space" +
                                                                                            0)));
                            if (__s1_len___10 > 0U) {
                              if (__result___565 == 0) {
                                __result___565 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                         1)) - (int const   )(*((unsigned char const   *)"space" +
                                                                                                1)));
                                if (__s1_len___10 > 1U) {
                                  if (__result___565 == 0) {
                                    __result___565 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                             2)) -
                                                            (int const   )(*((unsigned char const   *)"space" +
                                                                             2)));
                                    if (__s1_len___10 > 2U) {
                                      if (__result___565 == 0) {
                                        __result___565 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                 3)) -
                                                                (int const   )(*((unsigned char const   *)"space" +
                                                                                 3)));
                                      } else {
                                        goto _L___1986;
                                      }
                                    } else {
                                      _L___1986: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___1987;
                                  }
                                } else {
                                  _L___1987: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___1988;
                              }
                            } else {
                              _L___1988: /* CIL Label */ ;
                            }
                            tmp___497 = __result___565;
                          } else {
                            __s2___94 = (unsigned char const   *)"space";
                            __result___566 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                     0)) - (int const   )(*(__s2___94 +
                                                                                            0)));
                            if (__s1_len___10 > 0U) {
                              if (__result___566 == 0) {
                                __result___566 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                         1)) - (int const   )(*(__s2___94 +
                                                                                                1)));
                                if (__s1_len___10 > 1U) {
                                  if (__result___566 == 0) {
                                    __result___566 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                             2)) -
                                                            (int const   )(*(__s2___94 +
                                                                             2)));
                                    if (__s1_len___10 > 2U) {
                                      if (__result___566 == 0) {
                                        __result___566 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                 3)) -
                                                                (int const   )(*(__s2___94 +
                                                                                 3)));
                                      } else {
                                        goto _L___1989;
                                      }
                                    } else {
                                      _L___1989: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___1990;
                                  }
                                } else {
                                  _L___1990: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___1991;
                              }
                            } else {
                              _L___1991: /* CIL Label */ ;
                            }
                            tmp___497 = __result___566;
                          }
                        } else {
                          goto _L___2020;
                        }
                      } else {
                        goto _L___2020;
                      }
                    } else {
                      _L___2020: /* CIL Label */ 
                      if ((unsigned int )((void const   *)("space" + 1)) - (unsigned int )((void const   *)"space") ==
                          1U) {
                        __s2_len___10 = strlen("space");
                        if (__s2_len___10 < 4U) {
                          tmp___513 = __builtin_constant_p(keystr);
                          if (tmp___513) {
                            if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                                1U) {
                              __result___573 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                       0)) - (int const   )(*((unsigned char const   *)"space" +
                                                                                              0)));
                              if (__s2_len___10 > 0U) {
                                if (__result___573 == 0) {
                                  __result___573 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                           1)) - (int const   )(*((unsigned char const   *)"space" +
                                                                                                  1)));
                                  if (__s2_len___10 > 1U) {
                                    if (__result___573 == 0) {
                                      __result___573 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                               2)) -
                                                              (int const   )(*((unsigned char const   *)"space" +
                                                                               2)));
                                      if (__s2_len___10 > 2U) {
                                        if (__result___573 == 0) {
                                          __result___573 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                   3)) -
                                                                  (int const   )(*((unsigned char const   *)"space" +
                                                                                   3)));
                                        } else {
                                          goto _L___2011;
                                        }
                                      } else {
                                        _L___2011: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___2012;
                                    }
                                  } else {
                                    _L___2012: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___2013;
                                }
                              } else {
                                _L___2013: /* CIL Label */ ;
                              }
                              tmp___497 = __result___573;
                            } else {
                              goto _L___2017;
                            }
                          } else {
                            _L___2017: /* CIL Label */ 
                            __s1___190 = (unsigned char const   *)keystr;
                            __result___574 = (int )((int const   )(*(__s1___190 +
                                                                     0)) - (int const   )(*((unsigned char const   *)"space" +
                                                                                            0)));
                            if (__s2_len___10 > 0U) {
                              if (__result___574 == 0) {
                                __result___574 = (int )((int const   )(*(__s1___190 +
                                                                         1)) - (int const   )(*((unsigned char const   *)"space" +
                                                                                                1)));
                                if (__s2_len___10 > 1U) {
                                  if (__result___574 == 0) {
                                    __result___574 = (int )((int const   )(*(__s1___190 +
                                                                             2)) -
                                                            (int const   )(*((unsigned char const   *)"space" +
                                                                             2)));
                                    if (__s2_len___10 > 2U) {
                                      if (__result___574 == 0) {
                                        __result___574 = (int )((int const   )(*(__s1___190 +
                                                                                 3)) -
                                                                (int const   )(*((unsigned char const   *)"space" +
                                                                                 3)));
                                      } else {
                                        goto _L___2014;
                                      }
                                    } else {
                                      _L___2014: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___2015;
                                  }
                                } else {
                                  _L___2015: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___2016;
                              }
                            } else {
                              _L___2016: /* CIL Label */ ;
                            }
                            tmp___497 = __result___574;
                          }
                        } else {
                          goto _L___2018;
                        }
                      } else {
                        _L___2018: /* CIL Label */ 
                        tmp___497 = strcmp(keystr, "space");
                      }
                    }
                  }
                  if (tmp___497) {
                    tmp___474 = __builtin_constant_p(keystr);
                    if (tmp___474) {
                      __s1_len___9 = strlen(keystr);
                      __s2_len___9 = strlen("tab");
                      if (! ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                             1U)) {
                        goto _L___1855;
                      } else {
                        if (__s1_len___9 >= 4U) {
                          _L___1855: /* CIL Label */ 
                          if (! ((unsigned int )((void const   *)("tab" + 1)) - (unsigned int )((void const   *)"tab") ==
                                 1U)) {
                            goto _L___1854;
                          } else {
                            if (__s2_len___9 >= 4U) {
                              _L___1854: /* CIL Label */ 
                              tmp___475 = 1;
                            } else {
                              goto _L___1853;
                            }
                          }
                        } else {
                          _L___1853: /* CIL Label */ 
                          tmp___475 = 0;
                        }
                      }
                      if (tmp___475) {
                        if (__s1_len___9 < __s2_len___9) {
                          tmp___457 = __s1_len___9;
                        } else {
                          tmp___457 = __s2_len___9;
                        }
                        tmp___456 = memcmp((void const   *)keystr, (void const   *)"tab",
                                           tmp___457 + 1U);
                      } else {
                        goto _L___1857;
                      }
                    } else {
                      _L___1857: /* CIL Label */ 
                      tmp___473 = __builtin_constant_p(keystr);
                      if (tmp___473) {
                        if ((unsigned int )((void const   *)(keystr + 1)) - (unsigned int )((void const   *)keystr) ==
                            1U) {
                          __s1_len___9 = strlen(keystr);
                          if (__s1_len___9 < 4U) {
                            if ((unsigned int )((void const   *)("tab" + 1)) - (unsigned int )((void const   *)"tab") ==
                                1U) {
                              __result___517 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                       0)) - (int const   )(*((unsigned char const   *)"tab" +
                                                                                              0)));
                              if (__s1_len___9 > 0U) {
                                if (__result___517 == 0) {
                                  __result___517 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                           1)) - (int const   )(*((unsigned char const   *)"tab" +
                                                                                                  1)));
                                  if (__s1_len___9 > 1U) {
                                    if (__result___517 == 0) {
                                      __result___517 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                               2)) -
                                                              (int const   )(*((unsigned char const   *)"tab" +
                                                                               2)));
                                      if (__s1_len___9 > 2U) {
                                        if (__result___517 == 0) {
                                          __result___517 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                   3)) -
                                                                  (int const   )(*((unsigned char const   *)"tab" +
                                                                                   3)));
                                        } else {
                                          goto _L___1818;
                                        }
                                      } else {
                                        _L___1818: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___1819;
                                    }
                                  } else {
                                    _L___1819: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___1820;
                                }
                              } else {
                                _L___1820: /* CIL Label */ ;
                              }
                              tmp___456 = __result___517;
                            } else {
                              __s2___86 = (unsigned char const   *)"tab";
                              __result___518 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                       0)) - (int const   )(*(__s2___86 +
                                                                                              0)));
                              if (__s1_len___9 > 0U) {
                                if (__result___518 == 0) {
                                  __result___518 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                           1)) - (int const   )(*(__s2___86 +
                                                                                                  1)));
                                  if (__s1_len___9 > 1U) {
                                    if (__result___518 == 0) {
                                      __result___518 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                               2)) -
                                                              (int const   )(*(__s2___86 +
                                                                               2)));
                                      if (__s1_len___9 > 2U) {
                                        if (__result___518 == 0) {
                                          __result___518 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                   3)) -
                                                                  (int const   )(*(__s2___86 +
                                                                                   3)));
                                        } else {
                                          goto _L___1821;
                                        }
                                      } else {
                                        _L___1821: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___1822;
                                    }
                                  } else {
                                    _L___1822: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___1823;
                                }
                              } else {
                                _L___1823: /* CIL Label */ ;
                              }
                              tmp___456 = __result___518;
                            }
                          } else {
                            goto _L___1852;
                          }
                        } else {
                          goto _L___1852;
                        }
                      } else {
                        _L___1852: /* CIL Label */ 
                        if ((unsigned int )((void const   *)("tab" + 1)) - (unsigned int )((void const   *)"tab") ==
                            1U) {
                          __s2_len___9 = strlen("tab");
                          if (__s2_len___9 < 4U) {
                            tmp___472 = __builtin_constant_p(keystr);
                            if (tmp___472) {
                              if ((unsigned int )((void const   *)(keystr + 1)) -
                                  (unsigned int )((void const   *)keystr) == 1U) {
                                __result___525 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                         0)) - (int const   )(*((unsigned char const   *)"tab" +
                                                                                                0)));
                                if (__s2_len___9 > 0U) {
                                  if (__result___525 == 0) {
                                    __result___525 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                             1)) -
                                                            (int const   )(*((unsigned char const   *)"tab" +
                                                                             1)));
                                    if (__s2_len___9 > 1U) {
                                      if (__result___525 == 0) {
                                        __result___525 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                 2)) -
                                                                (int const   )(*((unsigned char const   *)"tab" +
                                                                                 2)));
                                        if (__s2_len___9 > 2U) {
                                          if (__result___525 == 0) {
                                            __result___525 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                     3)) -
                                                                    (int const   )(*((unsigned char const   *)"tab" +
                                                                                     3)));
                                          } else {
                                            goto _L___1843;
                                          }
                                        } else {
                                          _L___1843: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___1844;
                                      }
                                    } else {
                                      _L___1844: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___1845;
                                  }
                                } else {
                                  _L___1845: /* CIL Label */ ;
                                }
                                tmp___456 = __result___525;
                              } else {
                                goto _L___1849;
                              }
                            } else {
                              _L___1849: /* CIL Label */ 
                              __s1___174 = (unsigned char const   *)keystr;
                              __result___526 = (int )((int const   )(*(__s1___174 +
                                                                       0)) - (int const   )(*((unsigned char const   *)"tab" +
                                                                                              0)));
                              if (__s2_len___9 > 0U) {
                                if (__result___526 == 0) {
                                  __result___526 = (int )((int const   )(*(__s1___174 +
                                                                           1)) - (int const   )(*((unsigned char const   *)"tab" +
                                                                                                  1)));
                                  if (__s2_len___9 > 1U) {
                                    if (__result___526 == 0) {
                                      __result___526 = (int )((int const   )(*(__s1___174 +
                                                                               2)) -
                                                              (int const   )(*((unsigned char const   *)"tab" +
                                                                               2)));
                                      if (__s2_len___9 > 2U) {
                                        if (__result___526 == 0) {
                                          __result___526 = (int )((int const   )(*(__s1___174 +
                                                                                   3)) -
                                                                  (int const   )(*((unsigned char const   *)"tab" +
                                                                                   3)));
                                        } else {
                                          goto _L___1846;
                                        }
                                      } else {
                                        _L___1846: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___1847;
                                    }
                                  } else {
                                    _L___1847: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___1848;
                                }
                              } else {
                                _L___1848: /* CIL Label */ ;
                              }
                              tmp___456 = __result___526;
                            }
                          } else {
                            goto _L___1850;
                          }
                        } else {
                          _L___1850: /* CIL Label */ 
                          tmp___456 = strcmp(keystr, "tab");
                        }
                      }
                    }
                    if (tmp___456) {
                      tmp___432 = __builtin_constant_p(keystr);
                      if (tmp___432) {
                        tmp___433 = strlen(keystr);
                        if (tmp___433 < 5U) {
                          goto _L___1688;
                        } else {
                          goto _L___1689;
                        }
                      } else {
                        _L___1689: /* CIL Label */ 
                        tmp___434 = strlen("ctrl-");
                        if (tmp___434 < 5U) {
                          _L___1688: /* CIL Label */ 
                          tmp___430 = __builtin_constant_p(keystr);
                          if (tmp___430) {
                            __s1_len___8 = strlen(keystr);
                            __s2_len___8 = strlen("ctrl-");
                            if (! ((unsigned int )((void const   *)(keystr + 1)) -
                                   (unsigned int )((void const   *)keystr) == 1U)) {
                              goto _L___1685;
                            } else {
                              if (__s1_len___8 >= 4U) {
                                _L___1685: /* CIL Label */ 
                                if (! ((unsigned int )((void const   *)("ctrl-" +
                                                                        1)) - (unsigned int )((void const   *)"ctrl-") ==
                                       1U)) {
                                  goto _L___1684;
                                } else {
                                  if (__s2_len___8 >= 4U) {
                                    _L___1684: /* CIL Label */ 
                                    tmp___431 = 1;
                                  } else {
                                    goto _L___1683;
                                  }
                                }
                              } else {
                                _L___1683: /* CIL Label */ 
                                tmp___431 = 0;
                              }
                            }
                            if (tmp___431) {
                              if (__s1_len___8 < __s2_len___8) {
                                tmp___413 = __s1_len___8;
                              } else {
                                tmp___413 = __s2_len___8;
                              }
                              tmp___412 = memcmp((void const   *)keystr, (void const   *)"ctrl-",
                                                 tmp___413 + 1U);
                            } else {
                              goto _L___1687;
                            }
                          } else {
                            _L___1687: /* CIL Label */ 
                            tmp___429 = __builtin_constant_p(keystr);
                            if (tmp___429) {
                              if ((unsigned int )((void const   *)(keystr + 1)) -
                                  (unsigned int )((void const   *)keystr) == 1U) {
                                __s1_len___8 = strlen(keystr);
                                if (__s1_len___8 < 4U) {
                                  if ((unsigned int )((void const   *)("ctrl-" + 1)) -
                                      (unsigned int )((void const   *)"ctrl-") ==
                                      1U) {
                                    __result___469 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                             0)) -
                                                            (int const   )(*((unsigned char const   *)"ctrl-" +
                                                                             0)));
                                    if (__s1_len___8 > 0U) {
                                      if (__result___469 == 0) {
                                        __result___469 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                 1)) -
                                                                (int const   )(*((unsigned char const   *)"ctrl-" +
                                                                                 1)));
                                        if (__s1_len___8 > 1U) {
                                          if (__result___469 == 0) {
                                            __result___469 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                     2)) -
                                                                    (int const   )(*((unsigned char const   *)"ctrl-" +
                                                                                     2)));
                                            if (__s1_len___8 > 2U) {
                                              if (__result___469 == 0) {
                                                __result___469 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                         3)) -
                                                                        (int const   )(*((unsigned char const   *)"ctrl-" +
                                                                                         3)));
                                              } else {
                                                goto _L___1648;
                                              }
                                            } else {
                                              _L___1648: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___1649;
                                          }
                                        } else {
                                          _L___1649: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___1650;
                                      }
                                    } else {
                                      _L___1650: /* CIL Label */ ;
                                    }
                                    tmp___412 = __result___469;
                                  } else {
                                    __s2___78 = (unsigned char const   *)"ctrl-";
                                    __result___470 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                             0)) -
                                                            (int const   )(*(__s2___78 +
                                                                             0)));
                                    if (__s1_len___8 > 0U) {
                                      if (__result___470 == 0) {
                                        __result___470 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                 1)) -
                                                                (int const   )(*(__s2___78 +
                                                                                 1)));
                                        if (__s1_len___8 > 1U) {
                                          if (__result___470 == 0) {
                                            __result___470 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                     2)) -
                                                                    (int const   )(*(__s2___78 +
                                                                                     2)));
                                            if (__s1_len___8 > 2U) {
                                              if (__result___470 == 0) {
                                                __result___470 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                         3)) -
                                                                        (int const   )(*(__s2___78 +
                                                                                         3)));
                                              } else {
                                                goto _L___1651;
                                              }
                                            } else {
                                              _L___1651: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___1652;
                                          }
                                        } else {
                                          _L___1652: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___1653;
                                      }
                                    } else {
                                      _L___1653: /* CIL Label */ ;
                                    }
                                    tmp___412 = __result___470;
                                  }
                                } else {
                                  goto _L___1682;
                                }
                              } else {
                                goto _L___1682;
                              }
                            } else {
                              _L___1682: /* CIL Label */ 
                              if ((unsigned int )((void const   *)("ctrl-" + 1)) -
                                  (unsigned int )((void const   *)"ctrl-") == 1U) {
                                __s2_len___8 = strlen("ctrl-");
                                if (__s2_len___8 < 4U) {
                                  tmp___428 = __builtin_constant_p(keystr);
                                  if (tmp___428) {
                                    if ((unsigned int )((void const   *)(keystr +
                                                                         1)) - (unsigned int )((void const   *)keystr) ==
                                        1U) {
                                      __result___477 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                               0)) -
                                                              (int const   )(*((unsigned char const   *)"ctrl-" +
                                                                               0)));
                                      if (__s2_len___8 > 0U) {
                                        if (__result___477 == 0) {
                                          __result___477 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                   1)) -
                                                                  (int const   )(*((unsigned char const   *)"ctrl-" +
                                                                                   1)));
                                          if (__s2_len___8 > 1U) {
                                            if (__result___477 == 0) {
                                              __result___477 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                       2)) -
                                                                      (int const   )(*((unsigned char const   *)"ctrl-" +
                                                                                       2)));
                                              if (__s2_len___8 > 2U) {
                                                if (__result___477 == 0) {
                                                  __result___477 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                           3)) -
                                                                          (int const   )(*((unsigned char const   *)"ctrl-" +
                                                                                           3)));
                                                } else {
                                                  goto _L___1673;
                                                }
                                              } else {
                                                _L___1673: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___1674;
                                            }
                                          } else {
                                            _L___1674: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___1675;
                                        }
                                      } else {
                                        _L___1675: /* CIL Label */ ;
                                      }
                                      tmp___412 = __result___477;
                                    } else {
                                      goto _L___1679;
                                    }
                                  } else {
                                    _L___1679: /* CIL Label */ 
                                    __s1___158 = (unsigned char const   *)keystr;
                                    __result___478 = (int )((int const   )(*(__s1___158 +
                                                                             0)) -
                                                            (int const   )(*((unsigned char const   *)"ctrl-" +
                                                                             0)));
                                    if (__s2_len___8 > 0U) {
                                      if (__result___478 == 0) {
                                        __result___478 = (int )((int const   )(*(__s1___158 +
                                                                                 1)) -
                                                                (int const   )(*((unsigned char const   *)"ctrl-" +
                                                                                 1)));
                                        if (__s2_len___8 > 1U) {
                                          if (__result___478 == 0) {
                                            __result___478 = (int )((int const   )(*(__s1___158 +
                                                                                     2)) -
                                                                    (int const   )(*((unsigned char const   *)"ctrl-" +
                                                                                     2)));
                                            if (__s2_len___8 > 2U) {
                                              if (__result___478 == 0) {
                                                __result___478 = (int )((int const   )(*(__s1___158 +
                                                                                         3)) -
                                                                        (int const   )(*((unsigned char const   *)"ctrl-" +
                                                                                         3)));
                                              } else {
                                                goto _L___1676;
                                              }
                                            } else {
                                              _L___1676: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___1677;
                                          }
                                        } else {
                                          _L___1677: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___1678;
                                      }
                                    } else {
                                      _L___1678: /* CIL Label */ ;
                                    }
                                    tmp___412 = __result___478;
                                  }
                                } else {
                                  goto _L___1680;
                                }
                              } else {
                                _L___1680: /* CIL Label */ 
                                tmp___412 = strcmp(keystr, "ctrl-");
                              }
                            }
                          }
                          tmp___390 = tmp___412;
                        } else {
                          tmp___390 = strncmp(keystr, "ctrl-", 5U);
                        }
                      }
                      if (tmp___390) {
                        tmp___342 = __builtin_constant_p(keystr);
                        if (tmp___342) {
                          tmp___343 = strlen(keystr);
                          if (tmp___343 < 7U) {
                            goto _L___1350;
                          } else {
                            goto _L___1351;
                          }
                        } else {
                          _L___1351: /* CIL Label */ 
                          tmp___344 = strlen("cursor-");
                          if (tmp___344 < 7U) {
                            _L___1350: /* CIL Label */ 
                            tmp___340 = __builtin_constant_p(keystr);
                            if (tmp___340) {
                              __s1_len___6 = strlen(keystr);
                              __s2_len___6 = strlen("cursor-");
                              if (! ((unsigned int )((void const   *)(keystr + 1)) -
                                     (unsigned int )((void const   *)keystr) == 1U)) {
                                goto _L___1347;
                              } else {
                                if (__s1_len___6 >= 4U) {
                                  _L___1347: /* CIL Label */ 
                                  if (! ((unsigned int )((void const   *)("cursor-" +
                                                                          1)) - (unsigned int )((void const   *)"cursor-") ==
                                         1U)) {
                                    goto _L___1346;
                                  } else {
                                    if (__s2_len___6 >= 4U) {
                                      _L___1346: /* CIL Label */ 
                                      tmp___341 = 1;
                                    } else {
                                      goto _L___1345;
                                    }
                                  }
                                } else {
                                  _L___1345: /* CIL Label */ 
                                  tmp___341 = 0;
                                }
                              }
                              if (tmp___341) {
                                if (__s1_len___6 < __s2_len___6) {
                                  tmp___323 = __s1_len___6;
                                } else {
                                  tmp___323 = __s2_len___6;
                                }
                                tmp___322 = memcmp((void const   *)keystr, (void const   *)"cursor-",
                                                   tmp___323 + 1U);
                              } else {
                                goto _L___1349;
                              }
                            } else {
                              _L___1349: /* CIL Label */ 
                              tmp___339 = __builtin_constant_p(keystr);
                              if (tmp___339) {
                                if ((unsigned int )((void const   *)(keystr + 1)) -
                                    (unsigned int )((void const   *)keystr) == 1U) {
                                  __s1_len___6 = strlen(keystr);
                                  if (__s1_len___6 < 4U) {
                                    if ((unsigned int )((void const   *)("cursor-" +
                                                                         1)) - (unsigned int )((void const   *)"cursor-") ==
                                        1U) {
                                      __result___373 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                               0)) -
                                                              (int const   )(*((unsigned char const   *)"cursor-" +
                                                                               0)));
                                      if (__s1_len___6 > 0U) {
                                        if (__result___373 == 0) {
                                          __result___373 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                   1)) -
                                                                  (int const   )(*((unsigned char const   *)"cursor-" +
                                                                                   1)));
                                          if (__s1_len___6 > 1U) {
                                            if (__result___373 == 0) {
                                              __result___373 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                       2)) -
                                                                      (int const   )(*((unsigned char const   *)"cursor-" +
                                                                                       2)));
                                              if (__s1_len___6 > 2U) {
                                                if (__result___373 == 0) {
                                                  __result___373 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                           3)) -
                                                                          (int const   )(*((unsigned char const   *)"cursor-" +
                                                                                           3)));
                                                } else {
                                                  goto _L___1310;
                                                }
                                              } else {
                                                _L___1310: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___1311;
                                            }
                                          } else {
                                            _L___1311: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___1312;
                                        }
                                      } else {
                                        _L___1312: /* CIL Label */ ;
                                      }
                                      tmp___322 = __result___373;
                                    } else {
                                      __s2___62 = (unsigned char const   *)"cursor-";
                                      __result___374 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                               0)) -
                                                              (int const   )(*(__s2___62 +
                                                                               0)));
                                      if (__s1_len___6 > 0U) {
                                        if (__result___374 == 0) {
                                          __result___374 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                   1)) -
                                                                  (int const   )(*(__s2___62 +
                                                                                   1)));
                                          if (__s1_len___6 > 1U) {
                                            if (__result___374 == 0) {
                                              __result___374 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                       2)) -
                                                                      (int const   )(*(__s2___62 +
                                                                                       2)));
                                              if (__s1_len___6 > 2U) {
                                                if (__result___374 == 0) {
                                                  __result___374 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                           3)) -
                                                                          (int const   )(*(__s2___62 +
                                                                                           3)));
                                                } else {
                                                  goto _L___1313;
                                                }
                                              } else {
                                                _L___1313: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___1314;
                                            }
                                          } else {
                                            _L___1314: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___1315;
                                        }
                                      } else {
                                        _L___1315: /* CIL Label */ ;
                                      }
                                      tmp___322 = __result___374;
                                    }
                                  } else {
                                    goto _L___1344;
                                  }
                                } else {
                                  goto _L___1344;
                                }
                              } else {
                                _L___1344: /* CIL Label */ 
                                if ((unsigned int )((void const   *)("cursor-" + 1)) -
                                    (unsigned int )((void const   *)"cursor-") ==
                                    1U) {
                                  __s2_len___6 = strlen("cursor-");
                                  if (__s2_len___6 < 4U) {
                                    tmp___338 = __builtin_constant_p(keystr);
                                    if (tmp___338) {
                                      if ((unsigned int )((void const   *)(keystr +
                                                                           1)) - (unsigned int )((void const   *)keystr) ==
                                          1U) {
                                        __result___381 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                 0)) -
                                                                (int const   )(*((unsigned char const   *)"cursor-" +
                                                                                 0)));
                                        if (__s2_len___6 > 0U) {
                                          if (__result___381 == 0) {
                                            __result___381 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                     1)) -
                                                                    (int const   )(*((unsigned char const   *)"cursor-" +
                                                                                     1)));
                                            if (__s2_len___6 > 1U) {
                                              if (__result___381 == 0) {
                                                __result___381 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                         2)) -
                                                                        (int const   )(*((unsigned char const   *)"cursor-" +
                                                                                         2)));
                                                if (__s2_len___6 > 2U) {
                                                  if (__result___381 == 0) {
                                                    __result___381 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                             3)) -
                                                                            (int const   )(*((unsigned char const   *)"cursor-" +
                                                                                             3)));
                                                  } else {
                                                    goto _L___1335;
                                                  }
                                                } else {
                                                  _L___1335: /* CIL Label */ ;
                                                }
                                              } else {
                                                goto _L___1336;
                                              }
                                            } else {
                                              _L___1336: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___1337;
                                          }
                                        } else {
                                          _L___1337: /* CIL Label */ ;
                                        }
                                        tmp___322 = __result___381;
                                      } else {
                                        goto _L___1341;
                                      }
                                    } else {
                                      _L___1341: /* CIL Label */ 
                                      __s1___126 = (unsigned char const   *)keystr;
                                      __result___382 = (int )((int const   )(*(__s1___126 +
                                                                               0)) -
                                                              (int const   )(*((unsigned char const   *)"cursor-" +
                                                                               0)));
                                      if (__s2_len___6 > 0U) {
                                        if (__result___382 == 0) {
                                          __result___382 = (int )((int const   )(*(__s1___126 +
                                                                                   1)) -
                                                                  (int const   )(*((unsigned char const   *)"cursor-" +
                                                                                   1)));
                                          if (__s2_len___6 > 1U) {
                                            if (__result___382 == 0) {
                                              __result___382 = (int )((int const   )(*(__s1___126 +
                                                                                       2)) -
                                                                      (int const   )(*((unsigned char const   *)"cursor-" +
                                                                                       2)));
                                              if (__s2_len___6 > 2U) {
                                                if (__result___382 == 0) {
                                                  __result___382 = (int )((int const   )(*(__s1___126 +
                                                                                           3)) -
                                                                          (int const   )(*((unsigned char const   *)"cursor-" +
                                                                                           3)));
                                                } else {
                                                  goto _L___1338;
                                                }
                                              } else {
                                                _L___1338: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___1339;
                                            }
                                          } else {
                                            _L___1339: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___1340;
                                        }
                                      } else {
                                        _L___1340: /* CIL Label */ ;
                                      }
                                      tmp___322 = __result___382;
                                    }
                                  } else {
                                    goto _L___1342;
                                  }
                                } else {
                                  _L___1342: /* CIL Label */ 
                                  tmp___322 = strcmp(keystr, "cursor-");
                                }
                              }
                            }
                            tmp___300 = tmp___322;
                          } else {
                            tmp___300 = strncmp(keystr, "cursor-", 7U);
                          }
                        }
                        if (tmp___300) {
                          tmp___252 = __builtin_constant_p(keystr);
                          if (tmp___252) {
                            tmp___253 = strlen(keystr);
                            if (tmp___253 < 3U) {
                              goto _L___1012;
                            } else {
                              goto _L___1013;
                            }
                          } else {
                            _L___1013: /* CIL Label */ 
                            tmp___254 = strlen("fn-");
                            if (tmp___254 < 3U) {
                              _L___1012: /* CIL Label */ 
                              tmp___250 = __builtin_constant_p(keystr);
                              if (tmp___250) {
                                __s1_len___4 = strlen(keystr);
                                __s2_len___4 = strlen("fn-");
                                if (! ((unsigned int )((void const   *)(keystr + 1)) -
                                       (unsigned int )((void const   *)keystr) ==
                                       1U)) {
                                  goto _L___1009;
                                } else {
                                  if (__s1_len___4 >= 4U) {
                                    _L___1009: /* CIL Label */ 
                                    if (! ((unsigned int )((void const   *)("fn-" +
                                                                            1)) -
                                           (unsigned int )((void const   *)"fn-") ==
                                           1U)) {
                                      goto _L___1008;
                                    } else {
                                      if (__s2_len___4 >= 4U) {
                                        _L___1008: /* CIL Label */ 
                                        tmp___251 = 1;
                                      } else {
                                        goto _L___1007;
                                      }
                                    }
                                  } else {
                                    _L___1007: /* CIL Label */ 
                                    tmp___251 = 0;
                                  }
                                }
                                if (tmp___251) {
                                  if (__s1_len___4 < __s2_len___4) {
                                    tmp___233 = __s1_len___4;
                                  } else {
                                    tmp___233 = __s2_len___4;
                                  }
                                  tmp___232 = memcmp((void const   *)keystr, (void const   *)"fn-",
                                                     tmp___233 + 1U);
                                } else {
                                  goto _L___1011;
                                }
                              } else {
                                _L___1011: /* CIL Label */ 
                                tmp___249 = __builtin_constant_p(keystr);
                                if (tmp___249) {
                                  if ((unsigned int )((void const   *)(keystr + 1)) -
                                      (unsigned int )((void const   *)keystr) == 1U) {
                                    __s1_len___4 = strlen(keystr);
                                    if (__s1_len___4 < 4U) {
                                      if ((unsigned int )((void const   *)("fn-" +
                                                                           1)) - (unsigned int )((void const   *)"fn-") ==
                                          1U) {
                                        __result___277 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                 0)) -
                                                                (int const   )(*((unsigned char const   *)"fn-" +
                                                                                 0)));
                                        if (__s1_len___4 > 0U) {
                                          if (__result___277 == 0) {
                                            __result___277 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                     1)) -
                                                                    (int const   )(*((unsigned char const   *)"fn-" +
                                                                                     1)));
                                            if (__s1_len___4 > 1U) {
                                              if (__result___277 == 0) {
                                                __result___277 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                         2)) -
                                                                        (int const   )(*((unsigned char const   *)"fn-" +
                                                                                         2)));
                                                if (__s1_len___4 > 2U) {
                                                  if (__result___277 == 0) {
                                                    __result___277 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                             3)) -
                                                                            (int const   )(*((unsigned char const   *)"fn-" +
                                                                                             3)));
                                                  } else {
                                                    goto _L___972;
                                                  }
                                                } else {
                                                  _L___972: /* CIL Label */ ;
                                                }
                                              } else {
                                                goto _L___973;
                                              }
                                            } else {
                                              _L___973: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___974;
                                          }
                                        } else {
                                          _L___974: /* CIL Label */ ;
                                        }
                                        tmp___232 = __result___277;
                                      } else {
                                        __s2___46 = (unsigned char const   *)"fn-";
                                        __result___278 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                 0)) -
                                                                (int const   )(*(__s2___46 +
                                                                                 0)));
                                        if (__s1_len___4 > 0U) {
                                          if (__result___278 == 0) {
                                            __result___278 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                     1)) -
                                                                    (int const   )(*(__s2___46 +
                                                                                     1)));
                                            if (__s1_len___4 > 1U) {
                                              if (__result___278 == 0) {
                                                __result___278 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                         2)) -
                                                                        (int const   )(*(__s2___46 +
                                                                                         2)));
                                                if (__s1_len___4 > 2U) {
                                                  if (__result___278 == 0) {
                                                    __result___278 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                             3)) -
                                                                            (int const   )(*(__s2___46 +
                                                                                             3)));
                                                  } else {
                                                    goto _L___975;
                                                  }
                                                } else {
                                                  _L___975: /* CIL Label */ ;
                                                }
                                              } else {
                                                goto _L___976;
                                              }
                                            } else {
                                              _L___976: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___977;
                                          }
                                        } else {
                                          _L___977: /* CIL Label */ ;
                                        }
                                        tmp___232 = __result___278;
                                      }
                                    } else {
                                      goto _L___1006;
                                    }
                                  } else {
                                    goto _L___1006;
                                  }
                                } else {
                                  _L___1006: /* CIL Label */ 
                                  if ((unsigned int )((void const   *)("fn-" + 1)) -
                                      (unsigned int )((void const   *)"fn-") == 1U) {
                                    __s2_len___4 = strlen("fn-");
                                    if (__s2_len___4 < 4U) {
                                      tmp___248 = __builtin_constant_p(keystr);
                                      if (tmp___248) {
                                        if ((unsigned int )((void const   *)(keystr +
                                                                             1)) -
                                            (unsigned int )((void const   *)keystr) ==
                                            1U) {
                                          __result___285 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                   0)) -
                                                                  (int const   )(*((unsigned char const   *)"fn-" +
                                                                                   0)));
                                          if (__s2_len___4 > 0U) {
                                            if (__result___285 == 0) {
                                              __result___285 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                       1)) -
                                                                      (int const   )(*((unsigned char const   *)"fn-" +
                                                                                       1)));
                                              if (__s2_len___4 > 1U) {
                                                if (__result___285 == 0) {
                                                  __result___285 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                           2)) -
                                                                          (int const   )(*((unsigned char const   *)"fn-" +
                                                                                           2)));
                                                  if (__s2_len___4 > 2U) {
                                                    if (__result___285 == 0) {
                                                      __result___285 = (int )((int const   )(*((unsigned char const   *)keystr +
                                                                                               3)) -
                                                                              (int const   )(*((unsigned char const   *)"fn-" +
                                                                                               3)));
                                                    } else {
                                                      goto _L___997;
                                                    }
                                                  } else {
                                                    _L___997: /* CIL Label */ ;
                                                  }
                                                } else {
                                                  goto _L___998;
                                                }
                                              } else {
                                                _L___998: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___999;
                                            }
                                          } else {
                                            _L___999: /* CIL Label */ ;
                                          }
                                          tmp___232 = __result___285;
                                        } else {
                                          goto _L___1003;
                                        }
                                      } else {
                                        _L___1003: /* CIL Label */ 
                                        __s1___94 = (unsigned char const   *)keystr;
                                        __result___286 = (int )((int const   )(*(__s1___94 +
                                                                                 0)) -
                                                                (int const   )(*((unsigned char const   *)"fn-" +
                                                                                 0)));
                                        if (__s2_len___4 > 0U) {
                                          if (__result___286 == 0) {
                                            __result___286 = (int )((int const   )(*(__s1___94 +
                                                                                     1)) -
                                                                    (int const   )(*((unsigned char const   *)"fn-" +
                                                                                     1)));
                                            if (__s2_len___4 > 1U) {
                                              if (__result___286 == 0) {
                                                __result___286 = (int )((int const   )(*(__s1___94 +
                                                                                         2)) -
                                                                        (int const   )(*((unsigned char const   *)"fn-" +
                                                                                         2)));
                                                if (__s2_len___4 > 2U) {
                                                  if (__result___286 == 0) {
                                                    __result___286 = (int )((int const   )(*(__s1___94 +
                                                                                             3)) -
                                                                            (int const   )(*((unsigned char const   *)"fn-" +
                                                                                             3)));
                                                  } else {
                                                    goto _L___1000;
                                                  }
                                                } else {
                                                  _L___1000: /* CIL Label */ ;
                                                }
                                              } else {
                                                goto _L___1001;
                                              }
                                            } else {
                                              _L___1001: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___1002;
                                          }
                                        } else {
                                          _L___1002: /* CIL Label */ ;
                                        }
                                        tmp___232 = __result___286;
                                      }
                                    } else {
                                      goto _L___1004;
                                    }
                                  } else {
                                    _L___1004: /* CIL Label */ 
                                    tmp___232 = strcmp(keystr, "fn-");
                                  }
                                }
                              }
                              tmp___210 = tmp___232;
                            } else {
                              tmp___210 = strncmp(keystr, "fn-", 3U);
                            }
                          }
                          if (! tmp___210) {
                            tmp___164 = keystr + 3;
                            if ((int const   )(*tmp___164) >= 48) {
                              if ((int const   )(*tmp___164) <= 57) {
                                my_atoi(tmp___164, & num, & tmp___164, 99);
                                if (num >= 0) {
                                  if (num <= 63) {
                                    if ((int const   )(*tmp___164) == 0) {
                                      key = 264 + num;
                                    } else {
                                      goto _L___674;
                                    }
                                  } else {
                                    goto _L___674;
                                  }
                                } else {
                                  _L___674: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___675;
                              }
                            } else {
                              _L___675: /* CIL Label */ ;
                            }
                          }
                        } else {
                          tmp = keystr + 7;
                          tmp___162 = __builtin_constant_p(tmp);
                          if (tmp___162) {
                            __s1_len___2 = strlen(tmp);
                            __s2_len___2 = strlen("down");
                            if (! ((unsigned int )((void const   *)(tmp + 1)) - (unsigned int )((void const   *)tmp) ==
                                   1U)) {
                              goto _L___670;
                            } else {
                              if (__s1_len___2 >= 4U) {
                                _L___670: /* CIL Label */ 
                                if (! ((unsigned int )((void const   *)("down" + 1)) -
                                       (unsigned int )((void const   *)"down") ==
                                       1U)) {
                                  goto _L___669;
                                } else {
                                  if (__s2_len___2 >= 4U) {
                                    _L___669: /* CIL Label */ 
                                    tmp___163 = 1;
                                  } else {
                                    goto _L___668;
                                  }
                                }
                              } else {
                                _L___668: /* CIL Label */ 
                                tmp___163 = 0;
                              }
                            }
                            if (tmp___163) {
                              if (__s1_len___2 < __s2_len___2) {
                                tmp___145 = __s1_len___2;
                              } else {
                                tmp___145 = __s2_len___2;
                              }
                              tmp___144 = memcmp((void const   *)tmp, (void const   *)"down",
                                                 tmp___145 + 1U);
                            } else {
                              goto _L___672;
                            }
                          } else {
                            _L___672: /* CIL Label */ 
                            tmp___161 = __builtin_constant_p(tmp);
                            if (tmp___161) {
                              if ((unsigned int )((void const   *)(tmp + 1)) - (unsigned int )((void const   *)tmp) ==
                                  1U) {
                                __s1_len___2 = strlen(tmp);
                                if (__s1_len___2 < 4U) {
                                  if ((unsigned int )((void const   *)("down" + 1)) -
                                      (unsigned int )((void const   *)"down") == 1U) {
                                    __result___181 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                             0)) -
                                                            (int const   )(*((unsigned char const   *)"down" +
                                                                             0)));
                                    if (__s1_len___2 > 0U) {
                                      if (__result___181 == 0) {
                                        __result___181 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                 1)) -
                                                                (int const   )(*((unsigned char const   *)"down" +
                                                                                 1)));
                                        if (__s1_len___2 > 1U) {
                                          if (__result___181 == 0) {
                                            __result___181 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                     2)) -
                                                                    (int const   )(*((unsigned char const   *)"down" +
                                                                                     2)));
                                            if (__s1_len___2 > 2U) {
                                              if (__result___181 == 0) {
                                                __result___181 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                         3)) -
                                                                        (int const   )(*((unsigned char const   *)"down" +
                                                                                         3)));
                                              } else {
                                                goto _L___633;
                                              }
                                            } else {
                                              _L___633: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___634;
                                          }
                                        } else {
                                          _L___634: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___635;
                                      }
                                    } else {
                                      _L___635: /* CIL Label */ ;
                                    }
                                    tmp___144 = __result___181;
                                  } else {
                                    __s2___30 = (unsigned char const   *)"down";
                                    __result___182 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                             0)) -
                                                            (int const   )(*(__s2___30 +
                                                                             0)));
                                    if (__s1_len___2 > 0U) {
                                      if (__result___182 == 0) {
                                        __result___182 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                 1)) -
                                                                (int const   )(*(__s2___30 +
                                                                                 1)));
                                        if (__s1_len___2 > 1U) {
                                          if (__result___182 == 0) {
                                            __result___182 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                     2)) -
                                                                    (int const   )(*(__s2___30 +
                                                                                     2)));
                                            if (__s1_len___2 > 2U) {
                                              if (__result___182 == 0) {
                                                __result___182 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                         3)) -
                                                                        (int const   )(*(__s2___30 +
                                                                                         3)));
                                              } else {
                                                goto _L___636;
                                              }
                                            } else {
                                              _L___636: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___637;
                                          }
                                        } else {
                                          _L___637: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___638;
                                      }
                                    } else {
                                      _L___638: /* CIL Label */ ;
                                    }
                                    tmp___144 = __result___182;
                                  }
                                } else {
                                  goto _L___667;
                                }
                              } else {
                                goto _L___667;
                              }
                            } else {
                              _L___667: /* CIL Label */ 
                              if ((unsigned int )((void const   *)("down" + 1)) -
                                  (unsigned int )((void const   *)"down") == 1U) {
                                __s2_len___2 = strlen("down");
                                if (__s2_len___2 < 4U) {
                                  tmp___160 = __builtin_constant_p(tmp);
                                  if (tmp___160) {
                                    if ((unsigned int )((void const   *)(tmp + 1)) -
                                        (unsigned int )((void const   *)tmp) == 1U) {
                                      __result___189 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                               0)) -
                                                              (int const   )(*((unsigned char const   *)"down" +
                                                                               0)));
                                      if (__s2_len___2 > 0U) {
                                        if (__result___189 == 0) {
                                          __result___189 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                   1)) -
                                                                  (int const   )(*((unsigned char const   *)"down" +
                                                                                   1)));
                                          if (__s2_len___2 > 1U) {
                                            if (__result___189 == 0) {
                                              __result___189 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                       2)) -
                                                                      (int const   )(*((unsigned char const   *)"down" +
                                                                                       2)));
                                              if (__s2_len___2 > 2U) {
                                                if (__result___189 == 0) {
                                                  __result___189 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                           3)) -
                                                                          (int const   )(*((unsigned char const   *)"down" +
                                                                                           3)));
                                                } else {
                                                  goto _L___658;
                                                }
                                              } else {
                                                _L___658: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___659;
                                            }
                                          } else {
                                            _L___659: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___660;
                                        }
                                      } else {
                                        _L___660: /* CIL Label */ ;
                                      }
                                      tmp___144 = __result___189;
                                    } else {
                                      goto _L___664;
                                    }
                                  } else {
                                    _L___664: /* CIL Label */ 
                                    __s1___62 = (unsigned char const   *)tmp;
                                    __result___190 = (int )((int const   )(*(__s1___62 +
                                                                             0)) -
                                                            (int const   )(*((unsigned char const   *)"down" +
                                                                             0)));
                                    if (__s2_len___2 > 0U) {
                                      if (__result___190 == 0) {
                                        __result___190 = (int )((int const   )(*(__s1___62 +
                                                                                 1)) -
                                                                (int const   )(*((unsigned char const   *)"down" +
                                                                                 1)));
                                        if (__s2_len___2 > 1U) {
                                          if (__result___190 == 0) {
                                            __result___190 = (int )((int const   )(*(__s1___62 +
                                                                                     2)) -
                                                                    (int const   )(*((unsigned char const   *)"down" +
                                                                                     2)));
                                            if (__s2_len___2 > 2U) {
                                              if (__result___190 == 0) {
                                                __result___190 = (int )((int const   )(*(__s1___62 +
                                                                                         3)) -
                                                                        (int const   )(*((unsigned char const   *)"down" +
                                                                                         3)));
                                              } else {
                                                goto _L___661;
                                              }
                                            } else {
                                              _L___661: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___662;
                                          }
                                        } else {
                                          _L___662: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___663;
                                      }
                                    } else {
                                      _L___663: /* CIL Label */ ;
                                    }
                                    tmp___144 = __result___190;
                                  }
                                } else {
                                  goto _L___665;
                                }
                              } else {
                                _L___665: /* CIL Label */ 
                                tmp___144 = strcmp(tmp, "down");
                              }
                            }
                          }
                          if (tmp___144) {
                            tmp___121 = __builtin_constant_p(tmp);
                            if (tmp___121) {
                              __s1_len___1 = strlen(tmp);
                              __s2_len___1 = strlen("left");
                              if (! ((unsigned int )((void const   *)(tmp + 1)) -
                                     (unsigned int )((void const   *)tmp) == 1U)) {
                                goto _L___502;
                              } else {
                                if (__s1_len___1 >= 4U) {
                                  _L___502: /* CIL Label */ 
                                  if (! ((unsigned int )((void const   *)("left" +
                                                                          1)) - (unsigned int )((void const   *)"left") ==
                                         1U)) {
                                    goto _L___501;
                                  } else {
                                    if (__s2_len___1 >= 4U) {
                                      _L___501: /* CIL Label */ 
                                      tmp___122 = 1;
                                    } else {
                                      goto _L___500;
                                    }
                                  }
                                } else {
                                  _L___500: /* CIL Label */ 
                                  tmp___122 = 0;
                                }
                              }
                              if (tmp___122) {
                                if (__s1_len___1 < __s2_len___1) {
                                  tmp___104 = __s1_len___1;
                                } else {
                                  tmp___104 = __s2_len___1;
                                }
                                tmp___103 = memcmp((void const   *)tmp, (void const   *)"left",
                                                   tmp___104 + 1U);
                              } else {
                                goto _L___504;
                              }
                            } else {
                              _L___504: /* CIL Label */ 
                              tmp___120 = __builtin_constant_p(tmp);
                              if (tmp___120) {
                                if ((unsigned int )((void const   *)(tmp + 1)) - (unsigned int )((void const   *)tmp) ==
                                    1U) {
                                  __s1_len___1 = strlen(tmp);
                                  if (__s1_len___1 < 4U) {
                                    if ((unsigned int )((void const   *)("left" +
                                                                         1)) - (unsigned int )((void const   *)"left") ==
                                        1U) {
                                      __result___133 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                               0)) -
                                                              (int const   )(*((unsigned char const   *)"left" +
                                                                               0)));
                                      if (__s1_len___1 > 0U) {
                                        if (__result___133 == 0) {
                                          __result___133 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                   1)) -
                                                                  (int const   )(*((unsigned char const   *)"left" +
                                                                                   1)));
                                          if (__s1_len___1 > 1U) {
                                            if (__result___133 == 0) {
                                              __result___133 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                       2)) -
                                                                      (int const   )(*((unsigned char const   *)"left" +
                                                                                       2)));
                                              if (__s1_len___1 > 2U) {
                                                if (__result___133 == 0) {
                                                  __result___133 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                           3)) -
                                                                          (int const   )(*((unsigned char const   *)"left" +
                                                                                           3)));
                                                } else {
                                                  goto _L___465;
                                                }
                                              } else {
                                                _L___465: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___466;
                                            }
                                          } else {
                                            _L___466: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___467;
                                        }
                                      } else {
                                        _L___467: /* CIL Label */ ;
                                      }
                                      tmp___103 = __result___133;
                                    } else {
                                      __s2___22 = (unsigned char const   *)"left";
                                      __result___134 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                               0)) -
                                                              (int const   )(*(__s2___22 +
                                                                               0)));
                                      if (__s1_len___1 > 0U) {
                                        if (__result___134 == 0) {
                                          __result___134 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                   1)) -
                                                                  (int const   )(*(__s2___22 +
                                                                                   1)));
                                          if (__s1_len___1 > 1U) {
                                            if (__result___134 == 0) {
                                              __result___134 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                       2)) -
                                                                      (int const   )(*(__s2___22 +
                                                                                       2)));
                                              if (__s1_len___1 > 2U) {
                                                if (__result___134 == 0) {
                                                  __result___134 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                           3)) -
                                                                          (int const   )(*(__s2___22 +
                                                                                           3)));
                                                } else {
                                                  goto _L___468;
                                                }
                                              } else {
                                                _L___468: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___469;
                                            }
                                          } else {
                                            _L___469: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___470;
                                        }
                                      } else {
                                        _L___470: /* CIL Label */ ;
                                      }
                                      tmp___103 = __result___134;
                                    }
                                  } else {
                                    goto _L___499;
                                  }
                                } else {
                                  goto _L___499;
                                }
                              } else {
                                _L___499: /* CIL Label */ 
                                if ((unsigned int )((void const   *)("left" + 1)) -
                                    (unsigned int )((void const   *)"left") == 1U) {
                                  __s2_len___1 = strlen("left");
                                  if (__s2_len___1 < 4U) {
                                    tmp___119 = __builtin_constant_p(tmp);
                                    if (tmp___119) {
                                      if ((unsigned int )((void const   *)(tmp + 1)) -
                                          (unsigned int )((void const   *)tmp) ==
                                          1U) {
                                        __result___141 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                 0)) -
                                                                (int const   )(*((unsigned char const   *)"left" +
                                                                                 0)));
                                        if (__s2_len___1 > 0U) {
                                          if (__result___141 == 0) {
                                            __result___141 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                     1)) -
                                                                    (int const   )(*((unsigned char const   *)"left" +
                                                                                     1)));
                                            if (__s2_len___1 > 1U) {
                                              if (__result___141 == 0) {
                                                __result___141 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                         2)) -
                                                                        (int const   )(*((unsigned char const   *)"left" +
                                                                                         2)));
                                                if (__s2_len___1 > 2U) {
                                                  if (__result___141 == 0) {
                                                    __result___141 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                             3)) -
                                                                            (int const   )(*((unsigned char const   *)"left" +
                                                                                             3)));
                                                  } else {
                                                    goto _L___490;
                                                  }
                                                } else {
                                                  _L___490: /* CIL Label */ ;
                                                }
                                              } else {
                                                goto _L___491;
                                              }
                                            } else {
                                              _L___491: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___492;
                                          }
                                        } else {
                                          _L___492: /* CIL Label */ ;
                                        }
                                        tmp___103 = __result___141;
                                      } else {
                                        goto _L___496;
                                      }
                                    } else {
                                      _L___496: /* CIL Label */ 
                                      __s1___46 = (unsigned char const   *)tmp;
                                      __result___142 = (int )((int const   )(*(__s1___46 +
                                                                               0)) -
                                                              (int const   )(*((unsigned char const   *)"left" +
                                                                               0)));
                                      if (__s2_len___1 > 0U) {
                                        if (__result___142 == 0) {
                                          __result___142 = (int )((int const   )(*(__s1___46 +
                                                                                   1)) -
                                                                  (int const   )(*((unsigned char const   *)"left" +
                                                                                   1)));
                                          if (__s2_len___1 > 1U) {
                                            if (__result___142 == 0) {
                                              __result___142 = (int )((int const   )(*(__s1___46 +
                                                                                       2)) -
                                                                      (int const   )(*((unsigned char const   *)"left" +
                                                                                       2)));
                                              if (__s2_len___1 > 2U) {
                                                if (__result___142 == 0) {
                                                  __result___142 = (int )((int const   )(*(__s1___46 +
                                                                                           3)) -
                                                                          (int const   )(*((unsigned char const   *)"left" +
                                                                                           3)));
                                                } else {
                                                  goto _L___493;
                                                }
                                              } else {
                                                _L___493: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___494;
                                            }
                                          } else {
                                            _L___494: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___495;
                                        }
                                      } else {
                                        _L___495: /* CIL Label */ ;
                                      }
                                      tmp___103 = __result___142;
                                    }
                                  } else {
                                    goto _L___497;
                                  }
                                } else {
                                  _L___497: /* CIL Label */ 
                                  tmp___103 = strcmp(tmp, "left");
                                }
                              }
                            }
                            if (tmp___103) {
                              tmp___80 = __builtin_constant_p(tmp);
                              if (tmp___80) {
                                __s1_len___0 = strlen(tmp);
                                __s2_len___0 = strlen("right");
                                if (! ((unsigned int )((void const   *)(tmp + 1)) -
                                       (unsigned int )((void const   *)tmp) == 1U)) {
                                  goto _L___334;
                                } else {
                                  if (__s1_len___0 >= 4U) {
                                    _L___334: /* CIL Label */ 
                                    if (! ((unsigned int )((void const   *)("right" +
                                                                            1)) -
                                           (unsigned int )((void const   *)"right") ==
                                           1U)) {
                                      goto _L___333;
                                    } else {
                                      if (__s2_len___0 >= 4U) {
                                        _L___333: /* CIL Label */ 
                                        tmp___81 = 1;
                                      } else {
                                        goto _L___332;
                                      }
                                    }
                                  } else {
                                    _L___332: /* CIL Label */ 
                                    tmp___81 = 0;
                                  }
                                }
                                if (tmp___81) {
                                  if (__s1_len___0 < __s2_len___0) {
                                    tmp___63 = __s1_len___0;
                                  } else {
                                    tmp___63 = __s2_len___0;
                                  }
                                  tmp___62 = memcmp((void const   *)tmp, (void const   *)"right",
                                                    tmp___63 + 1U);
                                } else {
                                  goto _L___336;
                                }
                              } else {
                                _L___336: /* CIL Label */ 
                                tmp___79 = __builtin_constant_p(tmp);
                                if (tmp___79) {
                                  if ((unsigned int )((void const   *)(tmp + 1)) -
                                      (unsigned int )((void const   *)tmp) == 1U) {
                                    __s1_len___0 = strlen(tmp);
                                    if (__s1_len___0 < 4U) {
                                      if ((unsigned int )((void const   *)("right" +
                                                                           1)) - (unsigned int )((void const   *)"right") ==
                                          1U) {
                                        __result___85 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                0)) -
                                                               (int const   )(*((unsigned char const   *)"right" +
                                                                                0)));
                                        if (__s1_len___0 > 0U) {
                                          if (__result___85 == 0) {
                                            __result___85 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                    1)) -
                                                                   (int const   )(*((unsigned char const   *)"right" +
                                                                                    1)));
                                            if (__s1_len___0 > 1U) {
                                              if (__result___85 == 0) {
                                                __result___85 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                        2)) -
                                                                       (int const   )(*((unsigned char const   *)"right" +
                                                                                        2)));
                                                if (__s1_len___0 > 2U) {
                                                  if (__result___85 == 0) {
                                                    __result___85 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                            3)) -
                                                                           (int const   )(*((unsigned char const   *)"right" +
                                                                                            3)));
                                                  } else {
                                                    goto _L___297;
                                                  }
                                                } else {
                                                  _L___297: /* CIL Label */ ;
                                                }
                                              } else {
                                                goto _L___298;
                                              }
                                            } else {
                                              _L___298: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___299;
                                          }
                                        } else {
                                          _L___299: /* CIL Label */ ;
                                        }
                                        tmp___62 = __result___85;
                                      } else {
                                        __s2___14 = (unsigned char const   *)"right";
                                        __result___86 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                0)) -
                                                               (int const   )(*(__s2___14 +
                                                                                0)));
                                        if (__s1_len___0 > 0U) {
                                          if (__result___86 == 0) {
                                            __result___86 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                    1)) -
                                                                   (int const   )(*(__s2___14 +
                                                                                    1)));
                                            if (__s1_len___0 > 1U) {
                                              if (__result___86 == 0) {
                                                __result___86 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                        2)) -
                                                                       (int const   )(*(__s2___14 +
                                                                                        2)));
                                                if (__s1_len___0 > 2U) {
                                                  if (__result___86 == 0) {
                                                    __result___86 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                            3)) -
                                                                           (int const   )(*(__s2___14 +
                                                                                            3)));
                                                  } else {
                                                    goto _L___300;
                                                  }
                                                } else {
                                                  _L___300: /* CIL Label */ ;
                                                }
                                              } else {
                                                goto _L___301;
                                              }
                                            } else {
                                              _L___301: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___302;
                                          }
                                        } else {
                                          _L___302: /* CIL Label */ ;
                                        }
                                        tmp___62 = __result___86;
                                      }
                                    } else {
                                      goto _L___331;
                                    }
                                  } else {
                                    goto _L___331;
                                  }
                                } else {
                                  _L___331: /* CIL Label */ 
                                  if ((unsigned int )((void const   *)("right" + 1)) -
                                      (unsigned int )((void const   *)"right") ==
                                      1U) {
                                    __s2_len___0 = strlen("right");
                                    if (__s2_len___0 < 4U) {
                                      tmp___78 = __builtin_constant_p(tmp);
                                      if (tmp___78) {
                                        if ((unsigned int )((void const   *)(tmp +
                                                                             1)) -
                                            (unsigned int )((void const   *)tmp) ==
                                            1U) {
                                          __result___93 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                  0)) -
                                                                 (int const   )(*((unsigned char const   *)"right" +
                                                                                  0)));
                                          if (__s2_len___0 > 0U) {
                                            if (__result___93 == 0) {
                                              __result___93 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                      1)) -
                                                                     (int const   )(*((unsigned char const   *)"right" +
                                                                                      1)));
                                              if (__s2_len___0 > 1U) {
                                                if (__result___93 == 0) {
                                                  __result___93 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                          2)) -
                                                                         (int const   )(*((unsigned char const   *)"right" +
                                                                                          2)));
                                                  if (__s2_len___0 > 2U) {
                                                    if (__result___93 == 0) {
                                                      __result___93 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                              3)) -
                                                                             (int const   )(*((unsigned char const   *)"right" +
                                                                                              3)));
                                                    } else {
                                                      goto _L___322;
                                                    }
                                                  } else {
                                                    _L___322: /* CIL Label */ ;
                                                  }
                                                } else {
                                                  goto _L___323;
                                                }
                                              } else {
                                                _L___323: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___324;
                                            }
                                          } else {
                                            _L___324: /* CIL Label */ ;
                                          }
                                          tmp___62 = __result___93;
                                        } else {
                                          goto _L___328;
                                        }
                                      } else {
                                        _L___328: /* CIL Label */ 
                                        __s1___30 = (unsigned char const   *)tmp;
                                        __result___94 = (int )((int const   )(*(__s1___30 +
                                                                                0)) -
                                                               (int const   )(*((unsigned char const   *)"right" +
                                                                                0)));
                                        if (__s2_len___0 > 0U) {
                                          if (__result___94 == 0) {
                                            __result___94 = (int )((int const   )(*(__s1___30 +
                                                                                    1)) -
                                                                   (int const   )(*((unsigned char const   *)"right" +
                                                                                    1)));
                                            if (__s2_len___0 > 1U) {
                                              if (__result___94 == 0) {
                                                __result___94 = (int )((int const   )(*(__s1___30 +
                                                                                        2)) -
                                                                       (int const   )(*((unsigned char const   *)"right" +
                                                                                        2)));
                                                if (__s2_len___0 > 2U) {
                                                  if (__result___94 == 0) {
                                                    __result___94 = (int )((int const   )(*(__s1___30 +
                                                                                            3)) -
                                                                           (int const   )(*((unsigned char const   *)"right" +
                                                                                            3)));
                                                  } else {
                                                    goto _L___325;
                                                  }
                                                } else {
                                                  _L___325: /* CIL Label */ ;
                                                }
                                              } else {
                                                goto _L___326;
                                              }
                                            } else {
                                              _L___326: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___327;
                                          }
                                        } else {
                                          _L___327: /* CIL Label */ ;
                                        }
                                        tmp___62 = __result___94;
                                      }
                                    } else {
                                      goto _L___329;
                                    }
                                  } else {
                                    _L___329: /* CIL Label */ 
                                    tmp___62 = strcmp(tmp, "right");
                                  }
                                }
                              }
                              if (tmp___62) {
                                tmp___39 = __builtin_constant_p(tmp);
                                if (tmp___39) {
                                  __s1_len = strlen(tmp);
                                  __s2_len = strlen("up");
                                  if (! ((unsigned int )((void const   *)(tmp + 1)) -
                                         (unsigned int )((void const   *)tmp) == 1U)) {
                                    goto _L___166;
                                  } else {
                                    if (__s1_len >= 4U) {
                                      _L___166: /* CIL Label */ 
                                      if (! ((unsigned int )((void const   *)("up" +
                                                                              1)) -
                                             (unsigned int )((void const   *)"up") ==
                                             1U)) {
                                        goto _L___165;
                                      } else {
                                        if (__s2_len >= 4U) {
                                          _L___165: /* CIL Label */ 
                                          tmp___40 = 1;
                                        } else {
                                          goto _L___164;
                                        }
                                      }
                                    } else {
                                      _L___164: /* CIL Label */ 
                                      tmp___40 = 0;
                                    }
                                  }
                                  if (tmp___40) {
                                    if (__s1_len < __s2_len) {
                                      tmp___22 = __s1_len;
                                    } else {
                                      tmp___22 = __s2_len;
                                    }
                                    tmp___21 = memcmp((void const   *)tmp, (void const   *)"up",
                                                      tmp___22 + 1U);
                                  } else {
                                    goto _L___168;
                                  }
                                } else {
                                  _L___168: /* CIL Label */ 
                                  tmp___38 = __builtin_constant_p(tmp);
                                  if (tmp___38) {
                                    if ((unsigned int )((void const   *)(tmp + 1)) -
                                        (unsigned int )((void const   *)tmp) == 1U) {
                                      __s1_len = strlen(tmp);
                                      if (__s1_len < 4U) {
                                        if ((unsigned int )((void const   *)("up" +
                                                                             1)) -
                                            (unsigned int )((void const   *)"up") ==
                                            1U) {
                                          __result___37 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                  0)) -
                                                                 (int const   )(*((unsigned char const   *)"up" +
                                                                                  0)));
                                          if (__s1_len > 0U) {
                                            if (__result___37 == 0) {
                                              __result___37 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                      1)) -
                                                                     (int const   )(*((unsigned char const   *)"up" +
                                                                                      1)));
                                              if (__s1_len > 1U) {
                                                if (__result___37 == 0) {
                                                  __result___37 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                          2)) -
                                                                         (int const   )(*((unsigned char const   *)"up" +
                                                                                          2)));
                                                  if (__s1_len > 2U) {
                                                    if (__result___37 == 0) {
                                                      __result___37 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                              3)) -
                                                                             (int const   )(*((unsigned char const   *)"up" +
                                                                                              3)));
                                                    } else {
                                                      goto _L___129;
                                                    }
                                                  } else {
                                                    _L___129: /* CIL Label */ ;
                                                  }
                                                } else {
                                                  goto _L___130;
                                                }
                                              } else {
                                                _L___130: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___131;
                                            }
                                          } else {
                                            _L___131: /* CIL Label */ ;
                                          }
                                          tmp___21 = __result___37;
                                        } else {
                                          __s2___6 = (unsigned char const   *)"up";
                                          __result___38 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                  0)) -
                                                                 (int const   )(*(__s2___6 +
                                                                                  0)));
                                          if (__s1_len > 0U) {
                                            if (__result___38 == 0) {
                                              __result___38 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                      1)) -
                                                                     (int const   )(*(__s2___6 +
                                                                                      1)));
                                              if (__s1_len > 1U) {
                                                if (__result___38 == 0) {
                                                  __result___38 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                          2)) -
                                                                         (int const   )(*(__s2___6 +
                                                                                          2)));
                                                  if (__s1_len > 2U) {
                                                    if (__result___38 == 0) {
                                                      __result___38 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                              3)) -
                                                                             (int const   )(*(__s2___6 +
                                                                                              3)));
                                                    } else {
                                                      goto _L___132;
                                                    }
                                                  } else {
                                                    _L___132: /* CIL Label */ ;
                                                  }
                                                } else {
                                                  goto _L___133;
                                                }
                                              } else {
                                                _L___133: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___134;
                                            }
                                          } else {
                                            _L___134: /* CIL Label */ ;
                                          }
                                          tmp___21 = __result___38;
                                        }
                                      } else {
                                        goto _L___163;
                                      }
                                    } else {
                                      goto _L___163;
                                    }
                                  } else {
                                    _L___163: /* CIL Label */ 
                                    if ((unsigned int )((void const   *)("up" + 1)) -
                                        (unsigned int )((void const   *)"up") == 1U) {
                                      __s2_len = strlen("up");
                                      if (__s2_len < 4U) {
                                        tmp___37 = __builtin_constant_p(tmp);
                                        if (tmp___37) {
                                          if ((unsigned int )((void const   *)(tmp +
                                                                               1)) -
                                              (unsigned int )((void const   *)tmp) ==
                                              1U) {
                                            __result___45 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                    0)) -
                                                                   (int const   )(*((unsigned char const   *)"up" +
                                                                                    0)));
                                            if (__s2_len > 0U) {
                                              if (__result___45 == 0) {
                                                __result___45 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                        1)) -
                                                                       (int const   )(*((unsigned char const   *)"up" +
                                                                                        1)));
                                                if (__s2_len > 1U) {
                                                  if (__result___45 == 0) {
                                                    __result___45 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                            2)) -
                                                                           (int const   )(*((unsigned char const   *)"up" +
                                                                                            2)));
                                                    if (__s2_len > 2U) {
                                                      if (__result___45 == 0) {
                                                        __result___45 = (int )((int const   )(*((unsigned char const   *)tmp +
                                                                                                3)) -
                                                                               (int const   )(*((unsigned char const   *)"up" +
                                                                                                3)));
                                                      } else {
                                                        goto _L___154;
                                                      }
                                                    } else {
                                                      _L___154: /* CIL Label */ ;
                                                    }
                                                  } else {
                                                    goto _L___155;
                                                  }
                                                } else {
                                                  _L___155: /* CIL Label */ ;
                                                }
                                              } else {
                                                goto _L___156;
                                              }
                                            } else {
                                              _L___156: /* CIL Label */ ;
                                            }
                                            tmp___21 = __result___45;
                                          } else {
                                            goto _L___160;
                                          }
                                        } else {
                                          _L___160: /* CIL Label */ 
                                          __s1___14 = (unsigned char const   *)tmp;
                                          __result___46 = (int )((int const   )(*(__s1___14 +
                                                                                  0)) -
                                                                 (int const   )(*((unsigned char const   *)"up" +
                                                                                  0)));
                                          if (__s2_len > 0U) {
                                            if (__result___46 == 0) {
                                              __result___46 = (int )((int const   )(*(__s1___14 +
                                                                                      1)) -
                                                                     (int const   )(*((unsigned char const   *)"up" +
                                                                                      1)));
                                              if (__s2_len > 1U) {
                                                if (__result___46 == 0) {
                                                  __result___46 = (int )((int const   )(*(__s1___14 +
                                                                                          2)) -
                                                                         (int const   )(*((unsigned char const   *)"up" +
                                                                                          2)));
                                                  if (__s2_len > 2U) {
                                                    if (__result___46 == 0) {
                                                      __result___46 = (int )((int const   )(*(__s1___14 +
                                                                                              3)) -
                                                                             (int const   )(*((unsigned char const   *)"up" +
                                                                                              3)));
                                                    } else {
                                                      goto _L___157;
                                                    }
                                                  } else {
                                                    _L___157: /* CIL Label */ ;
                                                  }
                                                } else {
                                                  goto _L___158;
                                                }
                                              } else {
                                                _L___158: /* CIL Label */ ;
                                              }
                                            } else {
                                              goto _L___159;
                                            }
                                          } else {
                                            _L___159: /* CIL Label */ ;
                                          }
                                          tmp___21 = __result___46;
                                        }
                                      } else {
                                        goto _L___161;
                                      }
                                    } else {
                                      _L___161: /* CIL Label */ 
                                      tmp___21 = strcmp(tmp, "up");
                                    }
                                  }
                                }
                                if (! tmp___21) {
                                  key = 259;
                                }
                              } else {
                                key = 261;
                              }
                            } else {
                              key = 260;
                            }
                          } else {
                            key = 258;
                          }
                        }
                      } else {
                        cc = (char )(*(keystr + 5));
                        if ((int )cc >= 97) {
                          if ((int )cc <= 122) {
                            if ((int const   )(*(keystr + 6)) == 0) {
                              key = ((int )cc - 97) + 1;
                            } else {
                              goto _L___0;
                            }
                          } else {
                            goto _L___0;
                          }
                        } else {
                          _L___0: /* CIL Label */ ;
                        }
                      }
                    } else {
                      key = '\t';
                    }
                  } else {
                    key = ' ';
                  }
                } else {
                  key = 355;
                }
              } else {
                key = 339;
              }
            } else {
              key = 338;
            }
          } else {
            key = 262;
          }
        } else {
          key = 331;
        }
      } else {
        key = 360;
      }
    } else {
      key = 330;
    }
  }
  return (key);
}
}
__inline static tMbsIndex keymap_cmdstr_lookup(char const   *str ) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___29 ;
  size_t tmp___30 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___45 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )(sizeof(keymap_command_str2pcc) / sizeof(keymap_command_str2pcc[0]) -
                     1U);
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    tmp___55 = __builtin_constant_p(str);
    if (tmp___55) {
      tmp___56 = __builtin_constant_p(keymap_command_str2pcc[idx].str);
      if (tmp___56) {
        __s1_len = strlen(str);
        __s2_len = strlen(keymap_command_str2pcc[idx].str);
        if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
               1U)) {
          goto _L___172;
        } else {
          if (__s1_len >= 4U) {
            _L___172: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)(keymap_command_str2pcc[idx].str +
                                                    1)) - (unsigned int )((void const   *)keymap_command_str2pcc[idx].str) ==
                   1U)) {
              goto _L___171;
            } else {
              if (__s2_len >= 4U) {
                _L___171: /* CIL Label */ 
                tmp___57 = 1;
              } else {
                goto _L___170;
              }
            }
          } else {
            _L___170: /* CIL Label */ 
            tmp___57 = 0;
          }
        }
        if (tmp___57) {
          if (__s1_len < __s2_len) {
            tmp___30 = __s1_len;
          } else {
            tmp___30 = __s2_len;
          }
          tmp___29 = memcmp((void const   *)str, (void const   *)keymap_command_str2pcc[idx].str,
                            tmp___30 + 1U);
        } else {
          goto _L___174;
        }
      } else {
        goto _L___174;
      }
    } else {
      _L___174: /* CIL Label */ 
      tmp___54 = __builtin_constant_p(str);
      if (tmp___54) {
        if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
            1U) {
          __s1_len = strlen(str);
          if (__s1_len < 4U) {
            tmp___45 = __builtin_constant_p(keymap_command_str2pcc[idx].str);
            if (tmp___45) {
              if ((unsigned int )((void const   *)(keymap_command_str2pcc[idx].str +
                                                   1)) - (unsigned int )((void const   *)keymap_command_str2pcc[idx].str) ==
                  1U) {
                __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                        0)) - (int const   )(*((unsigned char const   *)keymap_command_str2pcc[idx].str +
                                                                               0)));
                if (__s1_len > 0U) {
                  if (__result___37 == 0) {
                    __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                            1)) - (int const   )(*((unsigned char const   *)keymap_command_str2pcc[idx].str +
                                                                                   1)));
                    if (__s1_len > 1U) {
                      if (__result___37 == 0) {
                        __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                                2)) - (int const   )(*((unsigned char const   *)keymap_command_str2pcc[idx].str +
                                                                                       2)));
                        if (__s1_len > 2U) {
                          if (__result___37 == 0) {
                            __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                                    3)) - (int const   )(*((unsigned char const   *)keymap_command_str2pcc[idx].str +
                                                                                           3)));
                          } else {
                            goto _L___133;
                          }
                        } else {
                          _L___133: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___134;
                      }
                    } else {
                      _L___134: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___135;
                  }
                } else {
                  _L___135: /* CIL Label */ ;
                }
                tmp___29 = __result___37;
              } else {
                goto _L___139;
              }
            } else {
              _L___139: /* CIL Label */ 
              __s2___6 = (unsigned char const   *)keymap_command_str2pcc[idx].str;
              __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                      0)) - (int const   )(*(__s2___6 +
                                                                             0)));
              if (__s1_len > 0U) {
                if (__result___38 == 0) {
                  __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                          1)) - (int const   )(*(__s2___6 +
                                                                                 1)));
                  if (__s1_len > 1U) {
                    if (__result___38 == 0) {
                      __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                              2)) - (int const   )(*(__s2___6 +
                                                                                     2)));
                      if (__s1_len > 2U) {
                        if (__result___38 == 0) {
                          __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  3)) - (int const   )(*(__s2___6 +
                                                                                         3)));
                        } else {
                          goto _L___136;
                        }
                      } else {
                        _L___136: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___137;
                    }
                  } else {
                    _L___137: /* CIL Label */ ;
                  }
                } else {
                  goto _L___138;
                }
              } else {
                _L___138: /* CIL Label */ ;
              }
              tmp___29 = __result___38;
            }
          } else {
            goto _L___169;
          }
        } else {
          goto _L___169;
        }
      } else {
        _L___169: /* CIL Label */ 
        tmp___53 = __builtin_constant_p(keymap_command_str2pcc[idx].str);
        if (tmp___53) {
          if ((unsigned int )((void const   *)(keymap_command_str2pcc[idx].str + 1)) -
              (unsigned int )((void const   *)keymap_command_str2pcc[idx].str) ==
              1U) {
            __s2_len = strlen(keymap_command_str2pcc[idx].str);
            if (__s2_len < 4U) {
              tmp___52 = __builtin_constant_p(str);
              if (tmp___52) {
                if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                    1U) {
                  __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                          0)) - (int const   )(*((unsigned char const   *)keymap_command_str2pcc[idx].str +
                                                                                 0)));
                  if (__s2_len > 0U) {
                    if (__result___45 == 0) {
                      __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                              1)) - (int const   )(*((unsigned char const   *)keymap_command_str2pcc[idx].str +
                                                                                     1)));
                      if (__s2_len > 1U) {
                        if (__result___45 == 0) {
                          __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  2)) - (int const   )(*((unsigned char const   *)keymap_command_str2pcc[idx].str +
                                                                                         2)));
                          if (__s2_len > 2U) {
                            if (__result___45 == 0) {
                              __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      3)) - (int const   )(*((unsigned char const   *)keymap_command_str2pcc[idx].str +
                                                                                             3)));
                            } else {
                              goto _L___159;
                            }
                          } else {
                            _L___159: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___160;
                        }
                      } else {
                        _L___160: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___161;
                    }
                  } else {
                    _L___161: /* CIL Label */ ;
                  }
                  tmp___29 = __result___45;
                } else {
                  goto _L___165;
                }
              } else {
                _L___165: /* CIL Label */ 
                __s1___14 = (unsigned char const   *)str;
                __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)keymap_command_str2pcc[idx].str +
                                                                                           0)));
                if (__s2_len > 0U) {
                  if (__result___46 == 0) {
                    __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)keymap_command_str2pcc[idx].str +
                                                                                               1)));
                    if (__s2_len > 1U) {
                      if (__result___46 == 0) {
                        __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                               (int const   )(*((unsigned char const   *)keymap_command_str2pcc[idx].str +
                                                                2)));
                        if (__s2_len > 2U) {
                          if (__result___46 == 0) {
                            __result___46 = (int )((int const   )(*(__s1___14 + 3)) -
                                                   (int const   )(*((unsigned char const   *)keymap_command_str2pcc[idx].str +
                                                                    3)));
                          } else {
                            goto _L___162;
                          }
                        } else {
                          _L___162: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___163;
                      }
                    } else {
                      _L___163: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___164;
                  }
                } else {
                  _L___164: /* CIL Label */ ;
                }
                tmp___29 = __result___46;
              }
            } else {
              goto _L___167;
            }
          } else {
            goto _L___167;
          }
        } else {
          _L___167: /* CIL Label */ 
          tmp___29 = strcmp(str, keymap_command_str2pcc[idx].str);
        }
      }
    }
    res = tmp___29;
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
unsigned char keymap_command_key_register(char const   *keystr , char const   *cmdstr ) 
{ tKey key ;
  tKey tmp ;
  tMbsIndex idx ;
  tProgramCommandCode pcc ;
  tBoolean tmp___0 ;

  {
  tmp = keystr2key(keystr);
  key = tmp;
  if (key == 0) {
    return ((unsigned char)1);
  }
  idx = keymap_cmdstr_lookup(cmdstr);
  if ((int )idx < 0) {
    return ((unsigned char)3);
  }
  pcc = keymap_command_str2pcc[idx].pcc;
  tmp___0 = keymap_command_key_do_register(key, pcc);
  if (! tmp___0) {
    return ((unsigned char)2);
  }
  return ((unsigned char)0);
}
}
__inline static tMbsIndex keymap_listr_lookup(char const   *str ) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___29 ;
  size_t tmp___30 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___45 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )(sizeof(keymap_lineinput_str2liac) / sizeof(keymap_lineinput_str2liac[0]) -
                     1U);
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    tmp___55 = __builtin_constant_p(str);
    if (tmp___55) {
      tmp___56 = __builtin_constant_p(keymap_lineinput_str2liac[idx].str);
      if (tmp___56) {
        __s1_len = strlen(str);
        __s2_len = strlen(keymap_lineinput_str2liac[idx].str);
        if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
               1U)) {
          goto _L___172;
        } else {
          if (__s1_len >= 4U) {
            _L___172: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)(keymap_lineinput_str2liac[idx].str +
                                                    1)) - (unsigned int )((void const   *)keymap_lineinput_str2liac[idx].str) ==
                   1U)) {
              goto _L___171;
            } else {
              if (__s2_len >= 4U) {
                _L___171: /* CIL Label */ 
                tmp___57 = 1;
              } else {
                goto _L___170;
              }
            }
          } else {
            _L___170: /* CIL Label */ 
            tmp___57 = 0;
          }
        }
        if (tmp___57) {
          if (__s1_len < __s2_len) {
            tmp___30 = __s1_len;
          } else {
            tmp___30 = __s2_len;
          }
          tmp___29 = memcmp((void const   *)str, (void const   *)keymap_lineinput_str2liac[idx].str,
                            tmp___30 + 1U);
        } else {
          goto _L___174;
        }
      } else {
        goto _L___174;
      }
    } else {
      _L___174: /* CIL Label */ 
      tmp___54 = __builtin_constant_p(str);
      if (tmp___54) {
        if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
            1U) {
          __s1_len = strlen(str);
          if (__s1_len < 4U) {
            tmp___45 = __builtin_constant_p(keymap_lineinput_str2liac[idx].str);
            if (tmp___45) {
              if ((unsigned int )((void const   *)(keymap_lineinput_str2liac[idx].str +
                                                   1)) - (unsigned int )((void const   *)keymap_lineinput_str2liac[idx].str) ==
                  1U) {
                __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                        0)) - (int const   )(*((unsigned char const   *)keymap_lineinput_str2liac[idx].str +
                                                                               0)));
                if (__s1_len > 0U) {
                  if (__result___37 == 0) {
                    __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                            1)) - (int const   )(*((unsigned char const   *)keymap_lineinput_str2liac[idx].str +
                                                                                   1)));
                    if (__s1_len > 1U) {
                      if (__result___37 == 0) {
                        __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                                2)) - (int const   )(*((unsigned char const   *)keymap_lineinput_str2liac[idx].str +
                                                                                       2)));
                        if (__s1_len > 2U) {
                          if (__result___37 == 0) {
                            __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                                    3)) - (int const   )(*((unsigned char const   *)keymap_lineinput_str2liac[idx].str +
                                                                                           3)));
                          } else {
                            goto _L___133;
                          }
                        } else {
                          _L___133: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___134;
                      }
                    } else {
                      _L___134: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___135;
                  }
                } else {
                  _L___135: /* CIL Label */ ;
                }
                tmp___29 = __result___37;
              } else {
                goto _L___139;
              }
            } else {
              _L___139: /* CIL Label */ 
              __s2___6 = (unsigned char const   *)keymap_lineinput_str2liac[idx].str;
              __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                      0)) - (int const   )(*(__s2___6 +
                                                                             0)));
              if (__s1_len > 0U) {
                if (__result___38 == 0) {
                  __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                          1)) - (int const   )(*(__s2___6 +
                                                                                 1)));
                  if (__s1_len > 1U) {
                    if (__result___38 == 0) {
                      __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                              2)) - (int const   )(*(__s2___6 +
                                                                                     2)));
                      if (__s1_len > 2U) {
                        if (__result___38 == 0) {
                          __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  3)) - (int const   )(*(__s2___6 +
                                                                                         3)));
                        } else {
                          goto _L___136;
                        }
                      } else {
                        _L___136: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___137;
                    }
                  } else {
                    _L___137: /* CIL Label */ ;
                  }
                } else {
                  goto _L___138;
                }
              } else {
                _L___138: /* CIL Label */ ;
              }
              tmp___29 = __result___38;
            }
          } else {
            goto _L___169;
          }
        } else {
          goto _L___169;
        }
      } else {
        _L___169: /* CIL Label */ 
        tmp___53 = __builtin_constant_p(keymap_lineinput_str2liac[idx].str);
        if (tmp___53) {
          if ((unsigned int )((void const   *)(keymap_lineinput_str2liac[idx].str +
                                               1)) - (unsigned int )((void const   *)keymap_lineinput_str2liac[idx].str) ==
              1U) {
            __s2_len = strlen(keymap_lineinput_str2liac[idx].str);
            if (__s2_len < 4U) {
              tmp___52 = __builtin_constant_p(str);
              if (tmp___52) {
                if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                    1U) {
                  __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                          0)) - (int const   )(*((unsigned char const   *)keymap_lineinput_str2liac[idx].str +
                                                                                 0)));
                  if (__s2_len > 0U) {
                    if (__result___45 == 0) {
                      __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                              1)) - (int const   )(*((unsigned char const   *)keymap_lineinput_str2liac[idx].str +
                                                                                     1)));
                      if (__s2_len > 1U) {
                        if (__result___45 == 0) {
                          __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  2)) - (int const   )(*((unsigned char const   *)keymap_lineinput_str2liac[idx].str +
                                                                                         2)));
                          if (__s2_len > 2U) {
                            if (__result___45 == 0) {
                              __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      3)) - (int const   )(*((unsigned char const   *)keymap_lineinput_str2liac[idx].str +
                                                                                             3)));
                            } else {
                              goto _L___159;
                            }
                          } else {
                            _L___159: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___160;
                        }
                      } else {
                        _L___160: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___161;
                    }
                  } else {
                    _L___161: /* CIL Label */ ;
                  }
                  tmp___29 = __result___45;
                } else {
                  goto _L___165;
                }
              } else {
                _L___165: /* CIL Label */ 
                __s1___14 = (unsigned char const   *)str;
                __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)keymap_lineinput_str2liac[idx].str +
                                                                                           0)));
                if (__s2_len > 0U) {
                  if (__result___46 == 0) {
                    __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)keymap_lineinput_str2liac[idx].str +
                                                                                               1)));
                    if (__s2_len > 1U) {
                      if (__result___46 == 0) {
                        __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                               (int const   )(*((unsigned char const   *)keymap_lineinput_str2liac[idx].str +
                                                                2)));
                        if (__s2_len > 2U) {
                          if (__result___46 == 0) {
                            __result___46 = (int )((int const   )(*(__s1___14 + 3)) -
                                                   (int const   )(*((unsigned char const   *)keymap_lineinput_str2liac[idx].str +
                                                                    3)));
                          } else {
                            goto _L___162;
                          }
                        } else {
                          _L___162: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___163;
                      }
                    } else {
                      _L___163: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___164;
                  }
                } else {
                  _L___164: /* CIL Label */ ;
                }
                tmp___29 = __result___46;
              }
            } else {
              goto _L___167;
            }
          } else {
            goto _L___167;
          }
        } else {
          _L___167: /* CIL Label */ 
          tmp___29 = strcmp(str, keymap_lineinput_str2liac[idx].str);
        }
      }
    }
    res = tmp___29;
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
unsigned char keymap_lineinput_key_register(char const   *keystr , char const   *listr ) 
{ tKey key ;
  tKey tmp ;
  tMbsIndex idx ;
  tLineInputActionCode liac ;
  tBoolean tmp___0 ;

  {
  tmp = keystr2key(keystr);
  key = tmp;
  if (key == 0) {
    return ((unsigned char)1);
  }
  idx = keymap_listr_lookup(listr);
  if ((int )idx < 0) {
    return ((unsigned char)3);
  }
  liac = keymap_lineinput_str2liac[idx].liac;
  tmp___0 = keymap_lineinput_key_do_register(key, liac);
  if (! tmp___0) {
    return ((unsigned char)2);
  }
  return ((unsigned char)0);
}
}
static unsigned char key_handling_mode  =    (tKeyHandlingMode )0;
static char const   *my_getcwd(void) ;
static char const   *cwd  =    (char const   *)((void *)0);
static char const   *my_getcwd(void) 
{ char buf___2[2060] ;
  size_t len ;
  size_t tmp ;
  char *tmp___0 ;

  {
  if ((unsigned int )cwd == (unsigned int )((void *)0)) {
    tmp___0 = getcwd(buf___2, sizeof(buf___2) - 5U);
    if ((unsigned int )tmp___0 != (unsigned int )(buf___2)) {
      goto _L;
    } else {
      if ((int )buf___2[0] == 0) {
        _L: /* CIL Label */ 
        cwd = strSlash;
      } else {
        tmp = strlen((char const   *)(buf___2));
        len = tmp;
        if ((int )buf___2[len - 1U] != 47) {
          buf___2[len] = (char )'/';
          buf___2[len + 1U] = (char )'\000';
        }
        cwd = my_strdup((char const   *)(buf___2));
      }
    }
  }
  return (cwd);
}
}
static tRemainingWork *rw_head  =    (tRemainingWork *)((void *)0);
static tRemainingWork *rw_tail  =    (tRemainingWork *)((void *)0);
static void remaining_work_store(tRemainingWork *rw ) 
{ 

  {
  if ((unsigned int )rw_head == (unsigned int )((void *)0)) {
    rw_head = rw;
  }
  if ((unsigned int )rw_tail != (unsigned int )((void *)0)) {
    rw_tail->next = rw;
  }
  rw_tail = rw;
  return;
}
}
static tRemainingWork *remaining_work_create(tBoolean (*callback)(struct tRemainingWork  const  * ) ) 
{ tRemainingWork *retval ;
  tRemainingWork *tmp ;

  {
  tmp = (tRemainingWork *)memory_allocate_ll(sizeof(tRemainingWork ));
  retval = tmp;
  retval->callback = callback;
  remaining_work_store(retval);
  return (retval);
}
}
static void remaining_work_do(void) 
{ tRemainingWork *rw ;
  tRemainingWork *next ;
  tBoolean tmp ;

  {
  rw = rw_head;
  if ((unsigned int )rw == (unsigned int )((void *)0)) {
    return;
  }
  rw_tail = (tRemainingWork *)((void *)0);
  rw_head = rw_tail;
  while ((unsigned int )rw != (unsigned int )((void *)0)) {
    next = rw->next;
    tmp = ((*(rw->callback)))((struct tRemainingWork  const  *)rw);
    if (tmp) {
      remaining_work_store(rw);
    } else {
      memory_deallocate_ll((void const   *)rw);
    }
    rw = next;
  }
  return;
}
}
static tSinkingData sinking_data  ;
__inline static void sinking_data_reset(void) 
{ void *__s ;
  void *__s___0 ;
  union __anonunion___u_86 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;

  {
  tmp = __builtin_constant_p(sizeof(sinking_data));
  if (tmp) {
    if (sizeof(sinking_data) <= 16U) {
      if (sizeof(sinking_data) == 1U) {
        __s___1 = (void *)(& sinking_data);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(& sinking_data);
        __u = (union __anonunion___u_86 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(sinking_data)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_86 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_86 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_86 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_86 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_86 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_86 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_86 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_86 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_86 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_86 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_86 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_86 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_86 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = (void *)(& sinking_data);
    __builtin_memset(__s, '\000', (int )sizeof(sinking_data));
  }
  return;
}
}
static void sinking_data_shift(tSinkingData **_s ) 
{ tSinkingData *s ;

  {
  (*_s) = (tSinkingData *)__memory_allocate_ll(sizeof(tSinkingData ));
  s = (*_s);
  memcpy((void * __restrict  )s, (void const   * __restrict  )(& sinking_data), sizeof(tSinkingData ));
  sinking_data_reset();
  return;
}
}
__inline static void sinking_data_mcleanup(void) 
{ 

  {
  sinking_data_cleanup(& sinking_data);
  sinking_data_reset();
  return;
}
}
static struct __anonstruct_lid_87 lid  ;
static char const   *khmli_filename  =    (char const   *)((void *)0);
static char const   *khmli_download_uri  =    (char const   *)((void *)0);
static char const   *uri_history[20]  ;
static unsigned short uri_history_index  =    (unsigned short)0;
static void show_message(char const   *msg , tBoolean is_error ) ;
static void __line_input_estart(tEditableLineInputGoal elig , char const   *msg ,
                                char const   *initstr , tUserQuery *query ) ;
static struct __anonstruct_scheme2rp_94  const  scheme2rp[16]  = 
  {      {strAbout, (tResourceProtocol )5}, 
        {strFile, (tResourceProtocol )4}, 
        {strFinger, (tResourceProtocol )6}, 
        {strFtp, (tResourceProtocol )3}, 
        {strFtps, (tResourceProtocol )17}, 
        {strGopher, (tResourceProtocol )12}, 
        {strHttp, (tResourceProtocol )2}, 
        {strHttps, (tResourceProtocol )16}, 
        {strJavascript, (tResourceProtocol )15}, 
        {strLocal, (tResourceProtocol )4}, 
        {strLocalCgi, (tResourceProtocol )7}, 
        {strMailto, (tResourceProtocol )14}, 
        {strNews, (tResourceProtocol )8}, 
        {strNntp, (tResourceProtocol )8}, 
        {strPop, (tResourceProtocol )9}, 
        {strPops, (tResourceProtocol )10}};
__inline static tMbsIndex do_lookup_rp(char const   *scheme ) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )(sizeof(scheme2rp) / sizeof(scheme2rp[0]) - 1U);
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    res = streqcase3(scheme, scheme2rp[idx].scheme);
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
__inline static tResourceProtocol lookup_rp(char const   *scheme ) 
{ tMbsIndex idx ;
  tMbsIndex tmp ;
  int tmp___0 ;

  {
  tmp = do_lookup_rp(scheme);
  idx = tmp;
  if ((int )idx >= 0) {
    tmp___0 = (int )scheme2rp[idx].rp;
  } else {
    tmp___0 = 0;
  }
  return ((unsigned char )tmp___0);
}
}
static char *uri_parse_part(char const   *uri , unsigned char part ) ;
static char const   separator[5]  = {      (char const   )':',      (char const   )'/',      (char const   )'?',      (char const   )'#', 
        (char const   )'\000'};
static char *uri_parse_part(char const   *uri , unsigned char part ) 
{ char const   *sep ;
  char uch ;
  char sch ;
  char const   *temp ;
  char const   *tmp ;

  {
  sep = separator + (int )part;
  while (1) {
    uch = (char )(*uri);
    if (! ((int )uch != 0)) {
      break;
    }
    temp = sep;
    while (1) {
      tmp = temp;
      temp ++;
      sch = (char )(*tmp);
      if (! ((int )sch != 0)) {
        break;
      }
      if ((int )uch == (int )sch) {
        return ((char *)uri);
      }
    }
    uri ++;
  }
  return ((char *)((void *)0));
}
}
static void setup_authority(char **_uri , char **_authority ) 
{ char *uri ;
  char *pos ;
  char *tmp ;
  char *authority ;

  {
  uri = (*_uri);
  tmp = uri_parse_part((char const   *)uri, (unsigned char)1);
  pos = tmp;
  if ((unsigned int )pos != (unsigned int )((void *)0)) {
    authority = my_strndup((char const   *)uri, (unsigned int )(pos - uri));
    uri = pos;
  } else {
    authority = my_strdup((char const   *)uri);
    while (1) {
      while ((int )(*uri) != 0) {
        uri ++;
      }
      break;
    }
  }
  (*_uri) = uri;
  (*_authority) = authority;
  return;
}
}
static char *finalize_path(char const   *_path ) 
{ char ch ;
  char *path ;
  char *tmp ;
  char *temp ;
  char *dest ;
  char **component ;
  size_t num ;
  size_t maxnum ;
  size_t count___2 ;
  size_t orig_len ;
  size_t tmp___0 ;
  tBoolean found_tilde ;
  tBoolean is_abs ;
  int tmp___1 ;
  tBoolean is_dir ;
  int tmp___2 ;
  tBoolean is_first ;
  size_t tmp___3 ;
  char *tmp___4 ;
  char const   *str ;
  size_t cnt ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___26 ;
  size_t tmp___27 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___42 ;
  int tmp___43 ;
  int tmp___44 ;
  int tmp___45 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___76 ;
  size_t tmp___77 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  int tmp___92 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___99 ;
  int tmp___100 ;
  int tmp___101 ;
  int tmp___102 ;
  int tmp___103 ;
  int tmp___104 ;
  size_t __s1_len___1 ;
  size_t __s2_len___1 ;
  int tmp___135 ;
  size_t tmp___136 ;
  register int __result___133 ;
  unsigned char const   *__s2___22 ;
  register int __result___134 ;
  int tmp___151 ;
  register int __result___141 ;
  unsigned char const   *__s1___46 ;
  register int __result___142 ;
  int tmp___158 ;
  int tmp___159 ;
  int tmp___160 ;
  int tmp___161 ;
  int tmp___162 ;
  int tmp___163 ;
  char *tmp___164 ;
  char const   *src ;
  char *tmp___165 ;
  char *tmp___166 ;
  char const   *tmp___167 ;
  char *tmp___168 ;

  {
  tmp = my_strdup(_path);
  path = tmp;
  tmp___0 = strlen((char const   *)path);
  orig_len = tmp___0;
  found_tilde = (tBoolean )0;
  if ((int )(*path) == 47) {
    tmp___1 = 1;
  } else {
    tmp___1 = 0;
  }
  is_abs = (tBoolean )tmp___1;
  if (orig_len > 0U) {
    if ((int )(*(path + (orig_len - 1U))) == 47) {
      tmp___2 = 1;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    tmp___2 = 0;
  }
  is_dir = (tBoolean )tmp___2;
  temp = path;
  component = (char **)((void *)0);
  maxnum = 0U;
  num = maxnum;
  splitloop: 
  while ((int )(*temp) == 47) {
    temp ++;
  }
  if ((int )(*temp) != 0) {
    if (num >= maxnum) {
      maxnum += 16U;
      component = (char **)memory_reallocate_ll((void *)component, maxnum * sizeof(char *));
    }
    tmp___3 = num;
    num ++;
    (*(component + tmp___3)) = temp;
    while (1) {
      if ((int )(*temp) != 47) {
        if (! ((int )(*temp) != 0)) {
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
        break;
      }
      temp ++;
    }
    if ((int )(*temp) != 0) {
      tmp___4 = temp;
      temp ++;
      (*tmp___4) = (char )'\000';
      goto splitloop;
    }
  }
  count___2 = 0U;
  while (count___2 < num) {
    str = (char const   *)(*(component + count___2));
    tmp___161 = __builtin_constant_p(str);
    if (tmp___161) {
      tmp___162 = __builtin_constant_p(strDoubleDot + 1);
      if (tmp___162) {
        __s1_len___1 = strlen(str);
        __s2_len___1 = strlen(strDoubleDot + 1);
        if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
               1U)) {
          goto _L___518;
        } else {
          if (__s1_len___1 >= 4U) {
            _L___518: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)((strDoubleDot + 1) + 1)) - (unsigned int )((void const   *)(strDoubleDot +
                                                                                                                1)) ==
                   1U)) {
              goto _L___517;
            } else {
              if (__s2_len___1 >= 4U) {
                _L___517: /* CIL Label */ 
                tmp___163 = 1;
              } else {
                goto _L___516;
              }
            }
          } else {
            _L___516: /* CIL Label */ 
            tmp___163 = 0;
          }
        }
        if (tmp___163) {
          if (__s1_len___1 < __s2_len___1) {
            tmp___136 = __s1_len___1;
          } else {
            tmp___136 = __s2_len___1;
          }
          tmp___135 = memcmp((void const   *)str, (void const   *)(strDoubleDot +
                                                                   1), tmp___136 +
                                                                       1U);
        } else {
          goto _L___520;
        }
      } else {
        goto _L___520;
      }
    } else {
      _L___520: /* CIL Label */ 
      tmp___160 = __builtin_constant_p(str);
      if (tmp___160) {
        if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
            1U) {
          __s1_len___1 = strlen(str);
          if (__s1_len___1 < 4U) {
            tmp___151 = __builtin_constant_p(strDoubleDot + 1);
            if (tmp___151) {
              if ((unsigned int )((void const   *)((strDoubleDot + 1) + 1)) - (unsigned int )((void const   *)(strDoubleDot +
                                                                                                               1)) ==
                  1U) {
                __result___133 = (int )((int const   )(*((unsigned char const   *)str +
                                                         0)) - (int const   )(*((unsigned char const   *)(strDoubleDot +
                                                                                                          1) +
                                                                                0)));
                if (__s1_len___1 > 0U) {
                  if (__result___133 == 0) {
                    __result___133 = (int )((int const   )(*((unsigned char const   *)str +
                                                             1)) - (int const   )(*((unsigned char const   *)(strDoubleDot +
                                                                                                              1) +
                                                                                    1)));
                    if (__s1_len___1 > 1U) {
                      if (__result___133 == 0) {
                        __result___133 = (int )((int const   )(*((unsigned char const   *)str +
                                                                 2)) - (int const   )(*((unsigned char const   *)(strDoubleDot +
                                                                                                                  1) +
                                                                                        2)));
                        if (__s1_len___1 > 2U) {
                          if (__result___133 == 0) {
                            __result___133 = (int )((int const   )(*((unsigned char const   *)str +
                                                                     3)) - (int const   )(*((unsigned char const   *)(strDoubleDot +
                                                                                                                      1) +
                                                                                            3)));
                          } else {
                            goto _L___479;
                          }
                        } else {
                          _L___479: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___480;
                      }
                    } else {
                      _L___480: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___481;
                  }
                } else {
                  _L___481: /* CIL Label */ ;
                }
                tmp___135 = __result___133;
              } else {
                goto _L___485;
              }
            } else {
              _L___485: /* CIL Label */ 
              __s2___22 = (unsigned char const   *)(strDoubleDot + 1);
              __result___134 = (int )((int const   )(*((unsigned char const   *)str +
                                                       0)) - (int const   )(*(__s2___22 +
                                                                              0)));
              if (__s1_len___1 > 0U) {
                if (__result___134 == 0) {
                  __result___134 = (int )((int const   )(*((unsigned char const   *)str +
                                                           1)) - (int const   )(*(__s2___22 +
                                                                                  1)));
                  if (__s1_len___1 > 1U) {
                    if (__result___134 == 0) {
                      __result___134 = (int )((int const   )(*((unsigned char const   *)str +
                                                               2)) - (int const   )(*(__s2___22 +
                                                                                      2)));
                      if (__s1_len___1 > 2U) {
                        if (__result___134 == 0) {
                          __result___134 = (int )((int const   )(*((unsigned char const   *)str +
                                                                   3)) - (int const   )(*(__s2___22 +
                                                                                          3)));
                        } else {
                          goto _L___482;
                        }
                      } else {
                        _L___482: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___483;
                    }
                  } else {
                    _L___483: /* CIL Label */ ;
                  }
                } else {
                  goto _L___484;
                }
              } else {
                _L___484: /* CIL Label */ ;
              }
              tmp___135 = __result___134;
            }
          } else {
            goto _L___515;
          }
        } else {
          goto _L___515;
        }
      } else {
        _L___515: /* CIL Label */ 
        tmp___159 = __builtin_constant_p(strDoubleDot + 1);
        if (tmp___159) {
          if ((unsigned int )((void const   *)((strDoubleDot + 1) + 1)) - (unsigned int )((void const   *)(strDoubleDot +
                                                                                                           1)) ==
              1U) {
            __s2_len___1 = strlen(strDoubleDot + 1);
            if (__s2_len___1 < 4U) {
              tmp___158 = __builtin_constant_p(str);
              if (tmp___158) {
                if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                    1U) {
                  __result___141 = (int )((int const   )(*((unsigned char const   *)str +
                                                           0)) - (int const   )(*((unsigned char const   *)(strDoubleDot +
                                                                                                            1) +
                                                                                  0)));
                  if (__s2_len___1 > 0U) {
                    if (__result___141 == 0) {
                      __result___141 = (int )((int const   )(*((unsigned char const   *)str +
                                                               1)) - (int const   )(*((unsigned char const   *)(strDoubleDot +
                                                                                                                1) +
                                                                                      1)));
                      if (__s2_len___1 > 1U) {
                        if (__result___141 == 0) {
                          __result___141 = (int )((int const   )(*((unsigned char const   *)str +
                                                                   2)) - (int const   )(*((unsigned char const   *)(strDoubleDot +
                                                                                                                    1) +
                                                                                          2)));
                          if (__s2_len___1 > 2U) {
                            if (__result___141 == 0) {
                              __result___141 = (int )((int const   )(*((unsigned char const   *)str +
                                                                       3)) - (int const   )(*((unsigned char const   *)(strDoubleDot +
                                                                                                                        1) +
                                                                                              3)));
                            } else {
                              goto _L___505;
                            }
                          } else {
                            _L___505: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___506;
                        }
                      } else {
                        _L___506: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___507;
                    }
                  } else {
                    _L___507: /* CIL Label */ ;
                  }
                  tmp___135 = __result___141;
                } else {
                  goto _L___511;
                }
              } else {
                _L___511: /* CIL Label */ 
                __s1___46 = (unsigned char const   *)str;
                __result___142 = (int )((int const   )(*(__s1___46 + 0)) - (int const   )(*((unsigned char const   *)(strDoubleDot +
                                                                                                                      1) +
                                                                                            0)));
                if (__s2_len___1 > 0U) {
                  if (__result___142 == 0) {
                    __result___142 = (int )((int const   )(*(__s1___46 + 1)) - (int const   )(*((unsigned char const   *)(strDoubleDot +
                                                                                                                          1) +
                                                                                                1)));
                    if (__s2_len___1 > 1U) {
                      if (__result___142 == 0) {
                        __result___142 = (int )((int const   )(*(__s1___46 + 2)) -
                                                (int const   )(*((unsigned char const   *)(strDoubleDot +
                                                                                           1) +
                                                                 2)));
                        if (__s2_len___1 > 2U) {
                          if (__result___142 == 0) {
                            __result___142 = (int )((int const   )(*(__s1___46 + 3)) -
                                                    (int const   )(*((unsigned char const   *)(strDoubleDot +
                                                                                               1) +
                                                                     3)));
                          } else {
                            goto _L___508;
                          }
                        } else {
                          _L___508: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___509;
                      }
                    } else {
                      _L___509: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___510;
                  }
                } else {
                  _L___510: /* CIL Label */ ;
                }
                tmp___135 = __result___142;
              }
            } else {
              goto _L___513;
            }
          } else {
            goto _L___513;
          }
        } else {
          _L___513: /* CIL Label */ 
          tmp___135 = strcmp(str, strDoubleDot + 1);
        }
      }
    }
    if (tmp___135) {
      if (! found_tilde) {
        tmp___102 = __builtin_constant_p(str);
        if (tmp___102) {
          tmp___103 = __builtin_constant_p(strDoubleDot);
          if (tmp___103) {
            __s1_len___0 = strlen(str);
            __s2_len___0 = strlen(strDoubleDot);
            if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                   1U)) {
              goto _L___342;
            } else {
              if (__s1_len___0 >= 4U) {
                _L___342: /* CIL Label */ 
                if (! ((unsigned int )((void const   *)(strDoubleDot + 1)) - (unsigned int )((void const   *)(strDoubleDot)) ==
                       1U)) {
                  goto _L___341;
                } else {
                  if (__s2_len___0 >= 4U) {
                    _L___341: /* CIL Label */ 
                    tmp___104 = 1;
                  } else {
                    goto _L___340;
                  }
                }
              } else {
                _L___340: /* CIL Label */ 
                tmp___104 = 0;
              }
            }
            if (tmp___104) {
              if (__s1_len___0 < __s2_len___0) {
                tmp___77 = __s1_len___0;
              } else {
                tmp___77 = __s2_len___0;
              }
              tmp___76 = memcmp((void const   *)str, (void const   *)(strDoubleDot),
                                tmp___77 + 1U);
            } else {
              goto _L___344;
            }
          } else {
            goto _L___344;
          }
        } else {
          _L___344: /* CIL Label */ 
          tmp___101 = __builtin_constant_p(str);
          if (tmp___101) {
            if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                1U) {
              __s1_len___0 = strlen(str);
              if (__s1_len___0 < 4U) {
                tmp___92 = __builtin_constant_p(strDoubleDot);
                if (tmp___92) {
                  if ((unsigned int )((void const   *)(strDoubleDot + 1)) - (unsigned int )((void const   *)(strDoubleDot)) ==
                      1U) {
                    __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                            0)) - (int const   )(*((unsigned char const   *)(strDoubleDot) +
                                                                                   0)));
                    if (__s1_len___0 > 0U) {
                      if (__result___85 == 0) {
                        __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                                1)) - (int const   )(*((unsigned char const   *)(strDoubleDot) +
                                                                                       1)));
                        if (__s1_len___0 > 1U) {
                          if (__result___85 == 0) {
                            __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                                    2)) - (int const   )(*((unsigned char const   *)(strDoubleDot) +
                                                                                           2)));
                            if (__s1_len___0 > 2U) {
                              if (__result___85 == 0) {
                                __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                                        3)) - (int const   )(*((unsigned char const   *)(strDoubleDot) +
                                                                                               3)));
                              } else {
                                goto _L___303;
                              }
                            } else {
                              _L___303: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___304;
                          }
                        } else {
                          _L___304: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___305;
                      }
                    } else {
                      _L___305: /* CIL Label */ ;
                    }
                    tmp___76 = __result___85;
                  } else {
                    goto _L___309;
                  }
                } else {
                  _L___309: /* CIL Label */ 
                  __s2___14 = (unsigned char const   *)(strDoubleDot);
                  __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                          0)) - (int const   )(*(__s2___14 +
                                                                                 0)));
                  if (__s1_len___0 > 0U) {
                    if (__result___86 == 0) {
                      __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                              1)) - (int const   )(*(__s2___14 +
                                                                                     1)));
                      if (__s1_len___0 > 1U) {
                        if (__result___86 == 0) {
                          __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  2)) - (int const   )(*(__s2___14 +
                                                                                         2)));
                          if (__s1_len___0 > 2U) {
                            if (__result___86 == 0) {
                              __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      3)) - (int const   )(*(__s2___14 +
                                                                                             3)));
                            } else {
                              goto _L___306;
                            }
                          } else {
                            _L___306: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___307;
                        }
                      } else {
                        _L___307: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___308;
                    }
                  } else {
                    _L___308: /* CIL Label */ ;
                  }
                  tmp___76 = __result___86;
                }
              } else {
                goto _L___339;
              }
            } else {
              goto _L___339;
            }
          } else {
            _L___339: /* CIL Label */ 
            tmp___100 = __builtin_constant_p(strDoubleDot);
            if (tmp___100) {
              if ((unsigned int )((void const   *)(strDoubleDot + 1)) - (unsigned int )((void const   *)(strDoubleDot)) ==
                  1U) {
                __s2_len___0 = strlen(strDoubleDot);
                if (__s2_len___0 < 4U) {
                  tmp___99 = __builtin_constant_p(str);
                  if (tmp___99) {
                    if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                        1U) {
                      __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                              0)) - (int const   )(*((unsigned char const   *)(strDoubleDot) +
                                                                                     0)));
                      if (__s2_len___0 > 0U) {
                        if (__result___93 == 0) {
                          __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  1)) - (int const   )(*((unsigned char const   *)(strDoubleDot) +
                                                                                         1)));
                          if (__s2_len___0 > 1U) {
                            if (__result___93 == 0) {
                              __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      2)) - (int const   )(*((unsigned char const   *)(strDoubleDot) +
                                                                                             2)));
                              if (__s2_len___0 > 2U) {
                                if (__result___93 == 0) {
                                  __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                                          3)) - (int const   )(*((unsigned char const   *)(strDoubleDot) +
                                                                                                 3)));
                                } else {
                                  goto _L___329;
                                }
                              } else {
                                _L___329: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___330;
                            }
                          } else {
                            _L___330: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___331;
                        }
                      } else {
                        _L___331: /* CIL Label */ ;
                      }
                      tmp___76 = __result___93;
                    } else {
                      goto _L___335;
                    }
                  } else {
                    _L___335: /* CIL Label */ 
                    __s1___30 = (unsigned char const   *)str;
                    __result___94 = (int )((int const   )(*(__s1___30 + 0)) - (int const   )(*((unsigned char const   *)(strDoubleDot) +
                                                                                               0)));
                    if (__s2_len___0 > 0U) {
                      if (__result___94 == 0) {
                        __result___94 = (int )((int const   )(*(__s1___30 + 1)) -
                                               (int const   )(*((unsigned char const   *)(strDoubleDot) +
                                                                1)));
                        if (__s2_len___0 > 1U) {
                          if (__result___94 == 0) {
                            __result___94 = (int )((int const   )(*(__s1___30 + 2)) -
                                                   (int const   )(*((unsigned char const   *)(strDoubleDot) +
                                                                    2)));
                            if (__s2_len___0 > 2U) {
                              if (__result___94 == 0) {
                                __result___94 = (int )((int const   )(*(__s1___30 +
                                                                        3)) - (int const   )(*((unsigned char const   *)(strDoubleDot) +
                                                                                               3)));
                              } else {
                                goto _L___332;
                              }
                            } else {
                              _L___332: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___333;
                          }
                        } else {
                          _L___333: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___334;
                      }
                    } else {
                      _L___334: /* CIL Label */ ;
                    }
                    tmp___76 = __result___94;
                  }
                } else {
                  goto _L___337;
                }
              } else {
                goto _L___337;
              }
            } else {
              _L___337: /* CIL Label */ 
              tmp___76 = strcmp(str, strDoubleDot);
            }
          }
        }
        if (tmp___76) {
          tmp___44 = __builtin_constant_p(str);
          if (tmp___44) {
            __s1_len = strlen(str);
            __s2_len = strlen("~");
            if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                   1U)) {
              goto _L___166;
            } else {
              if (__s1_len >= 4U) {
                _L___166: /* CIL Label */ 
                if (! ((unsigned int )((void const   *)("~" + 1)) - (unsigned int )((void const   *)"~") ==
                       1U)) {
                  goto _L___165;
                } else {
                  if (__s2_len >= 4U) {
                    _L___165: /* CIL Label */ 
                    tmp___45 = 1;
                  } else {
                    goto _L___164;
                  }
                }
              } else {
                _L___164: /* CIL Label */ 
                tmp___45 = 0;
              }
            }
            if (tmp___45) {
              if (__s1_len < __s2_len) {
                tmp___27 = __s1_len;
              } else {
                tmp___27 = __s2_len;
              }
              tmp___26 = memcmp((void const   *)str, (void const   *)"~", tmp___27 +
                                                                          1U);
            } else {
              goto _L___168;
            }
          } else {
            _L___168: /* CIL Label */ 
            tmp___43 = __builtin_constant_p(str);
            if (tmp___43) {
              if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                  1U) {
                __s1_len = strlen(str);
                if (__s1_len < 4U) {
                  if ((unsigned int )((void const   *)("~" + 1)) - (unsigned int )((void const   *)"~") ==
                      1U) {
                    __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                            0)) - (int const   )(*((unsigned char const   *)"~" +
                                                                                   0)));
                    if (__s1_len > 0U) {
                      if (__result___37 == 0) {
                        __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                                1)) - (int const   )(*((unsigned char const   *)"~" +
                                                                                       1)));
                        if (__s1_len > 1U) {
                          if (__result___37 == 0) {
                            __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                                    2)) - (int const   )(*((unsigned char const   *)"~" +
                                                                                           2)));
                            if (__s1_len > 2U) {
                              if (__result___37 == 0) {
                                __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                                        3)) - (int const   )(*((unsigned char const   *)"~" +
                                                                                               3)));
                              } else {
                                goto _L___129;
                              }
                            } else {
                              _L___129: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___130;
                          }
                        } else {
                          _L___130: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___131;
                      }
                    } else {
                      _L___131: /* CIL Label */ ;
                    }
                    tmp___26 = __result___37;
                  } else {
                    __s2___6 = (unsigned char const   *)"~";
                    __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                            0)) - (int const   )(*(__s2___6 +
                                                                                   0)));
                    if (__s1_len > 0U) {
                      if (__result___38 == 0) {
                        __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                                1)) - (int const   )(*(__s2___6 +
                                                                                       1)));
                        if (__s1_len > 1U) {
                          if (__result___38 == 0) {
                            __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                                    2)) - (int const   )(*(__s2___6 +
                                                                                           2)));
                            if (__s1_len > 2U) {
                              if (__result___38 == 0) {
                                __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                                        3)) - (int const   )(*(__s2___6 +
                                                                                               3)));
                              } else {
                                goto _L___132;
                              }
                            } else {
                              _L___132: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___133;
                          }
                        } else {
                          _L___133: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___134;
                      }
                    } else {
                      _L___134: /* CIL Label */ ;
                    }
                    tmp___26 = __result___38;
                  }
                } else {
                  goto _L___163;
                }
              } else {
                goto _L___163;
              }
            } else {
              _L___163: /* CIL Label */ 
              if ((unsigned int )((void const   *)("~" + 1)) - (unsigned int )((void const   *)"~") ==
                  1U) {
                __s2_len = strlen("~");
                if (__s2_len < 4U) {
                  tmp___42 = __builtin_constant_p(str);
                  if (tmp___42) {
                    if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                        1U) {
                      __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                              0)) - (int const   )(*((unsigned char const   *)"~" +
                                                                                     0)));
                      if (__s2_len > 0U) {
                        if (__result___45 == 0) {
                          __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  1)) - (int const   )(*((unsigned char const   *)"~" +
                                                                                         1)));
                          if (__s2_len > 1U) {
                            if (__result___45 == 0) {
                              __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      2)) - (int const   )(*((unsigned char const   *)"~" +
                                                                                             2)));
                              if (__s2_len > 2U) {
                                if (__result___45 == 0) {
                                  __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                                          3)) - (int const   )(*((unsigned char const   *)"~" +
                                                                                                 3)));
                                } else {
                                  goto _L___154;
                                }
                              } else {
                                _L___154: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___155;
                            }
                          } else {
                            _L___155: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___156;
                        }
                      } else {
                        _L___156: /* CIL Label */ ;
                      }
                      tmp___26 = __result___45;
                    } else {
                      goto _L___160;
                    }
                  } else {
                    _L___160: /* CIL Label */ 
                    __s1___14 = (unsigned char const   *)str;
                    __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)"~" +
                                                                                               0)));
                    if (__s2_len > 0U) {
                      if (__result___46 == 0) {
                        __result___46 = (int )((int const   )(*(__s1___14 + 1)) -
                                               (int const   )(*((unsigned char const   *)"~" +
                                                                1)));
                        if (__s2_len > 1U) {
                          if (__result___46 == 0) {
                            __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                                   (int const   )(*((unsigned char const   *)"~" +
                                                                    2)));
                            if (__s2_len > 2U) {
                              if (__result___46 == 0) {
                                __result___46 = (int )((int const   )(*(__s1___14 +
                                                                        3)) - (int const   )(*((unsigned char const   *)"~" +
                                                                                               3)));
                              } else {
                                goto _L___157;
                              }
                            } else {
                              _L___157: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___158;
                          }
                        } else {
                          _L___158: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___159;
                      }
                    } else {
                      _L___159: /* CIL Label */ ;
                    }
                    tmp___26 = __result___46;
                  }
                } else {
                  goto _L___161;
                }
              } else {
                _L___161: /* CIL Label */ 
                tmp___26 = strcmp(str, "~");
              }
            }
          }
          if (! tmp___26) {
            found_tilde = (unsigned char)1;
          }
        } else {
          (*((*(component + count___2)))) = (char )'\000';
          if (count___2 > 0U) {
            cnt = count___2 - 1U;
            while (1) {
              if ((int )(*((*(component + cnt)))) != 0) {
                (*((*(component + cnt)))) = (char )'\000';
                break;
              }
              if (cnt == 0U) {
                break;
              }
              cnt --;
            }
          }
        }
      }
    } else {
      (*((*(component + count___2)))) = (char )'\000';
    }
    count___2 ++;
  }
  dest = path;
  is_first = (unsigned char)1;
  if (is_abs) {
    tmp___164 = dest;
    dest ++;
    (*tmp___164) = (char )'/';
  }
  count___2 = 0U;
  while (count___2 < num) {
    src = (char const   *)(*(component + count___2));
    if ((int const   )(*src) == 0) {
      goto __Cont;
    }
    if (is_first) {
      is_first = (unsigned char)0;
    } else {
      tmp___165 = dest;
      dest ++;
      (*tmp___165) = (char )'/';
    }
    while (1) {
      tmp___167 = src;
      src ++;
      ch = (char )(*tmp___167);
      if (! ((int )ch != 0)) {
        break;
      }
      tmp___166 = dest;
      dest ++;
      (*tmp___166) = ch;
    }
    __Cont: /* CIL Label */ 
    count___2 ++;
  }
  if (is_dir) {
    if ((unsigned int )dest <= (unsigned int )path) {
      goto _L___521;
    } else {
      if ((int )(*(dest - 1)) != 47) {
        _L___521: /* CIL Label */ 
        tmp___168 = dest;
        dest ++;
        (*tmp___168) = (char )'/';
      }
    }
  }
  (*dest) = (char )'\000';
  while (1) {
    if ((unsigned int )component != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)component);
    }
    break;
  }
  return (path);
}
}
__inline static void uri_set_error(tUriData *uri , tResourceError re ) 
{ 

  {
  if ((int )uri->re == 0) {
    uri->re = re;
  }
  return;
}
}
__inline static tUriData *uri_allocate(void) 
{ tUriData *tmp ;

  {
  tmp = (tUriData *)memory_allocate_ll(sizeof(tUriData ));
  return (tmp);
}
}
static tUriData *uri_parse(char const   *_uri , tUriData const   *orig_referrer ,
                           char const   **_fragment , char const   *extra_query ,
                           unsigned char special_flags ) ;
static char const   strWwwDot[5]  = {      (char const   )'w',      (char const   )'w',      (char const   )'w',      (char const   )'.', 
        (char const   )'\000'};
static char const   strFtpDot[5]  = {      (char const   )'f',      (char const   )'t',      (char const   )'p',      (char const   )'.', 
        (char const   )'\000'};
static char const   strNewsDot[6]  = {      (char const   )'n',      (char const   )'e',      (char const   )'w',      (char const   )'s', 
        (char const   )'.',      (char const   )'\000'};
static char const   strGopherDot[8]  = 
  {      (char const   )'g',      (char const   )'o',      (char const   )'p',      (char const   )'h', 
        (char const   )'e',      (char const   )'r',      (char const   )'.',      (char const   )'\000'};
static tUriData *uri_parse(char const   *_uri , tUriData const   *orig_referrer ,
                           char const   **_fragment , char const   *extra_query ,
                           unsigned char special_flags ) 
{ tUriData *retval ;
  tUriData *tmp ;
  tUriData const   *referrer ;
  tResourceProtocol rp ;
  tResourceProtocol wouldbe_rp ;
  char *uristart ;
  char *uri ;
  char *pos ;
  char *scheme ;
  char *authority ;
  char *hostname ;
  char *port ;
  char *path ;
  char *query ;
  char *fragment ;
  char const   *username ;
  char const   *password ;
  char *complete_query ;
  char *spfbuf_uri ;
  tPortnumber portnumber ;
  tResourceError uri_error ;
  tBoolean must_dealloc_path ;
  tBoolean must_dealloc_complete_query ;
  tBoolean ua ;
  tBoolean iph ;
  tBoolean appfrag ;
  char *dest ;
  size_t tmp___0 ;
  char const   *src ;
  unsigned char const   *test ;
  unsigned char testch ;
  char urich ;
  char const   *tmp___1 ;
  char *tmp___2 ;
  unsigned char const   *tmp___3 ;
  char ch ;
  char const   *ref_uri ;
  char *new_uri ;
  char const   *temp ;
  char ch___0 ;
  size_t len ;
  char const   *tmp___4 ;
  char const   *tmp___5 ;
  int tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  struct stat statbuf ;
  mode_t mode ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  char *tmp___16 ;
  char *tmp___17 ;
  char *tmp___19 ;
  char *tmp___20 ;
  char *temp___0 ;
  char *tmp___21 ;
  char *tmp___23 ;
  char *tmp___25 ;
  char *tmp___26 ;
  int tmp___27 ;
  int tmp___28 ;
  int tmp___29 ;
  int tmp___30 ;
  int _portnumber ;
  register unsigned short __v ;
  register unsigned short __x ;
  int tmp___31 ;
  register unsigned short __v___0 ;
  register unsigned short __x___0 ;
  int tmp___32 ;
  char const   *l_username ;
  char const   *l_password ;
  size_t len___0 ;
  size_t tmp___33 ;
  char typech ;
  int tmp___34 ;
  tConfigLogin const   *l ;
  tConfigLogin *tmp___35 ;
  tPortnumber portnumber1 ;
  tPortnumber portnumber2 ;
  tBoolean tmp___36 ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___67 ;
  size_t tmp___68 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___83 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___90 ;
  int tmp___91 ;
  int tmp___92 ;
  int tmp___93 ;
  int tmp___94 ;
  int tmp___95 ;
  char const   *tmp___96 ;
  char const   *refpath ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___127 ;
  size_t tmp___128 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  int tmp___143 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___150 ;
  int tmp___151 ;
  int tmp___152 ;
  int tmp___153 ;
  int tmp___154 ;
  int tmp___155 ;
  char const   *temp___1 ;
  char const   *tmp___156 ;
  size_t refpathsize ;
  size_t pathsize ;
  size_t tmp___157 ;
  size_t size ;
  char *dest___0 ;
  char *tmp___158 ;
  char *spfbuf ;
  char *pathtemp ;
  char const   *prefix___0 ;
  char const   *tmp___159 ;
  int tmp___224 ;
  size_t __s1_len___2 ;
  size_t __s2_len___2 ;
  int tmp___255 ;
  size_t tmp___256 ;
  register int __result___181 ;
  unsigned char const   *__s2___30 ;
  register int __result___182 ;
  int tmp___271 ;
  register int __result___189 ;
  unsigned char const   *__s1___62 ;
  register int __result___190 ;
  int tmp___278 ;
  int tmp___279 ;
  int tmp___280 ;
  int tmp___281 ;
  int tmp___282 ;
  int tmp___283 ;
  int tmp___284 ;
  size_t tmp___285 ;
  int tmp___286 ;
  size_t tmp___287 ;
  char *finpath ;
  char *tmp___288 ;
  char const   *n ;
  register unsigned short __v___1 ;
  register unsigned short __x___1 ;
  int tmp___289 ;
  char const   *tmp___290 ;
  char const   *tmp___291 ;
  char const   *tmp___292 ;
  char const   *tmp___293 ;
  char const   *tmp___294 ;
  char const   *tmp___295 ;
  char const   *tmp___296 ;
  char const   *tmp___297 ;
  char const   *tmp___298 ;
  char const   *tmp___299 ;

  {
  tmp = uri_allocate();
  retval = tmp;
  referrer = orig_referrer;
  fragment = (char *)((void *)0);
  query = fragment;
  path = query;
  port = path;
  hostname = port;
  authority = hostname;
  scheme = authority;
  password = (char const   *)scheme;
  username = password;
  portnumber = (unsigned short)0;
  must_dealloc_complete_query = (unsigned char)0;
  must_dealloc_path = must_dealloc_complete_query;
  rp = (unsigned char)0;
  tmp___0 = strlen(_uri);
  uri = (char *)__memory_allocate_ll(tmp___0 + 1U);
  uristart = uri;
  dest = uristart;
  src = _uri;
  test = (unsigned char const   *)_uri;
  while (1) {
    tmp___3 = test;
    test ++;
    testch = (unsigned char )(*tmp___3);
    if (! ((int )testch != 0)) {
      break;
    }
    tmp___1 = src;
    src ++;
    urich = (char )(*tmp___1);
    tmp___2 = dest;
    dest ++;
    if ((int )testch < 32) {
      goto _L;
    } else {
      if ((int )testch == 127) {
        _L: /* CIL Label */ 
        (*tmp___2) = (char )'_';
      } else {
        (*tmp___2) = urich;
      }
    }
  }
  (*dest) = (char )'\000';
  if ((unsigned int )orig_referrer != (unsigned int )((void *)0)) {
    ch = (*uri);
    if ((int )ch == 0) {
      goto _L___1;
    } else {
      if ((int )ch == 35) {
        _L___1: /* CIL Label */ 
        ref_uri = (char const   *)orig_referrer->uri;
        if ((unsigned int )ref_uri != (unsigned int )((void *)0)) {
          if ((int const   )(*ref_uri) != 0) {
            my_spf((char *)((void *)0), 0U, & new_uri, strPercsPercs, ref_uri, uri);
            memory_deallocate_ll((void const   *)uristart);
            uri = new_uri;
            uristart = uri;
          } else {
            goto _L___0;
          }
        } else {
          _L___0: /* CIL Label */ ;
        }
      }
    }
  }
  pos = uri_parse_part((char const   *)uri, (unsigned char)0);
  if ((unsigned int )pos != (unsigned int )((void *)0)) {
    if ((int )(*pos) == 58) {
      if ((unsigned int )pos > (unsigned int )uri) {
        if ((int )(*(pos + 1)) == 47) {
          if ((int )(*(pos + 2)) == 47) {
            goto do_scheme;
          } else {
            goto _L___2;
          }
        } else {
          _L___2: /* CIL Label */ ;
        }
        temp = (char const   *)uri;
        tmp___4 = temp;
        temp ++;
        ch___0 = (char )(*tmp___4);
        if ((int )ch___0 >= 97) {
          if ((int )ch___0 <= 122) {
            goto _L___3;
          } else {
            goto _L___5;
          }
        } else {
          _L___5: /* CIL Label */ 
          if ((int )ch___0 >= 65) {
            if ((int )ch___0 <= 90) {
              _L___3: /* CIL Label */ ;
            } else {
              goto _L___4;
            }
          } else {
            _L___4: /* CIL Label */ 
            goto no_scheme;
          }
        }
        while ((unsigned int )temp < (unsigned int )pos) {
          tmp___5 = temp;
          temp ++;
          ch___0 = (char )(*tmp___5);
          if ((int )ch___0 >= 97) {
            if ((int )ch___0 <= 122) {
              goto _L___10;
            } else {
              goto _L___12;
            }
          } else {
            _L___12: /* CIL Label */ 
            if ((int )ch___0 >= 65) {
              if ((int )ch___0 <= 90) {
                _L___10: /* CIL Label */ 
                goto _L___8;
              } else {
                goto _L___11;
              }
            } else {
              _L___11: /* CIL Label */ 
              if ((int )ch___0 >= 48) {
                if ((int )ch___0 <= 57) {
                  _L___8: /* CIL Label */ ;
                } else {
                  goto _L___9;
                }
              } else {
                _L___9: /* CIL Label */ 
                if ((int )ch___0 != 43) {
                  if ((int )ch___0 != 45) {
                    goto no_scheme;
                  } else {
                    goto _L___8;
                  }
                } else {
                  goto _L___8;
                }
              }
            }
          }
        }
        len = (unsigned int )(pos - uri);
        if (len == 9U) {
          tmp___6 = strneqcase3((char const   *)uri, strLocalhost, 9U);
          if (tmp___6 == 0) {
            goto no_scheme;
          } else {
            goto _L___13;
          }
        } else {
          _L___13: /* CIL Label */ ;
        }
        do_scheme: 
        scheme = uri;
        tmp___7 = pos;
        pos ++;
        (*tmp___7) = (char )'\000';
        uri = pos;
        no_scheme: ;
      } else {
        goto _L___15;
      }
    } else {
      goto _L___15;
    }
  } else {
    _L___15: /* CIL Label */ ;
  }
  if ((int )(*(uri + 0)) == 47) {
    if ((int )(*(uri + 1)) == 47) {
      uri += 2;
      setup_authority(& uri, & authority);
    } else {
      goto _L___16;
    }
  } else {
    _L___16: /* CIL Label */ ;
  }
  path = uri;
  pos = uri_parse_part((char const   *)uri, (unsigned char)2);
  if ((unsigned int )pos != (unsigned int )((void *)0)) {
    if ((int )(*pos) == 63) {
      tmp___8 = pos;
      pos ++;
      (*tmp___8) = (char )'\000';
      uri = pos;
      query = uri;
    } else {
      goto _L___17;
    }
  } else {
    _L___17: /* CIL Label */ ;
  }
  pos = uri_parse_part((char const   *)uri, (unsigned char)3);
  if ((unsigned int )pos != (unsigned int )((void *)0)) {
    if ((int )(*pos) == 35) {
      tmp___9 = pos;
      pos ++;
      (*tmp___9) = (char )'\000';
      uri = pos;
      fragment = uri;
    } else {
      goto _L___18;
    }
  } else {
    _L___18: /* CIL Label */ ;
  }
  if ((unsigned int )scheme != (unsigned int )((void *)0)) {
    rp = lookup_rp((char const   *)scheme);
  } else {
    if ((unsigned int )orig_referrer != (unsigned int )((void *)0)) {
      rp = orig_referrer->rp;
    } else {
      if ((unsigned int )authority == (unsigned int )((void *)0)) {
        if ((int )(*path) == 47) {
          goto _L___22;
        } else {
          if ((int )(*(path + 0)) == 46) {
            if ((int )(*(path + 1)) == 47) {
              _L___22: /* CIL Label */ 
              goto set_local;
            } else {
              goto _L___23;
            }
          } else {
            _L___23: /* CIL Label */ 
            if ((int )(*(path + 0)) == 126) {
              if ((int )(*(path + 1)) == 47) {
                set_local: 
                rp = (unsigned char)4;
              } else {
                goto _L___21;
              }
            } else {
              _L___21: /* CIL Label */ 
              tmp___14 = strneqcase3((char const   *)path, strWwwDot, 4U);
              if (tmp___14 == 0) {
                set_http: 
                rp = (unsigned char)2;
                handle_abbr_authority: 
                setup_authority(& path, & authority);
              } else {
                tmp___13 = strneqcase3((char const   *)path, strFtpDot, 4U);
                if (tmp___13 == 0) {
                  set_ftp: 
                  rp = (unsigned char)3;
                  goto handle_abbr_authority;
                } else {
                  tmp___12 = strneqcase3((char const   *)path, strNewsDot, 5U);
                  if (tmp___12 == 0) {
                    rp = (unsigned char)8;
                    goto handle_abbr_authority;
                  } else {
                    tmp___11 = strneqcase3((char const   *)path, strGopherDot, 7U);
                    if (tmp___11 == 0) {
                      rp = (unsigned char)12;
                      goto handle_abbr_authority;
                    } else {
                      if ((int )special_flags & 1) {
                        goto set_ftp;
                      }
                      tmp___10 = my_stat((char const   *)path, & statbuf);
                      if (tmp___10 == 0) {
                        mode = statbuf.st_mode;
                        if ((mode & 61440U) == 32768U) {
                          goto _L___19;
                        } else {
                          if ((mode & 61440U) == 16384U) {
                            _L___19: /* CIL Label */ 
                            goto set_local;
                          }
                        }
                      }
                      goto set_http;
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  if ((unsigned int )authority != (unsigned int )((void *)0)) {
    tmp___16 = strchr((char const   *)authority, '@');
    pos = tmp___16;
    if ((unsigned int )pos == (unsigned int )((void *)0)) {
      hostname = authority;
    } else {
      tmp___17 = pos;
      pos ++;
      (*tmp___17) = (char )'\000';
      hostname = pos;
      username = (char const   *)authority;
      tmp___19 = strchr(username, ':');
      pos = tmp___19;
      if ((unsigned int )pos != (unsigned int )((void *)0)) {
        tmp___20 = pos;
        pos ++;
        (*tmp___20) = (char )'\000';
        password = (char const   *)pos;
      }
    }
    pos = hostname;
    if ((int )(*hostname) == 91) {
      if ((int )(*(hostname + 1)) != 0) {
        tmp___23 = strchr((char const   *)(hostname + 2), ']');
        temp___0 = tmp___23;
        if ((unsigned int )temp___0 != (unsigned int )((void *)0)) {
          tmp___21 = temp___0;
          temp___0 ++;
          (*tmp___21) = (char )'\000';
          pos = temp___0;
          hostname ++;
          retval->udf = (unsigned char )((int )retval->udf | 1);
        } else {
          goto _L___24;
        }
      } else {
        _L___24: /* CIL Label */ ;
      }
    }
    tmp___25 = strchr((char const   *)pos, ':');
    pos = tmp___25;
    if ((unsigned int )pos != (unsigned int )((void *)0)) {
      tmp___26 = pos;
      pos ++;
      (*tmp___26) = (char )'\000';
      port = pos;
    }
    if ((int )(*hostname) == 0) {
      hostname = (char *)((void *)0);
    } else {
      if ((int )rp == 0) {
        if ((unsigned int )scheme == (unsigned int )((void *)0)) {
          if ((unsigned int )orig_referrer == (unsigned int )((void *)0)) {
            tmp___30 = strneqcase3((char const   *)hostname, strWwwDot, 4U);
            if (tmp___30 == 0) {
              rp = (unsigned char)2;
            } else {
              tmp___29 = strneqcase3((char const   *)hostname, strFtpDot, 4U);
              if (tmp___29 == 0) {
                rp = (unsigned char)3;
              } else {
                tmp___27 = strneqcase3((char const   *)hostname, strNewsDot, 5U);
                if (tmp___27 == 0) {
                  goto _L___25;
                } else {
                  tmp___28 = streqcase3((char const   *)hostname, strNews);
                  if (tmp___28 == 0) {
                    _L___25: /* CIL Label */ 
                    rp = (unsigned char)8;
                  }
                }
              }
            }
          } else {
            goto _L___27;
          }
        } else {
          goto _L___27;
        }
      } else {
        _L___27: /* CIL Label */ ;
      }
      hostname = my_strdup_tolower((char const   *)hostname);
    }
  }
  wouldbe_rp = rp;
  rp = rp_data[wouldbe_rp].final_rp;
  if ((int )rp_data[wouldbe_rp].flags & 32) {
    ua = (unsigned char)1;
  } else {
    ua = (unsigned char)0;
  }
  if ((int )rp_data[wouldbe_rp].flags & 64) {
    iph = (unsigned char)1;
  } else {
    iph = (unsigned char)0;
  }
  if (ua) {
    if ((unsigned int )port == (unsigned int )((void *)0)) {
      goto _L___29;
    } else {
      if ((int )(*port) == 0) {
        _L___29: /* CIL Label */ 
        portnumber = rp2portnumber(wouldbe_rp);
      } else {
        my_atoi((char const   *)port, & _portnumber, (char const   **)((void *)0),
                99999);
        if (_portnumber <= 0) {
          goto _L___28;
        } else {
          if (_portnumber > 65535) {
            _L___28: /* CIL Label */ 
            uri_set_error(retval, (unsigned char)11);
            portnumber = (unsigned short)0;
          } else {
            __x = (unsigned short )_portnumber;
            tmp___31 = __builtin_constant_p(__x);
            if (tmp___31) {
              __v = (unsigned short )((((int )__x >> 8) & 255) | (((int )__x & 255) <<
                                                                  8));
            } else {
              __asm__  ("rorw $8, %w0": "=r" (__v): "0" (__x): "cc");
            }
            portnumber = __v;
            retval->udf = (unsigned char )((int )retval->udf | 2);
          }
        }
      }
    }
    if ((int )special_flags & 1) {
      if (! ((int )retval->udf & 2)) {
        if ((int )rp == 3) {
          __x___0 = (unsigned short)21;
          tmp___32 = __builtin_constant_p(__x___0);
          if (tmp___32) {
            __v___0 = (unsigned short )((((int )__x___0 >> 8) & 255) | (((int )__x___0 &
                                                                         255) << 8));
          } else {
            __asm__  ("rorw $8, %w0": "=r" (__v___0): "0" (__x___0): "cc");
          }
          portnumber = __v___0;
        }
      } else {
        goto _L___30;
      }
    } else {
      _L___30: /* CIL Label */ ;
    }
  }
  if ((int )rp_data[wouldbe_rp].flags & 4) {
    tmp___33 = strlen((char const   *)path);
    len___0 = tmp___33;
    if (len___0 >= 7U) {
      tmp___34 = strneqcase3((char const   *)((path + len___0) - 7), ";type=", 6U);
      if (tmp___34 == 0) {
        typech = (*((path + len___0) - 1));
        if ((int )typech == 97) {
          retval->udf = (unsigned char )((int )retval->udf | 4);
        } else {
          if ((int )typech == 100) {
            retval->udf = (unsigned char )((int )retval->udf | 8);
          } else {
            if ((int )typech == 105) {
              retval->udf = (unsigned char )((int )retval->udf | 16);
            } else {
              goto no_ftp_type;
            }
          }
        }
        (*((path + len___0) - 7)) = (char )'\000';
        no_ftp_type: ;
      } else {
        goto _L___31;
      }
    } else {
      _L___31: /* CIL Label */ ;
    }
    l_username = strAnonymous;
    l_password = "guest";
    if ((int )wouldbe_rp == 3) {
      if ((unsigned int )username == (unsigned int )((void *)0)) {
        goto _L___35;
      } else {
        if ((unsigned int )password == (unsigned int )((void *)0)) {
          _L___35: /* CIL Label */ 
          if ((unsigned int )hostname != (unsigned int )((void *)0)) {
            tmp___35 = config.ftp_login;
          } else {
            tmp___35 = (tConfigLogin *)((void *)0);
          }
          l = (tConfigLogin const   *)tmp___35;
          portnumber1 = portnumber;
          while ((unsigned int )l != (unsigned int )((void *)0)) {
            portnumber2 = l->hosts_portnumber;
            if ((int )portnumber2 == 0) {
              goto _L___33;
            } else {
              if ((int )portnumber2 == (int )portnumber1) {
                _L___33: /* CIL Label */ 
                tmp___36 = my_pattern_matcher((char const   *)l->hosts_pattern, (char const   *)hostname);
                if (tmp___36) {
                  l_username = (char const   *)l->user;
                  l_password = (char const   *)l->password;
                  break;
                } else {
                  goto _L___32;
                }
              } else {
                _L___32: /* CIL Label */ ;
              }
            }
            l = (tConfigLogin const   *)l->next;
          }
        } else {
          goto _L___34;
        }
      }
    } else {
      _L___34: /* CIL Label */ ;
    }
    if ((unsigned int )username == (unsigned int )((void *)0)) {
      username = l_username;
    }
    if ((unsigned int )password == (unsigned int )((void *)0)) {
      if ((unsigned int )username != (unsigned int )((void *)0)) {
        if ((unsigned int )l_username != (unsigned int )((void *)0)) {
          tmp___93 = __builtin_constant_p(username);
          if (tmp___93) {
            tmp___94 = __builtin_constant_p(l_username);
            if (tmp___94) {
              __s1_len = strlen(username);
              __s2_len = strlen(l_username);
              if (! ((unsigned int )((void const   *)(username + 1)) - (unsigned int )((void const   *)username) ==
                     1U)) {
                goto _L___209;
              } else {
                if (__s1_len >= 4U) {
                  _L___209: /* CIL Label */ 
                  if (! ((unsigned int )((void const   *)(l_username + 1)) - (unsigned int )((void const   *)l_username) ==
                         1U)) {
                    goto _L___208;
                  } else {
                    if (__s2_len >= 4U) {
                      _L___208: /* CIL Label */ 
                      tmp___95 = 1;
                    } else {
                      goto _L___207;
                    }
                  }
                } else {
                  _L___207: /* CIL Label */ 
                  tmp___95 = 0;
                }
              }
              if (tmp___95) {
                if (__s1_len < __s2_len) {
                  tmp___68 = __s1_len;
                } else {
                  tmp___68 = __s2_len;
                }
                tmp___67 = memcmp((void const   *)username, (void const   *)l_username,
                                  tmp___68 + 1U);
              } else {
                goto _L___211;
              }
            } else {
              goto _L___211;
            }
          } else {
            _L___211: /* CIL Label */ 
            tmp___92 = __builtin_constant_p(username);
            if (tmp___92) {
              if ((unsigned int )((void const   *)(username + 1)) - (unsigned int )((void const   *)username) ==
                  1U) {
                __s1_len = strlen(username);
                if (__s1_len < 4U) {
                  tmp___83 = __builtin_constant_p(l_username);
                  if (tmp___83) {
                    if ((unsigned int )((void const   *)(l_username + 1)) - (unsigned int )((void const   *)l_username) ==
                        1U) {
                      __result___37 = (int )((int const   )(*((unsigned char const   *)username +
                                                              0)) - (int const   )(*((unsigned char const   *)l_username +
                                                                                     0)));
                      if (__s1_len > 0U) {
                        if (__result___37 == 0) {
                          __result___37 = (int )((int const   )(*((unsigned char const   *)username +
                                                                  1)) - (int const   )(*((unsigned char const   *)l_username +
                                                                                         1)));
                          if (__s1_len > 1U) {
                            if (__result___37 == 0) {
                              __result___37 = (int )((int const   )(*((unsigned char const   *)username +
                                                                      2)) - (int const   )(*((unsigned char const   *)l_username +
                                                                                             2)));
                              if (__s1_len > 2U) {
                                if (__result___37 == 0) {
                                  __result___37 = (int )((int const   )(*((unsigned char const   *)username +
                                                                          3)) - (int const   )(*((unsigned char const   *)l_username +
                                                                                                 3)));
                                } else {
                                  goto _L___170;
                                }
                              } else {
                                _L___170: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___171;
                            }
                          } else {
                            _L___171: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___172;
                        }
                      } else {
                        _L___172: /* CIL Label */ ;
                      }
                      tmp___67 = __result___37;
                    } else {
                      goto _L___176;
                    }
                  } else {
                    _L___176: /* CIL Label */ 
                    __s2___6 = (unsigned char const   *)l_username;
                    __result___38 = (int )((int const   )(*((unsigned char const   *)username +
                                                            0)) - (int const   )(*(__s2___6 +
                                                                                   0)));
                    if (__s1_len > 0U) {
                      if (__result___38 == 0) {
                        __result___38 = (int )((int const   )(*((unsigned char const   *)username +
                                                                1)) - (int const   )(*(__s2___6 +
                                                                                       1)));
                        if (__s1_len > 1U) {
                          if (__result___38 == 0) {
                            __result___38 = (int )((int const   )(*((unsigned char const   *)username +
                                                                    2)) - (int const   )(*(__s2___6 +
                                                                                           2)));
                            if (__s1_len > 2U) {
                              if (__result___38 == 0) {
                                __result___38 = (int )((int const   )(*((unsigned char const   *)username +
                                                                        3)) - (int const   )(*(__s2___6 +
                                                                                               3)));
                              } else {
                                goto _L___173;
                              }
                            } else {
                              _L___173: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___174;
                          }
                        } else {
                          _L___174: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___175;
                      }
                    } else {
                      _L___175: /* CIL Label */ ;
                    }
                    tmp___67 = __result___38;
                  }
                } else {
                  goto _L___206;
                }
              } else {
                goto _L___206;
              }
            } else {
              _L___206: /* CIL Label */ 
              tmp___91 = __builtin_constant_p(l_username);
              if (tmp___91) {
                if ((unsigned int )((void const   *)(l_username + 1)) - (unsigned int )((void const   *)l_username) ==
                    1U) {
                  __s2_len = strlen(l_username);
                  if (__s2_len < 4U) {
                    tmp___90 = __builtin_constant_p(username);
                    if (tmp___90) {
                      if ((unsigned int )((void const   *)(username + 1)) - (unsigned int )((void const   *)username) ==
                          1U) {
                        __result___45 = (int )((int const   )(*((unsigned char const   *)username +
                                                                0)) - (int const   )(*((unsigned char const   *)l_username +
                                                                                       0)));
                        if (__s2_len > 0U) {
                          if (__result___45 == 0) {
                            __result___45 = (int )((int const   )(*((unsigned char const   *)username +
                                                                    1)) - (int const   )(*((unsigned char const   *)l_username +
                                                                                           1)));
                            if (__s2_len > 1U) {
                              if (__result___45 == 0) {
                                __result___45 = (int )((int const   )(*((unsigned char const   *)username +
                                                                        2)) - (int const   )(*((unsigned char const   *)l_username +
                                                                                               2)));
                                if (__s2_len > 2U) {
                                  if (__result___45 == 0) {
                                    __result___45 = (int )((int const   )(*((unsigned char const   *)username +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)l_username +
                                                                            3)));
                                  } else {
                                    goto _L___196;
                                  }
                                } else {
                                  _L___196: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___197;
                              }
                            } else {
                              _L___197: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___198;
                          }
                        } else {
                          _L___198: /* CIL Label */ ;
                        }
                        tmp___67 = __result___45;
                      } else {
                        goto _L___202;
                      }
                    } else {
                      _L___202: /* CIL Label */ 
                      __s1___14 = (unsigned char const   *)username;
                      __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)l_username +
                                                                                                 0)));
                      if (__s2_len > 0U) {
                        if (__result___46 == 0) {
                          __result___46 = (int )((int const   )(*(__s1___14 + 1)) -
                                                 (int const   )(*((unsigned char const   *)l_username +
                                                                  1)));
                          if (__s2_len > 1U) {
                            if (__result___46 == 0) {
                              __result___46 = (int )((int const   )(*(__s1___14 +
                                                                      2)) - (int const   )(*((unsigned char const   *)l_username +
                                                                                             2)));
                              if (__s2_len > 2U) {
                                if (__result___46 == 0) {
                                  __result___46 = (int )((int const   )(*(__s1___14 +
                                                                          3)) - (int const   )(*((unsigned char const   *)l_username +
                                                                                                 3)));
                                } else {
                                  goto _L___199;
                                }
                              } else {
                                _L___199: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___200;
                            }
                          } else {
                            _L___200: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___201;
                        }
                      } else {
                        _L___201: /* CIL Label */ ;
                      }
                      tmp___67 = __result___46;
                    }
                  } else {
                    goto _L___204;
                  }
                } else {
                  goto _L___204;
                }
              } else {
                _L___204: /* CIL Label */ 
                tmp___67 = strcmp(username, l_username);
              }
            }
          }
          if (tmp___67) {
            goto _L___214;
          } else {
            password = l_password;
          }
        } else {
          goto _L___214;
        }
      } else {
        goto _L___214;
      }
    } else {
      _L___214: /* CIL Label */ ;
    }
  }
  if ((unsigned int )query != (unsigned int )((void *)0)) {
    if ((int )(*query) == 0) {
      query = (char *)((void *)0);
    } else {
      goto _L___215;
    }
  } else {
    _L___215: /* CIL Label */ ;
  }
  if ((unsigned int )fragment != (unsigned int )((void *)0)) {
    if ((int )(*fragment) == 0) {
      fragment = (char *)((void *)0);
    } else {
      goto _L___216;
    }
  } else {
    _L___216: /* CIL Label */ ;
  }
  if ((unsigned int )query != (unsigned int )((void *)0)) {
    if ((unsigned int )extra_query != (unsigned int )((void *)0)) {
      my_spf((char *)((void *)0), 0U, & complete_query, "%s&%s", query, extra_query);
      must_dealloc_complete_query = (unsigned char)1;
    } else {
      goto _L___217;
    }
  } else {
    _L___217: /* CIL Label */ 
    if ((unsigned int )query != (unsigned int )((void *)0)) {
      complete_query = query;
    } else {
      if ((unsigned int )extra_query != (unsigned int )((void *)0)) {
        complete_query = (char *)extra_query;
      } else {
        complete_query = (char *)((void *)0);
      }
    }
  }
  if ((int )wouldbe_rp == 4) {
    goto _L___219;
  } else {
    if ((int )wouldbe_rp == 7) {
      _L___219: /* CIL Label */ 
      if ((int )(*(path + 0)) == 126) {
        if ((int )(*(path + 1)) == 47) {
          tmp___96 = get_homepath();
          my_spf((char *)((void *)0), 0U, & path, strPercsPercs, tmp___96, path +
                                                                           2);
          must_dealloc_path = (unsigned char)1;
        } else {
          goto _L___218;
        }
      } else {
        _L___218: /* CIL Label */ ;
      }
    }
  }
  if ((unsigned int )referrer != (unsigned int )((void *)0)) {
    if ((int )rp != (int )referrer->rp) {
      referrer = (tUriData const   *)((void *)0);
    } else {
      goto _L___220;
    }
  } else {
    _L___220: /* CIL Label */ ;
  }
  if ((unsigned int )referrer != (unsigned int )((void *)0)) {
    if (ua) {
      if ((unsigned int )hostname == (unsigned int )((void *)0)) {
        hostname = my_strdup((char const   *)referrer->hostname);
      } else {
        tmp___153 = __builtin_constant_p(hostname);
        if (tmp___153) {
          tmp___154 = __builtin_constant_p(referrer->hostname);
          if (tmp___154) {
            __s1_len___0 = strlen((char const   *)hostname);
            __s2_len___0 = strlen((char const   *)referrer->hostname);
            if (! ((unsigned int )((void const   *)(hostname + 1)) - (unsigned int )((void const   *)hostname) ==
                   1U)) {
              goto _L___394;
            } else {
              if (__s1_len___0 >= 4U) {
                _L___394: /* CIL Label */ 
                if (! ((unsigned int )((void const   *)(referrer->hostname + 1)) -
                       (unsigned int )((void const   *)referrer->hostname) == 1U)) {
                  goto _L___393;
                } else {
                  if (__s2_len___0 >= 4U) {
                    _L___393: /* CIL Label */ 
                    tmp___155 = 1;
                  } else {
                    goto _L___392;
                  }
                }
              } else {
                _L___392: /* CIL Label */ 
                tmp___155 = 0;
              }
            }
            if (tmp___155) {
              if (__s1_len___0 < __s2_len___0) {
                tmp___128 = __s1_len___0;
              } else {
                tmp___128 = __s2_len___0;
              }
              tmp___127 = memcmp((void const   *)((char const   *)hostname), (void const   *)((char const   *)referrer->hostname),
                                 tmp___128 + 1U);
            } else {
              goto _L___396;
            }
          } else {
            goto _L___396;
          }
        } else {
          _L___396: /* CIL Label */ 
          tmp___152 = __builtin_constant_p(hostname);
          if (tmp___152) {
            if ((unsigned int )((void const   *)(hostname + 1)) - (unsigned int )((void const   *)hostname) ==
                1U) {
              __s1_len___0 = strlen((char const   *)hostname);
              if (__s1_len___0 < 4U) {
                tmp___143 = __builtin_constant_p(referrer->hostname);
                if (tmp___143) {
                  if ((unsigned int )((void const   *)(referrer->hostname + 1)) -
                      (unsigned int )((void const   *)referrer->hostname) == 1U) {
                    __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)hostname) +
                                                            0)) - (int const   )(*((unsigned char const   *)((char const   *)referrer->hostname) +
                                                                                   0)));
                    if (__s1_len___0 > 0U) {
                      if (__result___85 == 0) {
                        __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)hostname) +
                                                                1)) - (int const   )(*((unsigned char const   *)((char const   *)referrer->hostname) +
                                                                                       1)));
                        if (__s1_len___0 > 1U) {
                          if (__result___85 == 0) {
                            __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)hostname) +
                                                                    2)) - (int const   )(*((unsigned char const   *)((char const   *)referrer->hostname) +
                                                                                           2)));
                            if (__s1_len___0 > 2U) {
                              if (__result___85 == 0) {
                                __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)hostname) +
                                                                        3)) - (int const   )(*((unsigned char const   *)((char const   *)referrer->hostname) +
                                                                                               3)));
                              } else {
                                goto _L___355;
                              }
                            } else {
                              _L___355: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___356;
                          }
                        } else {
                          _L___356: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___357;
                      }
                    } else {
                      _L___357: /* CIL Label */ ;
                    }
                    tmp___127 = __result___85;
                  } else {
                    goto _L___361;
                  }
                } else {
                  _L___361: /* CIL Label */ 
                  __s2___14 = (unsigned char const   *)((char const   *)referrer->hostname);
                  __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)hostname) +
                                                          0)) - (int const   )(*(__s2___14 +
                                                                                 0)));
                  if (__s1_len___0 > 0U) {
                    if (__result___86 == 0) {
                      __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)hostname) +
                                                              1)) - (int const   )(*(__s2___14 +
                                                                                     1)));
                      if (__s1_len___0 > 1U) {
                        if (__result___86 == 0) {
                          __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)hostname) +
                                                                  2)) - (int const   )(*(__s2___14 +
                                                                                         2)));
                          if (__s1_len___0 > 2U) {
                            if (__result___86 == 0) {
                              __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)hostname) +
                                                                      3)) - (int const   )(*(__s2___14 +
                                                                                             3)));
                            } else {
                              goto _L___358;
                            }
                          } else {
                            _L___358: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___359;
                        }
                      } else {
                        _L___359: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___360;
                    }
                  } else {
                    _L___360: /* CIL Label */ ;
                  }
                  tmp___127 = __result___86;
                }
              } else {
                goto _L___391;
              }
            } else {
              goto _L___391;
            }
          } else {
            _L___391: /* CIL Label */ 
            tmp___151 = __builtin_constant_p(referrer->hostname);
            if (tmp___151) {
              if ((unsigned int )((void const   *)(referrer->hostname + 1)) - (unsigned int )((void const   *)referrer->hostname) ==
                  1U) {
                __s2_len___0 = strlen((char const   *)referrer->hostname);
                if (__s2_len___0 < 4U) {
                  tmp___150 = __builtin_constant_p(hostname);
                  if (tmp___150) {
                    if ((unsigned int )((void const   *)(hostname + 1)) - (unsigned int )((void const   *)hostname) ==
                        1U) {
                      __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)hostname) +
                                                              0)) - (int const   )(*((unsigned char const   *)((char const   *)referrer->hostname) +
                                                                                     0)));
                      if (__s2_len___0 > 0U) {
                        if (__result___93 == 0) {
                          __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)hostname) +
                                                                  1)) - (int const   )(*((unsigned char const   *)((char const   *)referrer->hostname) +
                                                                                         1)));
                          if (__s2_len___0 > 1U) {
                            if (__result___93 == 0) {
                              __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)hostname) +
                                                                      2)) - (int const   )(*((unsigned char const   *)((char const   *)referrer->hostname) +
                                                                                             2)));
                              if (__s2_len___0 > 2U) {
                                if (__result___93 == 0) {
                                  __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)hostname) +
                                                                          3)) - (int const   )(*((unsigned char const   *)((char const   *)referrer->hostname) +
                                                                                                 3)));
                                } else {
                                  goto _L___381;
                                }
                              } else {
                                _L___381: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___382;
                            }
                          } else {
                            _L___382: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___383;
                        }
                      } else {
                        _L___383: /* CIL Label */ ;
                      }
                      tmp___127 = __result___93;
                    } else {
                      goto _L___387;
                    }
                  } else {
                    _L___387: /* CIL Label */ 
                    __s1___30 = (unsigned char const   *)((char const   *)hostname);
                    __result___94 = (int )((int const   )(*(__s1___30 + 0)) - (int const   )(*((unsigned char const   *)((char const   *)referrer->hostname) +
                                                                                               0)));
                    if (__s2_len___0 > 0U) {
                      if (__result___94 == 0) {
                        __result___94 = (int )((int const   )(*(__s1___30 + 1)) -
                                               (int const   )(*((unsigned char const   *)((char const   *)referrer->hostname) +
                                                                1)));
                        if (__s2_len___0 > 1U) {
                          if (__result___94 == 0) {
                            __result___94 = (int )((int const   )(*(__s1___30 + 2)) -
                                                   (int const   )(*((unsigned char const   *)((char const   *)referrer->hostname) +
                                                                    2)));
                            if (__s2_len___0 > 2U) {
                              if (__result___94 == 0) {
                                __result___94 = (int )((int const   )(*(__s1___30 +
                                                                        3)) - (int const   )(*((unsigned char const   *)((char const   *)referrer->hostname) +
                                                                                               3)));
                              } else {
                                goto _L___384;
                              }
                            } else {
                              _L___384: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___385;
                          }
                        } else {
                          _L___385: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___386;
                      }
                    } else {
                      _L___386: /* CIL Label */ ;
                    }
                    tmp___127 = __result___94;
                  }
                } else {
                  goto _L___389;
                }
              } else {
                goto _L___389;
              }
            } else {
              _L___389: /* CIL Label */ 
              tmp___127 = strcmp((char const   *)hostname, (char const   *)referrer->hostname);
            }
          }
        }
        if (tmp___127) {
          referrer = (tUriData const   *)((void *)0);
          goto done_with_referrer;
        }
      }
    }
    if (iph) {
      if ((int )(*path) != 47) {
        refpath = (char const   *)referrer->path;
        if ((unsigned int )refpath != (unsigned int )((void *)0)) {
          tmp___156 = strrchr(refpath, '/');
          temp___1 = tmp___156;
          if ((unsigned int )temp___1 == (unsigned int )((void *)0)) {
            if (must_dealloc_path) {
              memory_deallocate_ll((void const   *)path);
              must_dealloc_path = (unsigned char)0;
            }
            path = (char *)(strSlash);
          } else {
            refpathsize = (size_t )((temp___1 - refpath) + 1);
            tmp___157 = strlen((char const   *)path);
            pathsize = tmp___157 + 1U;
            size = refpathsize + pathsize;
            tmp___158 = (char *)__memory_allocate_ll(size);
            dest___0 = tmp___158;
            memcpy((void * __restrict  )dest___0, (void const   * __restrict  )refpath,
                   refpathsize);
            memcpy((void * __restrict  )(dest___0 + refpathsize), (void const   * __restrict  )path,
                   pathsize);
            if (must_dealloc_path) {
              memory_deallocate_ll((void const   *)path);
              must_dealloc_path = (unsigned char)0;
            }
            path = dest___0;
            must_dealloc_path = (unsigned char)1;
          }
        } else {
          goto _L___398;
        }
      } else {
        goto _L___398;
      }
    } else {
      _L___398: /* CIL Label */ ;
    }
  }
  done_with_referrer: ;
  if ((int )(*path) != 47) {
    if ((int )rp_data[wouldbe_rp].flags & 1) {
      pathtemp = path;
      tmp___159 = my_getcwd();
      prefix___0 = tmp___159;
      while (1) {
        tmp___284 = __builtin_constant_p(pathtemp);
        if (tmp___284) {
          tmp___285 = strlen((char const   *)pathtemp);
          if (tmp___285 < 2U) {
            goto _L___751;
          } else {
            goto _L___753;
          }
        } else {
          _L___753: /* CIL Label */ 
          tmp___286 = __builtin_constant_p(strDotSlash);
          if (tmp___286) {
            tmp___287 = strlen(strDotSlash);
            if (tmp___287 < 2U) {
              _L___751: /* CIL Label */ 
              tmp___281 = __builtin_constant_p(pathtemp);
              if (tmp___281) {
                tmp___282 = __builtin_constant_p(strDotSlash);
                if (tmp___282) {
                  __s1_len___2 = strlen((char const   *)pathtemp);
                  __s2_len___2 = strlen(strDotSlash);
                  if (! ((unsigned int )((void const   *)(pathtemp + 1)) - (unsigned int )((void const   *)pathtemp) ==
                         1U)) {
                    goto _L___748;
                  } else {
                    if (__s1_len___2 >= 4U) {
                      _L___748: /* CIL Label */ 
                      if (! ((unsigned int )((void const   *)(strDotSlash + 1)) -
                             (unsigned int )((void const   *)(strDotSlash)) == 1U)) {
                        goto _L___747;
                      } else {
                        if (__s2_len___2 >= 4U) {
                          _L___747: /* CIL Label */ 
                          tmp___283 = 1;
                        } else {
                          goto _L___746;
                        }
                      }
                    } else {
                      _L___746: /* CIL Label */ 
                      tmp___283 = 0;
                    }
                  }
                  if (tmp___283) {
                    if (__s1_len___2 < __s2_len___2) {
                      tmp___256 = __s1_len___2;
                    } else {
                      tmp___256 = __s2_len___2;
                    }
                    tmp___255 = memcmp((void const   *)((char const   *)pathtemp),
                                       (void const   *)(strDotSlash), tmp___256 +
                                                                      1U);
                  } else {
                    goto _L___750;
                  }
                } else {
                  goto _L___750;
                }
              } else {
                _L___750: /* CIL Label */ 
                tmp___280 = __builtin_constant_p(pathtemp);
                if (tmp___280) {
                  if ((unsigned int )((void const   *)(pathtemp + 1)) - (unsigned int )((void const   *)pathtemp) ==
                      1U) {
                    __s1_len___2 = strlen((char const   *)pathtemp);
                    if (__s1_len___2 < 4U) {
                      tmp___271 = __builtin_constant_p(strDotSlash);
                      if (tmp___271) {
                        if ((unsigned int )((void const   *)(strDotSlash + 1)) - (unsigned int )((void const   *)(strDotSlash)) ==
                            1U) {
                          __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)pathtemp) +
                                                                   0)) - (int const   )(*((unsigned char const   *)(strDotSlash) +
                                                                                          0)));
                          if (__s1_len___2 > 0U) {
                            if (__result___181 == 0) {
                              __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)pathtemp) +
                                                                       1)) - (int const   )(*((unsigned char const   *)(strDotSlash) +
                                                                                              1)));
                              if (__s1_len___2 > 1U) {
                                if (__result___181 == 0) {
                                  __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)pathtemp) +
                                                                           2)) - (int const   )(*((unsigned char const   *)(strDotSlash) +
                                                                                                  2)));
                                  if (__s1_len___2 > 2U) {
                                    if (__result___181 == 0) {
                                      __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)pathtemp) +
                                                                               3)) -
                                                              (int const   )(*((unsigned char const   *)(strDotSlash) +
                                                                               3)));
                                    } else {
                                      goto _L___709;
                                    }
                                  } else {
                                    _L___709: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___710;
                                }
                              } else {
                                _L___710: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___711;
                            }
                          } else {
                            _L___711: /* CIL Label */ ;
                          }
                          tmp___255 = __result___181;
                        } else {
                          goto _L___715;
                        }
                      } else {
                        _L___715: /* CIL Label */ 
                        __s2___30 = (unsigned char const   *)(strDotSlash);
                        __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)pathtemp) +
                                                                 0)) - (int const   )(*(__s2___30 +
                                                                                        0)));
                        if (__s1_len___2 > 0U) {
                          if (__result___182 == 0) {
                            __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)pathtemp) +
                                                                     1)) - (int const   )(*(__s2___30 +
                                                                                            1)));
                            if (__s1_len___2 > 1U) {
                              if (__result___182 == 0) {
                                __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)pathtemp) +
                                                                         2)) - (int const   )(*(__s2___30 +
                                                                                                2)));
                                if (__s1_len___2 > 2U) {
                                  if (__result___182 == 0) {
                                    __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)pathtemp) +
                                                                             3)) -
                                                            (int const   )(*(__s2___30 +
                                                                             3)));
                                  } else {
                                    goto _L___712;
                                  }
                                } else {
                                  _L___712: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___713;
                              }
                            } else {
                              _L___713: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___714;
                          }
                        } else {
                          _L___714: /* CIL Label */ ;
                        }
                        tmp___255 = __result___182;
                      }
                    } else {
                      goto _L___745;
                    }
                  } else {
                    goto _L___745;
                  }
                } else {
                  _L___745: /* CIL Label */ 
                  tmp___279 = __builtin_constant_p(strDotSlash);
                  if (tmp___279) {
                    if ((unsigned int )((void const   *)(strDotSlash + 1)) - (unsigned int )((void const   *)(strDotSlash)) ==
                        1U) {
                      __s2_len___2 = strlen(strDotSlash);
                      if (__s2_len___2 < 4U) {
                        tmp___278 = __builtin_constant_p(pathtemp);
                        if (tmp___278) {
                          if ((unsigned int )((void const   *)(pathtemp + 1)) - (unsigned int )((void const   *)pathtemp) ==
                              1U) {
                            __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)pathtemp) +
                                                                     0)) - (int const   )(*((unsigned char const   *)(strDotSlash) +
                                                                                            0)));
                            if (__s2_len___2 > 0U) {
                              if (__result___189 == 0) {
                                __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)pathtemp) +
                                                                         1)) - (int const   )(*((unsigned char const   *)(strDotSlash) +
                                                                                                1)));
                                if (__s2_len___2 > 1U) {
                                  if (__result___189 == 0) {
                                    __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)pathtemp) +
                                                                             2)) -
                                                            (int const   )(*((unsigned char const   *)(strDotSlash) +
                                                                             2)));
                                    if (__s2_len___2 > 2U) {
                                      if (__result___189 == 0) {
                                        __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)pathtemp) +
                                                                                 3)) -
                                                                (int const   )(*((unsigned char const   *)(strDotSlash) +
                                                                                 3)));
                                      } else {
                                        goto _L___735;
                                      }
                                    } else {
                                      _L___735: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___736;
                                  }
                                } else {
                                  _L___736: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___737;
                              }
                            } else {
                              _L___737: /* CIL Label */ ;
                            }
                            tmp___255 = __result___189;
                          } else {
                            goto _L___741;
                          }
                        } else {
                          _L___741: /* CIL Label */ 
                          __s1___62 = (unsigned char const   *)((char const   *)pathtemp);
                          __result___190 = (int )((int const   )(*(__s1___62 + 0)) -
                                                  (int const   )(*((unsigned char const   *)(strDotSlash) +
                                                                   0)));
                          if (__s2_len___2 > 0U) {
                            if (__result___190 == 0) {
                              __result___190 = (int )((int const   )(*(__s1___62 +
                                                                       1)) - (int const   )(*((unsigned char const   *)(strDotSlash) +
                                                                                              1)));
                              if (__s2_len___2 > 1U) {
                                if (__result___190 == 0) {
                                  __result___190 = (int )((int const   )(*(__s1___62 +
                                                                           2)) - (int const   )(*((unsigned char const   *)(strDotSlash) +
                                                                                                  2)));
                                  if (__s2_len___2 > 2U) {
                                    if (__result___190 == 0) {
                                      __result___190 = (int )((int const   )(*(__s1___62 +
                                                                               3)) -
                                                              (int const   )(*((unsigned char const   *)(strDotSlash) +
                                                                               3)));
                                    } else {
                                      goto _L___738;
                                    }
                                  } else {
                                    _L___738: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___739;
                                }
                              } else {
                                _L___739: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___740;
                            }
                          } else {
                            _L___740: /* CIL Label */ ;
                          }
                          tmp___255 = __result___190;
                        }
                      } else {
                        goto _L___743;
                      }
                    } else {
                      goto _L___743;
                    }
                  } else {
                    _L___743: /* CIL Label */ 
                    tmp___255 = strcmp((char const   *)pathtemp, strDotSlash);
                  }
                }
              }
              tmp___224 = tmp___255;
            } else {
              goto _L___752;
            }
          } else {
            _L___752: /* CIL Label */ 
            tmp___224 = strncmp((char const   *)pathtemp, strDotSlash, 2U);
          }
        }
        if (tmp___224) {
          break;
        }
        pathtemp += 2;
      }
      my_spf((char *)((void *)0), 0U, & spfbuf, strPercsPercs, prefix___0, pathtemp);
      if (must_dealloc_path) {
        memory_deallocate_ll((void const   *)path);
        must_dealloc_path = (unsigned char)0;
      }
      path = spfbuf;
      must_dealloc_path = (unsigned char)1;
    } else {
      goto _L___754;
    }
  } else {
    _L___754: /* CIL Label */ ;
  }
  if (iph) {
    if ((int )(*path) == 0) {
      if (must_dealloc_path) {
        memory_deallocate_ll((void const   *)path);
        must_dealloc_path = (unsigned char)0;
      }
      path = (char *)(strSlash);
    } else {
      goto _L___755;
    }
  } else {
    _L___755: /* CIL Label */ ;
  }
  if (iph) {
    tmp___288 = finalize_path((char const   *)path);
    finpath = tmp___288;
    if (must_dealloc_path) {
      memory_deallocate_ll((void const   *)path);
      must_dealloc_path = (unsigned char)0;
    }
    path = finpath;
    must_dealloc_path = (unsigned char)1;
  }
  switch ((int )rp) {
  case 5: ;
  if ((int )(*path) == 0) {
    if (must_dealloc_path) {
      memory_deallocate_ll((void const   *)path);
      must_dealloc_path = (unsigned char)0;
    }
    path = (char *)(strRetawq);
  }
  break;
  case 8: ;
  if ((unsigned int )hostname == (unsigned int )((void *)0)) {
    n = config.news_server;
    if ((unsigned int )n != (unsigned int )((void *)0)) {
      hostname = my_strdup(n);
    }
  }
  break;
  }
  if (ua) {
    __x___1 = portnumber;
    tmp___289 = __builtin_constant_p(__x___1);
    if (tmp___289) {
      __v___1 = (unsigned short )((((int )__x___1 >> 8) & 255) | (((int )__x___1 &
                                                                   255) << 8));
    } else {
      __asm__  ("rorw $8, %w0": "=r" (__v___1): "0" (__x___1): "cc");
    }
    sprintf((char * __restrict  )(strbuf___0), (char const   * __restrict  )(strPercd),
            __v___1);
  }
  if ((int )special_flags & 2) {
    if ((unsigned int )fragment != (unsigned int )((void *)0)) {
      appfrag = (unsigned char)1;
    } else {
      goto _L___756;
    }
  } else {
    _L___756: /* CIL Label */ 
    appfrag = (unsigned char)0;
  }
  if (appfrag) {
    tmp___290 = (char const   *)fragment;
  } else {
    tmp___290 = strEmpty;
  }
  if (appfrag) {
    tmp___291 = strHm;
  } else {
    tmp___291 = strEmpty;
  }
  if ((unsigned int )complete_query != (unsigned int )((void *)0)) {
    tmp___292 = (char const   *)complete_query;
  } else {
    tmp___292 = strEmpty;
  }
  if ((unsigned int )complete_query != (unsigned int )((void *)0)) {
    tmp___293 = strQm;
  } else {
    tmp___293 = strEmpty;
  }
  if (ua) {
    if ((int )(*path) != 47) {
      tmp___294 = strSlash;
    } else {
      goto _L___757;
    }
  } else {
    _L___757: /* CIL Label */ 
    tmp___294 = strEmpty;
  }
  if (ua) {
    tmp___295 = (char const   *)(strbuf___0);
  } else {
    tmp___295 = strEmpty;
  }
  if (ua) {
    tmp___296 = ":";
  } else {
    tmp___296 = strEmpty;
  }
  if (ua) {
    if ((unsigned int )hostname != (unsigned int )((void *)0)) {
      tmp___297 = (char const   *)hostname;
    } else {
      goto _L___758;
    }
  } else {
    _L___758: /* CIL Label */ 
    tmp___297 = strEmpty;
  }
  if (ua) {
    tmp___298 = strSlashSlash;
  } else {
    tmp___298 = strEmpty;
  }
  if ((unsigned int )scheme != (unsigned int )((void *)0)) {
    if (! ((int )wouldbe_rp > 1)) {
      tmp___299 = (char const   *)scheme;
    } else {
      goto _L___759;
    }
  } else {
    _L___759: /* CIL Label */ 
    tmp___299 = rp_data[wouldbe_rp].scheme;
  }
  my_spf((char *)((void *)0), 0U, & spfbuf_uri, "%s:%s%s%s%s%s%s%s%s%s%s", tmp___299,
         tmp___298, tmp___297, tmp___296, tmp___295, tmp___294, path, tmp___293, tmp___292,
         tmp___291, tmp___290);
  retval->rp = rp;
  retval->uri = spfbuf_uri;
  retval->hostname = hostname;
  if (must_dealloc_path) {
    retval->path = path;
    must_dealloc_path = (unsigned char)0;
  } else {
    retval->path = my_strdup((char const   *)path);
  }
  if ((unsigned int )complete_query != (unsigned int )((void *)0)) {
    if (must_dealloc_complete_query) {
      retval->query = complete_query;
      must_dealloc_complete_query = (unsigned char)0;
    } else {
      retval->query = my_strdup((char const   *)complete_query);
    }
  }
  if ((unsigned int )username != (unsigned int )((void *)0)) {
    retval->username = my_strdup(username);
  }
  if ((unsigned int )password != (unsigned int )((void *)0)) {
    retval->password = my_strdup(password);
  }
  if (ua) {
    retval->portnumber = portnumber;
  }
  if ((unsigned int )_fragment != (unsigned int )((void *)0)) {
    if (fragment) {
      (*_fragment) = my_strdup((char const   *)fragment);
    } else {
      (*_fragment) = (char const   *)((void *)0);
    }
  }
  if ((int )rp == 0) {
    uri_error = (unsigned char)12;
  } else {
    if ((int )rp == 1) {
      uri_error = (unsigned char)24;
    } else {
      if (ua) {
        if ((unsigned int )hostname == (unsigned int )((void *)0)) {
          uri_error = (unsigned char)25;
        } else {
          goto _L___760;
        }
      } else {
        _L___760: /* CIL Label */ 
        goto no_uri_error;
      }
    }
  }
  uri_set_error(retval, uri_error);
  no_uri_error: 
  memory_deallocate_ll((void const   *)uristart);
  while (1) {
    if ((unsigned int )authority != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)authority);
    }
    break;
  }
  if (must_dealloc_path) {
    memory_deallocate_ll((void const   *)path);
  }
  if (must_dealloc_complete_query) {
    memory_deallocate_ll((void const   *)complete_query);
  }
  return (retval);
}
}
static tWindow *windowlisthead  =    (tWindow *)((void *)0);
static tWindow *windowlisttail  =    (tWindow *)((void *)0);
static tWindow *visible_window_x[2]  = {      (tWindow *)((void *)0),      (tWindow *)((void *)0)};
static unsigned char current_window_index_x  =    (tVisibleWindowIndex )0;
static char *sfbuf  ;
static char sfconv[4]  ;
static size_t sfbuf_size  ;
static size_t sfbuf_maxsize  ;
static void document_display(tBrowserDocument *document , tWindowRedrawingTask task ) ;
static void sfbuf_reset(void) 
{ 

  {
  sfbuf = (char *)((void *)0);
  sfbuf_maxsize = 0U;
  sfbuf_size = sfbuf_maxsize;
  return;
}
}
static tWindow *window_create(tWindowSpec const   *spec ) 
{ tWindow *retval ;
  tWindow *tmp ;

  {
  tmp = (tWindow *)memory_allocate_ll(sizeof(tWindow ));
  retval = tmp;
  if ((unsigned int )windowlisthead == (unsigned int )((void *)0)) {
    visible_window_x[0] = retval;
    windowlisthead = visible_window_x[0];
  }
  if ((unsigned int )windowlisttail != (unsigned int )((void *)0)) {
    retval->prev = windowlisttail;
    windowlisttail->next = retval;
  }
  windowlisttail = retval;
  retval->spec = spec;
  ((*((retval->spec)->create)))(retval);
  return (retval);
}
}
static void window_remove(tWindow *window ) 
{ 

  {
  ((*((window->spec)->remove)))(window);
  if ((unsigned int )windowlisthead == (unsigned int )window) {
    windowlisthead = window->next;
  }
  if ((unsigned int )windowlisttail == (unsigned int )window) {
    windowlisttail = window->prev;
  }
  if ((unsigned int )window->prev != (unsigned int )((void *)0)) {
    (window->prev)->next = window->next;
  }
  if ((unsigned int )window->next != (unsigned int )((void *)0)) {
    (window->next)->prev = window->prev;
  }
  memory_deallocate_ll((void const   *)window);
  return;
}
}
__inline static void window_redraw(tWindow *window ) 
{ 

  {
  ((*((window->spec)->redraw)))((tWindow const   *)window);
  return;
}
}
static void window_redraw_all(void) 
{ 

  {
  window_redraw(visible_window_x[0]);
  if ((unsigned int )visible_window_x[1] != (unsigned int )((void *)0)) {
    window_redraw(visible_window_x[1]);
  }
  return;
}
}
static tWindow *wk_browser_create(void) ;
static void wk_browser_prr(tWindow *window , char const   *uri , tPrrFlags prrf ,
                           tBrowserDocument const   *referrer ) ;
static void wk_browser_reload(tWindow *window ) ;
static tWindow *wk_info_create(char const   *title , tBrowserDocumentDisplayMode bddm ,
                               tBrowserDocument **_document ) ;
static void wk_info_collect(tWindow *window , char const   *str ) ;
static void wk_info_finalize(tWindow *window ) ;
static tBoolean handle_command_code(tProgramCommandCode pcc ) ;
static tBoolean window_is_precious(tWindow const   *window ) 
{ tBoolean (*func)(tWindow const   * ) ;
  int tmp___0 ;

  {
  func = (window->spec)->is_precious;
  if ((unsigned int )func != (unsigned int )((void *)0)) {
    tmp___0 = (int )((*func))(window);
  } else {
    tmp___0 = 1;
  }
  return ((unsigned char )tmp___0);
}
}
static void window_hide(tWindow *window , unsigned char removal ) 
{ tWindow *w ;
  tBoolean tmp ;

  {
  if ((unsigned int )window == (unsigned int )visible_window_x[0]) {
    visible_window_x[0] = visible_window_x[1];
    if ((unsigned int )visible_window_x[0] == (unsigned int )((void *)0)) {
      w = window->next;
      if ((unsigned int )w == (unsigned int )((void *)0)) {
        w = windowlisthead;
      }
      if ((unsigned int )w == (unsigned int )((void *)0)) {
        goto _L;
      } else {
        if ((unsigned int )w == (unsigned int )window) {
          _L: /* CIL Label */ 
          w = wk_browser_create();
        }
      }
      visible_window_x[0] = w;
    }
    goto xy;
  } else {
    if ((unsigned int )window == (unsigned int )visible_window_x[1]) {
      xy: 
      if ((int )removal == 2) {
        goto _L___0;
      } else {
        if ((int )removal == 1) {
          tmp = window_is_precious((tWindow const   *)window);
          if (tmp) {
            goto _L___1;
          } else {
            _L___0: /* CIL Label */ 
            window_remove(window);
          }
        } else {
          _L___1: /* CIL Label */ ;
        }
      }
      visible_window_x[1] = (tWindow *)((void *)0);
      current_window_index_x = (unsigned char)0;
      window_redraw_all();
    }
  }
  return;
}
}
static tBoolean window_is_visible(tWindow *window ) 
{ tBoolean retval ;

  {
  if ((unsigned int )window == (unsigned int )((void *)0)) {
    retval = (unsigned char)0;
  } else {
    if ((unsigned int )window == (unsigned int )visible_window_x[0]) {
      goto _L;
    } else {
      if ((unsigned int )window == (unsigned int )visible_window_x[1]) {
        _L: /* CIL Label */ 
        retval = (unsigned char)1;
      } else {
        retval = (unsigned char)0;
      }
    }
  }
  return (retval);
}
}
static tWindow *require_browser_window(void) 
{ tWindow *window ;

  {
  window = visible_window_x[current_window_index_x];
  if (! ((int )(window->spec)->kind == 1)) {
    visible_window_x[current_window_index_x] = wk_browser_create();
    window = visible_window_x[current_window_index_x];
  }
  return (window);
}
}
static void redraw_message_line(void) 
{ tWindow *window ;
  tBoolean is_error ;
  char const   *str ;
  char const   *(*func)(tWindow * , tBoolean * ) ;
  char const   *tmp ;

  {
  window = visible_window_x[current_window_index_x];
  func = (window->spec)->get_info;
  if ((unsigned int )func != (unsigned int )((void *)0)) {
    str = ((*func))(window, & is_error);
  } else {
    str = (char const   *)((void *)0);
    is_error = (unsigned char)0;
  }
  if ((unsigned int )str == (unsigned int )((void *)0)) {
    tmp = strEmpty;
  } else {
    tmp = str;
  }
  show_message(tmp, is_error);
  return;
}
}
static tBoolean window_contents_minmaxrow(tWindow const   *window , short *_minrow ,
                                          short *_maxrow ) 
{ tBoolean retval ;
  short minrow ;
  short maxrow ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  minrow = (short)0;
  if (LINES - 3 > 0) {
    tmp = LINES - 3;
  } else {
    tmp = 0;
  }
  maxrow = (short )tmp;
  if ((unsigned int )window == (unsigned int )visible_window_x[0]) {
    if ((unsigned int )visible_window_x[1] != (unsigned int )((void *)0)) {
      if ((LINES - 2) / 2 > 1) {
        tmp___0 = (LINES - 2) / 2;
      } else {
        tmp___0 = 1;
      }
      maxrow = (short )(tmp___0 - 1);
    }
    it_worked: 
    (*_minrow) = minrow;
    (*_maxrow) = maxrow;
    retval = (unsigned char)1;
  } else {
    if ((unsigned int )window == (unsigned int )visible_window_x[1]) {
      if ((LINES - 2) / 2 > 1) {
        tmp___1 = (LINES - 2) / 2;
      } else {
        tmp___1 = 1;
      }
      minrow = (short )(tmp___1 + 1);
      goto it_worked;
    } else {
      retval = (unsigned char)0;
    }
  }
  return (retval);
}
}
static void show_message(char const   *msg , tBoolean is_error ) 
{ int tmp ;

  {
  if (! ((int )key_handling_mode == 1)) {
    if (is_error) {
      while (1) {
        if (use_colors) {
          wattr_on(stdscr, color_bitmask[2], (void *)0);
        }
        break;
      }
    }
    tmp = wmove(stdscr, LINES - 1, 0);
    if (! (tmp == -1)) {
      waddnstr(stdscr, msg, COLS - 1);
    }
    if (is_error) {
      while (1) {
        if (use_colors) {
          wattr_on(stdscr, color_bitmask[1], (void *)0);
        }
        break;
      }
    }
    wclrtoeol(stdscr);
    must_reset_cursor();
  }
  while (1) {
    break;
  }
  while (1) {
    break;
  }
  while (1) {
    break;
  }
  return;
}
}
static void show_message_osfailure(int errnum , char const   *text ) 
{ char const   *e ;
  char const   *tmp ;
  size_t tmp___0 ;

  {
  if ((unsigned int )text == (unsigned int )((void *)0)) {
    text = "Failed!";
  }
  if (errnum > 0) {
    tmp = strerror(errnum);
    e = tmp;
    tmp___0 = strlen(e);
    if (tmp___0 > 2048U) {
      e = strUnknown;
    }
    sprintf((char * __restrict  )(strbuf___0), (char const   * __restrict  )"%s - error #%d, %s",
            text, errnum, e);
    text = (char const   *)(strbuf___0);
  }
  show_message(text, (unsigned char)1);
  return;
}
}
__inline static void cc_output_str(char const   *str ) 
{ char const   *_x ;
  size_t tmp ;

  {
  while (1) {
    _x = str;
    tmp = strlen(_x);
    my_write(fd_stdout, (void const   *)_x, tmp);
    break;
  }
  return;
}
}
static void inform_about_error(int errnum , char const   *text ) 
{ char buf___2[1000] ;
  char const   *errstr ;
  char const   *tmp ;
  size_t tmp___0 ;

  {
  if ((int )program_mode == 0) {
    show_message_osfailure(errnum, text);
  } else {
    if ((int )program_mode == 3) {
      cc_output_str(text);
      if (errnum > 0) {
        tmp = strerror(errnum);
        errstr = tmp;
        tmp___0 = strlen(errstr);
        if (tmp___0 > 200U) {
          errstr = strUnknown;
        }
        sprintf((char * __restrict  )(buf___2), (char const   * __restrict  )(strErrorTrail),
                errnum, errstr);
        cc_output_str((char const   *)(buf___2));
      }
      cc_output_str(strNewline);
    } else {
      fatal_error(errnum, text);
    }
  }
  return;
}
}
static void fwdact(char const   *str ) 
{ char *spfbuf ;

  {
  if ((int const   )(*str) == 70) {
    str ++;
  }
  my_spf(strbuf___0, 4096U, & spfbuf, strFwdact, str, strEmpty);
  if ((int )(*spfbuf) >= 97) {
    if ((int )(*spfbuf) <= 122) {
      (*spfbuf) = (char )((int )(*spfbuf) - 32);
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    (*spfbuf) = (*spfbuf);
  }
  show_message((char const   *)spfbuf, (unsigned char)1);
  while (1) {
    if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  return;
}
}
__inline static void terminal_too_small(void) 
{ 

  {
  show_message("Terminal too small", (unsigned char)1);
  return;
}
}
static void request_dhm_control(void *_request  __attribute__((__unused__)) , void *data  __attribute__((__unused__)) ,
                                tDhmControlCode dcc  __attribute__((__unused__)) ) 
{ 

  {
  return;
}
}
static tResourceRequest *request_create(void) 
{ tResourceRequest *retval ;
  tResourceRequest *tmp ;

  {
  tmp = (tResourceRequest *)memory_allocate_ll(sizeof(tResourceRequest ));
  retval = tmp;
  while (1) {
    dhm_generic_handler(& retval->dhm_data, (void const   *)retval, (unsigned char)0);
    while (1) {
      break;
    }
    (retval->dhm_data)->control_handler = & request_dhm_control;
    break;
  }
  return (retval);
}
}
static void request_remove(tResourceRequest *request ) 
{ tDhmNotificationFlags _df ;

  {
  while (1) {
    _df = (tDhmNotificationFlags )1;
    dhm_generic_handler(& request->dhm_data, (void const   *)(& _df), (unsigned char)4);
    break;
  }
  if ((unsigned int )request->resource != (unsigned int )((void *)0)) {
    while (1) {
      dhm_generic_handler(& (request->resource)->dhm_data, (void const   *)((void *)0),
                          (unsigned char)2);
      request->resource = (tResource *)((void *)0);
      break;
    }
  }
  if ((unsigned int )request->uri_data != (unsigned int )((void *)0)) {
    while (1) {
      uri_put(request->uri_data);
      request->uri_data = (tUriData *)((void *)0);
      break;
    }
  }
  sinking_data_deallocate(& request->sinking_data);
  memory_deallocate_ll((void const   *)request);
  return;
}
}
static void request_set_error(tResourceRequest *request , tResourceError error ) 
{ 

  {
  if ((int )request->state != 1) {
    request->state = (unsigned char)1;
    request->error = error;
  }
  return;
}
}
static void request_copy_error(tResourceRequest *request , tResource const   *resource ) 
{ 

  {
  if ((int )resource->state == 1) {
    if ((int )request->state != 1) {
      request->state = (unsigned char)1;
      request->error = resource->error;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  return;
}
}
static void request_queue(tResourceRequest *request , tResourceRequestAction action ) 
{ 

  {
  request->action = action;
  request->state = (unsigned char)2;
  resource_request_start(request);
  return;
}
}
__inline static void prr_setup(tPrrData *data , char const   *uri , tPrrFlags prrf ) 
{ void *__s ;
  void *__s___0 ;
  union __anonunion___u_102 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;

  {
  tmp = __builtin_constant_p(sizeof(tPrrData ));
  if (tmp) {
    if (sizeof(tPrrData ) <= 16U) {
      if (sizeof(tPrrData ) == 1U) {
        __s___1 = (void *)data;
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)data;
        __u = (union __anonunion___u_102 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(tPrrData )) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_102 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_102 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_102 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_102 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_102 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_102 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_102 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_102 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_102 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_102 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_102 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_102 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_102 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = (void *)data;
    __builtin_memset(__s, '\000', (int )sizeof(tPrrData ));
  }
  data->uri = uri;
  data->prrf = prrf;
  return;
}
}
static void prr_setdown(tPrrData *data ) 
{ tResourceRequest *request ;

  {
  request = data->result;
  if ((unsigned int )request != (unsigned int )((void *)0)) {
    request_remove(request);
  }
  while (1) {
    if ((unsigned int )data->uri_anchor != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)data->uri_anchor);
    }
    break;
  }
  return;
}
}
static void prepare_resource_request(tPrrData *data ) 
{ tResourceRequest *request ;
  tBrowserDocument const   *_referrer ;
  tResourceRequest const   *referrer ;
  tResourceRequest *tmp ;
  tUriData const   *ref_ud ;
  tUriData *tmp___0 ;
  char const   *sfbuf_final ;
  char const   *extra_query ;
  tPrrFlags prrf ;
  tUriData *uri_data ;
  int tmp___1 ;
  char const   **tmp___2 ;

  {
  data->result = request_create();
  request = data->result;
  _referrer = data->referrer;
  if (_referrer) {
    tmp = _referrer->request;
  } else {
    tmp = (tResourceRequest *)((void *)0);
  }
  referrer = (tResourceRequest const   *)tmp;
  if (referrer) {
    tmp___0 = referrer->uri_data;
  } else {
    tmp___0 = (tUriData *)((void *)0);
  }
  ref_ud = (tUriData const   *)tmp___0;
  prrf = data->prrf;
  if ((unsigned int )sfbuf == (unsigned int )((void *)0)) {
    sfbuf_final = (char const   *)((void *)0);
  } else {
    sfbuf_final = (char const   *)sfbuf;
    if ((int const   )(*sfbuf_final) == 38) {
      sfbuf_final ++;
    }
    if ((int const   )(*sfbuf_final) == 0) {
      sfbuf_final = (char const   *)((void *)0);
    }
  }
  if (! ((int )prrf & 256)) {
    if ((int )prrf & 128) {
      if ((unsigned int )sfbuf_final != (unsigned int )((void *)0)) {
        extra_query = sfbuf_final;
      } else {
        goto _L___0;
      }
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ 
    extra_query = (char const   *)((void *)0);
  }
  if ((int )prrf & 1024) {
    tmp___1 = 4;
  } else {
    tmp___1 = 0;
  }
  if ((int )prrf & 512) {
    tmp___2 = & data->uri_anchor;
  } else {
    tmp___2 = (char const   **)((void *)0);
  }
  uri_data = uri_parse(data->uri, ref_ud, tmp___2, extra_query, (unsigned char )tmp___1);
  while (1) {
    uri_data->refcount = (unsigned char )((int )uri_data->refcount + 1);
    request->uri_data = uri_data;
    break;
  }
  if ((int )uri_data->re != 0) {
    request_set_error(request, uri_data->re);
  }
  if ((int )prrf & 256) {
    request->flags = (unsigned char )((int )request->flags | 2);
    if ((int )prrf & 128) {
      if ((unsigned int )sfbuf_final != (unsigned int )((void *)0)) {
        (request->uri_data)->post = my_strdup(sfbuf_final);
      } else {
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ ;
    }
  }
  if ((unsigned int )sfbuf != (unsigned int )((void *)0)) {
    memory_deallocate_ll((void const   *)sfbuf);
    sfbuf_reset();
  }
  if ((int )prrf & 64) {
    goto _L___2;
  } else {
    if ((unsigned int )_referrer != (unsigned int )((void *)0)) {
      if ((int )_referrer->redirections > 0) {
        _L___2: /* CIL Label */ 
        request->flags = (unsigned char )((int )request->flags | 4);
      } else {
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ ;
    }
  }
  return;
}
}
static char const   *calculate_reqresmsg(tResourceRequest const   *request , tResource const   *resource ,
                                         unsigned char flags , tBoolean *_is_error ) 
{ char const   *retval ;
  tCantent const   *cantent ;
  tResourceState rs ;
  tServerStatusCode ssc ;
  tResourceError re ;
  size_t count___2 ;
  size_t nominal ;
  char const   *temp ;
  tBoolean tmp ;
  tResourceProtocol rp ;
  char const   *ssi ;
  char const   *tmp___0 ;
  char const   *ssi_sep ;
  char const   *tmp___1 ;
  char const   *whose ;
  tResourceRequestState rrs ;

  {
  (*_is_error) = (unsigned char)0;
  if ((unsigned int )resource != (unsigned int )((void *)0)) {
    cantent = (tCantent const   *)resource->cantent;
    rs = resource->state;
    ssc = resource->server_status_code;
    if ((int )rs == 1) {
      re = resource->error;
      retval = (char const   *)strResourceError[re];
      (*_is_error) = (unsigned char)1;
    } else {
      if ((int )rs == 4) {
        count___2 = resource->bytecount;
        if (count___2 < 2U) {
          retval = "Waiting for reply";
        } else {
          nominal = resource->nominal_contentlength;
          if (nominal != 4294967295U) {
            if (count___2 < nominal) {
              sprintf((char * __restrict  )(strbuf3), (char const   * __restrict  )"of %d ",
                      nominal);
              temp = (char const   *)(strbuf3);
            } else {
              goto _L;
            }
          } else {
            _L: /* CIL Label */ 
            temp = strEmpty;
          }
          sprintf((char * __restrict  )(strbuf2), (char const   * __restrict  )"Received %d %sbytes",
                  count___2, temp);
          retval = (char const   *)(strbuf2);
        }
      } else {
        if (! ((int )flags & 1)) {
          if ((int )rs == 5) {
            if ((unsigned int )cantent->content == (unsigned int )((void *)0)) {
              goto _L___1;
            } else {
              if ((cantent->content)->used <= 0U) {
                _L___1: /* CIL Label */ 
                retval = "Document empty";
              } else {
                goto _L___2;
              }
            }
          } else {
            goto _L___2;
          }
        } else {
          _L___2: /* CIL Label */ 
          tmp = resource_ui_conn_ip(resource, strbuf2, 2048U);
          if (tmp) {
            sprintf((char * __restrict  )(strbuf3), (char const   * __restrict  )"Connecting to %s",
                    strbuf2);
            retval = (char const   *)(strbuf3);
          } else {
            retval = (char const   *)strResourceState[rs];
          }
        }
      }
    }
    if ((int )ssc != 0) {
      rp = resource->protocol;
      tmp___0 = ssc2info(rp, ssc);
      ssi = tmp___0;
      if ((unsigned int )ssi == (unsigned int )(strEmpty)) {
        tmp___1 = strEmpty;
      } else {
        tmp___1 = strSpacedDash;
      }
      ssi_sep = tmp___1;
      whose = "server status: ";
      sprintf((char * __restrict  )(strbuf___0), (char const   * __restrict  )"%s (%s%d%s%s)",
              retval, whose, ssc, ssi_sep, ssi);
      retval = (char const   *)(strbuf___0);
    }
  } else {
    if ((unsigned int )request != (unsigned int )((void *)0)) {
      rrs = request->state;
      switch ((int )rrs) {
      case 1: 
      retval = (char const   *)strResourceError[request->error];
      (*_is_error) = (unsigned char)1;
      break;
      case 0: 
      retval = strEmpty;
      break;
      default: 
      retval = (char const   *)strResourceRequestState[rrs];
      break;
      }
    } else {
      retval = strEmpty;
    }
  }
  return (retval);
}
}
__inline static tBoolean document_find_coords(tBrowserDocument const   *document ,
                                              short *_x1 , short *_y1 , short *_x2 ,
                                              short *_y2 ) 
{ tBoolean tmp ;

  {
  tmp = ((*((document->ops)->find_coords)))(document, _x1, _y1, _x2, _y2);
  return (tmp);
}
}
static tBoolean document_section_height(tBrowserDocument const   *document , tLinenumber *_height ) 
{ short x1 ;
  short y1 ;
  short x2 ;
  short y2 ;
  tBoolean retval ;
  tBoolean tmp ;

  {
  tmp = document_find_coords(document, & x1, & y1, & x2, & y2);
  retval = tmp;
  if (retval) {
    (*_height) = ((int )y2 - (int )y1) + 1;
  }
  return (retval);
}
}
static tBoolean document_minmaxrow(tBrowserDocument const   *document , short *_minrow ,
                                   short *_maxrow ) 
{ short x1 ;
  short y1 ;
  short x2 ;
  short y2 ;
  tBoolean retval ;
  tBoolean tmp ;

  {
  tmp = document_find_coords(document, & x1, & y1, & x2, & y2);
  retval = tmp;
  if (retval) {
    (*_minrow) = y1;
    (*_maxrow) = y2;
  }
  return (retval);
}
}
static tBoolean document_line2row(tBrowserDocument const   *document , tLinenumber y ,
                                  short *_row ) 
{ short x1 ;
  short y1 ;
  short x2 ;
  short y2 ;
  tBoolean retval ;
  tBoolean tmp ;

  {
  tmp = document_find_coords(document, & x1, & y1, & x2, & y2);
  retval = tmp;
  if (retval) {
    (*_row) = (short )((int )y1 + (int )((short )(y - document->origin_y)));
  }
  return (retval);
}
}
static void deallocate_aec(tActiveElementCoordinates **_aec ) 
{ tActiveElementCoordinates const   *aec ;
  tActiveElementCoordinates const   *aec_next ;

  {
  aec = (tActiveElementCoordinates const   *)(*_aec);
  if ((unsigned int )aec == (unsigned int )((void *)0)) {
    return;
  }
  while ((unsigned int )aec != (unsigned int )((void *)0)) {
    aec_next = (tActiveElementCoordinates const   *)aec->next;
    memory_deallocate_ll((void const   *)aec);
    aec = aec_next;
  }
  (*_aec) = (tActiveElementCoordinates *)((void *)0);
  return;
}
}
static void __init_ae(tActiveElementBase const   *aeb , tActiveElement *ae , tBoolean is_first_init ) 
{ tActiveElementKind aek ;
  char const   *text ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_103 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;
  tHtmlInputLength count___2 ;
  char *t ;
  tHtmlOption const   *o ;
  tHtmlInputLength c ;

  {
  aek = aeb->kind;
  if (is_first_init) {
    tmp = __builtin_constant_p(sizeof(tActiveElement ));
    if (tmp) {
      if (sizeof(tActiveElement ) <= 16U) {
        if (sizeof(tActiveElement ) == 1U) {
          __s___1 = (void *)ae;
          (*((__uint8_t *)__s___1)) = (unsigned char)0;
        } else {
          __s___0 = (void *)ae;
          __u = (union __anonunion___u_103 *)__s___0;
          __c = (unsigned char)0;
          switch ((int )sizeof(tActiveElement )) {
          case 15: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_103 *)((void *)__u + 4);
          case 11: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_103 *)((void *)__u + 4);
          case 7: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_103 *)((void *)__u + 4);
          case 3: 
          __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
          __u = (union __anonunion___u_103 *)((void *)__u + 2);
          __u->__uc = __c;
          break;
          case 14: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_103 *)((void *)__u + 4);
          case 10: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_103 *)((void *)__u + 4);
          case 6: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_103 *)((void *)__u + 4);
          case 2: 
          __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
          break;
          case 13: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_103 *)((void *)__u + 4);
          case 9: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_103 *)((void *)__u + 4);
          case 5: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_103 *)((void *)__u + 4);
          case 1: 
          __u->__uc = __c;
          break;
          case 16: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_103 *)((void *)__u + 4);
          case 12: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_103 *)((void *)__u + 4);
          case 8: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_103 *)((void *)__u + 4);
          case 4: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          case 0: ;
          break;
          }
        }
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      __s = (void *)ae;
      __builtin_memset(__s, '\000', (int )sizeof(tActiveElement ));
    }
  } else {
    while (1) {
      if ((unsigned int )ae->current_text != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)ae->current_text);
        ae->current_text = (char *)((void *)0);
      }
      break;
    }
  }
  ae->flags = (unsigned char )((int )aeb->flags & 1);
  if ((int )aek == 2) {
    goto _L___1;
  } else {
    if ((int )aek == 3) {
      _L___1: /* CIL Label */ 
      goto _L___0;
    } else {
      if ((int )aek == 8) {
        _L___0: /* CIL Label */ 
        text = aeb->render;
        if ((unsigned int )text != (unsigned int )((void *)0)) {
          ae->current_text = my_strdup(text);
        }
      } else {
        if ((int )aek == 10) {
          count___2 = aeb->maxlength;
          if (count___2 > 0U) {
            ae->current_text = (char *)memory_allocate_ll((count___2 + 7U) / 8U);
            t = ae->current_text;
            o = (tHtmlOption const   *)aeb->render;
            c = (tHtmlInputLength )0;
            while ((unsigned int )o != (unsigned int )((void *)0)) {
              if ((int )o->flags & 1) {
                (*((unsigned char *)(t + c / 8U))) = (unsigned char )((int )(*((unsigned char *)(t +
                                                                                                 c /
                                                                                                 8U))) |
                                                                      (1 << c % 8U));
              }
              o = (tHtmlOption const   *)o->next;
              c ++;
            }
          }
        }
      }
    }
  }
  return;
}
}
static tActiveElementCoordinates const   *find_visible_aec(tBrowserDocument const   *document ,
                                                           tActiveElementNumber _ae ) 
{ tActiveElementCoordinates const   *retval ;
  tActiveElementCoordinates const   *aec ;
  tLinenumber yvis1 ;
  tLinenumber yvis2 ;
  short minrow ;
  short maxrow ;
  tBoolean tmp ;
  tLinenumber y ;

  {
  retval = (tActiveElementCoordinates const   *)((void *)0);
  aec = (tActiveElementCoordinates const   *)(document->active_element + _ae)->aec;
  if ((unsigned int )aec == (unsigned int )((void *)0)) {
    goto out;
  }
  tmp = document_minmaxrow(document, & minrow, & maxrow);
  if (! tmp) {
    goto out;
  }
  yvis1 = document->origin_y;
  yvis2 = yvis1 + ((int )maxrow - (int )minrow);
  while ((unsigned int )aec != (unsigned int )((void *)0)) {
    y = aec->y;
    if (y >= yvis1) {
      if (y <= yvis2) {
        retval = aec;
        break;
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ ;
    }
    aec = (tActiveElementCoordinates const   *)aec->next;
  }
  out: 
  return (retval);
}
}
__inline static tBoolean is_ae_visible(tBrowserDocument const   *document , tActiveElementNumber _ae ) 
{ int tmp___0 ;
  tActiveElementCoordinates const   *tmp___1 ;

  {
  tmp___1 = find_visible_aec(document, _ae);
  if ((unsigned int )tmp___1 != (unsigned int )((void *)0)) {
    tmp___0 = 1;
  } else {
    tmp___0 = 0;
  }
  return ((unsigned char )tmp___0);
}
}
static tActiveElementNumber next_visible_ae(tBrowserDocument const   *document , tActiveElementNumber _ae ) 
{ tActiveElementNumber retval ;
  tActiveElementNumber l ;
  tBoolean tmp ;

  {
  retval = -1;
  l = document->aenum;
  while (1) {
    _ae ++;
    if (! (_ae < l)) {
      break;
    }
    tmp = is_ae_visible(document, _ae);
    if (tmp) {
      retval = _ae;
      break;
    }
  }
  return (retval);
}
}
static tActiveElementNumber previous_visible_ae(tBrowserDocument const   *document ,
                                                tActiveElementNumber _ae ) 
{ tActiveElementNumber retval ;
  tBoolean tmp ;

  {
  retval = -1;
  while (1) {
    _ae --;
    if (! (_ae >= 0)) {
      break;
    }
    tmp = is_ae_visible(document, _ae);
    if (tmp) {
      retval = _ae;
      break;
    }
  }
  return (retval);
}
}
static void do_activate_element(tBrowserDocument *document , tActiveElementNumber _ae ,
                                tBoolean active ) 
{ tActiveElementCoordinates const   *aec ;
  attr_t attribute ;
  short minrow ;
  short maxrow ;
  short row ;
  tLinenumber y1 ;
  tLinenumber y2 ;
  tBoolean tmp ;
  tLinenumber y ;
  short x1 ;
  short x2 ;
  short count___2 ;
  tBoolean tmp___0 ;
  chtype tmp___1 ;
  short tmp___2 ;

  {
  aec = (tActiveElementCoordinates const   *)(document->active_element + _ae)->aec;
  if ((unsigned int )aec == (unsigned int )((void *)0)) {
    goto finish;
  }
  tmp = document_section_height((tBrowserDocument const   *)document, & y2);
  if (! tmp) {
    goto finish;
  }
  y1 = document->origin_y;
  y2 += y1 - 1;
  if (active) {
    attribute = 262144UL;
  } else {
    attribute = 131072UL;
  }
  document_minmaxrow((tBrowserDocument const   *)document, & minrow, & maxrow);
  while ((unsigned int )aec != (unsigned int )((void *)0)) {
    y = aec->y;
    if (y < y1) {
      goto do_next;
    } else {
      if (y > y2) {
        break;
      }
    }
    tmp___0 = document_line2row((tBrowserDocument const   *)document, y, & row);
    if (! tmp___0) {
      break;
    }
    x1 = aec->x1;
    x2 = aec->x2;
    count___2 = (short )(((int )x2 - (int )x1) + 1);
    wmove(stdscr, (int )row, (int )x1);
    while (1) {
      tmp___2 = count___2;
      count___2 = (short )((int )count___2 - 1);
      if (! (tmp___2 > 0)) {
        break;
      }
      tmp___1 = winch(stdscr);
      waddch(stdscr, (tmp___1 & 4294574079UL) | attribute);
    }
    do_next: 
    aec = (tActiveElementCoordinates const   *)aec->next;
  }
  finish: 
  if (active) {
    document->former_ae = _ae;
    document->aecur = document->former_ae;
  } else {
    document->aecur = -1;
  }
  return;
}
}
static void activate_element(tBrowserDocument *document , tActiveElementNumber _ae ) 
{ tActiveElementNumber old ;

  {
  old = document->aecur;
  if (old != -1) {
    do_activate_element(document, old, (unsigned char)0);
  }
  do_activate_element(document, _ae, (unsigned char)1);
  must_reset_cursor();
  return;
}
}
__inline static void document_init(tBrowserDocument *document , tBrowserDocumentOps const   *ops ,
                                   void *container , tResourceRequest *request ) 
{ 

  {
  document->ops = ops;
  document->container = container;
  document->request = request;
  document->former_ae = -1;
  document->aecur = document->former_ae;
  return;
}
}
static void document_tear(tBrowserDocument const   *document ) 
{ tResourceRequest *request ;
  tCantent *cantent ;
  tActiveElement *aes ;
  tActiveElementNumber _ae ;

  {
  request = document->request;
  cantent = document->cantent;
  if ((unsigned int )request != (unsigned int )((void *)0)) {
    request_remove(request);
  }
  if ((unsigned int )cantent != (unsigned int )((void *)0)) {
    cantent_put(cantent);
  }
  while (1) {
    if ((unsigned int )document->title != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)document->title);
    }
    break;
  }
  while (1) {
    if ((unsigned int )document->minor_html_title != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)document->minor_html_title);
    }
    break;
  }
  while (1) {
    if ((unsigned int )document->last_info != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)document->last_info);
    }
    break;
  }
  while (1) {
    if ((unsigned int )document->anchor != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)document->anchor);
    }
    break;
  }
  if (document->aenum > 0) {
    aes = document->active_element;
    _ae = 0;
    while (_ae < document->aenum) {
      while (1) {
        if ((unsigned int )(aes + _ae)->current_text != (unsigned int )((void *)0)) {
          memory_deallocate_ll((void const   *)(aes + _ae)->current_text);
        }
        break;
      }
      deallocate_aec(& (aes + _ae)->aec);
      _ae ++;
    }
    memory_deallocate_ll((void const   *)aes);
  }
  return;
}
}
static void __sfbuf_add(char ch ) 
{ size_t tmp ;

  {
  if (sfbuf_maxsize <= sfbuf_size) {
    sfbuf_maxsize += 100U;
    sfbuf = (char *)memory_reallocate_ll((void *)sfbuf, sfbuf_maxsize);
  }
  tmp = sfbuf_size;
  sfbuf_size ++;
  (*(sfbuf + tmp)) = ch;
  return;
}
}
__inline static void __sfbuf_add_str(char const   *str ) 
{ char ch ;
  char const   *tmp ;

  {
  while (1) {
    tmp = str;
    str ++;
    ch = (char )(*tmp);
    if (! ((int )ch != 0)) {
      break;
    }
    __sfbuf_add(ch);
  }
  return;
}
}
static void sfbuf_add_str(char const   *str ) 
{ char ch ;
  char const   *tmp ;

  {
  while (1) {
    tmp = str;
    str ++;
    ch = (char )(*tmp);
    if (! ((int )ch != 0)) {
      break;
    }
    if ((int )ch >= 97) {
      if ((int )ch <= 122) {
        goto _L___1;
      } else {
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ 
      if ((int )ch >= 65) {
        if ((int )ch <= 90) {
          _L___1: /* CIL Label */ 
          goto _L;
        } else {
          goto _L___2;
        }
      } else {
        _L___2: /* CIL Label */ 
        if ((int )ch >= 48) {
          if ((int )ch <= 57) {
            _L: /* CIL Label */ 
            __sfbuf_add(ch);
          } else {
            goto _L___0;
          }
        } else {
          _L___0: /* CIL Label */ 
          if ((int )ch == 32) {
            __sfbuf_add((char )'+');
          } else {
            if ((int )ch == 10) {
              __sfbuf_add_str("%0d%0a");
            } else {
              if ((int )ch != 13) {
                sfconv[1] = (char )strHexnum[((int )ch >> 4) & 15];
                sfconv[2] = (char )strHexnum[(int )ch & 15];
                __sfbuf_add_str((char const   *)(sfconv));
              }
            }
          }
        }
      }
    }
  }
  return;
}
}
static tHtmlFormNumber calc_hfn(tCantent const   *cantent , tActiveElementNumber _ae ) 
{ tHtmlFormNumber retval ;
  tHtmlFormNumber hfn ;
  tHtmlFormNumber hfnum ;
  tHtmlForm const   *form ;
  tActiveElementNumber a1 ;
  tActiveElementNumber a2 ;

  {
  retval = -1;
  if (_ae == -1) {
    goto _L___0;
  } else {
    if ((unsigned int )cantent == (unsigned int )((void *)0)) {
      _L___0: /* CIL Label */ 
      goto _L;
    } else {
      hfnum = cantent->hfnum;
      if (hfnum <= 0) {
        _L: /* CIL Label */ 
        goto out;
      }
    }
  }
  form = (tHtmlForm const   *)cantent->form;
  hfn = 0;
  while (hfn < hfnum) {
    a1 = (form + hfn)->first_ae;
    a2 = (form + hfn)->last_ae;
    if (a1 != -1) {
      if (a2 != -1) {
        if (_ae >= a1) {
          if (_ae <= a2) {
            retval = hfn;
            goto out;
          } else {
            goto _L___3;
          }
        } else {
          goto _L___3;
        }
      } else {
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ ;
    }
    hfn ++;
  }
  out: 
  return (retval);
}
}
static void cnsniaf(void) 
{ 

  {
  show_message("Can\'t submit - not inside a form?", (unsigned char)1);
  return;
}
}
static void document_form_submit(tBrowserDocument const   *document ) 
{ tCantent const   *cantent ;
  tActiveElementBase const   *aebase___0 ;
  tActiveElementNumber _ae ;
  tActiveElementNumber a1 ;
  tActiveElementNumber a2 ;
  tActiveElement const   *aes ;
  tActiveElementNumber aecur ;
  tHtmlFormNumber hfn ;
  tHtmlFormNumber tmp ;
  tHtmlOption const   *o ;
  tHtmlOptionNumber onum ;
  tPrrFlags prrf ;
  tActiveElementKind kind ;
  char const   *name ;
  char const   *value ;
  char const   *bitfield ;
  tBoolean is_first ;
  tBoolean is_multiple ;
  tWindow *tmp___0 ;

  {
  cantent = (tCantent const   *)document->cantent;
  aecur = document->aecur;
  tmp = calc_hfn(cantent, aecur);
  hfn = tmp;
  if ((unsigned int )cantent == (unsigned int )((void *)0)) {
    goto cant_submit;
  } else {
    if (hfn == -1) {
      cant_submit: 
      cnsniaf();
      return;
    }
  }
  a1 = (cantent->form + hfn)->first_ae;
  a2 = (cantent->form + hfn)->last_ae;
  if (a1 == -1) {
    goto _L___0;
  } else {
    if (a2 == -1) {
      _L___0: /* CIL Label */ 
      goto cant_submit;
    }
  }
  while (1) {
    break;
  }
  sfbuf_reset();
  aebase___0 = (tActiveElementBase const   *)cantent->aebase;
  aes = (tActiveElement const   *)document->active_element;
  _ae = a1;
  while (_ae <= a2) {
    if ((int )(aebase___0 + _ae)->flags & 2) {
      goto __Cont;
    }
    kind = (aebase___0 + _ae)->kind;
    if ((int )kind >= 2) {
      if ((int )kind <= 13) {
        name = (aebase___0 + _ae)->data;
        if ((unsigned int )name == (unsigned int )((void *)0)) {
          _L___2: /* CIL Label */ 
          goto _L___1;
        } else {
          if ((int const   )(*name) == 0) {
            _L___1: /* CIL Label */ 
            goto __Cont;
          }
        }
      } else {
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ 
      goto _L___2;
    }
    switch ((int )kind) {
    case 2: ;
    case 3: ;
    case 9: 
    value = (char const   *)(aes + _ae)->current_text;
    append: 
    if ((unsigned int )value != (unsigned int )((void *)0)) {
      __sfbuf_add((char )'&');
      sfbuf_add_str(name);
      __sfbuf_add((char )'=');
      sfbuf_add_str(value);
    }
    break;
    case 4: ;
    if ((int )(aes + _ae)->flags & 1) {
      value = strOn;
      goto append;
    }
    break;
    case 5: ;
    if ((int )(aes + _ae)->flags & 1) {
      value = (aebase___0 + _ae)->render;
      goto append;
    }
    break;
    case 6: ;
    case 12: ;
    if (_ae == aecur) {
      if ((int )kind == 12) {
        __sfbuf_add((char )'&');
        sfbuf_add_str(name);
        __sfbuf_add_str(".x=0&");
        sfbuf_add_str(name);
        __sfbuf_add_str(".y=0");
        goto __Cont;
      } else {
        if ((int )(aebase___0 + _ae)->flags & 16) {
          value = (aebase___0 + _ae)->render;
        } else {
          value = strOn;
        }
      }
      goto append;
    }
    break;
    case 13: 
    value = (aebase___0 + _ae)->render;
    goto append;
    break;
    case 10: 
    bitfield = (char const   *)(aes + _ae)->current_text;
    o = (tHtmlOption const   *)(aebase___0 + _ae)->render;
    onum = 0U;
    is_first = (unsigned char)1;
    if ((int )(aebase___0 + _ae)->flags & 8) {
      is_multiple = (unsigned char)1;
    } else {
      is_multiple = (unsigned char)0;
    }
    while ((unsigned int )o != (unsigned int )((void *)0)) {
      if ((int )(*((unsigned char *)(bitfield + onum / 8U))) & (1 << onum % 8U)) {
        if (! is_first) {
          __sfbuf_add((char )',');
        } else {
          __sfbuf_add((char )'&');
          sfbuf_add_str(name);
          __sfbuf_add((char )'=');
          is_first = (unsigned char)0;
        }
        sfbuf_add_str((char const   *)o->value);
        if (! is_multiple) {
          break;
        }
      }
      o = (tHtmlOption const   *)o->next;
      onum ++;
    }
    break;
    }
    __Cont: /* CIL Label */ 
    _ae ++;
  }
  __sfbuf_add((char )'\000');
  prrf = (unsigned short)130;
  if ((int )(cantent->form + hfn)->flags & 1) {
    prrf = (unsigned short )((int )prrf | 256);
  }
  tmp___0 = require_browser_window();
  wk_browser_prr(tmp___0, (cantent->form + hfn)->action_uri, prrf, document);
  return;
}
}
static void current_document_form_submit(void) 
{ tBrowserDocument const   *document ;
  tBrowserDocument const   *tmp ;

  {
  tmp = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  document = tmp;
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    document_form_submit(document);
  }
  return;
}
}
static void document_form_reset(tBrowserDocument *document ) 
{ tCantent const   *cantent ;
  tActiveElementBase const   *aebase___0 ;
  tActiveElementNumber _ae ;
  tActiveElementNumber a1 ;
  tActiveElementNumber a2 ;
  tActiveElement *aes ;
  tActiveElementNumber aecur ;
  tHtmlFormNumber hfn ;
  tHtmlFormNumber tmp ;

  {
  cantent = (tCantent const   *)document->cantent;
  aecur = document->aecur;
  tmp = calc_hfn(cantent, aecur);
  hfn = tmp;
  if ((unsigned int )cantent == (unsigned int )((void *)0)) {
    goto cant_reset;
  } else {
    if (hfn == -1) {
      cant_reset: 
      show_message("Can\'t reset - not inside a form?", (unsigned char)1);
      return;
    }
  }
  a1 = (cantent->form + hfn)->first_ae;
  a2 = (cantent->form + hfn)->last_ae;
  if (a1 == -1) {
    goto _L___0;
  } else {
    if (a2 == -1) {
      _L___0: /* CIL Label */ 
      goto cant_reset;
    }
  }
  while (1) {
    break;
  }
  aebase___0 = (tActiveElementBase const   *)cantent->aebase;
  aes = document->active_element;
  _ae = a1;
  while (_ae <= a2) {
    __init_ae(aebase___0 + _ae, aes + _ae, (unsigned char)0);
    _ae ++;
  }
  document_display(document, (unsigned char)0);
  return;
}
}
static void current_document_form_reset(void) 
{ tBrowserDocument *document ;
  tBrowserDocument *tmp ;

  {
  tmp = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  document = tmp;
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    document_form_reset(document);
  }
  return;
}
}
__inline static void renderer_deallocate_rsd(tRendererData *data ) 
{ void const   *_rsd ;
  tRendererHtmlData const   *rsd ;

  {
  _rsd = (void const   *)data->rsd;
  if ((unsigned int )_rsd == (unsigned int )((void *)0)) {
    return;
  }
  if ((int )data->flags & 16) {
    rsd = (tRendererHtmlData const   *)_rsd;
    while (1) {
      if ((unsigned int )rsd->nesting != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)rsd->nesting);
      }
      break;
    }
  }
  memory_deallocate_ll(_rsd);
  data->rsd = (void *)0;
  return;
}
}
__inline static void renderer_deliver_line(tRendererData *data ) 
{ 

  {
  ((*(data->line_callback)))(data);
  return;
}
}
static tAttribute const   *find_attribute(tHtmlNode const   *node , tAttributeName name ) 
{ tAttribute const   *retval ;
  tAttribute const   *a ;

  {
  retval = (tAttribute const   *)((void *)0);
  if ((int )node->kind != 0) {
    a = (tAttribute const   *)node->data;
    while ((unsigned int )a != (unsigned int )((void *)0)) {
      if ((int )a->name == (int )name) {
        retval = a;
        break;
      }
      a = (tAttribute const   *)a->next;
    }
  }
  return (retval);
}
}
static tBoolean plaintext_deliver_line(tRendererData *data , tRendererText *text ,
                                       size_t *_len ) ;
static unsigned char did_init  =    (tBoolean )0;
static tRendererElement element  ;
static tBoolean plaintext_deliver_line(tRendererData *data , tRendererText *text ,
                                       size_t *_len ) 
{ size_t len ;
  size_t line_width ;
  size_t using ;
  size_t si ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_111 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;
  size_t count___2 ;
  int tmp___0 ;

  {
  len = (*_len);
  line_width = data->line_width;
  if (len < line_width) {
    using = len;
  } else {
    si = line_width - 1U;
    while (1) {
      if (si > 0U) {
        if (! ((int )(*(text + si)) != 32)) {
          goto _L;
        }
      } else {
        _L: /* CIL Label */ 
        break;
      }
      si --;
    }
    if (si > 0U) {
      using = si;
    } else {
      using = line_width - 1U;
    }
  }
  switch ((int )data->ra) {
  case 1: ;
  if ((int )data->flags & 8) {
    data->element = (tRendererElement const   *)((void *)0);
  } else {
    if (! did_init) {
      tmp = __builtin_constant_p(sizeof(element));
      if (tmp) {
        if (sizeof(element) <= 16U) {
          if (sizeof(element) == 1U) {
            __s___1 = (void *)(& element);
            (*((__uint8_t *)__s___1)) = (unsigned char)0;
          } else {
            __s___0 = (void *)(& element);
            __u = (union __anonunion___u_111 *)__s___0;
            __c = (unsigned char)0;
            switch ((int )sizeof(element)) {
            case 15: 
            __u->__ui = (unsigned int )((int )__c * 16843009);
            __u = (union __anonunion___u_111 *)((void *)__u + 4);
            case 11: 
            __u->__ui = (unsigned int )((int )__c * 16843009);
            __u = (union __anonunion___u_111 *)((void *)__u + 4);
            case 7: 
            __u->__ui = (unsigned int )((int )__c * 16843009);
            __u = (union __anonunion___u_111 *)((void *)__u + 4);
            case 3: 
            __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
            __u = (union __anonunion___u_111 *)((void *)__u + 2);
            __u->__uc = __c;
            break;
            case 14: 
            __u->__ui = (unsigned int )((int )__c * 16843009);
            __u = (union __anonunion___u_111 *)((void *)__u + 4);
            case 10: 
            __u->__ui = (unsigned int )((int )__c * 16843009);
            __u = (union __anonunion___u_111 *)((void *)__u + 4);
            case 6: 
            __u->__ui = (unsigned int )((int )__c * 16843009);
            __u = (union __anonunion___u_111 *)((void *)__u + 4);
            case 2: 
            __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
            break;
            case 13: 
            __u->__ui = (unsigned int )((int )__c * 16843009);
            __u = (union __anonunion___u_111 *)((void *)__u + 4);
            case 9: 
            __u->__ui = (unsigned int )((int )__c * 16843009);
            __u = (union __anonunion___u_111 *)((void *)__u + 4);
            case 5: 
            __u->__ui = (unsigned int )((int )__c * 16843009);
            __u = (union __anonunion___u_111 *)((void *)__u + 4);
            case 1: 
            __u->__uc = __c;
            break;
            case 16: 
            __u->__ui = (unsigned int )((int )__c * 16843009);
            __u = (union __anonunion___u_111 *)((void *)__u + 4);
            case 12: 
            __u->__ui = (unsigned int )((int )__c * 16843009);
            __u = (union __anonunion___u_111 *)((void *)__u + 4);
            case 8: 
            __u->__ui = (unsigned int )((int )__c * 16843009);
            __u = (union __anonunion___u_111 *)((void *)__u + 4);
            case 4: 
            __u->__ui = (unsigned int )((int )__c * 16843009);
            case 0: ;
            break;
            }
          }
        } else {
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
        __s = (void *)(& element);
        __builtin_memset(__s, '\000', (int )sizeof(element));
      }
      did_init = (unsigned char)1;
    }
    element.text = text;
    element.textcount = using;
    data->element = (tRendererElement const   *)(& element);
  }
  break;
  case 2: 
  data->resulting_line_width = (short )using;
  break;
  }
  renderer_deliver_line(data);
  while (1) {
    if (using < len) {
      if (! ((int )(*(text + using)) == 32)) {
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
      break;
    }
    using ++;
  }
  if (using >= len) {
    len = 0U;
  } else {
    count___2 = 0U;
    while (count___2 < len - using) {
      (*(text + count___2)) = (*(text + (count___2 + using)));
      count___2 ++;
    }
    len -= using;
  }
  (*_len) = len;
  if (! ((int )data->flags & 1)) {
    tmp___0 = 1;
  } else {
    tmp___0 = 0;
  }
  return ((unsigned char )tmp___0);
}
}
__inline static void renderer_plaintext(tRendererData *data ) 
{ tContentblock const   *content ;
  char const   *contentdata ;
  size_t line_width ;
  size_t contentsize ;
  size_t pos ;
  size_t inttextlen ;
  size_t maxinttextlen ;
  tRendererText *inttext ;
  tRendererText *tmp ;
  unsigned char c ;
  char ch ;
  tBoolean tmp___0 ;
  size_t tmp___1 ;
  tBoolean tmp___2 ;
  unsigned char count___2 ;
  size_t tmp___3 ;
  tBoolean tmp___4 ;
  unsigned char tmp___5 ;
  size_t tmp___6 ;
  tBoolean tmp___7 ;

  {
  content = (tContentblock const   *)((data->document)->cantent)->content;
  line_width = data->line_width;
  pos = (size_t )0;
  inttextlen = (size_t )0;
  maxinttextlen = (line_width + 8U) + 4U;
  tmp = (tRendererText *)__memory_allocate_ll(maxinttextlen * sizeof(tRendererText ));
  inttext = tmp;
  content_recalc: 
  contentdata = (char const   *)content->data;
  contentsize = content->used;
  loop: 
  if (pos >= contentsize) {
    content = (tContentblock const   *)content->next;
    pos = 0U;
    if ((unsigned int )content != (unsigned int )((void *)0)) {
      goto content_recalc;
    } else {
      data->flags = (unsigned short )((int )data->flags | 4);
      while (1) {
        if (inttextlen > 0U) {
          tmp___0 = plaintext_deliver_line(data, inttext, & inttextlen);
          if (! tmp___0) {
            goto _L;
          }
        } else {
          _L: /* CIL Label */ 
          break;
        }
      }
      data->flags = (unsigned short )((int )data->flags | 2);
      goto out;
    }
  }
  tmp___1 = pos;
  pos ++;
  ch = (char )(*(contentdata + tmp___1));
  c = (unsigned char )ch;
  if ((int )c < 32) {
    goto _L___0;
  } else {
    if ((int )c == 127) {
      _L___0: /* CIL Label */ 
      if ((int )ch == 10) {
        tmp___2 = plaintext_deliver_line(data, inttext, & inttextlen);
        if (! tmp___2) {
          goto out;
        }
      } else {
        if ((int )ch == 9) {
          count___2 = (unsigned char)8;
          while (1) {
            tmp___5 = count___2;
            count___2 = (unsigned char )((int )count___2 - 1);
            if (! (tmp___5 > 0)) {
              break;
            }
            while (1) {
              tmp___3 = inttextlen;
              inttextlen ++;
              (*(inttext + tmp___3)) = (unsigned char )' ';
              if (inttextlen > line_width) {
                tmp___4 = plaintext_deliver_line(data, inttext, & inttextlen);
                if (! tmp___4) {
                  goto out;
                }
              }
              break;
            }
          }
        } else {
          if ((int )ch != 13) {
            ch = (char )'?';
            goto do_append;
          }
        }
      }
    } else {
      do_append: 
      while (1) {
        tmp___6 = inttextlen;
        inttextlen ++;
        (*(inttext + tmp___6)) = (unsigned char )ch;
        if (inttextlen > line_width) {
          tmp___7 = plaintext_deliver_line(data, inttext, & inttextlen);
          if (! tmp___7) {
            goto out;
          }
        }
        break;
      }
    }
  }
  goto loop;
  out: 
  memory_deallocate_ll((void const   *)inttext);
  return;
}
}
__inline static size_t html_line_width(tRendererData *data ) 
{ tRendererHtmlData const   *rsd ;

  {
  rsd = (tRendererHtmlData const   *)data->rsd;
  return (data->line_width - (rsd->nesting + (rsd->numnest - 1))->li_offset);
}
}
static void html_recalc_currattr(tRendererData *data ) 
{ tRendererHtmlData *rsd ;
  tHtmlNestingFlags hnestf ;
  tRendererAttr attr ;

  {
  if ((int )data->flags & 2048) {
    rsd = (tRendererHtmlData *)data->rsd;
    hnestf = (rsd->nesting + (rsd->numnest - 1))->hnestf;
    attr = (tRendererAttr )0;
    if ((int )hnestf & 1) {
      attr |= 2097152UL;
    }
    if ((int )hnestf & 2) {
      attr |= 131072UL;
    }
    if ((int )hnestf & 4) {
      attr |= 131072UL;
      if ((int )data->flags & 4096) {
        attr |= color_bitmask[5];
      }
    }
    (rsd->nesting + (rsd->numnest - 1))->currattr = attr;
  }
  return;
}
}
__inline static void html_form_off(tRendererHtmlData *rsd ) 
{ 

  {
  rsd->form_level = 0;
  rsd->_hfn = -1;
  return;
}
}
__inline static void __html_finish_ae(tRendererHtmlData *rsd ) 
{ 

  {
  rsd->ae_level = 0;
  rsd->_ae = -1;
  return;
}
}
static void html_finish_ae(tRendererData *data ) 
{ tRendererHtmlData *rsd ;

  {
  rsd = (tRendererHtmlData *)data->rsd;
  __html_finish_ae(rsd);
  (rsd->nesting + (rsd->numnest - 1))->hnestf = (unsigned char )((int )(rsd->nesting +
                                                                        (rsd->numnest -
                                                                         1))->hnestf &
                                                                 -5);
  html_recalc_currattr(data);
  return;
}
}
static void __html_deliver_line(tRendererData *data , tHtmlNodeFlags align ) 
{ tRendererHtmlData *rsd ;
  size_t inttextlen ;
  size_t using ;
  size_t alignoff ;
  size_t line_width ;
  size_t tmp ;
  tRendererText *inttext ;
  tBoolean do_attr ;
  int tmp___0 ;
  tBoolean is_line_empty ;
  tBoolean do_ae ;
  int tmp___1 ;
  tRendererElement element___0 ;
  tRendererElement spacer ;
  tHtmlNestingNumber li_recalc ;
  size_t si ;
  tActiveElementNumber *intaenum ;
  size_t start ;
  size_t count___2 ;
  size_t end ;
  tActiveElementNumber _ae ;
  size_t tmp___2 ;
  tBrowserDocument const   *document ;
  tActiveElement *ae ;
  tActiveElementCoordinates *ex ;
  tActiveElementCoordinates *aec ;
  tActiveElementCoordinates *tmp___3 ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_112 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp___4 ;
  void *__s___2 ;
  void *__s___3 ;
  union __anonunion___u_113 *__u___0 ;
  __uint8_t __c___0 ;
  void *__s___4 ;
  int tmp___5 ;
  size_t depth ;
  size_t offset ;
  size_t full_line_width ;
  tHtmlNestingNumber hnn ;
  size_t count___3 ;

  {
  rsd = (tRendererHtmlData *)data->rsd;
  inttextlen = data->inttextlen;
  tmp = html_line_width(data);
  line_width = tmp;
  inttext = data->inttext;
  if ((int )data->flags & 2048) {
    tmp___0 = 1;
  } else {
    tmp___0 = 0;
  }
  do_attr = (tBoolean )tmp___0;
  if ((int )data->flags & 64) {
    tmp___1 = 1;
  } else {
    tmp___1 = 0;
  }
  do_ae = (tBoolean )tmp___1;
  if (inttextlen < line_width) {
    using = inttextlen;
  } else {
    si = line_width - 1U;
    while (1) {
      if (si > 0U) {
        if (! ((int )(*(inttext + si)) != 32)) {
          goto _L;
        }
      } else {
        _L: /* CIL Label */ 
        break;
      }
      si --;
    }
    if (si > 0U) {
      using = si;
    } else {
      using = line_width - 1U;
    }
  }
  while (1) {
    if (using > 0U) {
      if (! ((int )(*(inttext + (using - 1U))) == 32)) {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      break;
    }
    using --;
  }
  if (! (using > 0U)) {
    is_line_empty = (unsigned char)1;
  } else {
    is_line_empty = (unsigned char)0;
  }
  alignoff = (rsd->nesting + (rsd->numnest - 1))->li_offset;
  if (align) {
    if ((int )align & 32) {
      alignoff = ((line_width - 1U) - using) / 2U;
    } else {
      if ((int )align & 64) {
        alignoff = (line_width - 1U) - using;
      }
    }
  }
  if (do_ae) {
    if (using > 0U) {
      intaenum = data->intaenum;
      end = 0U;
      count___2 = end;
      start = count___2;
      aeloop: 
      _ae = (*(intaenum + count___2));
      while (count___2 < using) {
        if (_ae != (*(intaenum + count___2))) {
          break;
        }
        tmp___2 = count___2;
        count___2 ++;
        end = tmp___2;
      }
      if (_ae != -1) {
        document = (tBrowserDocument const   *)data->document;
        ae = document->active_element + _ae;
        ex = ae->aec;
        tmp___3 = (tActiveElementCoordinates *)memory_allocate_ll(sizeof(tActiveElementCoordinates ));
        aec = tmp___3;
        aec->y = rsd->currline;
        aec->x1 = (short )(start + alignoff);
        aec->x2 = (short )(end + alignoff);
        if ((unsigned int )ex == (unsigned int )((void *)0)) {
          ae->aec = aec;
        } else {
          while ((unsigned int )ex->next != (unsigned int )((void *)0)) {
            ex = ex->next;
          }
          ex->next = aec;
        }
      }
      count___2 = end + 1U;
      if (count___2 < using) {
        start = count___2;
        goto aeloop;
      }
    } else {
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ ;
  }
  switch ((int )data->ra) {
  case 1: ;
  if (using > 0U) {
    if (! ((int )data->flags & 8)) {
      if (alignoff > 0U) {
        tmp___4 = __builtin_constant_p(sizeof(spacer));
        if (tmp___4) {
          if (sizeof(spacer) <= 16U) {
            if (sizeof(spacer) == 1U) {
              __s___1 = (void *)(& spacer);
              (*((__uint8_t *)__s___1)) = (unsigned char)0;
            } else {
              __s___0 = (void *)(& spacer);
              __u = (union __anonunion___u_112 *)__s___0;
              __c = (unsigned char)0;
              switch ((int )sizeof(spacer)) {
              case 15: 
              __u->__ui = (unsigned int )((int )__c * 16843009);
              __u = (union __anonunion___u_112 *)((void *)__u + 4);
              case 11: 
              __u->__ui = (unsigned int )((int )__c * 16843009);
              __u = (union __anonunion___u_112 *)((void *)__u + 4);
              case 7: 
              __u->__ui = (unsigned int )((int )__c * 16843009);
              __u = (union __anonunion___u_112 *)((void *)__u + 4);
              case 3: 
              __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
              __u = (union __anonunion___u_112 *)((void *)__u + 2);
              __u->__uc = __c;
              break;
              case 14: 
              __u->__ui = (unsigned int )((int )__c * 16843009);
              __u = (union __anonunion___u_112 *)((void *)__u + 4);
              case 10: 
              __u->__ui = (unsigned int )((int )__c * 16843009);
              __u = (union __anonunion___u_112 *)((void *)__u + 4);
              case 6: 
              __u->__ui = (unsigned int )((int )__c * 16843009);
              __u = (union __anonunion___u_112 *)((void *)__u + 4);
              case 2: 
              __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
              break;
              case 13: 
              __u->__ui = (unsigned int )((int )__c * 16843009);
              __u = (union __anonunion___u_112 *)((void *)__u + 4);
              case 9: 
              __u->__ui = (unsigned int )((int )__c * 16843009);
              __u = (union __anonunion___u_112 *)((void *)__u + 4);
              case 5: 
              __u->__ui = (unsigned int )((int )__c * 16843009);
              __u = (union __anonunion___u_112 *)((void *)__u + 4);
              case 1: 
              __u->__uc = __c;
              break;
              case 16: 
              __u->__ui = (unsigned int )((int )__c * 16843009);
              __u = (union __anonunion___u_112 *)((void *)__u + 4);
              case 12: 
              __u->__ui = (unsigned int )((int )__c * 16843009);
              __u = (union __anonunion___u_112 *)((void *)__u + 4);
              case 8: 
              __u->__ui = (unsigned int )((int )__c * 16843009);
              __u = (union __anonunion___u_112 *)((void *)__u + 4);
              case 4: 
              __u->__ui = (unsigned int )((int )__c * 16843009);
              case 0: ;
              break;
              }
            }
          } else {
            goto _L___2;
          }
        } else {
          _L___2: /* CIL Label */ 
          __s = (void *)(& spacer);
          __builtin_memset(__s, '\000', (int )sizeof(spacer));
        }
        spacer.textcount = alignoff;
        spacer.is_spacer = (unsigned char)1;
        spacer.next = & element___0;
        data->element = (tRendererElement const   *)(& spacer);
      } else {
        data->element = (tRendererElement const   *)(& element___0);
      }
      tmp___5 = __builtin_constant_p(sizeof(element___0));
      if (tmp___5) {
        if (sizeof(element___0) <= 16U) {
          if (sizeof(element___0) == 1U) {
            __s___4 = (void *)(& element___0);
            (*((__uint8_t *)__s___4)) = (unsigned char)0;
          } else {
            __s___3 = (void *)(& element___0);
            __u___0 = (union __anonunion___u_113 *)__s___3;
            __c___0 = (unsigned char)0;
            switch ((int )sizeof(element___0)) {
            case 15: 
            __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
            __u___0 = (union __anonunion___u_113 *)((void *)__u___0 + 4);
            case 11: 
            __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
            __u___0 = (union __anonunion___u_113 *)((void *)__u___0 + 4);
            case 7: 
            __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
            __u___0 = (union __anonunion___u_113 *)((void *)__u___0 + 4);
            case 3: 
            __u___0->__usi = (unsigned short )((int )((unsigned short )__c___0) *
                                               257);
            __u___0 = (union __anonunion___u_113 *)((void *)__u___0 + 2);
            __u___0->__uc = __c___0;
            break;
            case 14: 
            __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
            __u___0 = (union __anonunion___u_113 *)((void *)__u___0 + 4);
            case 10: 
            __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
            __u___0 = (union __anonunion___u_113 *)((void *)__u___0 + 4);
            case 6: 
            __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
            __u___0 = (union __anonunion___u_113 *)((void *)__u___0 + 4);
            case 2: 
            __u___0->__usi = (unsigned short )((int )((unsigned short )__c___0) *
                                               257);
            break;
            case 13: 
            __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
            __u___0 = (union __anonunion___u_113 *)((void *)__u___0 + 4);
            case 9: 
            __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
            __u___0 = (union __anonunion___u_113 *)((void *)__u___0 + 4);
            case 5: 
            __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
            __u___0 = (union __anonunion___u_113 *)((void *)__u___0 + 4);
            case 1: 
            __u___0->__uc = __c___0;
            break;
            case 16: 
            __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
            __u___0 = (union __anonunion___u_113 *)((void *)__u___0 + 4);
            case 12: 
            __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
            __u___0 = (union __anonunion___u_113 *)((void *)__u___0 + 4);
            case 8: 
            __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
            __u___0 = (union __anonunion___u_113 *)((void *)__u___0 + 4);
            case 4: 
            __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
            case 0: ;
            break;
            }
          }
        } else {
          goto _L___3;
        }
      } else {
        _L___3: /* CIL Label */ 
        __s___2 = (void *)(& element___0);
        __builtin_memset(__s___2, '\000', (int )sizeof(element___0));
      }
      element___0.text = inttext;
      element___0.textcount = using;
      if (do_attr) {
        element___0.attr = data->intattr;
      }
    } else {
      goto _L___4;
    }
  } else {
    _L___4: /* CIL Label */ 
    data->element = (tRendererElement const   *)((void *)0);
  }
  break;
  case 2: 
  data->resulting_line_width = (short )using;
  break;
  }
  if (! ((int )data->flags & 1)) {
    renderer_deliver_line(data);
  }
  rsd->currline ++;
  if (is_line_empty) {
    rsd->flags = (unsigned char )((int )rsd->flags | 1);
  } else {
    rsd->flags = (unsigned char )((int )rsd->flags & -2);
  }
  li_recalc = (rsd->nesting + (rsd->numnest - 1))->li_recalc;
  if (li_recalc > 0) {
    depth = (unsigned int )(rsd->nesting + li_recalc)->listdepth;
    offset = depth * 2U;
    full_line_width = data->line_width;
    hnn = li_recalc;
    if (offset + 10U > full_line_width) {
      offset = full_line_width - 10U;
    }
    while (hnn <= rsd->numnest - 1) {
      (rsd->nesting + hnn)->li_recalc = 0;
      (rsd->nesting + hnn)->li_offset = offset;
      hnn ++;
    }
  }
  while (1) {
    if (using < inttextlen) {
      if (! ((int )(*(inttext + using)) == 32)) {
        goto _L___5;
      }
    } else {
      _L___5: /* CIL Label */ 
      break;
    }
    using ++;
  }
  if (using >= inttextlen) {
    inttextlen = 0U;
  } else {
    count___3 = 0U;
    while (count___3 < inttextlen - using) {
      (*(inttext + count___3)) = (*(inttext + (count___3 + using)));
      if (do_attr) {
        (*(data->intattr + count___3)) = (*(data->intattr + (count___3 + using)));
      }
      if (do_ae) {
        (*(data->intaenum + count___3)) = (*(data->intaenum + (count___3 + using)));
      }
      count___3 ++;
    }
    inttextlen -= using;
  }
  data->inttextlen = inttextlen;
  return;
}
}
__inline static void html_deliver_line(tRendererData *data ) 
{ tRendererHtmlData const   *rsd ;

  {
  rsd = (tRendererHtmlData const   *)data->rsd;
  __html_deliver_line(data, (rsd->nesting + (rsd->numnest - 1))->align);
  return;
}
}
static void html_append_charattr(tRendererData *data , tRendererText ch , tRendererAttr attr ) 
{ tRendererText *inttext ;
  size_t inttextlen ;
  tRendererHtmlData const   *rsd ;
  size_t tmp ;

  {
  inttext = data->inttext;
  inttextlen = data->inttextlen;
  if ((int )ch == 32) {
    if (inttextlen <= 0U) {
      goto _L___0;
    } else {
      if ((int )(*(inttext + (inttextlen - 1U))) == 32) {
        _L___0: /* CIL Label */ 
        rsd = (tRendererHtmlData const   *)data->rsd;
        if (! ((int )(rsd->nesting + (rsd->numnest - 1))->hnestf & 16)) {
          return;
        }
      } else {
        goto _L;
      }
    }
  } else {
    _L: /* CIL Label */ ;
  }
  (*(inttext + inttextlen)) = ch;
  if ((int )data->flags & 2048) {
    (*(data->intattr + inttextlen)) = attr;
  }
  if ((int )data->flags & 64) {
    (*(data->intaenum + inttextlen)) = ((tRendererHtmlData *)data->rsd)->_ae;
  }
  inttextlen ++;
  data->inttextlen = inttextlen;
  tmp = html_line_width(data);
  if (inttextlen > tmp) {
    html_deliver_line(data);
  }
  return;
}
}
__inline static void html_append_char(tRendererData *data , tRendererText ch ) 
{ tRendererHtmlData const   *rsd ;

  {
  rsd = (tRendererHtmlData const   *)data->rsd;
  html_append_charattr(data, ch, (rsd->nesting + (rsd->numnest - 1))->currattr);
  return;
}
}
__inline static void html_append_str(tRendererData *data , char const   *str ) 
{ tRendererText ch ;
  char const   *tmp ;

  {
  while (1) {
    tmp = str;
    str ++;
    ch = (unsigned char )(*tmp);
    if (! ((int )ch != 0)) {
      break;
    }
    html_append_char(data, ch);
  }
  return;
}
}
__inline static void html_append_hline_char(tRendererData *data ) 
{ 

  {
  if (! ((int )data->flags & 2048)) {
    goto _L;
  } else {
    if (acs_map['q'] == 45UL) {
      _L: /* CIL Label */ 
      html_append_charattr(data, (unsigned char )'-', 0UL);
    } else {
      html_append_charattr(data, (unsigned char )acs_map['q'], acs_map['q']);
    }
  }
  return;
}
}
static void html_nest(tRendererData *data , tHtmlTagKind htk , char const   *utn ,
                      tHtmlNodeFlags hnf ) 
{ tRendererHtmlData *rsd ;
  tHtmlNestingNumber num ;
  tHtmlNestingNumber maxnum ;
  tHtmlNesting *nesting ;
  tHtmlNesting *n ;
  tHtmlNodeFlags align ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_114 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp___0 ;
  tBoolean tmp___1 ;

  {
  rsd = (tRendererHtmlData *)data->rsd;
  num = rsd->numnest;
  maxnum = rsd->maxnest;
  nesting = rsd->nesting;
  if (num >= maxnum) {
    maxnum += 20;
    rsd->maxnest = maxnum;
    nesting = (tHtmlNesting *)memory_reallocate_ll((void *)nesting, (unsigned int )maxnum *
                                                                    sizeof(tHtmlNesting ));
    rsd->nesting = nesting;
  }
  n = nesting + num;
  if (num > 0) {
    align = (tHtmlNodeFlags )((int )hnf & 112);
    (*n) = (*(nesting + (num - 1)));
    if (align) {
      n->align = align;
    }
  } else {
    tmp___0 = __builtin_constant_p(sizeof((*(nesting + num))));
    if (tmp___0) {
      if (sizeof((*(nesting + num))) <= 16U) {
        if (sizeof((*(nesting + num))) == 1U) {
          __s___1 = (void *)(nesting + num);
          (*((__uint8_t *)__s___1)) = (unsigned char)0;
        } else {
          __s___0 = (void *)(nesting + num);
          __u = (union __anonunion___u_114 *)__s___0;
          __c = (unsigned char)0;
          switch ((int )sizeof((*(nesting + num)))) {
          case 15: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_114 *)((void *)__u + 4);
          case 11: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_114 *)((void *)__u + 4);
          case 7: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_114 *)((void *)__u + 4);
          case 3: 
          __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
          __u = (union __anonunion___u_114 *)((void *)__u + 2);
          __u->__uc = __c;
          break;
          case 14: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_114 *)((void *)__u + 4);
          case 10: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_114 *)((void *)__u + 4);
          case 6: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_114 *)((void *)__u + 4);
          case 2: 
          __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
          break;
          case 13: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_114 *)((void *)__u + 4);
          case 9: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_114 *)((void *)__u + 4);
          case 5: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_114 *)((void *)__u + 4);
          case 1: 
          __u->__uc = __c;
          break;
          case 16: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_114 *)((void *)__u + 4);
          case 12: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_114 *)((void *)__u + 4);
          case 8: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_114 *)((void *)__u + 4);
          case 4: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          case 0: ;
          break;
          }
        }
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      __s = (void *)(nesting + num);
      __builtin_memset(__s, '\000', (int )sizeof((*(nesting + num))));
    }
  }
  n->htk = htk;
  n->unknown_tagname = utn;
  rsd->numnest ++;
  tmp___1 = htk_forbids_pre(htk);
  if (tmp___1) {
    (rsd->nesting + (rsd->numnest - 1))->hnestf = (unsigned char )((int )(rsd->nesting +
                                                                          (rsd->numnest -
                                                                           1))->hnestf &
                                                                   -17);
    while (1) {
      (rsd->nesting + (rsd->numnest - 1))->hnestf = (unsigned char )((int )(rsd->nesting +
                                                                            (rsd->numnest -
                                                                             1))->hnestf |
                                                                     8);
      html_recalc_currattr(data);
      break;
    }
  }
  return;
}
}
static void html_linebreaks(tRendererData *data , tHtmlTagKind htk ) 
{ tRendererHtmlData const   *rsd ;
  tBoolean tmp ;
  tBoolean tmp___0 ;

  {
  tmp___0 = htk_is_par(htk);
  if (tmp___0) {
    rsd = (tRendererHtmlData const   *)data->rsd;
    if (data->inttextlen > 0U) {
      html_deliver_line(data);
    }
    if (! ((int )rsd->flags & 1)) {
      html_deliver_line(data);
    }
  } else {
    tmp = htk_is_block(htk);
    if (tmp) {
      if (data->inttextlen > 0U) {
        html_deliver_line(data);
      }
    }
  }
  return;
}
}
static void __html_denest(tRendererData *data , tHtmlNestingNumber hnn ) 
{ tRendererHtmlData *rsd ;
  tHtmlTagKind htk ;

  {
  rsd = (tRendererHtmlData *)data->rsd;
  while (rsd->numnest - 1 > hnn) {
    htk = (rsd->nesting + (rsd->numnest - 1))->htk;
    switch ((int )htk) {
    case 50: 
    html_append_char(data, (unsigned char )'\"');
    break;
    case 57: ;
    case 58: 
    html_append_char(data, (unsigned char )')');
    break;
    case 54: ;
    case 51: ;
    case 14: 
    html_append_str(data, "]]");
    break;
    }
    html_linebreaks(data, htk);
    rsd->numnest --;
  }
  if (rsd->ae_level > rsd->numnest - 1) {
    __html_finish_ae(rsd);
  }
  if (rsd->p_level > rsd->numnest - 1) {
    rsd->p_level = 0;
  }
  if (rsd->table_level > rsd->numnest - 1) {
    rsd->table_level = 0;
  }
  return;
}
}
__inline static void html_opening_denest(tRendererData *data , tHtmlTagKind this_htk ) 
{ tRendererHtmlData *rsd ;
  tHtmlNestingNumber p_level ;
  tBoolean tmp ;
  tHtmlNestingNumber hnn ;
  tHtmlTagKind htk ;
  tHtmlNestingNumber hnn___0 ;
  tHtmlTagKind htk___0 ;
  tHtmlNestingNumber hnn___1 ;
  tHtmlTagKind htk___1 ;
  tHtmlNestingNumber hnn___2 ;
  tHtmlTagKind htk___2 ;
  tHtmlNestingNumber hnn___3 ;
  tHtmlTagKind htk___3 ;
  tHtmlNestingNumber hnn___4 ;
  tHtmlTagKind htk___4 ;
  tHtmlNestingNumber hnn___5 ;
  tHtmlTagKind htk___5 ;
  tHtmlNestingNumber hnn___6 ;
  tHtmlTagKind htk___6 ;
  tHtmlNestingNumber hnn___7 ;
  tHtmlTagKind htk___7 ;
  tHtmlNestingNumber hnn___8 ;
  tHtmlTagKind htk___8 ;
  tHtmlNestingNumber hnn___9 ;
  tHtmlTagKind htk___9 ;

  {
  rsd = (tRendererHtmlData *)data->rsd;
  p_level = rsd->p_level;
  if (p_level > 0) {
    tmp = htk_is_block(this_htk);
    if (tmp) {
      __html_denest(data, p_level - 1);
      rsd->p_level = 0;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  switch ((int )this_htk) {
  case 34: ;
  denest_everything: 
  __html_denest(data, 0);
  break;
  case 32: ;
  case 7: ;
  while (1) {
    hnn = rsd->numnest - 1;
    while (hnn > 0) {
      htk = (rsd->nesting + hnn)->htk;
      if ((int )htk == 34) {
        __html_denest(data, hnn - 0);
        return;
      }
      hnn --;
    }
    break;
  }
  goto denest_everything;
  break;
  case 39: ;
  while (1) {
    hnn___0 = rsd->numnest - 1;
    while (hnn___0 > 0) {
      htk___0 = (rsd->nesting + hnn___0)->htk;
      if ((int )htk___0 == 66) {
        goto _L___0;
      } else {
        if ((int )htk___0 == 45) {
          _L___0: /* CIL Label */ 
          __html_denest(data, hnn___0 - 0);
          return;
        }
      }
      hnn___0 --;
    }
    break;
  }
  while (1) {
    hnn___1 = rsd->numnest - 1;
    while (hnn___1 > 0) {
      htk___1 = (rsd->nesting + hnn___1)->htk;
      if ((int )htk___1 == 39) {
        __html_denest(data, hnn___1 - 1);
        return;
      }
      hnn___1 --;
    }
    break;
  }
  break;
  case 60: ;
  case 62: ;
  while (1) {
    hnn___2 = rsd->numnest - 1;
    while (hnn___2 > 0) {
      htk___2 = (rsd->nesting + hnn___2)->htk;
      if ((int )htk___2 == 64) {
        goto _L___1;
      } else {
        if ((int )htk___2 == 59) {
          _L___1: /* CIL Label */ 
          __html_denest(data, hnn___2 - 0);
          return;
        }
      }
      hnn___2 --;
    }
    break;
  }
  while (1) {
    hnn___3 = rsd->numnest - 1;
    while (hnn___3 > 0) {
      htk___3 = (rsd->nesting + hnn___3)->htk;
      if ((int )htk___3 == 60) {
        goto _L___2;
      } else {
        if ((int )htk___3 == 62) {
          _L___2: /* CIL Label */ 
          __html_denest(data, hnn___3 - 1);
          return;
        }
      }
      hnn___3 --;
    }
    break;
  }
  break;
  case 64: ;
  while (1) {
    hnn___4 = rsd->numnest - 1;
    while (hnn___4 > 0) {
      htk___4 = (rsd->nesting + hnn___4)->htk;
      if ((int )htk___4 == 59) {
        __html_denest(data, hnn___4 - 0);
        return;
      }
      hnn___4 --;
    }
    break;
  }
  while (1) {
    hnn___5 = rsd->numnest - 1;
    while (hnn___5 > 0) {
      htk___5 = (rsd->nesting + hnn___5)->htk;
      if ((int )htk___5 == 64) {
        __html_denest(data, hnn___5 - 1);
        return;
      }
      hnn___5 --;
    }
    break;
  }
  break;
  case 47: ;
  while (1) {
    hnn___6 = rsd->numnest - 1;
    while (hnn___6 > 0) {
      htk___6 = (rsd->nesting + hnn___6)->htk;
      if ((int )htk___6 == 53) {
        goto _L___3;
      } else {
        if ((int )htk___6 == 23) {
          _L___3: /* CIL Label */ 
          __html_denest(data, hnn___6 - 0);
          return;
        }
      }
      hnn___6 --;
    }
    break;
  }
  while (1) {
    hnn___7 = rsd->numnest - 1;
    while (hnn___7 > 0) {
      htk___7 = (rsd->nesting + hnn___7)->htk;
      if ((int )htk___7 == 47) {
        __html_denest(data, hnn___7 - 1);
        return;
      }
      hnn___7 --;
    }
    break;
  }
  break;
  case 13: ;
  case 19: ;
  while (1) {
    hnn___8 = rsd->numnest - 1;
    while (hnn___8 > 0) {
      htk___8 = (rsd->nesting + hnn___8)->htk;
      if ((int )htk___8 == 18) {
        __html_denest(data, hnn___8 - 0);
        return;
      }
      hnn___8 --;
    }
    break;
  }
  while (1) {
    hnn___9 = rsd->numnest - 1;
    while (hnn___9 > 0) {
      htk___9 = (rsd->nesting + hnn___9)->htk;
      if ((int )htk___9 == 13) {
        goto _L___4;
      } else {
        if ((int )htk___9 == 19) {
          _L___4: /* CIL Label */ 
          __html_denest(data, hnn___9 - 1);
          return;
        }
      }
      hnn___9 --;
    }
    break;
  }
  break;
  }
  return;
}
}
__inline static void html_nesting_opener(tRendererData *data , tHtmlNode const   *node ) 
{ tRendererHtmlData *rsd ;
  tHtmlTagKind htk ;
  char const   *utn ;
  tAttribute const   *a ;
  tAttribute const   *tmp ;
  tBoolean tmp___0 ;
  tBrowserDocument *document ;
  tActiveElement *aes ;
  tCantent const   *cantent ;
  tActiveElementBase const   *aebase___0 ;
  tActiveElementNumber aenum___0 ;
  tActiveElementNumber aemax___0 ;
  tActiveElementNumber _ae ;
  tActiveElementKind aek ;
  tHtmlFormNumber hfn ;
  int tmp___2 ;
  tHtmlForm *f ;
  tActiveElementNumber last ;

  {
  rsd = (tRendererHtmlData *)data->rsd;
  htk = node->kind;
  tmp___0 = htk_forbids_endtag(htk);
  if (tmp___0) {
    html_linebreaks(data, htk);
  } else {
    utn = (char const   *)((void *)0);
    if ((int )htk == 255) {
      tmp = find_attribute(node, (unsigned char)14);
      a = tmp;
      if ((unsigned int )a != (unsigned int )((void *)0)) {
        utn = (char const   *)a->value;
      }
    }
    html_opening_denest(data, htk);
    html_linebreaks(data, htk);
    html_nest(data, htk, utn, node->flags);
    if ((int )htk == 48) {
      rsd->p_level = rsd->numnest - 1;
    }
  }
  if ((int )data->flags & 64) {
    if ((int )node->flags & 8) {
      document = data->document;
      aes = document->active_element;
      cantent = (tCantent const   *)document->cantent;
      aebase___0 = (tActiveElementBase const   *)cantent->aebase;
      aenum___0 = document->aenum;
      aemax___0 = document->aemax;
      rsd->__ae ++;
      _ae = rsd->__ae;
      aek = (aebase___0 + _ae)->kind;
      if ((int )aek == 13) {
        html_finish_ae(data);
      } else {
        rsd->_ae = _ae;
        rsd->ae_level = rsd->numnest - 1;
        while (1) {
          (rsd->nesting + (rsd->numnest - 1))->hnestf = (unsigned char )((int )(rsd->nesting +
                                                                                (rsd->numnest -
                                                                                 1))->hnestf |
                                                                         4);
          html_recalc_currattr(data);
          break;
        }
      }
      if (_ae >= aenum___0) {
        if (aenum___0 >= aemax___0) {
          if (aemax___0 >= 1000) {
            tmp___2 = 1000;
          } else {
            if (aemax___0 >= 100) {
              tmp___2 = 100;
            } else {
              tmp___2 = 20;
            }
          }
          aemax___0 += tmp___2;
          document->aemax = aemax___0;
          document->active_element = (tActiveElement *)memory_reallocate_ll((void *)aes,
                                                                            (unsigned int )aemax___0 *
                                                                            sizeof(tActiveElement ));
          aes = document->active_element;
        }
        aenum___0 ++;
        document->aenum = aenum___0;
        __init_ae(aebase___0 + _ae, aes + _ae, (unsigned char)1);
        if ((int )aek >= 2) {
          if ((int )aek <= 13) {
            hfn = rsd->_hfn;
            if (hfn != -1) {
              f = cantent->form + hfn;
              last = f->last_ae;
              if (f->first_ae == -1) {
                f->first_ae = _ae;
              }
              if (last == -1) {
                goto _L;
              } else {
                if (last < _ae) {
                  _L: /* CIL Label */ 
                  f->last_ae = _ae;
                }
              }
            } else {
              goto _L___1;
            }
          } else {
            goto _L___1;
          }
        } else {
          _L___1: /* CIL Label */ ;
        }
      }
    } else {
      goto _L___2;
    }
  } else {
    _L___2: /* CIL Label */ ;
  }
  return;
}
}
__inline static void html_nesting_closer(tRendererData *data , tHtmlNode const   *node ) 
{ tRendererHtmlData *rsd ;
  tHtmlTagKind this_htk ;
  tHtmlNestingNumber hnn ;
  tHtmlTagKind htk ;
  tAttribute const   *attr ;
  tAttribute const   *tmp ;
  char const   *utn ;
  char const   *utn2 ;
  tHtmlNesting const   *nesting ;
  tHtmlNestingNumber hnn___0 ;
  tHtmlTagKind htk___0 ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___30 ;
  size_t tmp___31 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___46 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;
  int tmp___58 ;

  {
  rsd = (tRendererHtmlData *)data->rsd;
  this_htk = node->kind;
  if ((int )this_htk != 255) {
    if ((int )this_htk == 23) {
      html_form_off(rsd);
    }
    while (1) {
      hnn = rsd->numnest - 1;
      while (hnn > 0) {
        htk = (rsd->nesting + hnn)->htk;
        if ((int )htk == (int )this_htk) {
          __html_denest(data, hnn - 1);
          return;
        }
        hnn --;
      }
      break;
    }
  } else {
    tmp = find_attribute(node, (unsigned char)14);
    attr = tmp;
    if ((unsigned int )attr != (unsigned int )((void *)0)) {
      utn = (char const   *)attr->value;
      if ((unsigned int )utn != (unsigned int )((void *)0)) {
        nesting = (tHtmlNesting const   *)rsd->nesting;
        while (1) {
          hnn___0 = rsd->numnest - 1;
          while (hnn___0 > 0) {
            htk___0 = (rsd->nesting + hnn___0)->htk;
            if ((int )htk___0 == 255) {
              utn2 = (nesting + hnn___0)->unknown_tagname;
              if ((unsigned int )utn2 != (unsigned int )((void *)0)) {
                tmp___56 = __builtin_constant_p(utn);
                if (tmp___56) {
                  tmp___57 = __builtin_constant_p(utn2);
                  if (tmp___57) {
                    __s1_len = strlen(utn);
                    __s2_len = strlen(utn2);
                    if (! ((unsigned int )((void const   *)(utn + 1)) - (unsigned int )((void const   *)utn) ==
                           1U)) {
                      goto _L___172;
                    } else {
                      if (__s1_len >= 4U) {
                        _L___172: /* CIL Label */ 
                        if (! ((unsigned int )((void const   *)(utn2 + 1)) - (unsigned int )((void const   *)utn2) ==
                               1U)) {
                          goto _L___171;
                        } else {
                          if (__s2_len >= 4U) {
                            _L___171: /* CIL Label */ 
                            tmp___58 = 1;
                          } else {
                            goto _L___170;
                          }
                        }
                      } else {
                        _L___170: /* CIL Label */ 
                        tmp___58 = 0;
                      }
                    }
                    if (tmp___58) {
                      if (__s1_len < __s2_len) {
                        tmp___31 = __s1_len;
                      } else {
                        tmp___31 = __s2_len;
                      }
                      tmp___30 = memcmp((void const   *)utn, (void const   *)utn2,
                                        tmp___31 + 1U);
                    } else {
                      goto _L___174;
                    }
                  } else {
                    goto _L___174;
                  }
                } else {
                  _L___174: /* CIL Label */ 
                  tmp___55 = __builtin_constant_p(utn);
                  if (tmp___55) {
                    if ((unsigned int )((void const   *)(utn + 1)) - (unsigned int )((void const   *)utn) ==
                        1U) {
                      __s1_len = strlen(utn);
                      if (__s1_len < 4U) {
                        tmp___46 = __builtin_constant_p(utn2);
                        if (tmp___46) {
                          if ((unsigned int )((void const   *)(utn2 + 1)) - (unsigned int )((void const   *)utn2) ==
                              1U) {
                            __result___37 = (int )((int const   )(*((unsigned char const   *)utn +
                                                                    0)) - (int const   )(*((unsigned char const   *)utn2 +
                                                                                           0)));
                            if (__s1_len > 0U) {
                              if (__result___37 == 0) {
                                __result___37 = (int )((int const   )(*((unsigned char const   *)utn +
                                                                        1)) - (int const   )(*((unsigned char const   *)utn2 +
                                                                                               1)));
                                if (__s1_len > 1U) {
                                  if (__result___37 == 0) {
                                    __result___37 = (int )((int const   )(*((unsigned char const   *)utn +
                                                                            2)) -
                                                           (int const   )(*((unsigned char const   *)utn2 +
                                                                            2)));
                                    if (__s1_len > 2U) {
                                      if (__result___37 == 0) {
                                        __result___37 = (int )((int const   )(*((unsigned char const   *)utn +
                                                                                3)) -
                                                               (int const   )(*((unsigned char const   *)utn2 +
                                                                                3)));
                                      } else {
                                        goto _L___133;
                                      }
                                    } else {
                                      _L___133: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___134;
                                  }
                                } else {
                                  _L___134: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___135;
                              }
                            } else {
                              _L___135: /* CIL Label */ ;
                            }
                            tmp___30 = __result___37;
                          } else {
                            goto _L___139;
                          }
                        } else {
                          _L___139: /* CIL Label */ 
                          __s2___6 = (unsigned char const   *)utn2;
                          __result___38 = (int )((int const   )(*((unsigned char const   *)utn +
                                                                  0)) - (int const   )(*(__s2___6 +
                                                                                         0)));
                          if (__s1_len > 0U) {
                            if (__result___38 == 0) {
                              __result___38 = (int )((int const   )(*((unsigned char const   *)utn +
                                                                      1)) - (int const   )(*(__s2___6 +
                                                                                             1)));
                              if (__s1_len > 1U) {
                                if (__result___38 == 0) {
                                  __result___38 = (int )((int const   )(*((unsigned char const   *)utn +
                                                                          2)) - (int const   )(*(__s2___6 +
                                                                                                 2)));
                                  if (__s1_len > 2U) {
                                    if (__result___38 == 0) {
                                      __result___38 = (int )((int const   )(*((unsigned char const   *)utn +
                                                                              3)) -
                                                             (int const   )(*(__s2___6 +
                                                                              3)));
                                    } else {
                                      goto _L___136;
                                    }
                                  } else {
                                    _L___136: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___137;
                                }
                              } else {
                                _L___137: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___138;
                            }
                          } else {
                            _L___138: /* CIL Label */ ;
                          }
                          tmp___30 = __result___38;
                        }
                      } else {
                        goto _L___169;
                      }
                    } else {
                      goto _L___169;
                    }
                  } else {
                    _L___169: /* CIL Label */ 
                    tmp___54 = __builtin_constant_p(utn2);
                    if (tmp___54) {
                      if ((unsigned int )((void const   *)(utn2 + 1)) - (unsigned int )((void const   *)utn2) ==
                          1U) {
                        __s2_len = strlen(utn2);
                        if (__s2_len < 4U) {
                          tmp___53 = __builtin_constant_p(utn);
                          if (tmp___53) {
                            if ((unsigned int )((void const   *)(utn + 1)) - (unsigned int )((void const   *)utn) ==
                                1U) {
                              __result___45 = (int )((int const   )(*((unsigned char const   *)utn +
                                                                      0)) - (int const   )(*((unsigned char const   *)utn2 +
                                                                                             0)));
                              if (__s2_len > 0U) {
                                if (__result___45 == 0) {
                                  __result___45 = (int )((int const   )(*((unsigned char const   *)utn +
                                                                          1)) - (int const   )(*((unsigned char const   *)utn2 +
                                                                                                 1)));
                                  if (__s2_len > 1U) {
                                    if (__result___45 == 0) {
                                      __result___45 = (int )((int const   )(*((unsigned char const   *)utn +
                                                                              2)) -
                                                             (int const   )(*((unsigned char const   *)utn2 +
                                                                              2)));
                                      if (__s2_len > 2U) {
                                        if (__result___45 == 0) {
                                          __result___45 = (int )((int const   )(*((unsigned char const   *)utn +
                                                                                  3)) -
                                                                 (int const   )(*((unsigned char const   *)utn2 +
                                                                                  3)));
                                        } else {
                                          goto _L___159;
                                        }
                                      } else {
                                        _L___159: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___160;
                                    }
                                  } else {
                                    _L___160: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___161;
                                }
                              } else {
                                _L___161: /* CIL Label */ ;
                              }
                              tmp___30 = __result___45;
                            } else {
                              goto _L___165;
                            }
                          } else {
                            _L___165: /* CIL Label */ 
                            __s1___14 = (unsigned char const   *)utn;
                            __result___46 = (int )((int const   )(*(__s1___14 + 0)) -
                                                   (int const   )(*((unsigned char const   *)utn2 +
                                                                    0)));
                            if (__s2_len > 0U) {
                              if (__result___46 == 0) {
                                __result___46 = (int )((int const   )(*(__s1___14 +
                                                                        1)) - (int const   )(*((unsigned char const   *)utn2 +
                                                                                               1)));
                                if (__s2_len > 1U) {
                                  if (__result___46 == 0) {
                                    __result___46 = (int )((int const   )(*(__s1___14 +
                                                                            2)) -
                                                           (int const   )(*((unsigned char const   *)utn2 +
                                                                            2)));
                                    if (__s2_len > 2U) {
                                      if (__result___46 == 0) {
                                        __result___46 = (int )((int const   )(*(__s1___14 +
                                                                                3)) -
                                                               (int const   )(*((unsigned char const   *)utn2 +
                                                                                3)));
                                      } else {
                                        goto _L___162;
                                      }
                                    } else {
                                      _L___162: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___163;
                                  }
                                } else {
                                  _L___163: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___164;
                              }
                            } else {
                              _L___164: /* CIL Label */ ;
                            }
                            tmp___30 = __result___46;
                          }
                        } else {
                          goto _L___167;
                        }
                      } else {
                        goto _L___167;
                      }
                    } else {
                      _L___167: /* CIL Label */ 
                      tmp___30 = strcmp(utn, utn2);
                    }
                  }
                }
                if (tmp___30) {
                  goto _L___176;
                } else {
                  __html_denest(data, hnn___0 - 1);
                  return;
                }
              } else {
                goto _L___176;
              }
            } else {
              _L___176: /* CIL Label */ ;
            }
            hnn___0 --;
          }
          break;
        }
      } else {
        goto _L___177;
      }
    } else {
      _L___177: /* CIL Label */ ;
    }
  }
  return;
}
}
__inline static void renderer_html(tRendererData *data ) ;
static char const   listmarkers[5]  = {      (char const   )'*',      (char const   )'+',      (char const   )'#',      (char const   )'o', 
        (char const   )'\000'};
__inline static void renderer_html(tRendererData *data ) 
{ tRendererHtmlData *rsd ;
  tBoolean do_ae ;
  int tmp ;
  size_t maxinttextlen ;
  tHtmlNode const   *node ;
  tHtmlTagKind htk ;
  tHtmlNodeFlags hnf ;
  tBoolean is_endtag___0 ;
  int tmp___0 ;
  char const   *s ;
  char listbuf[3] ;
  tBoolean finish_ae ;
  char ch ;
  unsigned char c ;
  char const   *tmp___1 ;
  tBrowserDocument const   *document ;
  tCantent const   *cantent ;
  tActiveElementBase const   *aeb ;
  tActiveElement const   *ae ;
  tActiveElementFlags aeflags ;
  tActiveElementKind aek ;
  tHtmlInputLength l ;
  tHtmlInputLength len ;
  tHtmlInputLength deslen ;
  char const   *temp ;
  size_t tmp___2 ;
  size_t tmp___3 ;
  tHtmlInputLength tmp___4 ;
  char ch___0 ;
  tHtmlInputLength tmp___5 ;
  tHtmlInputLength tmp___6 ;
  tAttribute const   *a ;
  tAttribute const   *tmp___7 ;
  char const   *bitfield ;
  tHtmlOption const   *o ;
  tHtmlOption const   *o0 ;
  tHtmlOptionNumber num ;
  tAttribute const   *a___0 ;
  tAttribute const   *tmp___8 ;
  tAttribute const   *w ;
  tAttribute const   *tmp___9 ;
  char const   *wv ;
  size_t line_width ;
  size_t tmp___10 ;
  size_t dashcount ;
  int x ;
  size_t x2 ;
  size_t tmp___11 ;
  tAttribute const   *t ;
  tAttribute const   *tmp___12 ;
  char const   *tv ;
  size_t tmp___13 ;
  tAttribute const   *tmp___14 ;
  int tmp___15 ;

  {
  rsd = (tRendererHtmlData *)data->rsd;
  if ((int )data->flags & 64) {
    tmp = 1;
  } else {
    tmp = 0;
  }
  do_ae = (tBoolean )tmp;
  maxinttextlen = data->line_width + 5U;
  data->inttext = (tRendererText *)__memory_allocate_ll(maxinttextlen * sizeof(tRendererText ));
  if ((int )data->flags & 2048) {
    data->intattr = (tRendererAttr *)__memory_allocate_ll(maxinttextlen * sizeof(tRendererAttr ));
  }
  if (do_ae) {
    data->intaenum = (tActiveElementNumber *)__memory_allocate_ll(maxinttextlen *
                                                                  sizeof(tActiveElementNumber ));
  }
  while (1) {
    if (! ((int )data->flags & 1)) {
      if ((int )(rsd->nesting + (rsd->numnest - 1))->hnestf & 16) {
        tmp___15 = 1;
      } else {
        tmp___15 = 0;
      }
      node = parser_html_next((unsigned char )tmp___15);
      if (! ((unsigned int )node != (unsigned int )((void *)0))) {
        goto _L___14;
      }
    } else {
      _L___14: /* CIL Label */ 
      break;
    }
    htk = node->kind;
    hnf = node->flags;
    if ((int )hnf & 1) {
      tmp___0 = 1;
    } else {
      tmp___0 = 0;
    }
    is_endtag___0 = (tBoolean )tmp___0;
    finish_ae = (tBoolean )0;
    if ((int )htk == 0) {
      s = (char const   *)node->data;
      if ((unsigned int )s == (unsigned int )((void *)0)) {
        goto next_tag;
      }
      put_text: 
      while (1) {
        tmp___1 = s;
        s ++;
        ch = (char )(*tmp___1);
        if (! ((int )ch != 0)) {
          break;
        }
        c = (unsigned char )ch;
        if ((int )c < 32) {
          goto _L;
        } else {
          if ((int )c == 127) {
            _L: /* CIL Label */ 
            if ((int )ch == 10) {
              if (! ((int )(rsd->nesting + (rsd->numnest - 1))->hnestf & 16)) {
                ch = (char )' ';
              } else {
                html_deliver_line(data);
                continue;
              }
            } else {
              if ((int )ch == 9) {
                if (! ((int )(rsd->nesting + (rsd->numnest - 1))->hnestf & 16)) {
                  ch = (char )' ';
                } else {
                  html_append_str(data, "        ");
                  continue;
                }
              } else {
                if ((int )ch == 13) {
                  continue;
                } else {
                  ch = (char )'?';
                }
              }
            }
          }
        }
        html_append_char(data, (unsigned char )ch);
      }
      if (finish_ae) {
        html_finish_ae(data);
      }
      goto next_tag;
    }
    if (is_endtag___0) {
      html_nesting_closer(data, node);
      goto next_tag;
    }
    html_nesting_opener(data, node);
    switch ((int )htk) {
    case 8: 
    html_deliver_line(data);
    break;
    case 26: ;
    case 27: ;
    case 28: ;
    case 29: ;
    case 30: ;
    case 31: ;
    case 4: ;
    case 55: ;
    case 5: ;
    while (1) {
      (rsd->nesting + (rsd->numnest - 1))->hnestf = (unsigned char )((int )(rsd->nesting +
                                                                            (rsd->numnest -
                                                                             1))->hnestf |
                                                                     1);
      html_recalc_currattr(data);
      break;
    }
    break;
    case 6: ;
    case 65: ;
    case 35: ;
    case 2: ;
    case 20: ;
    case 15: ;
    case 12: ;
    while (1) {
      (rsd->nesting + (rsd->numnest - 1))->hnestf = (unsigned char )((int )(rsd->nesting +
                                                                            (rsd->numnest -
                                                                             1))->hnestf |
                                                                     2);
      html_recalc_currattr(data);
      break;
    }
    break;
    case 39: 
    listbuf[0] = (char )listmarkers[(int )(rsd->nesting + (rsd->numnest - 1))->listdepth &
                                    3];
    listbuf[1] = (char )' ';
    listbuf[2] = (char )'\000';
    if ((int )(rsd->nesting + (rsd->numnest - 1))->listdepth < 255) {
      (rsd->nesting + (rsd->numnest - 1))->listdepth = (unsigned char )((int )(rsd->nesting +
                                                                               (rsd->numnest -
                                                                                1))->listdepth +
                                                                        1);
      (rsd->nesting + (rsd->numnest - 1))->li_recalc = rsd->numnest - 1;
    }
    s = (char const   *)(listbuf);
    goto put_text;
    break;
    case 13: 
    s = "-> ";
    goto put_text;
    break;
    case 23: ;
    if ((int )hnf & 128) {
      rsd->__hfn ++;
      rsd->_hfn = rsd->__hfn;
      rsd->form_level = rsd->numnest - 1;
    } else {
      html_form_off(rsd);
    }
    break;
    case 38: ;
    case 61: ;
    if (rsd->_ae != -1) {
      document = (tBrowserDocument const   *)data->document;
      cantent = (tCantent const   *)document->cantent;
      aeb = (tActiveElementBase const   *)(cantent->aebase + rsd->_ae);
      ae = (tActiveElement const   *)(document->active_element + rsd->_ae);
      aeflags = ae->flags;
      aek = aeb->kind;
      switch ((int )aek) {
      case 4: ;
      if ((int )aeflags & 1) {
        s = "[X]";
      } else {
        s = "[_]";
      }
      good_ae_text: 
      finish_ae = (unsigned char)1;
      goto put_text;
      break;
      case 5: ;
      if ((int )aeflags & 1) {
        s = "(*)";
      } else {
        s = "(_)";
      }
      goto good_ae_text;
      break;
      case 2: ;
      case 3: ;
      case 8: ;
      if ((int )aek == 8) {
        deslen = 20U;
      } else {
        deslen = aeb->size;
      }
      tmp___3 = html_line_width(data);
      if (deslen + 10U > tmp___3) {
        tmp___2 = html_line_width(data);
        deslen = tmp___2 - 10U;
      }
      temp = (char const   *)ae->current_text;
      if ((unsigned int )temp == (unsigned int )((void *)0)) {
        l = 0U;
        len = l;
      } else {
        len = strlen(temp);
        l = 0U;
        if (len > deslen) {
          len = deslen;
        }
        if ((int )aek == 3) {
          while (l < len) {
            tmp___4 = l;
            l ++;
            strbuf3[tmp___4] = (char )'*';
          }
        } else {
          while (l < len) {
            ch___0 = (char )(*(temp + l));
            if ((int )ch___0 <= 32) {
              goto _L___0;
            } else {
              if ((int )ch___0 == 127) {
                _L___0: /* CIL Label */ 
                ch___0 = (char )'_';
              }
            }
            tmp___5 = l;
            l ++;
            strbuf3[tmp___5] = ch___0;
          }
        }
      }
      while (l < deslen) {
        tmp___6 = l;
        l ++;
        strbuf3[tmp___6] = (char )'_';
      }
      strbuf3[l] = (char )'\000';
      s = (char const   *)(strbuf3);
      goto good_ae_text;
      break;
      case 6: ;
      case 7: ;
      case 11: ;
      case 12: 
      s = aeb->render;
      goto good_ae_text;
      break;
      }
    }
    break;
    case 9: ;
    if (rsd->_ae != -1) {

    }
    break;
    case 3: ;
    if (rsd->_ae != -1) {
      tmp___7 = find_attribute(node, (unsigned char)3);
      a = tmp___7;
      if ((unsigned int )a != (unsigned int )((void *)0)) {
        s = (char const   *)a->value;
        if ((unsigned int )s != (unsigned int )((void *)0)) {
          if (! ((int const   )(*s) != 0)) {
            goto _L___2;
          }
        } else {
          goto _L___2;
        }
      } else {
        _L___2: /* CIL Label */ 
        s = "[an image-map hotspot]";
      }
      goto good_ae_text;
    }
    break;
    case 53: ;
    if (rsd->_ae != -1) {
      bitfield = (char const   *)((data->document)->active_element + rsd->_ae)->current_text;
      if ((unsigned int )bitfield == (unsigned int )((void *)0)) {
        goto empty_selection;
      }
      o0 = (tHtmlOption const   *)(((data->document)->cantent)->aebase + rsd->_ae)->render;
      o = o0;
      num = 0U;
      while ((unsigned int )o != (unsigned int )((void *)0)) {
        if ((int )(*((unsigned char *)(bitfield + num / 8U))) & (1 << num % 8U)) {
          s = (char const   *)o->render;
          if ((unsigned int )s != (unsigned int )((void *)0)) {
            goto good_ae_text;
          }
        }
        o = (tHtmlOption const   *)o->next;
        num ++;
      }
      if ((unsigned int )o0 != (unsigned int )((void *)0)) {
        s = (char const   *)o0->render;
        if ((unsigned int )s != (unsigned int )((void *)0)) {
          goto good_ae_text;
        }
      }
      empty_selection: 
      s = "[empty selection list]";
      goto good_ae_text;
    }
    break;
    case 59: 
    rsd->table_level = rsd->numnest - 1;
    rsd->flags = (unsigned char )((int )rsd->flags | 2);
    break;
    case 64: 
    rsd->flags = (unsigned char )((int )rsd->flags | 2);
    break;
    case 62: ;
    while (1) {
      (rsd->nesting + (rsd->numnest - 1))->hnestf = (unsigned char )((int )(rsd->nesting +
                                                                            (rsd->numnest -
                                                                             1))->hnestf |
                                                                     1);
      html_recalc_currattr(data);
      break;
    }
    case 60: ;
    if ((int )rsd->flags & 2) {
      rsd->flags = (unsigned char )((int )rsd->flags & -3);
    } else {
      s = " | ";
      goto put_text;
    }
    break;
    case 37: 
    tmp___8 = find_attribute(node, (unsigned char)3);
    a___0 = tmp___8;
    if ((unsigned int )a___0 != (unsigned int )((void *)0)) {
      s = (char const   *)a___0->value;
      if ((unsigned int )s != (unsigned int )((void *)0)) {
        if ((int const   )(*s) != 0) {
          goto put_text;
        } else {
          goto _L___4;
        }
      } else {
        goto _L___4;
      }
    } else {
      _L___4: /* CIL Label */ ;
    }
    break;
    case 33: 
    tmp___9 = find_attribute(node, (unsigned char)28);
    w = tmp___9;
    tmp___10 = html_line_width(data);
    line_width = tmp___10;
    dashcount = line_width;
    if ((unsigned int )w != (unsigned int )((void *)0)) {
      wv = (char const   *)w->value;
      if ((unsigned int )wv != (unsigned int )((void *)0)) {
        if ((int const   )(*wv) >= 48) {
          if ((int const   )(*wv) <= 57) {
            my_atoi(wv, & x, & wv, 100);
            if ((int const   )(*wv) == 37) {
              if ((int const   )(*(wv + 1)) == 0) {
                if (x >= 0) {
                  if (x <= 100) {
                    x2 = (unsigned int )x;
                    dashcount = (line_width * x2) / 100U;
                  } else {
                    goto _L___7;
                  }
                } else {
                  goto _L___7;
                }
              } else {
                goto _L___7;
              }
            } else {
              _L___7: /* CIL Label */ ;
            }
          } else {
            goto _L___9;
          }
        } else {
          _L___9: /* CIL Label */ 
          goto _L___10;
        }
      } else {
        goto _L___10;
      }
    } else {
      _L___10: /* CIL Label */ ;
    }
    if (data->inttextlen > 0U) {
      html_deliver_line(data);
    }
    if (dashcount > 1U) {
      while (1) {
        tmp___11 = dashcount;
        dashcount --;
        if (! (tmp___11 > 1U)) {
          break;
        }
        html_append_hline_char(data);
      }
      __html_deliver_line(data, (unsigned char )((int )hnf & 112));
    }
    break;
    case 49: ;
    if (! ((int )(rsd->nesting + (rsd->numnest - 1))->hnestf & 8)) {
      while (1) {
        (rsd->nesting + (rsd->numnest - 1))->hnestf = (unsigned char )((int )(rsd->nesting +
                                                                              (rsd->numnest -
                                                                               1))->hnestf |
                                                                       16);
        html_recalc_currattr(data);
        break;
      }
    }
    break;
    case 57: 
    s = "_(";
    goto put_text;
    break;
    case 58: 
    s = "^(";
    goto put_text;
    break;
    case 54: ;
    case 51: ;
    case 14: 
    s = "[[";
    goto put_text;
    break;
    case 50: ;
    while (1) {
      (rsd->nesting + (rsd->numnest - 1))->hnestf = (unsigned char )((int )(rsd->nesting +
                                                                            (rsd->numnest -
                                                                             1))->hnestf |
                                                                     2);
      html_recalc_currattr(data);
      break;
    }
    s = strDoubleQuote;
    goto put_text;
    break;
    case 24: ;
    case 36: ;
    if (rsd->_ae != -1) {
      s = (((data->document)->cantent)->aebase + rsd->_ae)->render;
      goto good_ae_text;
    }
    break;
    case 44: 
    tmp___14 = find_attribute(node, (unsigned char)7);
    if ((unsigned int )tmp___14 == (unsigned int )((void *)0)) {
      tmp___12 = find_attribute(node, (unsigned char)26);
      t = tmp___12;
      if ((unsigned int )t != (unsigned int )((void *)0)) {
        tv = (char const   *)t->value;
        if ((unsigned int )tv != (unsigned int )((void *)0)) {
          if ((int const   )(*tv) != 0) {
            tmp___13 = strlen(tv);
            if (tmp___13 <= 1024U) {
              sprintf((char * __restrict  )(strbuf3), (char const   * __restrict  )"[an embedded object of type \"%s\"]",
                      tv);
              s = (char const   *)(strbuf3);
            } else {
              goto _L___13;
            }
          } else {
            goto _L___13;
          }
        } else {
          goto _L___13;
        }
      } else {
        _L___13: /* CIL Label */ 
        s = "[an embedded object]";
      }
      goto put_text;
    }
    break;
    }
    next_tag: ;
    if (! ((int )hnf & 4)) {
      deallocate_html_node(node);
    }
  }
  data->flags = (unsigned short )((int )data->flags | 4);
  __html_denest(data, 0);
  while (1) {
    if (data->inttextlen > 0U) {
      if (! (! ((int )data->flags & 1))) {
        goto _L___15;
      }
    } else {
      _L___15: /* CIL Label */ 
      break;
    }
    html_deliver_line(data);
  }
  data->flags = (unsigned short )((int )data->flags | 2);
  memory_deallocate_ll((void const   *)data->inttext);
  while (1) {
    if ((unsigned int )data->intattr != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)data->intattr);
    }
    break;
  }
  while (1) {
    if ((unsigned int )data->intaenum != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)data->intaenum);
    }
    break;
  }
  return;
}
}
__inline static void renderer_start(tRendererData *data ) 
{ tBrowserDocument *document ;
  tCantent *cantent ;
  tActiveElementNumber count___2 ;
  tActiveElementNumber num ;
  tActiveElement *aes ;
  tRendererHtmlData *rsd ;

  {
  document = data->document;
  cantent = document->cantent;
  if ((unsigned int )cantent == (unsigned int )((void *)0)) {
    goto _L;
  } else {
    if ((unsigned int )cantent->content == (unsigned int )((void *)0)) {
      _L: /* CIL Label */ 
      data->flags = (unsigned short )((int )data->flags | 6);
      return;
    }
  }
  if (! ((int )data->flags & 2048)) {
    data->flags = (unsigned short )((int )data->flags & -4097);
  }
  if (! use_colors) {
    data->flags = (unsigned short )((int )data->flags & -4097);
  }
  num = document->aenum;
  if (num > 0) {
    aes = document->active_element;
    if ((unsigned int )aes != (unsigned int )((void *)0)) {
      count___2 = 0;
      while (count___2 < num) {
        deallocate_aec(& (aes + count___2)->aec);
        count___2 ++;
      }
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  if ((int )data->flags & 16) {
    parser_html_start(cantent);
    data->flags = (unsigned short )((int )data->flags | 32);
    rsd = (tRendererHtmlData *)memory_allocate_ll(sizeof(tRendererHtmlData ));
    data->rsd = (void *)rsd;
    rsd->flags = (unsigned char)1;
    rsd->_ae = -1;
    rsd->__ae = -1;
    rsd->_hfn = -1;
    rsd->__hfn = -1;
    html_nest(data, (unsigned char)255, (char const   *)((void *)0), (unsigned char)0);
  }
  return;
}
}
__inline static void renderer_finish(tRendererData *data ) 
{ 

  {
  if ((int )data->flags & 32) {
    parser_html_finish();
  }
  renderer_deallocate_rsd(data);
  return;
}
}
static void renderer_run(tRendererData *data ) 
{ 

  {
  renderer_start(data);
  if (! ((int )data->flags & 3)) {
    if ((int )data->flags & 16) {
      renderer_html(data);
    } else {
      renderer_plaintext(data);
    }
  }
  renderer_finish(data);
  return;
}
}
static void wrc_rd_setup(tRendererData *rd , tBrowserDocument *document , short width ) 
{ tCantent const   *cantent ;
  tBrowserDocumentDisplayMode bddm ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_115 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;

  {
  cantent = (tCantent const   *)document->cantent;
  bddm = document->bddm;
  tmp = __builtin_constant_p(sizeof(tRendererData ));
  if (tmp) {
    if (sizeof(tRendererData ) <= 16U) {
      if (sizeof(tRendererData ) == 1U) {
        __s___1 = (void *)rd;
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)rd;
        __u = (union __anonunion___u_115 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(tRendererData )) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_115 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_115 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_115 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_115 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_115 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_115 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_115 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_115 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_115 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_115 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_115 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_115 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_115 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = (void *)rd;
    __builtin_memset(__s, '\000', (int )sizeof(tRendererData ));
  }
  rd->ra = (unsigned char)1;
  rd->document = document;
  rd->line_width = (unsigned int )width;
  rd->flags = (unsigned short)10304;
  rd->flags = (unsigned short )((int )rd->flags | 4096);
  if (! (config.flags & 32768U)) {
    rd->flags = (unsigned short )((int )rd->flags | 512);
  }
  if ((int )bddm != 0) {
    if ((int )bddm == 2) {
      set_html: 
      rd->flags = (unsigned short )((int )rd->flags | 16);
    }
    goto kind_done;
  }
  if ((unsigned int )cantent != (unsigned int )((void *)0)) {
    if ((int )cantent->kind == 2) {
      goto set_html;
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  kind_done: ;
  return;
}
}
static void __document_display_line(tWindowRedrawingData *wrd , tRendererData *data ) 
{ tRendererElement const   *element___0 ;
  tRendererText const   *text ;
  tRendererAttr const   *attr ;
  size_t count___2 ;
  size_t textcount ;
  size_t tmp ;
  tRendererAttr a ;

  {
  element___0 = data->element;
  wmove(stdscr, (int )wrd->row, (int )wrd->mincol);
  while ((unsigned int )element___0 != (unsigned int )((void *)0)) {
    text = (tRendererText const   *)element___0->text;
    attr = (tRendererAttr const   *)element___0->attr;
    count___2 = (size_t )0;
    textcount = element___0->textcount;
    if (element___0->is_spacer) {
      while (1) {
        tmp = count___2;
        count___2 ++;
        if (! (tmp < textcount)) {
          break;
        }
        waddch(stdscr, (unsigned long )' ');
      }
    } else {
      while (count___2 < textcount) {
        a = (tRendererAttr )0;
        if ((unsigned int )text != (unsigned int )((void *)0)) {
          a |= (unsigned long )(*(text + count___2));
        }
        if ((unsigned int )attr != (unsigned int )((void *)0)) {
          a |= (unsigned long )(*(attr + count___2));
        }
        if (a == 0UL) {
          a = (unsigned long )((unsigned char )' ');
        }
        waddch(stdscr, a);
        count___2 ++;
      }
    }
    element___0 = (tRendererElement const   *)element___0->next;
  }
  wclrtoeol(stdscr);
  wrd->row = (short )((int )wrd->row + 1);
  if ((int )wrd->row > (int )wrd->maxrow) {
    data->flags = (unsigned short )((int )data->flags | 1);
  }
  return;
}
}
static void document_display_line__standard(tRendererData *data ) 
{ tWindowRedrawingData *wrd ;

  {
  wrd = (tWindowRedrawingData *)data->line_callback_data;
  if (wrd->currline < wrd->origin_y) {
    wrd->currline ++;
    if (wrd->currline >= wrd->origin_y) {
      data->flags = (unsigned short )((int )data->flags & -9);
    }
  } else {
    wrd->currline ++;
    __document_display_line(wrd, data);
  }
  return;
}
}
static char const   *search_string  =    (char const   *)((void *)0);
static tBoolean search_in_line(tRendererElement const   *element___0 , size_t searchlen ) 
{ tBoolean retval ;
  char const   *text ;
  size_t textcount ;
  char *tmp ;

  {
  retval = (tBoolean )0;
  while ((unsigned int )element___0 != (unsigned int )((void *)0)) {
    textcount = element___0->textcount;
    if (! element___0->is_spacer) {
      text = (char const   *)element___0->text;
      if ((unsigned int )text != (unsigned int )((void *)0)) {
        textcount = element___0->textcount;
        if (textcount >= searchlen) {
          tmp = my_strncasestr(text, search_string, textcount);
          if (tmp) {
            retval = (unsigned char)1;
            break;
          } else {
            goto _L___1;
          }
        } else {
          goto _L___1;
        }
      } else {
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ ;
    }
    element___0 = (tRendererElement const   *)element___0->next;
  }
  return (retval);
}
}
static void document_display_line__search(tRendererData *data ) 
{ tWindowRedrawingData *wrd ;
  tBoolean tmp ;

  {
  wrd = (tWindowRedrawingData *)data->line_callback_data;
  if (wrd->currline <= wrd->origin_y) {
    wrd->currline ++;
    if (wrd->currline > wrd->origin_y) {
      data->flags = (unsigned short )((int )data->flags & -9);
    }
  } else {
    if ((int )wrd->flags & 1) {
      wrd->currline ++;
      do_redraw: 
      __document_display_line(wrd, data);
    } else {
      wrd->currline ++;
      tmp = search_in_line(data->element, wrd->searchlen);
      if (tmp) {
        if ((unsigned int )data->document != (unsigned int )((void *)0)) {
          (data->document)->origin_y = wrd->currline - 1;
        }
        wrd->flags = (unsigned char )((int )wrd->flags | 1);
        goto do_redraw;
      }
    }
  }
  return;
}
}
static void document_display_line__search_backward(tRendererData *data ) 
{ tWindowRedrawingData *wrd ;
  tBoolean tmp ;

  {
  wrd = (tWindowRedrawingData *)data->line_callback_data;
  wrd->currline ++;
  if (wrd->currline < wrd->origin_y) {
    tmp = search_in_line(data->element, wrd->searchlen);
    if (tmp) {
      wrd->highest_backward_line = wrd->currline - 1;
      wrd->flags = (unsigned char )((int )wrd->flags | 1);
    }
  } else {
    data->flags = (unsigned short )((int )data->flags | 1);
  }
  return;
}
}
static void document_display_line__count(tRendererData *data ) 
{ tWindowRedrawingData *wrd ;

  {
  wrd = (tWindowRedrawingData *)data->line_callback_data;
  wrd->currline ++;
  return;
}
}
static void document_do_display(tBrowserDocument *document , short mincol , short minrow ,
                                short maxcol , short maxrow , tWindowRedrawingTask task ) 
{ tRendererData data ;
  tWindowRedrawingData wrd ;
  tBoolean is_search ;
  int tmp ;
  tActiveElementNumber _ae ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_118 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp___0 ;
  tBoolean did_find ;
  int tmp___1 ;
  short height ;
  tLinenumber num ;
  tBoolean tmp___2 ;
  tActiveElementNumber _ae2 ;
  tActiveElementNumber l ;
  tBoolean tmp___3 ;

  {
  if ((int )task == 2) {
    goto _L;
  } else {
    if ((int )task == 3) {
      _L: /* CIL Label */ 
      tmp = 1;
    } else {
      tmp = 0;
    }
  }
  is_search = (tBoolean )tmp;
  if ((int )task != 1) {
    ((*((document->ops)->display_meta1)))(document);
  }
  wrc_rd_setup(& data, document, (short )(((int )maxcol - (int )mincol) + 1));
  tmp___0 = __builtin_constant_p(sizeof(wrd));
  if (tmp___0) {
    if (sizeof(wrd) <= 16U) {
      if (sizeof(wrd) == 1U) {
        __s___1 = (void *)(& wrd);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(& wrd);
        __u = (union __anonunion___u_118 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(wrd)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_118 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_118 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_118 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_118 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_118 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_118 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_118 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_118 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_118 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_118 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_118 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_118 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_118 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ 
    __s = (void *)(& wrd);
    __builtin_memset(__s, '\000', (int )sizeof(wrd));
  }
  data.line_callback_data = (void *)(& wrd);
  data.line_callback = & document_display_line__standard;
  if (is_search) {
    wrd.searchlen = strlen(search_string);
    if ((int )task == 2) {
      data.line_callback = & document_display_line__search;
    } else {
      if ((int )task == 3) {
        data.line_callback = & document_display_line__search_backward;
      }
    }
  } else {
    if ((int )task == 4) {
      data.line_callback = & document_display_line__count;
    }
  }
  _ae = document->aecur;
  if (_ae != -1) {
    do_activate_element(document, _ae, (unsigned char)0);
  }
  wrd.row = minrow;
  wrd.maxrow = maxrow;
  wrd.mincol = mincol;
  wrd.task = task;
  wrd.origin_y = document->origin_y;
  switch ((int )task) {
  case 2: ;
  case 4: 
  data.flags = (unsigned short )((int )data.flags | 8);
  break;
  case 3: ;
  break;
  default: ;
  if (wrd.origin_y > 0) {
    data.flags = (unsigned short )((int )data.flags | 8);
  }
  break;
  }
  renderer_run(& data);
  if (! ((int )task == 0)) {
    if (is_search) {
      if ((int )wrd.flags & 1) {
        tmp___1 = 1;
      } else {
        tmp___1 = 0;
      }
      did_find = (tBoolean )tmp___1;
      if (did_find) {
        if ((int )task == 3) {
          document->origin_y = wrd.highest_backward_line;
        } else {
          goto _L___1;
        }
      } else {
        _L___1: /* CIL Label */ ;
      }
      document_do_display(document, mincol, minrow, maxcol, maxrow, (unsigned char)1);
      if (did_find) {
        show_message("Found!", (unsigned char)0);
      } else {
        show_message("Not found!", (unsigned char)1);
      }
      goto out;
    } else {
      if ((int )task == 4) {
        height = (short )((int )maxrow - (int )minrow);
        num = wrd.currline;
        if (num > (tLinenumber )height) {
          document->origin_y = num - (tLinenumber )height;
        } else {
          document->origin_y = 0;
        }
        document_do_display(document, mincol, minrow, maxcol, maxrow, (unsigned char)1);
        goto out;
      }
    }
  }
  if ((int )wrd.row > (int )wrd.maxrow) {
    document->flags = (unsigned char )((int )document->flags | 1);
  } else {
    document->flags = (unsigned char )((int )document->flags & -2);
  }
  while ((int )wrd.row <= (int )wrd.maxrow) {
    wmove(stdscr, (int )wrd.row, (int )mincol);
    wclrtoeol(stdscr);
    wrd.row = (short )((int )wrd.row + 1);
  }
  if (_ae == -1) {
    _ae = document->former_ae;
  }
  if (_ae != -1) {
    tmp___2 = is_ae_visible((tBrowserDocument const   *)document, _ae);
    if (! tmp___2) {
      if ((int )document->flags & 4) {
        _ae = previous_visible_ae((tBrowserDocument const   *)document, _ae);
      } else {
        _ae = next_visible_ae((tBrowserDocument const   *)document, _ae);
      }
    }
  } else {
    _ae = next_visible_ae((tBrowserDocument const   *)document, -1);
    if (_ae != -1) {
      if ((int )document->flags & 4) {
        l = document->aenum;
        _ae2 = _ae + 1;
        while (_ae2 < l) {
          tmp___3 = is_ae_visible((tBrowserDocument const   *)document, _ae2);
          if (tmp___3) {
            _ae = _ae2;
          }
          _ae2 ++;
        }
      } else {
        goto _L___2;
      }
    } else {
      _L___2: /* CIL Label */ ;
    }
  }
  if (_ae != -1) {
    activate_element(document, _ae);
  }
  ((*((document->ops)->display_meta2)))(document);
  document->flags = (unsigned char )((int )document->flags & -5);
  out: ;
  return;
}
}
static void document_display(tBrowserDocument *document , tWindowRedrawingTask task ) 
{ short mincol ;
  short minrow ;
  short maxcol ;
  short maxrow ;
  tBoolean tmp ;

  {
  tmp = document_find_coords((tBrowserDocument const   *)document, & mincol, & minrow,
                             & maxcol, & maxrow);
  if (tmp) {
    document_do_display(document, mincol, minrow, maxcol, maxrow, task);
    must_reset_cursor();
  }
  return;
}
}
static void print_automated_uri(char const   *uri ) 
{ char const   *_x ;
  size_t tmp ;
  char const   *_x___0 ;
  size_t tmp___0 ;
  char const   *_x___1 ;
  size_t tmp___1 ;

  {
  if ((int )__lfdmbs & 4) {
    while (1) {
      _x = strUriColonSpace;
      tmp = strlen(_x);
      my_write(fd_stderr, (void const   *)_x, tmp);
      break;
    }
    while (1) {
      _x___0 = uri;
      tmp___0 = strlen(_x___0);
      my_write(fd_stderr, (void const   *)_x___0, tmp___0);
      break;
    }
    while (1) {
      _x___1 = strNewline;
      tmp___1 = strlen(_x___1);
      my_write(fd_stderr, (void const   *)_x___1, tmp___1);
      break;
    }
  }
  return;
}
}
static char const   strCantDownload[23]  = 
  {      (char const   )'c',      (char const   )'a',      (char const   )'n',      (char const   )'\'', 
        (char const   )'t',      (char const   )' ',      (char const   )'d',      (char const   )'o', 
        (char const   )'w',      (char const   )'n',      (char const   )'l',      (char const   )'o', 
        (char const   )'a',      (char const   )'d',      (char const   )' ',      (char const   )'t', 
        (char const   )'o',      (char const   )' ',      (char const   )'f',      (char const   )'i', 
        (char const   )'l',      (char const   )'e',      (char const   )'\000'};
static tBrowserDocument const   *khmli_download_referrer  =    (tBrowserDocument const   *)((void *)0);
static tResourceRequest *pm_request  ;
static tBoolean rwd_cb_reqrem(tRemainingWork const   *rw ) 
{ tResourceRequest *request ;

  {
  request = (tResourceRequest *)rw->data1;
  request_remove(request);
  return ((unsigned char)0);
}
}
static void schedule_request_removal(tResourceRequest *request ) 
{ tRemainingWork *rw ;
  tRemainingWork *tmp ;

  {
  tmp = remaining_work_create(& rwd_cb_reqrem);
  rw = tmp;
  rw->data1 = (void *)request;
  return;
}
}
static void download_request_callback(void *_request , tDhmNotificationFlags flags ) 
{ tResourceRequest *request ;
  tBoolean doing_auto ;
  int tmp ;
  tResource *resource ;
  tResourceError re ;
  char const   *text ;
  tDhmNotificationSetup _dns ;

  {
  request = (tResourceRequest *)_request;
  if ((int )flags & 12) {
    if ((int )program_mode == 1) {
      if ((unsigned int )request == (unsigned int )pm_request) {
        tmp = 1;
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      tmp = 0;
    }
    doing_auto = (tBoolean )tmp;
    resource = request->resource;
    if ((unsigned int )resource != (unsigned int )((void *)0)) {
      re = resource->error;
      if ((int )re != 0) {
        if (doing_auto) {
          handle_re: 
          text = (char const   *)strResourceError[re];
          fatal_error(0, text);
        }
        req_rem: 
        schedule_request_removal(request);
      } else {
        if (resource->flags & 1U) {
          if (doing_auto) {
            do_quit();
          }
          goto req_rem;
        }
      }
    } else {
      re = request->error;
      if ((int )re != 0) {
        if (doing_auto) {
          goto handle_re;
        } else {
          goto req_rem;
        }
      }
    }
  } else {
    if ((int )flags & 16) {
      while (1) {
        _dns.callback = & download_request_callback;
        _dns.callback_data = (void *)request;
        _dns.flags = (tDhmNotificationFlags )12;
        _dns.mode = (tDhmNotimode )0;
        dhm_generic_handler(& (request->resource)->dhm_data, (void const   *)(& _dns),
                            (unsigned char)3);
        break;
      }
    }
  }
  return;
}
}
static void download_queue(tResourceRequest *request , int fd ) 
{ 

  {
  request->flags = (unsigned char )((int )request->flags | 16);
  while (1) {
    break;
  }
  sinking_data_mcleanup();
  sinking_data.download_fd = fd;
  sinking_data.flags = (unsigned char )((int )sinking_data.flags | 1);
  sinking_data_shift(& request->sinking_data);
  request_queue(request, (unsigned char)2);
  return;
}
}
static void content_download_to_fd(char const   *uri , tBrowserDocument const   *referrer ,
                                   int fd ) 
{ tPrrData prr_data ;
  tResourceRequest *request ;
  tDhmNotificationSetup _dns ;

  {
  prr_setup(& prr_data, uri, (unsigned short)0);
  prr_data.referrer = referrer;
  prepare_resource_request(& prr_data);
  request = prr_data.result;
  if ((int )program_mode == 1) {
    pm_request = request;
    print_automated_uri((char const   *)(request->uri_data)->uri);
  }
  if ((int )request->state == 1) {
    inform_about_error(0, (char const   *)strResourceError[request->error]);
    my_close(fd);
    goto out;
  }
  prr_data.result = (tResourceRequest *)((void *)0);
  while (1) {
    _dns.callback = & download_request_callback;
    _dns.callback_data = (void *)request;
    _dns.flags = (tDhmNotificationFlags )28;
    _dns.mode = (tDhmNotimode )0;
    dhm_generic_handler(& request->dhm_data, (void const   *)(& _dns), (unsigned char)3);
    break;
  }
  download_queue(request, fd);
  out: 
  prr_setdown(& prr_data);
  return;
}
}
static void __content_download(char const   *filename , tBoolean may_overwrite ) 
{ char const   *uri ;
  tBrowserDocument const   *referrer ;
  int fd ;
  int cflags ;
  struct stat statbuf ;
  int *tmp ;
  int e ;
  int *tmp___0 ;
  int *tmp___1 ;
  int tmp___2 ;
  int *tmp___3 ;

  {
  uri = khmli_download_uri;
  referrer = khmli_download_referrer;
  cflags = 577;
  khmli_download_referrer = (tBrowserDocument const   *)((void *)0);
  if (! may_overwrite) {
    cflags |= 128;
  }
  fd = my_create(filename, cflags, 384U);
  if (fd < 0) {
    failed: 
    tmp = __errno_location();
    inform_about_error((*tmp), strCantDownload);
    return;
  }
  tmp___2 = my_fstat(fd, & statbuf);
  if (tmp___2 != 0) {
    close_bad: 
    tmp___0 = __errno_location();
    e = (*tmp___0);
    my_close(fd);
    tmp___1 = __errno_location();
    (*tmp___1) = e;
    goto failed;
  }
  if (! ((statbuf.st_mode & 61440U) == 32768U)) {
    tmp___3 = __errno_location();
    if ((statbuf.st_mode & 61440U) == 16384U) {
      (*tmp___3) = 21;
    } else {
      (*tmp___3) = 0;
    }
    goto close_bad;
  }
  content_download_to_fd(uri, referrer, fd);
  return;
}
}
__inline static void content_download(tBoolean may_overwrite ) 
{ 

  {
  __content_download(khmli_filename, may_overwrite);
  return;
}
}
static void content_dump_line(tRendererData *data ) 
{ tContentDumpData const   *cdd ;
  tRendererElement const   *element___0 ;
  char *line ;
  size_t count___2 ;
  size_t cnt ;
  size_t textcount ;
  size_t tmp ;
  tRendererText const   *text ;
  size_t tmp___0 ;
  size_t tmp___1 ;
  int *tmp___2 ;
  ssize_t tmp___3 ;

  {
  cdd = (tContentDumpData const   *)data->line_callback_data;
  element___0 = data->element;
  line = cdd->line;
  count___2 = (size_t )0;
  while ((unsigned int )element___0 != (unsigned int )((void *)0)) {
    textcount = element___0->textcount;
    if (textcount > 0U) {
      if (element___0->is_spacer) {
        cnt = 0U;
        while (cnt < textcount) {
          tmp = count___2;
          count___2 ++;
          (*(line + tmp)) = (char )' ';
          cnt ++;
        }
      } else {
        text = (tRendererText const   *)element___0->text;
        cnt = 0U;
        while (cnt < textcount) {
          tmp___0 = count___2;
          count___2 ++;
          (*(line + tmp___0)) = (char )(*(text + cnt));
          cnt ++;
        }
      }
    }
    element___0 = (tRendererElement const   *)element___0->next;
  }
  tmp___1 = count___2;
  count___2 ++;
  (*(line + tmp___1)) = (char )'\n';
  tmp___3 = my_write(cdd->fd, (void const   *)line, count___2);
  if (tmp___3 != (int )count___2) {
    tmp___2 = __errno_location();
    inform_about_error((*tmp___2), "can\'t dump line");
    data->flags = (unsigned short )((int )data->flags | 1);
  }
  return;
}
}
static void content_dump_to_fd(tBrowserDocument *document , int fd , tDumpStyle const   *dump_style ) 
{ tRendererData data ;
  tContentDumpData cdd ;
  size_t line_width ;
  tDumpStyleFlags flags ;
  int tmp ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_120 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp___0 ;

  {
  line_width = (size_t )80;
  if ((unsigned int )dump_style != (unsigned int )((void *)0)) {
    tmp = (int )dump_style->flags;
  } else {
    tmp = 0;
  }
  flags = (tDumpStyleFlags )tmp;
  tmp___0 = __builtin_constant_p(sizeof(data));
  if (tmp___0) {
    if (sizeof(data) <= 16U) {
      if (sizeof(data) == 1U) {
        __s___1 = (void *)(& data);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(& data);
        __u = (union __anonunion___u_120 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(data)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_120 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_120 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_120 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_120 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_120 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_120 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_120 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_120 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_120 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_120 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_120 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_120 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_120 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = (void *)(& data);
    __builtin_memset(__s, '\000', (int )sizeof(data));
  }
  data.line_callback = & content_dump_line;
  data.line_callback_data = (void *)(& cdd);
  data.ra = (unsigned char)1;
  data.document = document;
  data.line_width = line_width;
  data.flags = (unsigned short)8192;
  if ((int )flags & 2) {
    do_html: 
    data.flags = (unsigned short )((int )data.flags | 16);
  } else {
    if (! ((int )flags & 1)) {
      if ((int )document->bddm == 2) {
        goto do_html;
      }
      if ((unsigned int )document->cantent != (unsigned int )((void *)0)) {
        if ((int )(document->cantent)->kind == 2) {
          goto do_html;
        } else {
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ ;
      }
    }
  }
  cdd.fd = fd;
  cdd.line = (char *)__memory_allocate_ll(line_width + 5U);
  renderer_run(& data);
  memory_deallocate_ll((void const   *)cdd.line);
  return;
}
}
static void content_dump(tBrowserDocument *document , char const   *filename , tBoolean may_overwrite ,
                         tDumpStyle const   *dump_style ) 
{ int fd ;
  int cflags ;
  struct stat statbuf ;
  int *tmp ;
  int e ;
  int *tmp___0 ;
  int *tmp___1 ;
  int tmp___2 ;
  int *tmp___3 ;

  {
  cflags = 577;
  if (! may_overwrite) {
    cflags |= 128;
  }
  fd = my_create(filename, cflags, 384U);
  if (fd < 0) {
    failed: 
    tmp = __errno_location();
    inform_about_error((*tmp), "can\'t dump to file");
    return;
  }
  tmp___2 = my_fstat(fd, & statbuf);
  if (tmp___2 != 0) {
    close_bad: 
    tmp___0 = __errno_location();
    e = (*tmp___0);
    my_close(fd);
    tmp___1 = __errno_location();
    (*tmp___1) = e;
    goto failed;
  }
  if (! ((statbuf.st_mode & 61440U) == 32768U)) {
    tmp___3 = __errno_location();
    if ((statbuf.st_mode & 61440U) == 16384U) {
      (*tmp___3) = 21;
    } else {
      (*tmp___3) = 0;
    }
    goto close_bad;
  }
  content_dump_to_fd(document, fd, dump_style);
  my_close(fd);
  return;
}
}
static void dump_request_callback(void *_request , tDhmNotificationFlags flags ) 
{ tResourceRequest *request ;
  tResource *resource ;
  tResourceError re ;
  char const   *text ;
  tBrowserDocument document ;
  tDumpStyle ds ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_121 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;
  void *__s___2 ;
  void *__s___3 ;
  union __anonunion___u_122 *__u___0 ;
  __uint8_t __c___0 ;
  void *__s___4 ;
  int tmp___0 ;
  tDhmNotificationSetup _dns ;

  {
  request = (tResourceRequest *)_request;
  if ((int )flags & 12) {
    resource = request->resource;
    if ((unsigned int )resource != (unsigned int )((void *)0)) {
      re = resource->error;
      if ((int )re != 0) {
        handle_re: 
        text = (char const   *)strResourceError[re];
        fatal_error(0, text);
      } else {
        if (resource->flags & 1U) {
          tmp = __builtin_constant_p(sizeof(document));
          if (tmp) {
            if (sizeof(document) <= 16U) {
              if (sizeof(document) == 1U) {
                __s___1 = (void *)(& document);
                (*((__uint8_t *)__s___1)) = (unsigned char)0;
              } else {
                __s___0 = (void *)(& document);
                __u = (union __anonunion___u_121 *)__s___0;
                __c = (unsigned char)0;
                switch ((int )sizeof(document)) {
                case 15: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_121 *)((void *)__u + 4);
                case 11: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_121 *)((void *)__u + 4);
                case 7: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_121 *)((void *)__u + 4);
                case 3: 
                __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
                __u = (union __anonunion___u_121 *)((void *)__u + 2);
                __u->__uc = __c;
                break;
                case 14: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_121 *)((void *)__u + 4);
                case 10: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_121 *)((void *)__u + 4);
                case 6: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_121 *)((void *)__u + 4);
                case 2: 
                __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
                break;
                case 13: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_121 *)((void *)__u + 4);
                case 9: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_121 *)((void *)__u + 4);
                case 5: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_121 *)((void *)__u + 4);
                case 1: 
                __u->__uc = __c;
                break;
                case 16: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_121 *)((void *)__u + 4);
                case 12: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_121 *)((void *)__u + 4);
                case 8: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_121 *)((void *)__u + 4);
                case 4: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                case 0: ;
                break;
                }
              }
            } else {
              goto _L;
            }
          } else {
            _L: /* CIL Label */ 
            __s = (void *)(& document);
            __builtin_memset(__s, '\000', (int )sizeof(document));
          }
          document.cantent = resource->cantent;
          tmp___0 = __builtin_constant_p(sizeof(ds));
          if (tmp___0) {
            if (sizeof(ds) <= 16U) {
              if (sizeof(ds) == 1U) {
                __s___4 = (void *)(& ds);
                (*((__uint8_t *)__s___4)) = (unsigned char)0;
              } else {
                __s___3 = (void *)(& ds);
                __u___0 = (union __anonunion___u_122 *)__s___3;
                __c___0 = (unsigned char)0;
                switch ((int )sizeof(ds)) {
                case 15: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_122 *)((void *)__u___0 + 4);
                case 11: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_122 *)((void *)__u___0 + 4);
                case 7: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_122 *)((void *)__u___0 + 4);
                case 3: 
                __u___0->__usi = (unsigned short )((int )((unsigned short )__c___0) *
                                                   257);
                __u___0 = (union __anonunion___u_122 *)((void *)__u___0 + 2);
                __u___0->__uc = __c___0;
                break;
                case 14: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_122 *)((void *)__u___0 + 4);
                case 10: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_122 *)((void *)__u___0 + 4);
                case 6: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_122 *)((void *)__u___0 + 4);
                case 2: 
                __u___0->__usi = (unsigned short )((int )((unsigned short )__c___0) *
                                                   257);
                break;
                case 13: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_122 *)((void *)__u___0 + 4);
                case 9: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_122 *)((void *)__u___0 + 4);
                case 5: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_122 *)((void *)__u___0 + 4);
                case 1: 
                __u___0->__uc = __c___0;
                break;
                case 16: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_122 *)((void *)__u___0 + 4);
                case 12: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_122 *)((void *)__u___0 + 4);
                case 8: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_122 *)((void *)__u___0 + 4);
                case 4: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                case 0: ;
                break;
                }
              }
            } else {
              goto _L___0;
            }
          } else {
            _L___0: /* CIL Label */ 
            __s___2 = (void *)(& ds);
            __builtin_memset(__s___2, '\000', (int )sizeof(ds));
          }
          content_dump_to_fd(& document, fd_stdout, (tDumpStyle const   *)(& ds));
          do_quit();
        }
      }
    } else {
      re = request->error;
      if ((int )re != 0) {
        goto handle_re;
      }
    }
  } else {
    if ((int )flags & 16) {
      while (1) {
        _dns.callback = & dump_request_callback;
        _dns.callback_data = (void *)request;
        _dns.flags = (tDhmNotificationFlags )12;
        _dns.mode = (tDhmNotimode )0;
        dhm_generic_handler(& (request->resource)->dhm_data, (void const   *)(& _dns),
                            (unsigned char)3);
        break;
      }
    }
  }
  return;
}
}
__inline static void content_dump_auto(char const   *uri ) 
{ tPrrData prr_data ;
  tResourceRequest *request ;
  tDhmNotificationSetup _dns ;

  {
  prr_setup(& prr_data, uri, (unsigned short)0);
  prepare_resource_request(& prr_data);
  request = prr_data.result;
  prr_data.result = (tResourceRequest *)((void *)0);
  print_automated_uri((char const   *)(request->uri_data)->uri);
  if ((int )request->state == 1) {
    fatal_error(0, (char const   *)strResourceError[request->error]);
  }
  while (1) {
    _dns.callback = & dump_request_callback;
    _dns.callback_data = (void *)request;
    _dns.flags = (tDhmNotificationFlags )28;
    _dns.mode = (tDhmNotimode )0;
    dhm_generic_handler(& request->dhm_data, (void const   *)(& _dns), (unsigned char)3);
    break;
  }
  request_queue(request, (unsigned char)2);
  prr_setdown(& prr_data);
  return;
}
}
static char const   strSessionMarker[6]  = {      (char const   )'|',      (char const   )'#',      (char const   )'|',      (char const   )'x', 
        (char const   )':',      (char const   )'\000'};
static char flagsbuf[50]  ;
static char linenumbuf[50]  ;
static char widthbuf[50]  ;
static char winbuf[50]  ;
static char htmltitlemarker[10]  ;
static char urimarker[10]  ;
static void session_save(char const   *filename , tBoolean may_overwrite ) 
{ int fd ;
  int cflags ;
  struct stat statbuf ;
  tWindow *window ;
  int *tmp ;
  int e ;
  int *tmp___0 ;
  int *tmp___1 ;
  int tmp___2 ;
  int *tmp___3 ;
  char const   *_x ;
  size_t tmp___4 ;
  size_t tmp___5 ;
  void (*func)(tWindow * , int  ) ;

  {
  cflags = 577;
  if (! may_overwrite) {
    cflags |= 128;
  }
  fd = my_create(filename, cflags, 384U);
  if (fd < 0) {
    failed: 
    tmp = __errno_location();
    show_message_osfailure((*tmp), (char const   *)((void *)0));
    return;
  }
  tmp___2 = my_fstat(fd, & statbuf);
  if (tmp___2 != 0) {
    close_bad: 
    tmp___0 = __errno_location();
    e = (*tmp___0);
    my_close(fd);
    tmp___1 = __errno_location();
    (*tmp___1) = e;
    goto failed;
  }
  if (! ((statbuf.st_mode & 61440U) == 32768U)) {
    tmp___3 = __errno_location();
    if ((statbuf.st_mode & 61440U) == 16384U) {
      (*tmp___3) = 21;
    } else {
      (*tmp___3) = 0;
    }
    goto close_bad;
  }
  while (1) {
    _x = "# Session file for retawq (http://retawq.sourceforge.net/)\n";
    tmp___4 = strlen(_x);
    my_write(fd, (void const   *)_x, tmp___4);
    break;
  }
  while (1) {
    strcpy((char * __restrict  )(flagsbuf), (char const   * __restrict  )(strSessionMarker));
    (*(flagsbuf + 3)) = (char )'f';
    break;
  }
  while (1) {
    strcpy((char * __restrict  )(linenumbuf), (char const   * __restrict  )(strSessionMarker));
    (*(linenumbuf + 3)) = (char )'l';
    break;
  }
  while (1) {
    strcpy((char * __restrict  )(htmltitlemarker), (char const   * __restrict  )(strSessionMarker));
    (*(htmltitlemarker + 3)) = (char )'h';
    break;
  }
  while (1) {
    strcpy((char * __restrict  )(urimarker), (char const   * __restrict  )(strSessionMarker));
    (*(urimarker + 3)) = (char )'u';
    break;
  }
  while (1) {
    strcpy((char * __restrict  )(widthbuf), (char const   * __restrict  )(strSessionMarker));
    (*(widthbuf + 3)) = (char )'w';
    break;
  }
  tmp___5 = strlen(strSessionMarker);
  (*(widthbuf + tmp___5)) = (char )strText[0];
  winbuf[0] = (char )'W';
  winbuf[1] = (char )':';
  window = windowlisthead;
  while ((unsigned int )window != (unsigned int )((void *)0)) {
    func = (window->spec)->save_session;
    if ((unsigned int )func != (unsigned int )((void *)0)) {
      ((*func))(window, fd);
    }
    window = window->next;
  }
  my_close(fd);
  return;
}
}
static tLinenumber session_linenum  ;
static tWindow *session_window  ;
static tWindow *session_viswin[2]  ;
static char const   *session_part[10]  ;
static unsigned char session_numparts  ;
static void session_resume_split(char *line ) 
{ char *temp ;
  char ch ;
  unsigned char tmp ;

  {
  session_numparts = (unsigned char)0;
  loop: 
  temp = strstr((char const   *)line, "|#|");
  if ((unsigned int )temp != (unsigned int )((void *)0)) {
    ch = (*(temp + 3));
    if ((int )ch >= 97) {
      if (! ((int )ch <= 122)) {
        goto incandloop;
      }
    } else {
      incandloop: 
      line = temp + 1;
      goto loop;
    }
    if ((int )(*(temp + 4)) != 58) {
      goto incandloop;
    }
    (*temp) = (char )'\000';
    tmp = session_numparts;
    session_numparts = (unsigned char )((int )session_numparts + 1);
    session_part[tmp] = (char const   *)(temp + 3);
    if ((int )session_numparts < 10) {
      line = temp + 5;
      goto loop;
    }
  }
  return;
}
}
__inline static void session_resume_finish_window(void) 
{ 

  {
  return;
}
}
static void session_resume_window(void) 
{ 

  {
  session_resume_finish_window();
  session_window = wk_browser_create();
  return;
}
}
static void session_resume_line(char const   *line , char const   *limit ) 
{ size_t len ;
  char buf___2[4096] ;
  char *temp ;
  unsigned char count___2 ;
  char const   *str ;
  char const   *data ;
  int num ;
  char const   *uri ;
  char const   *flagstr ;
  char const   *html_title ;
  char const   *str___0 ;
  char const   *data___0 ;
  tPrrFlags prrf ;
  char const   *f ;
  char ch ;
  char const   *tmp ;
  int tmp___45 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___67 ;
  size_t tmp___68 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___83 ;
  int tmp___84 ;
  int tmp___85 ;
  int tmp___86 ;
  int tmp___87 ;
  size_t tmp___88 ;
  size_t tmp___89 ;
  int tmp___135 ;
  size_t __s1_len___2 ;
  size_t __s2_len___2 ;
  int tmp___157 ;
  size_t tmp___158 ;
  register int __result___181 ;
  unsigned char const   *__s2___30 ;
  register int __result___182 ;
  register int __result___189 ;
  unsigned char const   *__s1___62 ;
  register int __result___190 ;
  int tmp___173 ;
  int tmp___174 ;
  int tmp___175 ;
  int tmp___176 ;
  int tmp___177 ;
  size_t tmp___178 ;
  size_t tmp___179 ;

  {
  len = (size_t )(limit - line);
  session_linenum ++;
  if (len <= 0U) {
    return;
  }
  if (len > 4091U) {
    return;
  }
  memcpy((void * __restrict  )(buf___2), (void const   * __restrict  )line, len);
  buf___2[len] = (char )'\000';
  if ((int )buf___2[len - 1U] == 13) {
    buf___2[len - 1U] = (char )'\000';
  }
  while (1) {
    break;
  }
  while (1) {
    break;
  }
  while (1) {
    break;
  }
  temp = buf___2;
  while (1) {
    if ((int )(*temp) == 32) {
      goto _L;
    } else {
      if ((int )(*temp) == 9) {
        _L: /* CIL Label */ ;
      } else {
        break;
      }
    }
    temp ++;
  }
  if ((int )(*temp) == 35) {
    return;
  }
  tmp___177 = __builtin_constant_p(temp);
  if (tmp___177) {
    tmp___178 = strlen((char const   *)temp);
    if (tmp___178 < 2U) {
      goto _L___676;
    } else {
      goto _L___677;
    }
  } else {
    _L___677: /* CIL Label */ 
    tmp___179 = strlen("W:");
    if (tmp___179 < 2U) {
      _L___676: /* CIL Label */ 
      tmp___175 = __builtin_constant_p(temp);
      if (tmp___175) {
        __s1_len___2 = strlen((char const   *)temp);
        __s2_len___2 = strlen("W:");
        if (! ((unsigned int )((void const   *)(temp + 1)) - (unsigned int )((void const   *)temp) ==
               1U)) {
          goto _L___673;
        } else {
          if (__s1_len___2 >= 4U) {
            _L___673: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)("W:" + 1)) - (unsigned int )((void const   *)"W:") ==
                   1U)) {
              goto _L___672;
            } else {
              if (__s2_len___2 >= 4U) {
                _L___672: /* CIL Label */ 
                tmp___176 = 1;
              } else {
                goto _L___671;
              }
            }
          } else {
            _L___671: /* CIL Label */ 
            tmp___176 = 0;
          }
        }
        if (tmp___176) {
          if (__s1_len___2 < __s2_len___2) {
            tmp___158 = __s1_len___2;
          } else {
            tmp___158 = __s2_len___2;
          }
          tmp___157 = memcmp((void const   *)((char const   *)temp), (void const   *)"W:",
                             tmp___158 + 1U);
        } else {
          goto _L___675;
        }
      } else {
        _L___675: /* CIL Label */ 
        tmp___174 = __builtin_constant_p(temp);
        if (tmp___174) {
          if ((unsigned int )((void const   *)(temp + 1)) - (unsigned int )((void const   *)temp) ==
              1U) {
            __s1_len___2 = strlen((char const   *)temp);
            if (__s1_len___2 < 4U) {
              if ((unsigned int )((void const   *)("W:" + 1)) - (unsigned int )((void const   *)"W:") ==
                  1U) {
                __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                         0)) - (int const   )(*((unsigned char const   *)"W:" +
                                                                                0)));
                if (__s1_len___2 > 0U) {
                  if (__result___181 == 0) {
                    __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                             1)) - (int const   )(*((unsigned char const   *)"W:" +
                                                                                    1)));
                    if (__s1_len___2 > 1U) {
                      if (__result___181 == 0) {
                        __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                                 2)) - (int const   )(*((unsigned char const   *)"W:" +
                                                                                        2)));
                        if (__s1_len___2 > 2U) {
                          if (__result___181 == 0) {
                            __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                                     3)) - (int const   )(*((unsigned char const   *)"W:" +
                                                                                            3)));
                          } else {
                            goto _L___636;
                          }
                        } else {
                          _L___636: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___637;
                      }
                    } else {
                      _L___637: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___638;
                  }
                } else {
                  _L___638: /* CIL Label */ ;
                }
                tmp___157 = __result___181;
              } else {
                __s2___30 = (unsigned char const   *)"W:";
                __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                         0)) - (int const   )(*(__s2___30 +
                                                                                0)));
                if (__s1_len___2 > 0U) {
                  if (__result___182 == 0) {
                    __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                             1)) - (int const   )(*(__s2___30 +
                                                                                    1)));
                    if (__s1_len___2 > 1U) {
                      if (__result___182 == 0) {
                        __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                                 2)) - (int const   )(*(__s2___30 +
                                                                                        2)));
                        if (__s1_len___2 > 2U) {
                          if (__result___182 == 0) {
                            __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                                     3)) - (int const   )(*(__s2___30 +
                                                                                            3)));
                          } else {
                            goto _L___639;
                          }
                        } else {
                          _L___639: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___640;
                      }
                    } else {
                      _L___640: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___641;
                  }
                } else {
                  _L___641: /* CIL Label */ ;
                }
                tmp___157 = __result___182;
              }
            } else {
              goto _L___670;
            }
          } else {
            goto _L___670;
          }
        } else {
          _L___670: /* CIL Label */ 
          if ((unsigned int )((void const   *)("W:" + 1)) - (unsigned int )((void const   *)"W:") ==
              1U) {
            __s2_len___2 = strlen("W:");
            if (__s2_len___2 < 4U) {
              tmp___173 = __builtin_constant_p(temp);
              if (tmp___173) {
                if ((unsigned int )((void const   *)(temp + 1)) - (unsigned int )((void const   *)temp) ==
                    1U) {
                  __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                           0)) - (int const   )(*((unsigned char const   *)"W:" +
                                                                                  0)));
                  if (__s2_len___2 > 0U) {
                    if (__result___189 == 0) {
                      __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                               1)) - (int const   )(*((unsigned char const   *)"W:" +
                                                                                      1)));
                      if (__s2_len___2 > 1U) {
                        if (__result___189 == 0) {
                          __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                                   2)) - (int const   )(*((unsigned char const   *)"W:" +
                                                                                          2)));
                          if (__s2_len___2 > 2U) {
                            if (__result___189 == 0) {
                              __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                                       3)) - (int const   )(*((unsigned char const   *)"W:" +
                                                                                              3)));
                            } else {
                              goto _L___661;
                            }
                          } else {
                            _L___661: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___662;
                        }
                      } else {
                        _L___662: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___663;
                    }
                  } else {
                    _L___663: /* CIL Label */ ;
                  }
                  tmp___157 = __result___189;
                } else {
                  goto _L___667;
                }
              } else {
                _L___667: /* CIL Label */ 
                __s1___62 = (unsigned char const   *)((char const   *)temp);
                __result___190 = (int )((int const   )(*(__s1___62 + 0)) - (int const   )(*((unsigned char const   *)"W:" +
                                                                                            0)));
                if (__s2_len___2 > 0U) {
                  if (__result___190 == 0) {
                    __result___190 = (int )((int const   )(*(__s1___62 + 1)) - (int const   )(*((unsigned char const   *)"W:" +
                                                                                                1)));
                    if (__s2_len___2 > 1U) {
                      if (__result___190 == 0) {
                        __result___190 = (int )((int const   )(*(__s1___62 + 2)) -
                                                (int const   )(*((unsigned char const   *)"W:" +
                                                                 2)));
                        if (__s2_len___2 > 2U) {
                          if (__result___190 == 0) {
                            __result___190 = (int )((int const   )(*(__s1___62 + 3)) -
                                                    (int const   )(*((unsigned char const   *)"W:" +
                                                                     3)));
                          } else {
                            goto _L___664;
                          }
                        } else {
                          _L___664: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___665;
                      }
                    } else {
                      _L___665: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___666;
                  }
                } else {
                  _L___666: /* CIL Label */ ;
                }
                tmp___157 = __result___190;
              }
            } else {
              goto _L___668;
            }
          } else {
            _L___668: /* CIL Label */ 
            tmp___157 = strcmp((char const   *)temp, "W:");
          }
        }
      }
      tmp___135 = tmp___157;
    } else {
      tmp___135 = strncmp((char const   *)temp, "W:", 2U);
    }
  }
  if (tmp___135) {
    tmp___87 = __builtin_constant_p(temp);
    if (tmp___87) {
      tmp___88 = strlen((char const   *)temp);
      if (tmp___88 < 2U) {
        goto _L___338;
      } else {
        goto _L___339;
      }
    } else {
      _L___339: /* CIL Label */ 
      tmp___89 = strlen("U:");
      if (tmp___89 < 2U) {
        _L___338: /* CIL Label */ 
        tmp___85 = __builtin_constant_p(temp);
        if (tmp___85) {
          __s1_len___0 = strlen((char const   *)temp);
          __s2_len___0 = strlen("U:");
          if (! ((unsigned int )((void const   *)(temp + 1)) - (unsigned int )((void const   *)temp) ==
                 1U)) {
            goto _L___335;
          } else {
            if (__s1_len___0 >= 4U) {
              _L___335: /* CIL Label */ 
              if (! ((unsigned int )((void const   *)("U:" + 1)) - (unsigned int )((void const   *)"U:") ==
                     1U)) {
                goto _L___334;
              } else {
                if (__s2_len___0 >= 4U) {
                  _L___334: /* CIL Label */ 
                  tmp___86 = 1;
                } else {
                  goto _L___333;
                }
              }
            } else {
              _L___333: /* CIL Label */ 
              tmp___86 = 0;
            }
          }
          if (tmp___86) {
            if (__s1_len___0 < __s2_len___0) {
              tmp___68 = __s1_len___0;
            } else {
              tmp___68 = __s2_len___0;
            }
            tmp___67 = memcmp((void const   *)((char const   *)temp), (void const   *)"U:",
                              tmp___68 + 1U);
          } else {
            goto _L___337;
          }
        } else {
          _L___337: /* CIL Label */ 
          tmp___84 = __builtin_constant_p(temp);
          if (tmp___84) {
            if ((unsigned int )((void const   *)(temp + 1)) - (unsigned int )((void const   *)temp) ==
                1U) {
              __s1_len___0 = strlen((char const   *)temp);
              if (__s1_len___0 < 4U) {
                if ((unsigned int )((void const   *)("U:" + 1)) - (unsigned int )((void const   *)"U:") ==
                    1U) {
                  __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                          0)) - (int const   )(*((unsigned char const   *)"U:" +
                                                                                 0)));
                  if (__s1_len___0 > 0U) {
                    if (__result___85 == 0) {
                      __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                              1)) - (int const   )(*((unsigned char const   *)"U:" +
                                                                                     1)));
                      if (__s1_len___0 > 1U) {
                        if (__result___85 == 0) {
                          __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                                  2)) - (int const   )(*((unsigned char const   *)"U:" +
                                                                                         2)));
                          if (__s1_len___0 > 2U) {
                            if (__result___85 == 0) {
                              __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                                      3)) - (int const   )(*((unsigned char const   *)"U:" +
                                                                                             3)));
                            } else {
                              goto _L___298;
                            }
                          } else {
                            _L___298: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___299;
                        }
                      } else {
                        _L___299: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___300;
                    }
                  } else {
                    _L___300: /* CIL Label */ ;
                  }
                  tmp___67 = __result___85;
                } else {
                  __s2___14 = (unsigned char const   *)"U:";
                  __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                          0)) - (int const   )(*(__s2___14 +
                                                                                 0)));
                  if (__s1_len___0 > 0U) {
                    if (__result___86 == 0) {
                      __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                              1)) - (int const   )(*(__s2___14 +
                                                                                     1)));
                      if (__s1_len___0 > 1U) {
                        if (__result___86 == 0) {
                          __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                                  2)) - (int const   )(*(__s2___14 +
                                                                                         2)));
                          if (__s1_len___0 > 2U) {
                            if (__result___86 == 0) {
                              __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                                      3)) - (int const   )(*(__s2___14 +
                                                                                             3)));
                            } else {
                              goto _L___301;
                            }
                          } else {
                            _L___301: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___302;
                        }
                      } else {
                        _L___302: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___303;
                    }
                  } else {
                    _L___303: /* CIL Label */ ;
                  }
                  tmp___67 = __result___86;
                }
              } else {
                goto _L___332;
              }
            } else {
              goto _L___332;
            }
          } else {
            _L___332: /* CIL Label */ 
            if ((unsigned int )((void const   *)("U:" + 1)) - (unsigned int )((void const   *)"U:") ==
                1U) {
              __s2_len___0 = strlen("U:");
              if (__s2_len___0 < 4U) {
                tmp___83 = __builtin_constant_p(temp);
                if (tmp___83) {
                  if ((unsigned int )((void const   *)(temp + 1)) - (unsigned int )((void const   *)temp) ==
                      1U) {
                    __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                            0)) - (int const   )(*((unsigned char const   *)"U:" +
                                                                                   0)));
                    if (__s2_len___0 > 0U) {
                      if (__result___93 == 0) {
                        __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                                1)) - (int const   )(*((unsigned char const   *)"U:" +
                                                                                       1)));
                        if (__s2_len___0 > 1U) {
                          if (__result___93 == 0) {
                            __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                                    2)) - (int const   )(*((unsigned char const   *)"U:" +
                                                                                           2)));
                            if (__s2_len___0 > 2U) {
                              if (__result___93 == 0) {
                                __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)temp) +
                                                                        3)) - (int const   )(*((unsigned char const   *)"U:" +
                                                                                               3)));
                              } else {
                                goto _L___323;
                              }
                            } else {
                              _L___323: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___324;
                          }
                        } else {
                          _L___324: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___325;
                      }
                    } else {
                      _L___325: /* CIL Label */ ;
                    }
                    tmp___67 = __result___93;
                  } else {
                    goto _L___329;
                  }
                } else {
                  _L___329: /* CIL Label */ 
                  __s1___30 = (unsigned char const   *)((char const   *)temp);
                  __result___94 = (int )((int const   )(*(__s1___30 + 0)) - (int const   )(*((unsigned char const   *)"U:" +
                                                                                             0)));
                  if (__s2_len___0 > 0U) {
                    if (__result___94 == 0) {
                      __result___94 = (int )((int const   )(*(__s1___30 + 1)) - (int const   )(*((unsigned char const   *)"U:" +
                                                                                                 1)));
                      if (__s2_len___0 > 1U) {
                        if (__result___94 == 0) {
                          __result___94 = (int )((int const   )(*(__s1___30 + 2)) -
                                                 (int const   )(*((unsigned char const   *)"U:" +
                                                                  2)));
                          if (__s2_len___0 > 2U) {
                            if (__result___94 == 0) {
                              __result___94 = (int )((int const   )(*(__s1___30 +
                                                                      3)) - (int const   )(*((unsigned char const   *)"U:" +
                                                                                             3)));
                            } else {
                              goto _L___326;
                            }
                          } else {
                            _L___326: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___327;
                        }
                      } else {
                        _L___327: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___328;
                    }
                  } else {
                    _L___328: /* CIL Label */ ;
                  }
                  tmp___67 = __result___94;
                }
              } else {
                goto _L___330;
              }
            } else {
              _L___330: /* CIL Label */ 
              tmp___67 = strcmp((char const   *)temp, "U:");
            }
          }
        }
        tmp___45 = tmp___67;
      } else {
        tmp___45 = strncmp((char const   *)temp, "U:", 2U);
      }
    }
    if (! tmp___45) {
      session_resume_split(temp + 2);
      html_title = (char const   *)((void *)0);
      flagstr = html_title;
      uri = flagstr;
      count___2 = (unsigned char)0;
      while ((int )count___2 < (int )session_numparts) {
        str___0 = session_part[count___2];
        data___0 = str___0 + 2;
        while (1) {
          break;
        }
        while (1) {
          break;
        }
        while (1) {
          break;
        }
        if ((int const   )(*data___0) == 0) {
          goto __Cont___0;
        }
        switch ((int )(*str___0)) {
        case 117: 
        uri = data___0;
        break;
        case 102: 
        flagstr = data___0;
        break;
        case 104: 
        html_title = data___0;
        break;
        }
        __Cont___0: /* CIL Label */ 
        count___2 = (unsigned char )((int )count___2 + 1);
      }
      if ((unsigned int )uri != (unsigned int )((void *)0)) {
        prrf = (tPrrFlags )2;
        if ((unsigned int )flagstr != (unsigned int )((void *)0)) {
          f = flagstr;
          while (1) {
            tmp = f;
            f ++;
            ch = (char )(*tmp);
            if (! ((int )ch != 0)) {
              break;
            }
            if ((int )ch == 115) {
              prrf = (unsigned short )((int )prrf | 4);
            } else {
              if ((int )ch == 104) {
                prrf = (unsigned short )((int )prrf | 8);
              }
            }
          }
        }
        if ((unsigned int )session_window == (unsigned int )((void *)0)) {
          session_resume_window();
        }
        wk_browser_prr(session_window, uri, prrf, (tBrowserDocument const   *)((void *)0));
      }
    }
  } else {
    session_resume_window();
    session_resume_split(temp + 2);
    count___2 = (unsigned char)0;
    while ((int )count___2 < (int )session_numparts) {
      str = session_part[count___2];
      data = str + 2;
      while (1) {
        break;
      }
      while (1) {
        break;
      }
      while (1) {
        break;
      }
      if ((int const   )(*str) != 118) {
        goto __Cont;
      }
      if ((int const   )(*data) == 0) {
        goto __Cont;
      }
      my_atoi(data, & num, & data, 9);
      if (num >= 0) {
        if (num <= 1) {
          if ((int const   )(*data) == 0) {
            session_viswin[num] = session_window;
          } else {
            goto _L___1;
          }
        } else {
          goto _L___1;
        }
      } else {
        _L___1: /* CIL Label */ ;
      }
      __Cont: /* CIL Label */ 
      count___2 = (unsigned char )((int )count___2 + 1);
    }
  }
  return;
}
}
static void session_resume(char const   *filename ) 
{ size_t size ;
  void *filebuf ;
  char *buf___2 ;
  char *end ;
  char *temp ;
  int tmp ;
  int *tmp___0 ;
  tWindow *viswin0 ;
  tWindow *viswin1 ;

  {
  if ((int const   )(*filename) == 0) {
    filename = config.session_default;
  }
  while (1) {
    break;
  }
  while (1) {
    break;
  }
  while (1) {
    break;
  }
  tmp = (int )my_mmap_file_readonly(filename, & filebuf, & size);
  switch (tmp) {
  case 0: 
  tmp___0 = __errno_location();
  show_message_osfailure((*tmp___0), (char const   *)((void *)0));
  return;
  break;
  case 1: ;
  goto out;
  break;
  }
  buf___2 = (char *)filebuf;
  end = (buf___2 + size) - 1;
  session_window = (tWindow *)((void *)0);
  session_viswin[1] = (tWindow *)((void *)0);
  session_viswin[0] = session_viswin[1];
  session_linenum = 0;
  temp = buf___2;
  while ((unsigned int )temp <= (unsigned int )end) {
    if ((int )(*temp) == 10) {
      session_resume_line((char const   *)buf___2, (char const   *)temp);
      buf___2 = temp + 1;
    }
    temp ++;
  }
  munmap(filebuf, size);
  session_resume_finish_window();
  viswin0 = session_viswin[0];
  viswin1 = session_viswin[1];
  if ((unsigned int )viswin0 == (unsigned int )((void *)0)) {
    if ((unsigned int )viswin1 != (unsigned int )((void *)0)) {
      viswin0 = viswin1;
      viswin1 = (tWindow *)((void *)0);
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  if ((unsigned int )viswin0 != (unsigned int )((void *)0)) {
    visible_window_x[0] = viswin0;
  }
  if ((unsigned int )viswin1 != (unsigned int )((void *)0)) {
    if ((unsigned int )viswin1 != (unsigned int )visible_window_x[0]) {
      visible_window_x[1] = viswin1;
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  window_redraw_all();
  out: 
  show_message(strDone, (unsigned char)0);
  return;
}
}
static unsigned char doing_mbar  =    (tBoolean )0;
static void my_hline(short x1 , short x2 , short y ) 
{ 

  {
  wmove(stdscr, (int )y, (int )x1);
  while ((int )x1 <= (int )x2) {
    waddch(stdscr, acs_map['q']);
    x1 = (short )((int )x1 + 1);
  }
  return;
}
}
static void my_vline(short y1 , short y2 , short x ) 
{ int tmp ;

  {
  while ((int )y1 <= (int )y2) {
    tmp = wmove(stdscr, (int )y1, (int )x);
    if (! (tmp == -1)) {
      waddch(stdscr, acs_map['x']);
    }
    y1 = (short )((int )y1 + 1);
  }
  return;
}
}
static void draw_box(short x1 , short y1 , short x2 , short y2 ) 
{ int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
  while (1) {
    if (use_colors) {
      wattr_on(stdscr, color_bitmask[5], (void *)0);
    }
    break;
  }
  my_hline((short )((int )x1 + 1), (short )((int )x2 - 1), y1);
  my_hline((short )((int )x1 + 1), (short )((int )x2 - 1), y2);
  my_vline((short )((int )y1 + 1), (short )((int )y2 - 1), x1);
  my_vline((short )((int )y1 + 1), (short )((int )y2 - 1), x2);
  tmp = wmove(stdscr, (int )y1, (int )x1);
  if (! (tmp == -1)) {
    waddch(stdscr, acs_map['l']);
  }
  tmp___0 = wmove(stdscr, (int )y1, (int )x2);
  if (! (tmp___0 == -1)) {
    waddch(stdscr, acs_map['k']);
  }
  tmp___1 = wmove(stdscr, (int )y2, (int )x1);
  if (! (tmp___1 == -1)) {
    waddch(stdscr, acs_map['m']);
  }
  tmp___2 = wmove(stdscr, (int )y2, (int )x2);
  if (! (tmp___2 == -1)) {
    waddch(stdscr, acs_map['j']);
  }
  while (1) {
    if (use_colors) {
      wattr_on(stdscr, color_bitmask[1], (void *)0);
    }
    break;
  }
  return;
}
}
static tCmEntry *cm_info  ;
static tCmNumber cm_num  ;
static tCmNumber cm_maxnum  ;
static tCmNumber cm_current  ;
static tCmNumber cm_topmost  ;
static tCmNumber cm_onscreen_num  ;
static tCoordinate cm_x1  ;
static tCoordinate cm_y1  ;
static tCoordinate cm_x2  ;
static tCoordinate cm_y2  ;
static char *cm_select_bitfield  ;
static tBoolean cm_select_is_multiple  ;
static tHtmlOptionNumber cm_select_old  ;
static void cm_init(void) 
{ 

  {
  cm_info = (tCmEntry *)((void *)0);
  cm_topmost = 0;
  cm_current = cm_topmost;
  cm_maxnum = cm_current;
  cm_num = cm_maxnum;
  return;
}
}
static void __cm_add(char const   *str , void (*func)(tCmCallbackData  ) , tCmCallbackData data ) 
{ 

  {
  if (cm_num >= cm_maxnum) {
    cm_maxnum += 20;
    cm_info = (tCmEntry *)memory_reallocate_ll((void *)cm_info, (unsigned int )cm_maxnum *
                                                                sizeof(tCmEntry ));
  }
  (cm_info + cm_num)->render = my_strdup(str);
  (cm_info + cm_num)->function = func;
  (cm_info + cm_num)->data = data;
  cm_num ++;
  return;
}
}
__inline static void cm_add_separator(void) 
{ 

  {
  if (cm_num > 0) {
    __cm_add(strMinus, (void (*)(tCmCallbackData  ))((void *)0), (void *)0);
  }
  return;
}
}
static void cm_activate(tBoolean active ) 
{ short x ;
  short x0 ;
  short y ;
  chtype ch ;
  chtype tmp ;

  {
  x0 = (short )((int )cm_x1 + 1);
  y = (short )(((int )cm_y1 + 1) + (cm_current - cm_topmost));
  wmove(stdscr, (int )y, (int )x0);
  x = x0;
  while ((int )x < (int )cm_x2) {
    tmp = winch(stdscr);
    ch = tmp;
    if (active) {
      ch |= 262144UL;
    } else {
      ch &= 4294705151UL;
    }
    waddch(stdscr, ch);
    x = (short )((int )x + 1);
  }
  wmove(stdscr, LINES - 1, 0);
  return;
}
}
static void __cm_draw(void) 
{ tCmNumber num ;
  short x ;
  short width ;
  short y ;
  char const   *str ;
  short count___2 ;
  size_t tmp ;
  int tmp___0 ;
  short tmp___1 ;

  {
  x = (short )((int )cm_x1 + 1);
  width = (short )(((int )cm_x2 - (int )cm_x1) - 1);
  num = 0;
  while (num < cm_onscreen_num) {
    y = (short )(((int )cm_y1 + num) + 1);
    str = (cm_info + (cm_topmost + num))->render;
    if ((int const   )(*str) == 45) {
      if ((int const   )(*(str + 1)) == 0) {
        my_hline(x, (short )(((int )x + (int )width) - 1), y);
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      tmp = strlen(str);
      count___2 = (short )((size_t )width - tmp);
      tmp___0 = wmove(stdscr, (int )y, (int )x);
      if (! (tmp___0 == -1)) {
        waddnstr(stdscr, str, (int )width);
      }
      while (1) {
        tmp___1 = count___2;
        count___2 = (short )((int )count___2 - 1);
        if (! (tmp___1 > 0)) {
          break;
        }
        waddch(stdscr, (unsigned long )' ');
      }
    }
    num ++;
  }
  return;
}
}
__inline static tBoolean cm_draw(short x , short y , char const   *title ) 
{ short titlelen ;
  size_t tmp___0 ;
  short titlewidth ;
  int tmp___1 ;
  short width ;
  short cols ;
  short lines ;
  short maxwidth ;
  tCmNumber num ;
  tCmNumber onscreen_maxnum ;
  short len ;
  short tmp___2 ;
  short maxlen ;
  short len___0 ;
  int tmp___3 ;
  short offset ;
  int tmp___4 ;

  {
  if ((unsigned int )title != (unsigned int )((void *)0)) {
    tmp___0 = strlen(title);
  } else {
    tmp___0 = 0U;
  }
  titlelen = (short )tmp___0;
  if ((int )titlelen > 0) {
    tmp___1 = (int )titlelen + 2;
  } else {
    tmp___1 = 0;
  }
  titlewidth = (short )tmp___1;
  width = titlewidth;
  cols = (short )COLS;
  lines = (short )LINES;
  maxwidth = (short )((int )cols - 10);
  onscreen_maxnum = (int )lines - 4;
  if ((int )maxwidth <= 5) {
    goto _L;
  } else {
    if (onscreen_maxnum <= 2) {
      _L: /* CIL Label */ 
      return ((unsigned char)0);
    }
  }
  num = 0;
  while (num < cm_num) {
    tmp___2 = (short )strlen((cm_info + num)->render);
    len = tmp___2;
    if ((int )width < (int )len) {
      width = len;
    }
    num ++;
  }
  if ((int )width > (int )maxwidth) {
    width = maxwidth;
  }
  if (cm_num < onscreen_maxnum) {
    cm_onscreen_num = cm_num;
  } else {
    cm_onscreen_num = onscreen_maxnum;
  }
  if ((int )x < 0) {
    goto _L___0;
  } else {
    if ((int )x >= (int )cols) {
      _L___0: /* CIL Label */ 
      x = (short)0;
    }
  }
  if ((int )y < 0) {
    goto _L___1;
  } else {
    if ((int )y >= (int )lines) {
      _L___1: /* CIL Label */ 
      y = (short)0;
    }
  }
  if (((int )x + (int )width) + 1 >= (int )cols - 1) {
    x = (short )(((int )cols - (int )width) - 3);
  }
  if (((int )y + cm_onscreen_num) + 1 >= (int )lines - 2) {
    y = (short )(((int )lines - cm_onscreen_num) - 4);
  }
  cm_x1 = x;
  cm_y1 = y;
  cm_x2 = (short )(((int )x + (int )width) + 1);
  cm_y2 = (short )(((int )y + cm_onscreen_num) + 1);
  draw_box(cm_x1, cm_y1, cm_x2, cm_y2);
  if ((int )titlelen > 0) {
    maxlen = (short )(((int )cm_x2 - (int )cm_x1) - 3);
    if ((int )maxlen < (int )titlelen) {
      tmp___3 = (int )maxlen;
    } else {
      tmp___3 = (int )titlelen;
    }
    len___0 = (short )tmp___3;
    offset = (short )(((int )maxlen - (int )len___0) / 2);
    if ((int )offset < 0) {
      offset = (short)0;
    }
    while (1) {
      if (use_colors) {
        wattr_on(stdscr, color_bitmask[5], (void *)0);
      }
      break;
    }
    tmp___4 = wmove(stdscr, (int )cm_y1, ((int )cm_x1 + 2) + (int )offset);
    if (! (tmp___4 == -1)) {
      waddnstr(stdscr, title, (int )len___0);
    }
    while (1) {
      if (use_colors) {
        wattr_on(stdscr, color_bitmask[1], (void *)0);
      }
      break;
    }
  }
  __cm_draw();
  cm_activate((unsigned char)1);
  return ((unsigned char)1);
}
}
static void cm_start(short x , short y , char const   *title , char const   *errstr ) 
{ tBoolean tmp ;

  {
  if (cm_num > 0) {
    tmp = cm_draw(x, y, title);
    if (tmp) {
      key_handling_mode = (unsigned char)2;
    } else {
      terminal_too_small();
    }
  } else {
    if ((unsigned int )errstr != (unsigned int )((void *)0)) {
      show_message(errstr, (unsigned char)1);
    }
  }
  return;
}
}
static void cm_handle_command_code(tCmCallbackData data ) 
{ 

  {
  handle_command_code((unsigned char )((int )data));
  return;
}
}
static void cm_setup_contextual(short x , short y , tActiveElementNumber _ae ) 
{ tWindow *window ;
  void (*func)(tWindow * , short * , short * , tActiveElementNumber  ) ;

  {
  window = visible_window_x[current_window_index_x];
  func = (window->spec)->setup_cm;
  cm_init();
  if ((unsigned int )func != (unsigned int )((void *)0)) {
    ((*func))(window, & x, & y, _ae);
  }
  __cm_add((char const   *)((char *)(strUcClose)), & cm_handle_command_code, (void *)54);
  __cm_add((char const   *)((char *)(strUcQuit)), & cm_handle_command_code, (void *)44);
  cm_start(x, y, strContext, (char const   *)((void *)0));
  return;
}
}
static void cm_handle_select_tag(tCmCallbackData data ) 
{ tHtmlOptionNumber num ;

  {
  num = (unsigned int )((int )data);
  if (cm_select_is_multiple) {
    (*((unsigned char *)(cm_select_bitfield + num / 8U))) = (unsigned char )((int )(*((unsigned char *)(cm_select_bitfield +
                                                                                                        num /
                                                                                                        8U))) ^
                                                                             (1 <<
                                                                              num %
                                                                              8U));
  } else {
    (*((unsigned char *)(cm_select_bitfield + cm_select_old / 8U))) = (unsigned char )((int )(*((unsigned char *)(cm_select_bitfield +
                                                                                                                  cm_select_old /
                                                                                                                  8U))) &
                                                                                       ~ (1 <<
                                                                                          cm_select_old %
                                                                                          8U));
    (*((unsigned char *)(cm_select_bitfield + num / 8U))) = (unsigned char )((int )(*((unsigned char *)(cm_select_bitfield +
                                                                                                        num /
                                                                                                        8U))) |
                                                                             (1 <<
                                                                              num %
                                                                              8U));
  }
  window_redraw(visible_window_x[current_window_index_x]);
  return;
}
}
static void cm_setup_select_tag(tActiveElementBase const   *aebase___0 , tBrowserDocument const   *document ,
                                tActiveElementNumber _ae ) 
{ tActiveElement *aes ;
  tHtmlOption const   *o ;
  tActiveElementCoordinates const   *aec ;
  tActiveElementCoordinates const   *tmp ;
  tHtmlOptionNumber num ;
  short x ;
  short y ;
  tBoolean is_selected ;
  int tmp___0 ;
  char ch ;
  char *spfbuf ;
  tBoolean tmp___1 ;

  {
  aes = document->active_element;
  o = (tHtmlOption const   *)(aebase___0 + _ae)->render;
  tmp = find_visible_aec(document, _ae);
  aec = tmp;
  num = (tHtmlOptionNumber )0;
  cm_init();
  if ((int )(aebase___0 + _ae)->flags & 8) {
    cm_select_is_multiple = (unsigned char)1;
  } else {
    cm_select_is_multiple = (unsigned char)0;
  }
  cm_select_bitfield = (aes + _ae)->current_text;
  cm_select_old = 0U;
  while ((unsigned int )o != (unsigned int )((void *)0)) {
    if ((int )(*((unsigned char *)(cm_select_bitfield + num / 8U))) & (1 << num %
                                                                            8U)) {
      tmp___0 = 1;
    } else {
      tmp___0 = 0;
    }
    is_selected = (tBoolean )tmp___0;
    if (is_selected) {
      ch = (char )'+';
    } else {
      if ((int )o->flags & 2) {
        ch = (char )'-';
      } else {
        ch = (char )' ';
      }
    }
    my_spf(strbuf___0, 4096U, & spfbuf, "%c%s", ch, o->render);
    __cm_add((char const   *)spfbuf, & cm_handle_select_tag, (void *)((int )num));
    while (1) {
      if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
        memory_deallocate_ll((void const   *)spfbuf);
      }
      break;
    }
    if (is_selected) {
      cm_select_old = num;
    }
    o = (tHtmlOption const   *)o->next;
    num ++;
  }
  if ((unsigned int )aec != (unsigned int )((void *)0)) {
    tmp___1 = document_line2row(document, aec->y, & y);
    if (tmp___1) {
      x = aec->x1;
      y = (short )((int )y + 1);
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    y = (short)0;
    x = y;
  }
  cm_start(x, y, "Options", strSelectionEmpty);
  return;
}
}
static void cm_handle_uri_history(tCmCallbackData data ) 
{ tWindow *window ;
  tWindow *tmp ;
  unsigned short i ;

  {
  tmp = require_browser_window();
  window = tmp;
  i = (unsigned short )((int )data);
  wk_browser_prr(window, uri_history[i], (unsigned short)2, (tBrowserDocument const   *)((void *)0));
  return;
}
}
static void cm_setup_uri_history(void) 
{ unsigned short count___2 ;
  unsigned short i ;
  char const   *text ;

  {
  count___2 = (unsigned short)0;
  i = uri_history_index;
  cm_init();
  while ((int )count___2 < 20) {
    if ((int )i > 0) {
      i = (unsigned short )((int )i - 1);
    } else {
      i = (unsigned short)19;
    }
    text = uri_history[i];
    if ((unsigned int )text == (unsigned int )((void *)0)) {
      break;
    }
    __cm_add(text, & cm_handle_uri_history, (void *)((int )i));
    count___2 = (unsigned short )((int )count___2 + 1);
  }
  cm_start((short)0, (short)0, "History", "No URL history available yet!");
  return;
}
}
static void cm_handle_window_list(tCmCallbackData data ) 
{ tWindow *window ;

  {
  window = (tWindow *)data;
  if ((unsigned int )visible_window_x[current_window_index_x] != (unsigned int )window) {
    visible_window_x[current_window_index_x] = window;
    window_redraw(visible_window_x[current_window_index_x]);
  }
  return;
}
}
static void cm_setup_window_list(void) 
{ tWindow *window ;
  char const   *(*func)(tWindow * ) ;
  char const   *text ;
  char const   *tmp___0 ;

  {
  window = windowlisthead;
  cm_init();
  while ((unsigned int )window != (unsigned int )((void *)0)) {
    func = (window->spec)->get_menu_entry;
    if ((unsigned int )func != (unsigned int )((void *)0)) {
      tmp___0 = ((*func))(window);
    } else {
      tmp___0 = (char const   *)((void *)0);
    }
    text = tmp___0;
    if ((unsigned int )text != (unsigned int )((void *)0)) {
      __cm_add(text, & cm_handle_window_list, (void *)window);
    }
    window = window->next;
  }
  cm_start((short)0, (short)0, "Window List", "No open window!");
  return;
}
}
static void cm_remove(void) 
{ tCmNumber num ;

  {
  num = 0;
  while (num < cm_num) {
    while (1) {
      if ((unsigned int )(cm_info + num)->render != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)(cm_info + num)->render);
      }
      break;
    }
    num ++;
  }
  memory_deallocate_ll((void const   *)cm_info);
  doing_mbar = (unsigned char)0;
  key_handling_mode = (unsigned char)0;
  window_redraw_all();
  return;
}
}
static void cm_change_current(tCmNumber num ) 
{ tCmNumber old_topmost ;

  {
  if (cm_current == num) {
    return;
  }
  cm_activate((unsigned char)0);
  cm_current = num;
  old_topmost = cm_topmost;
  if (cm_topmost > num) {
    cm_topmost = num;
  } else {
    if (cm_topmost <= num - cm_onscreen_num) {
      cm_topmost = (num - cm_onscreen_num) + 1;
    }
  }
  if (cm_topmost != old_topmost) {
    __cm_draw();
  }
  cm_activate((unsigned char)1);
  return;
}
}
static void cm_line_up(void) 
{ 

  {
  if (cm_current > 0) {
    cm_change_current(cm_current - 1);
  } else {
    if (cm_num > 0) {
      cm_change_current(cm_num - 1);
    }
  }
  return;
}
}
static void cm_line_down(void) 
{ 

  {
  if (cm_current < cm_num - 1) {
    cm_change_current(cm_current + 1);
  } else {
    cm_change_current(0);
  }
  return;
}
}
static void cm_page_up(void) 
{ tCmNumber num ;

  {
  num = cm_current - (((int )cm_y2 - (int )cm_y1) - 1);
  if (num < 0) {
    num = 0;
  }
  cm_change_current(num);
  return;
}
}
static void cm_page_down(void) 
{ tCmNumber num ;

  {
  num = cm_current + (((int )cm_y2 - (int )cm_y1) - 1);
  if (num > cm_num - 1) {
    num = cm_num - 1;
  }
  cm_change_current(num);
  return;
}
}
__inline static void cm_cancel(void) 
{ 

  {
  cm_remove();
  return;
}
}
static void cm_apply(void) 
{ void (*function)(tCmCallbackData  ) ;
  tCmCallbackData data ;

  {
  function = (cm_info + cm_current)->function;
  if ((unsigned int )function != (unsigned int )((void *)0)) {
    data = (cm_info + cm_current)->data;
    cm_remove();
    ((*function))(data);
  }
  return;
}
}
static void cm_handle_mouseclick(tCoordinate x , tCoordinate y ) 
{ tCmNumber num ;

  {
  if ((int )x > (int )cm_x1) {
    if ((int )x < (int )cm_x2) {
      if ((int )y > (int )cm_y1) {
        if ((int )y < (int )cm_y2) {
          num = (((int )y - (int )cm_y1) - 1) + cm_topmost;
          cm_change_current(num);
          cm_apply();
        } else {
          goto _L___1;
        }
      } else {
        goto _L___1;
      }
    } else {
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ 
    cm_remove();
  }
  return;
}
}
static void line_input_redraw(void) 
{ tLineInputAreaIndex count___2 ;
  tLineInputArea *lia ;
  tLineInputAreaFlags liaf ;
  short len ;
  short first ;
  short usable ;
  short row ;
  short colmin ;
  short cnt ;
  char const   *src ;
  short tmp ;

  {
  count___2 = (unsigned char)0;
  while ((int )count___2 < (int )lid.num_areas) {
    lia = & lid.area[count___2];
    liaf = lia->flags;
    len = lia->len;
    first = lia->first;
    usable = lia->usable;
    row = lia->row;
    colmin = lia->colmin;
    cnt = (short )((int )len - (int )first);
    src = (char const   *)(lid.area[count___2].text + (int )first);
    if ((int )cnt > (int )usable) {
      cnt = usable;
    }
    wmove(stdscr, (int )row, (int )colmin);
    if ((int )cnt > 0) {
      if ((int )liaf & 4) {
        while (1) {
          tmp = cnt;
          cnt = (short )((int )cnt - 1);
          if (! (tmp > 0)) {
            break;
          }
          waddch(stdscr, (unsigned long )'*');
        }
      } else {
        waddnstr(stdscr, src, (int )cnt);
      }
    }
    wclrtoeol(stdscr);
    count___2 = (tLineInputAreaIndex )((int )count___2 + 1);
  }
  wmove(stdscr, (int )lid.area[lid.curr].row, (int )lid.area[lid.curr].colcurr);
  return;
}
}
static void line_input_layout(void) 
{ tLineInputAreaIndex numa ;
  tLineInputAreaIndex count___2 ;
  short line ;
  short usable ;
  short col ;
  short len ;
  short maxlen ;
  short used ;

  {
  numa = lid.num_areas;
  line = (short )(LINES - 1);
  usable = (short )(COLS - 1);
  col = (short)0;
  count___2 = (unsigned char)0;
  while ((int )count___2 < (int )numa) {
    lid.area[count___2].row = line;
    if ((int )lid.area[count___2].flags & 2) {
      lid.area[count___2].flags = (unsigned char )((int )lid.area[count___2].flags |
                                                   1);
    }
    count___2 = (tLineInputAreaIndex )((int )count___2 + 1);
  }
  if ((int )usable < 5 * (int )numa) {
    key_handling_mode = (unsigned char)0;
    terminal_too_small();
    ((*(lid.callback)))(lid.callback_data, (unsigned char)0, 0);
    return;
  }
  count___2 = (unsigned char)0;
  while ((int )count___2 < (int )numa) {
    len = lid.area[count___2].len;
    maxlen = (short )(((int )usable - (int )col) - 5 * (((int )numa - (int )count___2) -
                                                        1));
    if ((int )len > (int )maxlen) {
      len = maxlen;
    }
    if ((int )lid.area[count___2].flags & 2) {
      used = maxlen;
    } else {
      used = len;
    }
    lid.area[count___2].colcurr = col;
    lid.area[count___2].colmin = lid.area[count___2].colcurr;
    lid.area[count___2].colmax = (short )((int )col + (int )used);
    lid.area[count___2].usable = used;
    col = (short )((int )col + (int )used);
    count___2 = (tLineInputAreaIndex )((int )count___2 + 1);
  }
  line_input_redraw();
  return;
}
}
static void line_input_resize(void) 
{ short count___2 ;

  {
  count___2 = (short)0;
  while ((int )count___2 < (int )lid.num_areas) {
    lid.area[count___2].pos = (short)0;
    lid.area[count___2].first = (short)0;
    count___2 = (short )((int )count___2 + 1);
  }
  line_input_layout();
  return;
}
}
__inline static void __line_input_to_eos(void) 
{ 

  {
  if ((int )lid.area[lid.curr].len >= (int )lid.area[lid.curr].usable) {
    lid.area[lid.curr].first = (short )((int )lid.area[lid.curr].len - (int )lid.area[lid.curr].usable);
    lid.area[lid.curr].colcurr = lid.area[lid.curr].colmax;
  } else {
    lid.area[lid.curr].first = (short)0;
    lid.area[lid.curr].colcurr = (short )((int )lid.area[lid.curr].colmin + (int )lid.area[lid.curr].len);
  }
  return;
}
}
static void line_input_to_eos(void) 
{ 

  {
  if ((int )lid.area[lid.curr].pos < (int )lid.area[lid.curr].len) {
    lid.area[lid.curr].pos = lid.area[lid.curr].len;
    __line_input_to_eos();
    line_input_redraw();
  }
  return;
}
}
__inline static tMbsIndex do_lookup_lineinput_key(tKey key ) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;

  {
  if (keymap_lineinput_keys_num <= 0U) {
    return ((short)-1);
  }
  min = (tMbsIndex )0;
  max = (tMbsIndex )(keymap_lineinput_keys_num - 1U);
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    if (key > (keymap_lineinput_keys + idx)->key) {
      res = 1;
    } else {
      if (key < (keymap_lineinput_keys + idx)->key) {
        res = -1;
      } else {
        res = 0;
      }
    }
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
static tLineInputActionCode lookup_lineinput_key(tKey key ) 
{ tMbsIndex idx ;
  tMbsIndex tmp ;
  int tmp___0 ;

  {
  tmp = do_lookup_lineinput_key(key);
  idx = tmp;
  if ((int )idx < 0) {
    tmp___0 = 0;
  } else {
    tmp___0 = (int )(keymap_lineinput_keys + idx)->liac;
  }
  return ((unsigned char )tmp___0);
}
}
static void mouse_flip(unsigned char what ) ;
static unsigned char is_on  =    (tBoolean )1;
static void mouse_flip(unsigned char what ) 
{ tBoolean new_state ;
  long tmp ;
  char const   *tmp___0 ;

  {
  switch ((int )what) {
  default: ;
  case 0: ;
  if (! is_on) {
    new_state = (unsigned char)1;
  } else {
    new_state = (unsigned char)0;
  }
  break;
  case 1: 
  new_state = (unsigned char)0;
  break;
  case 2: 
  new_state = (unsigned char)1;
  break;
  }
  if ((int )is_on != (int )new_state) {
    is_on = new_state;
    if (is_on) {
      tmp = 16644L;
    } else {
      tmp = 0L;
    }
    mousemask((unsigned long )tmp, (mmask_t *)((void *)0));
    if (is_on) {
      tmp___0 = "mouse on";
    } else {
      tmp___0 = "mouse off";
    }
    show_message(tmp___0, (unsigned char)0);
  }
}
}
__inline static void line_input_handle_key(tKey key ) 
{ tLineInputActionCode liac ;
  tLineInputActionCode tmp ;

  {
  tmp = lookup_lineinput_key(key);
  liac = tmp;
  switch ((int )liac) {
  case 2: 
  ((*(lid.callback)))(lid.callback_data, (unsigned char)1, 0);
  return;
  break;
  case 1: ;
  if ((int )lid.num_areas == 2) {
    lid.curr = (unsigned char )(1 - (int )lid.curr);
    line_input_redraw();
  }
  return;
  break;
  case 3: ;
  case 4: ;
  case 5: 
  mouse_flip((unsigned char )((int )liac - 3));
  return;
  break;
  }
  if ((int )lid.area[lid.curr].flags & 2) {
    do_call: 
    ((*(lid.callback)))(lid.callback_data, (unsigned char)2, key);
    return;
  }
  switch ((int )liac) {
  case 8: ;
  if ((int )lid.area[lid.curr].first > 0) {
    lid.area[lid.curr].first = (short )((int )lid.area[lid.curr].first - 1);
    do_redraw: 
    line_input_redraw();
  }
  break;
  case 9: ;
  if ((int )lid.area[lid.curr].first + (int )lid.area[lid.curr].usable < (int )lid.area[lid.curr].len) {
    lid.area[lid.curr].first = (short )((int )lid.area[lid.curr].first + 1);
    goto do_redraw;
  }
  break;
  case 10: ;
  if ((int )lid.area[lid.curr].first > 0) {
    lid.area[lid.curr].first = (short)0;
    goto do_redraw;
  }
  break;
  case 7: ;
  if ((int )lid.area[lid.curr].first + (int )lid.area[lid.curr].usable < (int )lid.area[lid.curr].len) {
    lid.area[lid.curr].first = (short )((int )lid.area[lid.curr].len - (int )lid.area[lid.curr].usable);
    goto do_redraw;
  }
  break;
  default: ;
  if ((int )lid.curr == (int )lid.num_areas - 1) {
    goto do_call;
  }
  break;
  }
}
}
static void lid_prepare_text(char const   *text , tLineInputAreaIndex idx ) 
{ size_t len ;
  size_t tmp ;
  char *t ;
  char *tmp___0 ;

  {
  tmp = strlen(text);
  len = tmp;
  if (len > 1024U) {
    len = 1024U;
  }
  if (len > 0U) {
    tmp___0 = (char *)__memory_allocate_ll(len);
    t = tmp___0;
    memcpy((void * __restrict  )t, (void const   * __restrict  )text, len);
    lid.area[idx].text = t;
  }
  lid.area[idx].maxlen = (short )len;
  lid.area[idx].len = lid.area[idx].maxlen;
  return;
}
}
static void __line_input_start(char const   *msg , char const   *initstr , void (*func)(void * ,
                                                                                        tLineInputEventKind  ,
                                                                                        tKey key ) ,
                               void *data , tLineInputAreaFlags liaf ) 
{ tLineInputAreaIndex count___2 ;
  tLineInputAreaIndex curr ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_124 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;
  tLineInputAreaIndex tmp___0 ;

  {
  count___2 = (tLineInputAreaIndex )0;
  tmp = __builtin_constant_p(sizeof(lid));
  if (tmp) {
    if (sizeof(lid) <= 16U) {
      if (sizeof(lid) == 1U) {
        __s___1 = (void *)(& lid);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(& lid);
        __u = (union __anonunion___u_124 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(lid)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_124 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_124 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_124 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_124 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_124 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_124 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_124 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_124 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_124 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_124 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_124 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_124 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_124 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = (void *)(& lid);
    __builtin_memset(__s, '\000', (int )sizeof(lid));
  }
  lid.callback = func;
  lid.callback_data = data;
  tmp___0 = count___2;
  count___2 = (tLineInputAreaIndex )((int )count___2 + 1);
  lid_prepare_text(msg, (unsigned char )tmp___0);
  if ((int )liaf & 2) {
    if ((unsigned int )initstr != (unsigned int )((void *)0)) {
      lid_prepare_text(initstr, count___2);
    }
    count___2 = (tLineInputAreaIndex )((int )count___2 + 1);
  }
  curr = (unsigned char )((int )count___2 - 1);
  lid.area[curr].flags = liaf;
  lid.curr = curr;
  lid.num_areas = count___2;
  key_handling_mode = (unsigned char)1;
  line_input_layout();
  if ((int )key_handling_mode == 1) {
    if ((int )liaf & 2) {
      line_input_to_eos();
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  return;
}
}
static void line_input_ensure_room(void) 
{ 

  {
  if ((int )lid.area[lid.curr].len >= (int )lid.area[lid.curr].maxlen) {
    lid.area[lid.curr].maxlen = (short )((int )lid.area[lid.curr].maxlen + 100);
    lid.area[lid.curr].text = (char *)memory_reallocate_ll((void *)lid.area[lid.curr].text,
                                                           (unsigned int )lid.area[lid.curr].maxlen);
  }
  return;
}
}
static void line_input_paste_char(char ch ) 
{ char *text ;
  short count___2 ;
  short tmp ;

  {
  if ((int )lid.area[lid.curr].len >= 1234) {
    return;
  }
  line_input_ensure_room();
  text = lid.area[lid.curr].text;
  count___2 = lid.area[lid.curr].len;
  while ((int )count___2 > (int )lid.area[lid.curr].pos) {
    (*(text + count___2)) = (*(text + ((int )count___2 - 1)));
    count___2 = (short )((int )count___2 - 1);
  }
  tmp = lid.area[lid.curr].pos;
  lid.area[lid.curr].pos = (short )((int )lid.area[lid.curr].pos + 1);
  (*(text + tmp)) = ch;
  lid.area[lid.curr].len = (short )((int )lid.area[lid.curr].len + 1);
  if ((int )lid.area[lid.curr].colcurr < (int )lid.area[lid.curr].colmax) {
    lid.area[lid.curr].colcurr = (short )((int )lid.area[lid.curr].colcurr + 1);
  } else {
    lid.area[lid.curr].first = (short )((int )lid.area[lid.curr].first + 1);
  }
  line_input_redraw();
  return;
}
}
static void line_input_finish(void) 
{ 

  {
  key_handling_mode = (unsigned char)0;
  redraw_message_line();
  while (1) {
    if ((unsigned int )lid.area[0].text != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)lid.area[0].text);
    }
    break;
  }
  while (1) {
    if ((unsigned int )lid.area[1].text != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)lid.area[1].text);
    }
    break;
  }
  return;
}
}
static char const   *uri2filename(tUriData const   *u ) 
{ char const   *retval ;
  char const   *temp ;
  tResourceProtocol rp ;
  char const   *slash ;
  char const   *tmp ;
  char ch ;
  char *ptr___0 ;
  size_t tmp___0 ;
  char *tmp___1 ;
  char *ptr2 ;
  char *tmp___2 ;
  char const   *tmp___3 ;

  {
  retval = (char const   *)((void *)0);
  rp = u->rp;
  if ((int )rp > 1) {
    if ((int )rp_data[rp].flags & 64) {
      temp = (char const   *)u->path;
      if ((unsigned int )temp != (unsigned int )((void *)0)) {
        tmp = strrchr(temp, '/');
        slash = tmp;
        if ((unsigned int )slash == (unsigned int )((void *)0)) {
          retval = temp;
        } else {
          slash ++;
          if ((int const   )(*slash) != 0) {
            retval = slash;
          }
        }
      } else {
        goto _L___0;
      }
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  if ((unsigned int )retval != (unsigned int )((void *)0)) {
    tmp___0 = strlen(retval);
    tmp___1 = (char *)__memory_allocate_ll(tmp___0 + 1U);
    ptr___0 = tmp___1;
    ptr2 = ptr___0;
    while (1) {
      tmp___3 = retval;
      retval ++;
      ch = (char )(*tmp___3);
      if (! ((int )ch != 0)) {
        break;
      }
      if ((int )ch >= 97) {
        if ((int )ch <= 122) {
          goto _L___5;
        } else {
          goto _L___7;
        }
      } else {
        _L___7: /* CIL Label */ 
        if ((int )ch >= 65) {
          if ((int )ch <= 90) {
            _L___5: /* CIL Label */ 
            goto _L___3;
          } else {
            goto _L___6;
          }
        } else {
          _L___6: /* CIL Label */ 
          if ((int )ch >= 48) {
            if ((int )ch <= 57) {
              _L___3: /* CIL Label */ ;
            } else {
              goto _L___4;
            }
          } else {
            _L___4: /* CIL Label */ 
            if ((int )ch != 46) {
              if ((int )ch != 45) {
                ch = (char )'_';
              } else {
                goto _L___3;
              }
            } else {
              goto _L___3;
            }
          }
        }
      }
      tmp___2 = ptr___0;
      ptr___0 ++;
      (*tmp___2) = ch;
    }
    (*ptr___0) = (char )'\000';
    retval = (char const   *)ptr2;
  }
  return (retval);
}
}
static char const   *uristr2filename(char const   *str ) 
{ tUriData *u ;
  tUriData *tmp ;
  char const   *filename ;
  char const   *tmp___0 ;

  {
  tmp = uri_parse(str, (tUriData const   *)((void *)0), (char const   **)((void *)0),
                  (char const   *)((void *)0), (unsigned char)0);
  u = tmp;
  tmp___0 = uri2filename((tUriData const   *)u);
  filename = tmp___0;
  uri_put(u);
  return (filename);
}
}
static void ask_download_to(void) 
{ char const   *filename ;
  char const   *tmp ;

  {
  tmp = uristr2filename(khmli_download_uri);
  filename = tmp;
  __line_input_estart((unsigned char)3, "Download to: ", filename, (tUserQuery *)((void *)0));
  while (1) {
    if ((unsigned int )filename != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)filename);
    }
    break;
  }
  return;
}
}
static void start_save_as(tBrowserDocument const   *document , char const   *filename ,
                          tBoolean may_overwrite ) 
{ tResourceRequest const   *request ;
  tResource *resource ;
  tResource *tmp ;
  tCantent *cantent ;
  struct stat statbuf ;
  int fd ;
  int cflags ;
  int *tmp___0 ;
  int *tmp___1 ;
  int e ;
  int *tmp___2 ;
  int *tmp___3 ;
  int tmp___4 ;
  int *tmp___5 ;

  {
  request = (tResourceRequest const   *)document->request;
  if ((unsigned int )request != (unsigned int )((void *)0)) {
    tmp = request->resource;
  } else {
    tmp = (tResource *)((void *)0);
  }
  resource = tmp;
  cantent = document->cantent;
  if ((unsigned int )cantent == (unsigned int )((void *)0)) {
    tmp___0 = __errno_location();
    (*tmp___0) = 0;
    bad: 
    tmp___1 = __errno_location();
    show_message_osfailure((*tmp___1), "Can\'t save");
    return;
  }
  cflags = 577;
  if (! may_overwrite) {
    cflags |= 128;
  }
  fd = my_create(filename, cflags, 384U);
  if (fd < 0) {
    goto bad;
  }
  tmp___4 = my_fstat(fd, & statbuf);
  if (tmp___4 != 0) {
    close_bad: 
    tmp___2 = __errno_location();
    e = (*tmp___2);
    my_close(fd);
    tmp___3 = __errno_location();
    (*tmp___3) = e;
    goto bad;
  }
  if (! ((statbuf.st_mode & 61440U) == 32768U)) {
    tmp___5 = __errno_location();
    if ((statbuf.st_mode & 61440U) == 16384U) {
      (*tmp___5) = 21;
    } else {
      (*tmp___5) = 0;
    }
    goto close_bad;
  }
  resource_start_saving(resource, (tCantent const   *)cantent, fd);
  show_message("Saving", (unsigned char)0);
  return;
}
}
static void interpret_as_html(void) 
{ tBrowserDocument *document ;
  tBrowserDocument *tmp ;

  {
  tmp = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  document = tmp;
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    document->bddm = (unsigned char)2;
    document_display(document, (unsigned char)0);
  }
  return;
}
}
__inline static void reload_document(void) 
{ tWindow *window ;

  {
  window = visible_window_x[current_window_index_x];
  if ((int )(window->spec)->kind == 1) {
    wk_browser_reload(window);
  }
  return;
}
}
__inline static void ask_yesno_act(tConfirmationGoal cg ) 
{ tBrowserDocument *document ;

  {
  switch ((int )cg) {
  case 0: 
  do_quit();
  break;
  case 1: 
  window_hide(visible_window_x[current_window_index_x], (unsigned char)2);
  break;
  case 2: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    start_save_as((tBrowserDocument const   *)document, khmli_filename, (unsigned char)1);
  }
  break;
  case 3: 
  content_download((unsigned char)1);
  break;
  case 4: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    content_dump(document, khmli_filename, (unsigned char)1, (tDumpStyle const   *)((void *)0));
  }
  break;
  case 5: 
  session_save(khmli_filename, (unsigned char)1);
  break;
  case 6: 
  current_document_form_submit();
  break;
  case 7: 
  current_document_form_reset();
  break;
  case 8: 
  reload_document();
  break;
  case 9: 
  interpret_as_html();
  break;
  case 10: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    if (document->aecur != -1) {
      ((document->cantent)->aebase + document->aecur)->flags = (unsigned char )((int )((document->cantent)->aebase +
                                                                                       document->aecur)->flags &
                                                                                -3);
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  break;
  }
  return;
}
}
static void user_query_removal(void *_query , tDhmNotificationFlags flags ) 
{ tUserQuery *query ;

  {
  query = (tUserQuery *)_query;
  query->mif = (unsigned short )((int )query->mif | 4);
  ((*(lid.callback)))(lid.callback_data, (unsigned char)0, 0);
  return;
}
}
static void user_query_push(tUserQuery *query ) 
{ tDhmNotificationSetup _dns ;

  {
  while (1) {
    _dns.callback = & user_query_removal;
    _dns.callback_data = (void *)query;
    _dns.flags = (tDhmNotificationFlags )15;
    _dns.mode = (tDhmNotimode )2;
    dhm_generic_handler(& (query->resource)->dhm_data, (void const   *)(& _dns), (unsigned char)3);
    break;
  }
  ((*(query->callback)))(query);
  return;
}
}
static void ask_yesno_callback(void *_data , tLineInputEventKind liek , tKey key ) 
{ tAskYesnoData *data ;
  tUserQuery *query ;
  tConfirmationGoal cg ;

  {
  data = (tAskYesnoData *)_data;
  query = data->query;
  cg = data->cg;
  switch ((int )liek) {
  case 0: ;
  if ((unsigned int )query != (unsigned int )((void *)0)) {
    query->mif = (unsigned short )((int )query->mif | 1);
  }
  goto do_cancel0;
  break;
  case 1: ;
  do_cancel: ;
  if ((unsigned int )query != (unsigned int )((void *)0)) {
    query->mif = (unsigned short )((int )query->mif | 2);
  }
  do_cancel0: 
  line_input_finish();
  memory_deallocate_ll((void const   *)data);
  if ((unsigned int )query != (unsigned int )((void *)0)) {
    handle_conf_query: 
    user_query_push(query);
  }
  break;
  case 2: ;
  if (key == (tKey )config.char_yes) {
    goto _L;
  } else {
    if (key == 343) {
      _L: /* CIL Label */ 
      line_input_finish();
      memory_deallocate_ll((void const   *)data);
      if ((unsigned int )query != (unsigned int )((void *)0)) {
        goto handle_conf_query;
      } else {
        ask_yesno_act(cg);
      }
    } else {
      if (key == (tKey )config.char_no) {
        goto do_cancel;
      }
    }
  }
  break;
  }
  return;
}
}
static void ask_yesno(char const   *msg , tConfirmationGoal cg , tUserQuery *query ) 
{ tAskYesnoData *data ;
  tAskYesnoData *tmp ;
  char tempbuf[1024] ;
  char *spfbuf ;

  {
  tmp = (tAskYesnoData *)memory_allocate_ll(sizeof(tAskYesnoData ));
  data = tmp;
  my_spf(tempbuf, sizeof(tempbuf), & spfbuf, "%s (%c/%c) ", msg, config.char_yes,
         config.char_no);
  data->query = query;
  data->cg = cg;
  __line_input_start((char const   *)spfbuf, (char const   *)((void *)0), & ask_yesno_callback,
                     (void *)data, (unsigned char)0);
  while (1) {
    if ((unsigned int )(tempbuf) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  return;
}
}
static void do_start_user_query_login(tUserQuery *query ) 
{ tResource *resource ;
  tMissingInformationFlags mif ;
  tBoolean pr ;
  int tmp ;
  char const   *ps ;
  char const   *tmp___0 ;
  char const   *lf ;
  char const   *what ;
  char const   *sep ;
  char const   *old_username ;
  char const   *userat ;
  char schemebuf[101] ;
  char *spfbuf ;
  tEditableLineInputGoal elig ;
  char const   *u ;
  register unsigned short __v ;
  register unsigned short __x ;
  int tmp___1 ;

  {
  resource = query->resource;
  mif = query->mif;
  if ((int )mif & 8) {
    tmp = 1;
  } else {
    tmp = 0;
  }
  pr = (tBoolean )tmp;
  if (pr) {
    tmp___0 = "proxy";
  } else {
    tmp___0 = "server";
  }
  ps = tmp___0;
  if ((int )mif & 16) {
    if (pr) {
      lf = "Proxy login failed";
    } else {
      lf = strLoginFailed;
    }
    sep = strSpacedDash;
  } else {
    sep = strEmpty;
    lf = sep;
  }
  rp2scheme(resource->protocol, schemebuf);
  userat = strEmpty;
  old_username = userat;
  if ((int )mif & 32) {
    elig = (unsigned char)7;
    what = "username";
  } else {
    if ((int )mif & 64) {
      u = (char const   *)(resource->uri_data)->username;
      if ((unsigned int )u != (unsigned int )((void *)0)) {
        old_username = u;
        userat = "@";
      }
      elig = (unsigned char)8;
      what = "password";
    } else {
      return;
    }
  }
  __x = query->portnumber;
  tmp___1 = __builtin_constant_p(__x);
  if (tmp___1) {
    __v = (unsigned short )((((int )__x >> 8) & 255) | (((int )__x & 255) << 8));
  } else {
    __asm__  ("rorw $8, %w0": "=r" (__v): "0" (__x): "cc");
  }
  my_spf(strbuf___0, 4096U, & spfbuf, "%s%s%s %s for %s %s%s%s:%d: ", lf, sep, schemebuf,
         what, ps, old_username, userat, query->hostname, __v);
  __line_input_estart(elig, (char const   *)spfbuf, (char const   *)((void *)0), query);
  while (1) {
    if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  return;
}
}
void user_query_queue(tUserQuery *query ) 
{ tResource *resource ;
  tDhmNotificationSetup _dns ;

  {
  resource = query->resource;
  if ((int )key_handling_mode == 1) {
    query->mif = (unsigned short )((int )query->mif | 1);
    return;
  }
  do_start_user_query_login(query);
  if ((int )key_handling_mode == 1) {
    while (1) {
      _dns.callback = & user_query_removal;
      _dns.callback_data = (void *)query;
      _dns.flags = (tDhmNotificationFlags )1;
      _dns.mode = (tDhmNotimode )0;
      dhm_generic_handler(& resource->dhm_data, (void const   *)(& _dns), (unsigned char)3);
      break;
    }
  }
  return;
}
}
static void start_user_query_username(void) 
{ tEstartData const   *data ;
  tUserQuery *query ;

  {
  data = (tEstartData const   *)lid.callback_data;
  query = data->query;
  memory_deallocate_ll((void const   *)data);
  line_input_finish();
  query->mif = (unsigned short )((int )query->mif & -65);
  query->mif = (unsigned short )((int )query->mif | 32);
  do_start_user_query_login(query);
  return;
}
}
static char const   *previous_jump  =    (char const   *)((void *)0);
static tConfigJump *lookup_jump_shortcut(char const   *shortcut ) 
{ tConfigJump *j ;
  char const   *name ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___29 ;
  size_t tmp___30 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___45 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;

  {
  j = config.jumps;
  while ((unsigned int )j != (unsigned int )((void *)0)) {
    name = j->name;
    if ((unsigned int )name != (unsigned int )((void *)0)) {
      tmp___55 = __builtin_constant_p(name);
      if (tmp___55) {
        tmp___56 = __builtin_constant_p(shortcut);
        if (tmp___56) {
          __s1_len = strlen(name);
          __s2_len = strlen(shortcut);
          if (! ((unsigned int )((void const   *)(name + 1)) - (unsigned int )((void const   *)name) ==
                 1U)) {
            goto _L___172;
          } else {
            if (__s1_len >= 4U) {
              _L___172: /* CIL Label */ 
              if (! ((unsigned int )((void const   *)(shortcut + 1)) - (unsigned int )((void const   *)shortcut) ==
                     1U)) {
                goto _L___171;
              } else {
                if (__s2_len >= 4U) {
                  _L___171: /* CIL Label */ 
                  tmp___57 = 1;
                } else {
                  goto _L___170;
                }
              }
            } else {
              _L___170: /* CIL Label */ 
              tmp___57 = 0;
            }
          }
          if (tmp___57) {
            if (__s1_len < __s2_len) {
              tmp___30 = __s1_len;
            } else {
              tmp___30 = __s2_len;
            }
            tmp___29 = memcmp((void const   *)name, (void const   *)shortcut, tmp___30 +
                                                                              1U);
          } else {
            goto _L___174;
          }
        } else {
          goto _L___174;
        }
      } else {
        _L___174: /* CIL Label */ 
        tmp___54 = __builtin_constant_p(name);
        if (tmp___54) {
          if ((unsigned int )((void const   *)(name + 1)) - (unsigned int )((void const   *)name) ==
              1U) {
            __s1_len = strlen(name);
            if (__s1_len < 4U) {
              tmp___45 = __builtin_constant_p(shortcut);
              if (tmp___45) {
                if ((unsigned int )((void const   *)(shortcut + 1)) - (unsigned int )((void const   *)shortcut) ==
                    1U) {
                  __result___37 = (int )((int const   )(*((unsigned char const   *)name +
                                                          0)) - (int const   )(*((unsigned char const   *)shortcut +
                                                                                 0)));
                  if (__s1_len > 0U) {
                    if (__result___37 == 0) {
                      __result___37 = (int )((int const   )(*((unsigned char const   *)name +
                                                              1)) - (int const   )(*((unsigned char const   *)shortcut +
                                                                                     1)));
                      if (__s1_len > 1U) {
                        if (__result___37 == 0) {
                          __result___37 = (int )((int const   )(*((unsigned char const   *)name +
                                                                  2)) - (int const   )(*((unsigned char const   *)shortcut +
                                                                                         2)));
                          if (__s1_len > 2U) {
                            if (__result___37 == 0) {
                              __result___37 = (int )((int const   )(*((unsigned char const   *)name +
                                                                      3)) - (int const   )(*((unsigned char const   *)shortcut +
                                                                                             3)));
                            } else {
                              goto _L___133;
                            }
                          } else {
                            _L___133: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___134;
                        }
                      } else {
                        _L___134: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___135;
                    }
                  } else {
                    _L___135: /* CIL Label */ ;
                  }
                  tmp___29 = __result___37;
                } else {
                  goto _L___139;
                }
              } else {
                _L___139: /* CIL Label */ 
                __s2___6 = (unsigned char const   *)shortcut;
                __result___38 = (int )((int const   )(*((unsigned char const   *)name +
                                                        0)) - (int const   )(*(__s2___6 +
                                                                               0)));
                if (__s1_len > 0U) {
                  if (__result___38 == 0) {
                    __result___38 = (int )((int const   )(*((unsigned char const   *)name +
                                                            1)) - (int const   )(*(__s2___6 +
                                                                                   1)));
                    if (__s1_len > 1U) {
                      if (__result___38 == 0) {
                        __result___38 = (int )((int const   )(*((unsigned char const   *)name +
                                                                2)) - (int const   )(*(__s2___6 +
                                                                                       2)));
                        if (__s1_len > 2U) {
                          if (__result___38 == 0) {
                            __result___38 = (int )((int const   )(*((unsigned char const   *)name +
                                                                    3)) - (int const   )(*(__s2___6 +
                                                                                           3)));
                          } else {
                            goto _L___136;
                          }
                        } else {
                          _L___136: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___137;
                      }
                    } else {
                      _L___137: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___138;
                  }
                } else {
                  _L___138: /* CIL Label */ ;
                }
                tmp___29 = __result___38;
              }
            } else {
              goto _L___169;
            }
          } else {
            goto _L___169;
          }
        } else {
          _L___169: /* CIL Label */ 
          tmp___53 = __builtin_constant_p(shortcut);
          if (tmp___53) {
            if ((unsigned int )((void const   *)(shortcut + 1)) - (unsigned int )((void const   *)shortcut) ==
                1U) {
              __s2_len = strlen(shortcut);
              if (__s2_len < 4U) {
                tmp___52 = __builtin_constant_p(name);
                if (tmp___52) {
                  if ((unsigned int )((void const   *)(name + 1)) - (unsigned int )((void const   *)name) ==
                      1U) {
                    __result___45 = (int )((int const   )(*((unsigned char const   *)name +
                                                            0)) - (int const   )(*((unsigned char const   *)shortcut +
                                                                                   0)));
                    if (__s2_len > 0U) {
                      if (__result___45 == 0) {
                        __result___45 = (int )((int const   )(*((unsigned char const   *)name +
                                                                1)) - (int const   )(*((unsigned char const   *)shortcut +
                                                                                       1)));
                        if (__s2_len > 1U) {
                          if (__result___45 == 0) {
                            __result___45 = (int )((int const   )(*((unsigned char const   *)name +
                                                                    2)) - (int const   )(*((unsigned char const   *)shortcut +
                                                                                           2)));
                            if (__s2_len > 2U) {
                              if (__result___45 == 0) {
                                __result___45 = (int )((int const   )(*((unsigned char const   *)name +
                                                                        3)) - (int const   )(*((unsigned char const   *)shortcut +
                                                                                               3)));
                              } else {
                                goto _L___159;
                              }
                            } else {
                              _L___159: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___160;
                          }
                        } else {
                          _L___160: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___161;
                      }
                    } else {
                      _L___161: /* CIL Label */ ;
                    }
                    tmp___29 = __result___45;
                  } else {
                    goto _L___165;
                  }
                } else {
                  _L___165: /* CIL Label */ 
                  __s1___14 = (unsigned char const   *)name;
                  __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)shortcut +
                                                                                             0)));
                  if (__s2_len > 0U) {
                    if (__result___46 == 0) {
                      __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)shortcut +
                                                                                                 1)));
                      if (__s2_len > 1U) {
                        if (__result___46 == 0) {
                          __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                                 (int const   )(*((unsigned char const   *)shortcut +
                                                                  2)));
                          if (__s2_len > 2U) {
                            if (__result___46 == 0) {
                              __result___46 = (int )((int const   )(*(__s1___14 +
                                                                      3)) - (int const   )(*((unsigned char const   *)shortcut +
                                                                                             3)));
                            } else {
                              goto _L___162;
                            }
                          } else {
                            _L___162: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___163;
                        }
                      } else {
                        _L___163: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___164;
                    }
                  } else {
                    _L___164: /* CIL Label */ ;
                  }
                  tmp___29 = __result___46;
                }
              } else {
                goto _L___167;
              }
            } else {
              goto _L___167;
            }
          } else {
            _L___167: /* CIL Label */ 
            tmp___29 = strcmp(name, shortcut);
          }
        }
      }
      if (tmp___29) {
        goto _L___175;
      } else {
        break;
      }
    } else {
      _L___175: /* CIL Label */ ;
    }
    j = j->next;
  }
  return (j);
}
}
__inline static void handle_lig_jump(char const   *text ) 
{ char *text2 ;
  char *uri ;
  tConfigJump const   *j ;
  tBoolean cleanup_text2 ;
  tBoolean cleanup_uri ;
  tWindow *tmp ;
  char *spfbuf ;
  char *ptr___0 ;
  char *ptr2 ;
  unsigned short count___2 ;
  tBoolean is_last ;
  char *tmp___1 ;
  char const   *marker ;
  char const   *match ;
  char const   *src ;
  char *new_uri ;
  char *dest ;
  size_t markerlen ;
  size_t size ;
  char *tmp___3 ;
  char *spfbuf___0 ;
  size_t tmp___4 ;
  size_t tmp___5 ;
  char *tmp___6 ;
  char const   *tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  char *tmp___10 ;
  char const   *tmp___11 ;
  char *tmp___13 ;

  {
  text2 = (char *)((void *)0);
  uri = (char *)((void *)0);
  cleanup_uri = (unsigned char)0;
  cleanup_text2 = cleanup_uri;
  while (1) {
    while (1) {
      if ((unsigned int )previous_jump != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)previous_jump);
      }
      break;
    }
    previous_jump = my_strdup(text);
    break;
  }
  tmp___13 = strchr(text, ' ');
  if ((unsigned int )tmp___13 == (unsigned int )((void *)0)) {
    j = lookup_jump_shortcut(text);
    if ((unsigned int )j != (unsigned int )((void *)0)) {
      uri = j->uri;
      if ((unsigned int )uri != (unsigned int )((void *)0)) {
        if ((int )(*uri) != 0) {
          prr: 
          tmp = require_browser_window();
          wk_browser_prr(tmp, (char const   *)uri, (unsigned short)2, (tBrowserDocument const   *)((void *)0));
        } else {
          goto bad_uri;
        }
      } else {
        bad_uri: 
        show_message((char const   *)strResourceError[8], (unsigned char)1);
      }
    } else {
      not_found: 
      my_spf(strbuf___0, 4096U, & spfbuf, "Can\'t find the jump shortcut \"%s\"",
             text);
      show_message((char const   *)spfbuf, (unsigned char)1);
      while (1) {
        if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
          memory_deallocate_ll((void const   *)spfbuf);
        }
        break;
      }
    }
  } else {
    text2 = my_strdup(text);
    cleanup_text2 = (unsigned char)1;
    ptr___0 = text2;
    tmp___1 = strchr((char const   *)ptr___0, ' ');
    ptr2 = tmp___1;
    if ((unsigned int )ptr2 == (unsigned int )((void *)0)) {
      not_found2: 
      text = (char const   *)ptr___0;
      goto not_found;
    }
    (*ptr2) = (char )'\000';
    j = lookup_jump_shortcut((char const   *)ptr___0);
    if ((unsigned int )j == (unsigned int )((void *)0)) {
      goto not_found2;
    }
    uri = j->uri;
    if ((unsigned int )uri == (unsigned int )((void *)0)) {
      goto _L___0;
    } else {
      if ((int )(*uri) == 0) {
        _L___0: /* CIL Label */ 
        goto bad_uri;
      }
    }
    uri = my_strdup((char const   *)uri);
    cleanup_uri = (unsigned char)1;
    is_last = (unsigned char)0;
    count___2 = (unsigned short)0;
    while ((int )count___2 < (int )j->argcount) {
      if (is_last) {
        break;
      }
      spaceloop: 
      ptr___0 = ptr2 + 1;
      if ((int )(*ptr___0) == 0) {
        break;
      }
      tmp___3 = strchr((char const   *)ptr___0, ' ');
      ptr2 = tmp___3;
      if ((unsigned int )ptr2 != (unsigned int )((void *)0)) {
        if ((unsigned int )ptr2 == (unsigned int )ptr___0) {
          goto spaceloop;
        }
        (*ptr2) = (char )'\000';
      } else {
        ptr2 = ptr___0;
        while ((int )(*ptr2) != 0) {
          ptr2 ++;
        }
        is_last = (unsigned char)1;
      }
      marker = (char const   *)(*(j->arg + count___2));
      if ((unsigned int )marker == (unsigned int )((void *)0)) {
        goto _L___1;
      } else {
        if ((int const   )(*marker) == 0) {
          _L___1: /* CIL Label */ 
          goto __Cont;
        }
      }
      match = strstr((char const   *)uri, marker);
      if ((unsigned int )match == (unsigned int )((void *)0)) {
        my_spf(strbuf___0, 4096U, & spfbuf___0, "Can\'t find marker \"%s\" in URL pattern",
               marker);
        show_message((char const   *)spfbuf___0, (unsigned char)1);
        while (1) {
          if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf___0) {
            memory_deallocate_ll((void const   *)spfbuf___0);
          }
          break;
        }
        goto cleanup;
      }
      markerlen = strlen(marker);
      tmp___4 = strlen((char const   *)uri);
      tmp___5 = strlen((char const   *)ptr___0);
      size = ((tmp___4 - markerlen) + tmp___5) + 1U;
      new_uri = (char *)__memory_allocate_ll(size);
      src = (char const   *)uri;
      dest = new_uri;
      while ((unsigned int )src < (unsigned int )match) {
        tmp___6 = dest;
        dest ++;
        tmp___7 = src;
        src ++;
        (*tmp___6) = (char )(*tmp___7);
      }
      while ((unsigned int )ptr___0 < (unsigned int )ptr2) {
        tmp___8 = dest;
        dest ++;
        tmp___9 = ptr___0;
        ptr___0 ++;
        (*tmp___8) = (*tmp___9);
      }
      src += markerlen;
      while (1) {
        tmp___10 = dest;
        dest ++;
        tmp___11 = src;
        src ++;
        (*tmp___10) = (char )(*tmp___11);
        if (! ((int )(*tmp___10) != 0)) {
          break;
        }
      }
      memory_deallocate_ll((void const   *)uri);
      uri = new_uri;
      __Cont: /* CIL Label */ 
      count___2 = (unsigned short )((int )count___2 + 1);
    }
    goto prr;
  }
  cleanup: 
  if (cleanup_text2) {
    memory_deallocate_ll((void const   *)text2);
  }
  if (cleanup_uri) {
    memory_deallocate_ll((void const   *)uri);
  }
  return;
}
}
static tBoolean test_local_file_overwrite(char **_filename , tConfirmationGoal cg ,
                                          tBoolean *_may_overwrite ) 
{ tBoolean retval ;
  char const   *filename ;
  struct stat statbuf ;
  int err ;
  int *tmp ;
  int *tmp___0 ;
  int *tmp___1 ;
  mode_t mode ;
  int *tmp___2 ;
  char bstr[1024] ;
  char const   *bstrptr ;
  off_t size ;
  char const   *tmp___3 ;

  {
  filename = (char const   *)(*_filename);
  (*_may_overwrite) = (unsigned char)0;
  retval = (*_may_overwrite);
  err = my_stat(filename, & statbuf);
  if (err != 0) {
    if (err != -1) {
      tmp = __errno_location();
      (*tmp) = 0;
    }
    tmp___1 = __errno_location();
    if ((*tmp___1) == 2) {
      allow: 
      retval = (unsigned char)1;
    } else {
      failed: 
      tmp___0 = __errno_location();
      show_message_osfailure((*tmp___0), (char const   *)((void *)0));
    }
  } else {
    mode = statbuf.st_mode;
    if (! ((mode & 61440U) == 32768U)) {
      tmp___2 = __errno_location();
      if ((mode & 61440U) == 16384U) {
        (*tmp___2) = 21;
      } else {
        (*tmp___2) = 0;
      }
      goto failed;
    } else {
      if (config.flags & 64U) {
        (*_may_overwrite) = (unsigned char)1;
        goto allow;
      } else {
        size = statbuf.st_size;
        while (1) {
          if ((unsigned int )khmli_filename != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)khmli_filename);
          }
          break;
        }
        khmli_filename = filename;
        (*_filename) = (char *)((void *)0);
        if (size < 0L) {
          bstrptr = strEmpty;
        } else {
          if (size == 1L) {
            tmp___3 = strByte;
          } else {
            tmp___3 = strBytes;
          }
          sprintf((char * __restrict  )(bstr), (char const   * __restrict  )(strBracedNumstr),
                  size, tmp___3);
          bstrptr = (char const   *)(bstr);
        }
        sprintf((char * __restrict  )(strbuf___0), (char const   * __restrict  )"Overwrite existing%s?",
                bstrptr);
        ask_yesno((char const   *)(strbuf___0), cg, (tUserQuery *)((void *)0));
      }
    }
  }
  return (retval);
}
}
__inline static void line_input_estart_act(tEditableLineInputGoal elig , char **_text ) 
{ char const   *text ;
  tBrowserDocument *document ;
  tWindowRedrawingTask wrt ;
  tUriData *uri_data ;
  tResourceError re ;
  tWindow *tmp ;
  tBoolean may_overwrite ;
  tBoolean tmp___0 ;
  tBoolean may_overwrite___0 ;
  tBoolean tmp___1 ;
  tBoolean may_overwrite___1 ;
  tBoolean tmp___2 ;
  tActiveElement *aes ;
  tActiveElementNumber _ae ;
  tBoolean may_overwrite___2 ;
  tBoolean tmp___3 ;

  {
  text = (char const   *)(*_text);
  switch ((int )elig) {
  case 0: 
  tmp = require_browser_window();
  wk_browser_prr(tmp, text, (unsigned short)2, (tBrowserDocument const   *)((void *)0));
  break;
  case 1: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    tmp___0 = test_local_file_overwrite(_text, (unsigned char)2, & may_overwrite);
    if (tmp___0) {
      start_save_as((tBrowserDocument const   *)document, text, may_overwrite);
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  break;
  case 2: 
  uri_data = uri_parse(text, (tUriData const   *)((void *)0), (char const   **)((void *)0),
                       (char const   *)((void *)0), (unsigned char)0);
  re = uri_data->re;
  uri_put(uri_data);
  if ((int )re != 0) {
    show_message((char const   *)strResourceError[re], (unsigned char)1);
    return;
  }
  while (1) {
    if ((unsigned int )khmli_download_uri != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)khmli_download_uri);
    }
    break;
  }
  khmli_download_uri = text;
  (*_text) = (char *)((void *)0);
  ask_download_to();
  break;
  case 3: 
  tmp___1 = test_local_file_overwrite(_text, (unsigned char)3, & may_overwrite___0);
  if (tmp___1) {
    __content_download(text, may_overwrite___0);
  }
  break;
  case 4: 
  tmp___2 = test_local_file_overwrite(_text, (unsigned char)4, & may_overwrite___1);
  if (tmp___2) {
    document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
    if ((unsigned int )document != (unsigned int )((void *)0)) {
      content_dump(document, text, may_overwrite___1, (tDumpStyle const   *)((void *)0));
    }
  }
  break;
  case 5: 
  wrt = (unsigned char)2;
  handle_search: 
  while (1) {
    if ((unsigned int )search_string != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)search_string);
    }
    break;
  }
  search_string = text;
  (*_text) = (char *)((void *)0);
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    document_display(document, wrt);
  }
  break;
  case 6: 
  wrt = (unsigned char)3;
  goto handle_search;
  break;
  case 14: 
  handle_lig_jump(text);
  break;
  case 9: ;
  case 10: ;
  case 11: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document == (unsigned int )((void *)0)) {
    return;
  }
  aes = document->active_element;
  _ae = document->aecur;
  if ((int const   )(*text) != 0) {
    while (1) {
      while (1) {
        if ((unsigned int )(aes + _ae)->current_text != (unsigned int )((void *)0)) {
          memory_deallocate_ll((void const   *)(aes + _ae)->current_text);
        }
        break;
      }
      (aes + _ae)->current_text = my_strdup(text);
      break;
    }
  } else {
    while (1) {
      if ((unsigned int )(aes + _ae)->current_text != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)(aes + _ae)->current_text);
        (aes + _ae)->current_text = (char *)((void *)0);
      }
      break;
    }
  }
  while (1) {
    break;
  }
  document_display(document, (unsigned char)0);
  break;
  case 12: 
  tmp___3 = test_local_file_overwrite(_text, (unsigned char)5, & may_overwrite___2);
  if (tmp___3) {
    session_save(text, may_overwrite___2);
  }
  break;
  case 13: 
  session_resume(text);
  break;
  }
  return;
}
}
__inline static void __curleft(void) 
{ 

  {
  wmove(stdscr, (int )stdscr->_cury, (int )stdscr->_curx - 1);
  return;
}
}
__inline static void __curright(void) 
{ 

  {
  wmove(stdscr, (int )stdscr->_cury, (int )stdscr->_curx + 1);
  return;
}
}
static void line_input_estart_callback(void *_data , tLineInputEventKind liek , tKey key ) 
{ tEstartData *data ;
  tUserQuery *query ;
  tEditableLineInputGoal elig ;
  tLineInputActionCode liac ;
  char *text ;
  tResource *resource ;
  char *text___0 ;
  short count___2 ;
  char *text___1 ;
  short count___3 ;

  {
  data = (tEstartData *)_data;
  query = data->query;
  elig = data->elig;
  switch ((int )liek) {
  case 0: ;
  if ((unsigned int )query != (unsigned int )((void *)0)) {
    query->mif = (unsigned short )((int )query->mif | 1);
  }
  goto do_cancel0;
  break;
  case 1: ;
  do_cancel: ;
  if ((unsigned int )query != (unsigned int )((void *)0)) {
    query->mif = (unsigned short )((int )query->mif | 2);
  }
  do_cancel0: 
  line_input_finish();
  memory_deallocate_ll((void const   *)data);
  if ((unsigned int )query != (unsigned int )((void *)0)) {
    user_query_push(query);
  }
  break;
  case 2: 
  liac = lookup_lineinput_key(key);
  switch ((int )liac) {
  case 0: ;
  break;
  case 2: ;
  goto do_cancel;
  break;
  case 8: ;
  if ((int )lid.area[lid.curr].pos > 0) {
    lid.area[lid.curr].pos = (short )((int )lid.area[lid.curr].pos - 1);
    if ((int )lid.area[lid.curr].colcurr > (int )lid.area[lid.curr].colmin) {
      __curleft();
      lid.area[lid.curr].colcurr = (short )((int )lid.area[lid.curr].colcurr - 1);
    } else {
      lid.area[lid.curr].first = (short )((int )lid.area[lid.curr].first - 1);
      line_input_redraw();
    }
  }
  return;
  break;
  case 9: ;
  if ((int )lid.area[lid.curr].pos < (int )lid.area[lid.curr].len) {
    lid.area[lid.curr].pos = (short )((int )lid.area[lid.curr].pos + 1);
    if ((int )lid.area[lid.curr].colcurr < (int )lid.area[lid.curr].colmax) {
      __curright();
      lid.area[lid.curr].colcurr = (short )((int )lid.area[lid.curr].colcurr + 1);
    } else {
      lid.area[lid.curr].first = (short )((int )lid.area[lid.curr].first + 1);
      line_input_redraw();
    }
  }
  return;
  break;
  case 10: ;
  if ((int )lid.area[lid.curr].pos > 0) {
    lid.area[lid.curr].first = (short)0;
    lid.area[lid.curr].pos = lid.area[lid.curr].first;
    lid.area[lid.curr].colcurr = lid.area[lid.curr].colmin;
    line_input_redraw();
  }
  return;
  break;
  case 7: 
  line_input_to_eos();
  return;
  break;
  case 6: ;
  if ((int )elig == 8) {
    if ((unsigned int )query != (unsigned int )((void *)0)) {
      start_user_query_username();
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  return;
  break;
  }
  if (key == 343) {
    if ((int )lid.area[lid.curr].len > 0) {
      goto _L___0;
    } else {
      if ((int )lid.area[lid.curr].flags & 8) {
        _L___0: /* CIL Label */ 
        line_input_ensure_room();
        text = lid.area[lid.curr].text;
        (*(text + lid.area[lid.curr].len)) = (char )'\000';
        lid.area[lid.curr].text = (char *)((void *)0);
        line_input_finish();
        memory_deallocate_ll((void const   *)data);
        if ((unsigned int )query != (unsigned int )((void *)0)) {
          resource = query->resource;
          query->mif = (unsigned short )((int )query->mif & -481);
          if ((int )elig == 7) {
            (resource->uri_data)->username = text;
            text = (char *)((void *)0);
            query->mif = (unsigned short )((int )query->mif | 32);
          } else {
            if ((int )elig == 8) {
              (resource->uri_data)->password = text;
              text = (char *)((void *)0);
              query->mif = (unsigned short )((int )query->mif | 64);
            }
          }
          user_query_push(query);
        } else {
          line_input_estart_act(elig, & text);
        }
        while (1) {
          if ((unsigned int )text != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)text);
          }
          break;
        }
      }
    }
  } else {
    if (key == 263) {
      if ((int )lid.area[lid.curr].pos > 0) {
        text___0 = lid.area[lid.curr].text;
        count___2 = lid.area[lid.curr].pos;
        while ((int )count___2 < (int )lid.area[lid.curr].len) {
          (*(text___0 + ((int )count___2 - 1))) = (*(text___0 + count___2));
          count___2 = (short )((int )count___2 + 1);
        }
        lid.area[lid.curr].pos = (short )((int )lid.area[lid.curr].pos - 1);
        lid.area[lid.curr].len = (short )((int )lid.area[lid.curr].len - 1);
        if ((int )lid.area[lid.curr].colcurr <= (int )lid.area[lid.curr].colmin) {
          lid.area[lid.curr].first = (short )((int )lid.area[lid.curr].first - 1);
        } else {
          lid.area[lid.curr].colcurr = (short )((int )lid.area[lid.curr].colcurr -
                                                1);
          line_input_redraw();
        }
      }
    } else {
      if (key == 330) {
        if ((int )lid.area[lid.curr].pos < (int )lid.area[lid.curr].len) {
          text___1 = lid.area[lid.curr].text;
          count___3 = lid.area[lid.curr].pos;
          while ((int )count___3 < (int )lid.area[lid.curr].len - 1) {
            (*(text___1 + count___3)) = (*(text___1 + ((int )count___3 + 1)));
            count___3 = (short )((int )count___3 + 1);
          }
          lid.area[lid.curr].len = (short )((int )lid.area[lid.curr].len - 1);
          line_input_redraw();
        }
      } else {
        if (key >= 32) {
          if (key <= 255) {
            if (key != 127) {
              line_input_paste_char((char )key);
            } else {
              goto _L___2;
            }
          } else {
            goto _L___2;
          }
        } else {
          _L___2: /* CIL Label */ ;
        }
      }
    }
  }
  break;
  }
  return;
}
}
static void __line_input_estart(tEditableLineInputGoal elig , char const   *msg ,
                                char const   *initstr , tUserQuery *query ) 
{ tLineInputAreaFlags liaf ;
  tEstartData *data ;
  tEstartData *tmp ;

  {
  liaf = (tLineInputAreaFlags )2;
  tmp = (tEstartData *)__memory_allocate_ll(sizeof(tEstartData ));
  data = tmp;
  data->query = query;
  data->elig = elig;
  if ((int )elig == 10) {
    goto _L;
  } else {
    if ((int )elig == 8) {
      _L: /* CIL Label */ 
      liaf = (unsigned char )((int )liaf | 4);
    }
  }
  if ((int )elig == 9) {
    goto _L___1;
  } else {
    if ((int )elig == 10) {
      _L___1: /* CIL Label */ 
      goto _L___0;
    } else {
      if ((int )elig == 11) {
        _L___0: /* CIL Label */ 
        liaf = (unsigned char )((int )liaf | 8);
      }
    }
  }
  __line_input_start(msg, initstr, & line_input_estart_callback, (void *)data, liaf);
  return;
}
}
__inline static void remap_key(tKey *_key ) 
{ 

  {
  switch ((*_key)) {
  case 27: 
  (*_key) = 355;
  break;
  case 13: ;
  case 10: 
  (*_key) = 343;
  break;
  case 8: 
  (*_key) = 263;
  break;
  case 127: 
  (*_key) = 330;
  break;
  }
  return;
}
}
static tBoolean generic_handle_command(tProgramCommandCode code ) 
{ tBoolean retval ;
  char const   *temp ;
  char const   *text ;
  char const   *msg ;
  char const   *uri ;
  tEditableLineInputGoal elig ;
  tBrowserDocument *document ;
  tLinenumber scrolloff ;
  tActiveElementNumber _ae ;
  tWindow *window ;
  tBoolean is_first_try ;
  tBoolean tmp ;
  tWindow *window___0 ;
  tBoolean is_first_try___0 ;
  tBoolean tmp___0 ;
  tActiveElementNumber _ae___0 ;
  int tmp___2 ;
  int tmp___3 ;
  tWindow *tmp___4 ;
  tWindow const   *window___1 ;
  tBoolean tmp___5 ;
  tCantent *cantent ;
  char const   *filename ;
  tBoolean tmp___7 ;
  tLinenumber y ;
  tBoolean tmp___8 ;
  tActiveElementNumber _ae___1 ;
  tActiveElementNumber _ae2 ;
  tBoolean tmp___9 ;
  tActiveElementNumber _ae___2 ;
  tActiveElementNumber _ae2___0 ;
  tBoolean tmp___10 ;
  tActiveElementNumber _ae___3 ;
  tCantent *cantent___0 ;
  tActiveElementBase const   *aebase___0 ;
  tActiveElementKind kind ;
  tActiveElement *aes ;
  tWindow *destwin ;
  tPrrFlags prrf ;
  tHtmlFormNumber fn ;
  tHtmlFormNumber tmp___11 ;
  char const   *name ;
  tActiveElementNumber a ;
  tActiveElementNumber a1 ;
  tActiveElementNumber a2 ;
  char const   *n ;
  int tmp___12 ;
  tCantent const   *cantent___1 ;
  tActiveElementBase const   *aebase___1 ;
  tActiveElementNumber _ae___4 ;
  tActiveElementKind aek ;
  tCantent const   *cantent___2 ;
  tHtmlFormNumber hfn ;
  tHtmlFormNumber tmp___13 ;
  tHtmlForm const   *form ;
  char *spfbuf ;
  char const   *tmp___14 ;
  tResourceRequest *request ;
  tActiveElementNumber _ae___5 ;
  tCantent const   *cantent___3 ;
  tActiveElementNumber _ae___6 ;
  tCantent *cantent___4 ;
  tActiveElementBase const   *aeb ;
  tActiveElementFlags flags ;
  char const   *dat ;
  char const   *tmp___15 ;
  char const   *disabl ;
  char const   *tmp___16 ;
  char const   *readonl ;
  char const   *tmp___17 ;
  char const   *mult ;
  char const   *tmp___18 ;
  char *spfbuf___0 ;
  char const   *tmp___19 ;

  {
  retval = (tBoolean )1;
  switch ((int )code) {
  case 47: ;
  if ((unsigned int )visible_window_x[1] != (unsigned int )((void *)0)) {
    window_hide(visible_window_x[1 - (int )current_window_index_x], (unsigned char)1);
  }
  break;
  case 45: ;
  if ((unsigned int )visible_window_x[1] == (unsigned int )((void *)0)) {
    document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
    if ((unsigned int )document != (unsigned int )((void *)0)) {
      _ae = document->aecur;
      if (_ae != -1) {
        do_activate_element(document, _ae, (unsigned char)0);
      }
    }
    visible_window_x[1] = wk_browser_create();
    current_window_index_x = (unsigned char)1;
    window_redraw_all();
  }
  break;
  case 46: ;
  if ((unsigned int )visible_window_x[1] != (unsigned int )((void *)0)) {
    current_window_index_x = (unsigned char )(1 - (int )current_window_index_x);
    redraw_message_line();
  }
  break;
  case 58: 
  window = visible_window_x[current_window_index_x];
  is_first_try = (tBoolean )1;
  findloop1: 
  window = window->next;
  if ((unsigned int )window == (unsigned int )((void *)0)) {
    window = windowlisthead;
  }
  if ((unsigned int )window != (unsigned int )((void *)0)) {
    tmp = window_is_visible(window);
    if (tmp) {
      if (is_first_try) {
        is_first_try = (unsigned char)0;
        goto findloop1;
      } else {
        goto out;
      }
    }
    visible_window_x[current_window_index_x] = window;
    window_redraw(visible_window_x[current_window_index_x]);
  }
  break;
  case 59: 
  window___0 = visible_window_x[current_window_index_x];
  is_first_try___0 = (tBoolean )1;
  findloop2: 
  window___0 = window___0->prev;
  if ((unsigned int )window___0 == (unsigned int )((void *)0)) {
    window___0 = windowlisttail;
  }
  if ((unsigned int )window___0 != (unsigned int )((void *)0)) {
    tmp___0 = window_is_visible(window___0);
    if (tmp___0) {
      if (is_first_try___0) {
        is_first_try___0 = (unsigned char)0;
        goto findloop2;
      } else {
        goto out;
      }
    }
    visible_window_x[current_window_index_x] = window___0;
    window_redraw(visible_window_x[current_window_index_x]);
  }
  break;
  case 38: 
  cm_setup_window_list();
  break;
  case 36: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    _ae___0 = document->aecur;
  } else {
    _ae___0 = -1;
  }
  if ((int )current_window_index_x == 1) {
    if ((LINES - 2) / 2 > 1) {
      tmp___3 = (LINES - 2) / 2;
    } else {
      tmp___3 = 1;
    }
    tmp___2 = tmp___3 + 1;
  } else {
    tmp___2 = 0;
  }
  cm_setup_contextual((short)0, (short )tmp___2, _ae___0);
  break;
  case 37: 
  cm_setup_uri_history();
  break;
  case 29: 
  text = "Go to URL: ";
  temp = (char const   *)((void *)0);
  go_to_uri: 
  __line_input_estart((unsigned char)0, text, temp, (tUserQuery *)((void *)0));
  break;
  case 30: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    text = "Edit URL: ";
    temp = document->title;
    goto go_to_uri;
  }
  break;
  case 27: 
  uri = config.home_uri;
  if ((unsigned int )uri != (unsigned int )((void *)0)) {
    do_uri: 
    tmp___4 = require_browser_window();
    wk_browser_prr(tmp___4, uri, (unsigned short)2, (tBrowserDocument const   *)((void *)0));
  } else {
    show_message("No home URL configured", (unsigned char)1);
  }
  break;
  case 28: 
  uri = config.search_engine;
  if ((unsigned int )uri != (unsigned int )((void *)0)) {
    goto do_uri;
  } else {
    show_message("No search engine URL configured", (unsigned char)1);
  }
  break;
  case 26: 
  uri = config.bookmarks;
  if ((unsigned int )uri != (unsigned int )((void *)0)) {
    goto do_uri;
  } else {
    show_message("No bookmarks document URL configured", (unsigned char)1);
  }
  break;
  case 31: 
  temp = (char const   *)((void *)0);
  handle_jump: 
  if ((unsigned int )config.jumps != (unsigned int )((void *)0)) {
    __line_input_estart((unsigned char)14, "Jump to: ", temp, (tUserQuery *)((void *)0));
  } else {
    show_message("No jump shortcuts configured", (unsigned char)1);
  }
  break;
  case 32: 
  temp = previous_jump;
  goto handle_jump;
  break;
  case 54: ;
  if (config.flags & 32U) {
    window_hide(visible_window_x[current_window_index_x], (unsigned char)2);
  } else {
    ask_yesno("Really close this window?", (unsigned char)1, (tUserQuery *)((void *)0));
  }
  break;
  case 55: 
  window___1 = (tWindow const   *)visible_window_x[current_window_index_x];
  if (! ((int )(window___1->spec)->kind == 1)) {
    goto _L;
  } else {
    tmp___5 = window_is_precious(window___1);
    if (tmp___5) {
      _L: /* CIL Label */ 
      visible_window_x[current_window_index_x] = wk_browser_create();
      window_redraw(visible_window_x[current_window_index_x]);
    }
  }
  break;
  case 56: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    uri = document->title;
    if ((unsigned int )uri != (unsigned int )((void *)0)) {
      visible_window_x[current_window_index_x] = wk_browser_create();
      wk_browser_prr(visible_window_x[current_window_index_x], uri, (unsigned short)2,
                     (tBrowserDocument const   *)((void *)0));
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  break;
  case 7: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    cantent = document->cantent;
    if ((unsigned int )cantent != (unsigned int )((void *)0)) {
      uri = document->title;
      if (uri) {
        filename = uristr2filename(uri);
      } else {
        filename = (char const   *)((void *)0);
      }
      __line_input_estart((unsigned char)1, "Save document as: ", filename, (tUserQuery *)((void *)0));
      while (1) {
        if ((unsigned int )filename != (unsigned int )((void *)0)) {
          memory_deallocate_ll((void const   *)filename);
        }
        break;
      }
    } else {
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ 
    goto not_handled;
  }
  break;
  case 12: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    if (document->origin_y > 0) {
      document->origin_y = 0;
      document->flags = (unsigned char )((int )document->flags | 4);
      document->aecur = -1;
      document_display(document, (unsigned char)0);
    }
  } else {
    goto not_handled;
  }
  break;
  case 1: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    document_display(document, (unsigned char)4);
  } else {
    goto not_handled;
  }
  break;
  case 42: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    tmp___7 = document_section_height((tBrowserDocument const   *)document, & scrolloff);
    if (tmp___7) {
      scroll_down: 
      if ((int )document->flags & 1) {
        document->origin_y += scrolloff;
        document->flags = (unsigned char )((int )document->flags & -5);
        do_scroll: 
        document->aecur = -1;
        document_display(document, (unsigned char)0);
      }
    } else {
      goto _L___2;
    }
  } else {
    _L___2: /* CIL Label */ ;
  }
  break;
  case 43: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    tmp___8 = document_section_height((tBrowserDocument const   *)document, & scrolloff);
    if (tmp___8) {
      negate_scroll_up: 
      scrolloff = - scrolloff;
      scroll_up: 
      y = document->origin_y + scrolloff;
      if (y < 0) {
        y = 0;
      }
      if (document->origin_y > y) {
        document->origin_y = y;
        document->flags = (unsigned char )((int )document->flags | 4);
        goto do_scroll;
      }
    } else {
      goto _L___3;
    }
  } else {
    _L___3: /* CIL Label */ ;
  }
  break;
  case 33: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    scrolloff = 1;
    goto scroll_down;
  }
  break;
  case 34: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    scrolloff = -1;
    goto scroll_up;
  }
  break;
  case 18: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    _ae___1 = document->aecur;
    if (_ae___1 != -1) {
      _ae2 = next_visible_ae((tBrowserDocument const   *)document, _ae___1);
      if (_ae2 != -1) {
        activate_element(document, _ae2);
      } else {
        goto _L___4;
      }
    } else {
      _L___4: /* CIL Label */ 
      tmp___9 = document_section_height((tBrowserDocument const   *)document, & scrolloff);
      if (tmp___9) {
        goto scroll_down;
      }
    }
  }
  break;
  case 21: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    _ae___2 = document->aecur;
    if (_ae___2 != -1) {
      _ae2___0 = previous_visible_ae((tBrowserDocument const   *)document, _ae___2);
      if (_ae2___0 != -1) {
        activate_element(document, _ae2___0);
      } else {
        goto _L___5;
      }
    } else {
      _L___5: /* CIL Label */ 
      tmp___10 = document_section_height((tBrowserDocument const   *)document, & scrolloff);
      if (tmp___10) {
        goto negate_scroll_up;
      }
    }
  }
  break;
  case 19: ;
  case 57: ;
  case 20: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    _ae___3 = document->aecur;
    if (_ae___3 != -1) {
      cantent___0 = document->cantent;
      if ((unsigned int )cantent___0 != (unsigned int )((void *)0)) {
        aebase___0 = (tActiveElementBase const   *)cantent___0->aebase;
        if ((int )(aebase___0 + _ae___3)->flags & 2) {
          show_message("This element is disabled!", (unsigned char)1);
          goto out;
        }
        while (1) {
          break;
        }
        aes = document->active_element;
        kind = (aebase___0 + _ae___3)->kind;
        switch ((int )kind) {
        case 1: 
        temp = (aebase___0 + _ae___3)->data;
        if ((unsigned int )temp != (unsigned int )((void *)0)) {
          if ((int const   )(*temp) != 0) {
            prrf = (tPrrFlags )2;
            if ((int )code == 19) {
              if ((int )((visible_window_x[current_window_index_x])->spec)->kind ==
                  1) {
                destwin = visible_window_x[current_window_index_x];
              } else {
                goto _L___6;
              }
            } else {
              _L___6: /* CIL Label */ 
              destwin = wk_browser_create();
              if ((int )code == 20) {
                visible_window_x[1 - (int )current_window_index_x] = destwin;
                prrf = (unsigned short)1;
              } else {
                visible_window_x[current_window_index_x] = destwin;
              }
            }
            wk_browser_prr(destwin, temp, prrf, (tBrowserDocument const   *)document);
          } else {
            goto _L___7;
          }
        } else {
          _L___7: /* CIL Label */ ;
        }
        break;
        case 6: ;
        case 12: ;
        goto handle_submit;
        break;
        case 7: ;
        goto handle_reset;
        break;
        case 2: 
        elig = (unsigned char)9;
        start_input: 
        if ((int )(aebase___0 + _ae___3)->flags & 4) {
          readonly: 
          show_message("This element is read-only!", (unsigned char)1);
          goto out;
        } else {
          sprintf((char * __restrict  )(strbuf3), (char const   * __restrict  )"%s: ",
                  strAek[kind]);
          __line_input_estart(elig, (char const   *)(strbuf3), (char const   *)(aes +
                                                                                _ae___3)->current_text,
                              (tUserQuery *)((void *)0));
        }
        break;
        case 3: 
        elig = (unsigned char)10;
        goto start_input;
        break;
        case 8: 
        elig = (unsigned char)11;
        goto start_input;
        break;
        case 4: ;
        if ((int )(aebase___0 + _ae___3)->flags & 4) {
          goto readonly;
        } else {
          (aes + _ae___3)->flags = (unsigned char )((int )(aes + _ae___3)->flags ^
                                                    1);
          document_display(document, (unsigned char)0);
        }
        break;
        case 5: ;
        if ((int )(aebase___0 + _ae___3)->flags & 4) {
          goto readonly;
        } else {
          if (! ((int )(aes + _ae___3)->flags & 1)) {
            tmp___11 = calc_hfn((tCantent const   *)cantent___0, _ae___3);
            fn = tmp___11;
            name = (aebase___0 + _ae___3)->data;
            (aes + _ae___3)->flags = (unsigned char )((int )(aes + _ae___3)->flags |
                                                      1);
            if (fn != -1) {
              if ((unsigned int )name != (unsigned int )((void *)0)) {
                a1 = (cantent___0->form + fn)->first_ae;
                a2 = (cantent___0->form + fn)->last_ae;
                if (a1 != -1) {
                  if (a2 != -1) {
                    a = a1;
                    while (a <= a2) {
                      if (a != _ae___3) {
                        if ((int )(aebase___0 + a)->kind == 5) {
                          n = (aebase___0 + a)->data;
                          if ((unsigned int )n != (unsigned int )((void *)0)) {
                            tmp___12 = strcasecmp(name, n);
                            if (tmp___12) {
                              goto _L___8;
                            } else {
                              (aes + a)->flags = (unsigned char )((int )(aes + a)->flags &
                                                                  -2);
                            }
                          } else {
                            _L___8: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___9;
                        }
                      } else {
                        _L___9: /* CIL Label */ ;
                      }
                      a ++;
                    }
                  } else {
                    goto _L___10;
                  }
                } else {
                  _L___10: /* CIL Label */ ;
                }
              } else {
                goto _L___11;
              }
            } else {
              _L___11: /* CIL Label */ ;
            }
            document_display(document, (unsigned char)0);
          }
        }
        break;
        case 10: ;
        if ((aebase___0 + _ae___3)->maxlength > 0U) {
          cm_setup_select_tag(aebase___0, (tBrowserDocument const   *)document, _ae___3);
        } else {
          show_message(strSelectionEmpty, (unsigned char)1);
        }
        break;
        }
      } else {
        goto _L___13;
      }
    } else {
      goto _L___13;
    }
  } else {
    _L___13: /* CIL Label */ ;
  }
  break;
  case 15: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    __line_input_estart((unsigned char)4, "Dump to: ", (char const   *)((void *)0),
                        (tUserQuery *)((void *)0));
  } else {
    goto not_handled;
  }
  break;
  case 13: ;
  while (1) {
    if ((unsigned int )khmli_download_uri != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)khmli_download_uri);
      khmli_download_uri = (char const   *)((void *)0);
    }
    break;
  }
  khmli_download_referrer = (tBrowserDocument const   *)((void *)0);
  __line_input_estart((unsigned char)2, "Download from: ", (char const   *)((void *)0),
                      (tUserQuery *)((void *)0));
  break;
  case 14: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    _ae___4 = document->aecur;
    if (_ae___4 != -1) {
      cantent___1 = (tCantent const   *)document->cantent;
      if ((unsigned int )cantent___1 != (unsigned int )((void *)0)) {
        aebase___1 = (tActiveElementBase const   *)cantent___1->aebase;
        if ((unsigned int )aebase___1 != (unsigned int )((void *)0)) {
          aek = (aebase___1 + _ae___4)->kind;
          if ((int )aek == 1) {
            temp = (aebase___1 + _ae___4)->data;
            if ((unsigned int )temp != (unsigned int )((void *)0)) {
              if ((int const   )(*temp) != 0) {
                while (1) {
                  while (1) {
                    if ((unsigned int )khmli_download_uri != (unsigned int )((void *)0)) {
                      memory_deallocate_ll((void const   *)khmli_download_uri);
                    }
                    break;
                  }
                  khmli_download_uri = my_strdup(temp);
                  break;
                }
                khmli_download_referrer = (tBrowserDocument const   *)document;
                ask_download_to();
              } else {
                goto _L___14;
              }
            } else {
              _L___14: /* CIL Label */ ;
            }
          } else {
            show_message("That\'s not a link", (unsigned char)1);
          }
        } else {
          goto _L___17;
        }
      } else {
        goto _L___17;
      }
    } else {
      goto _L___17;
    }
  } else {
    _L___17: /* CIL Label */ 
    goto not_handled;
  }
  break;
  case 2: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    if (config.flags & 1024U) {
      interpret_as_html();
    } else {
      ask_yesno("Really interpret as HTML?", (unsigned char)9, (tUserQuery *)((void *)0));
    }
  } else {
    goto not_handled;
  }
  break;
  case 24: ;
  handle_reset: 
  if (config.flags & 256U) {
    current_document_form_reset();
  } else {
    ask_yesno("Really reset this form?", (unsigned char)7, (tUserQuery *)((void *)0));
  }
  break;
  case 25: ;
  handle_submit: 
  if (config.flags & 128U) {
    current_document_form_submit();
  } else {
    document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
    if ((unsigned int )document != (unsigned int )((void *)0)) {
      cantent___2 = (tCantent const   *)document->cantent;
      tmp___13 = calc_hfn(cantent___2, document->aecur);
      hfn = tmp___13;
      if ((unsigned int )cantent___2 == (unsigned int )((void *)0)) {
        goto _L___18;
      } else {
        if (hfn == -1) {
          _L___18: /* CIL Label */ 
          cnsniaf();
          goto out;
        }
      }
      form = (tHtmlForm const   *)(cantent___2->form + hfn);
      if ((int )form->flags & 1) {
        tmp___14 = strPost;
      } else {
        tmp___14 = strGet;
      }
      my_spf(strbuf___0, 4096U, & spfbuf, "Really submit this form to \"%s\" (%s)?",
             form->action_uri, tmp___14);
      ask_yesno((char const   *)spfbuf, (unsigned char)6, (tUserQuery *)((void *)0));
      while (1) {
        if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
          memory_deallocate_ll((void const   *)spfbuf);
        }
        break;
      }
    } else {
      goto not_handled;
    }
  }
  break;
  case 51: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    request = document->request;
    if ((unsigned int )request != (unsigned int )((void *)0)) {
      resource_request_stop(request);
    } else {
      goto _L___19;
    }
  } else {
    _L___19: /* CIL Label */ 
    goto not_handled;
  }
  break;
  case 8: 
  elig = (unsigned char)5;
  msg = "Search string: ";
  check_search: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    __line_input_estart(elig, msg, search_string, (tUserQuery *)((void *)0));
  } else {
    goto not_handled;
  }
  break;
  case 9: 
  elig = (unsigned char)6;
  msg = "Search string backwards: ";
  goto check_search;
  break;
  case 10: ;
  if ((unsigned int )search_string != (unsigned int )((void *)0)) {
    document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
    if ((unsigned int )document != (unsigned int )((void *)0)) {
      document_display(document, (unsigned char)2);
    } else {
      goto _L___20;
    }
  } else {
    _L___20: /* CIL Label */ ;
  }
  break;
  case 11: ;
  if ((unsigned int )search_string != (unsigned int )((void *)0)) {
    document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
    if ((unsigned int )document != (unsigned int )((void *)0)) {
      document_display(document, (unsigned char)3);
    } else {
      goto _L___21;
    }
  } else {
    _L___21: /* CIL Label */ ;
  }
  break;
  case 16: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    _ae___5 = document->aecur;
    if (_ae___5 != -1) {
      cantent___3 = (tCantent const   *)document->cantent;
      if ((unsigned int )cantent___3 != (unsigned int )((void *)0)) {
        if ((int )(cantent___3->aebase + _ae___5)->flags & 2) {
          if (config.flags & 2048U) {
            (cantent___3->aebase + _ae___5)->flags = (unsigned char )((int )(cantent___3->aebase +
                                                                             _ae___5)->flags &
                                                                      -3);
          } else {
            ask_yesno("Really enable this element?", (unsigned char)10, (tUserQuery *)((void *)0));
          }
        } else {
          goto _L___24;
        }
      } else {
        goto _L___24;
      }
    } else {
      goto _L___24;
    }
  } else {
    _L___24: /* CIL Label */ 
    goto not_handled;
  }
  break;
  case 17: 
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    _ae___6 = document->aecur;
    if (_ae___6 != -1) {
      cantent___4 = document->cantent;
      if ((unsigned int )cantent___4 != (unsigned int )((void *)0)) {
        aeb = (tActiveElementBase const   *)(cantent___4->aebase + _ae___6);
        flags = aeb->flags;
        if ((unsigned int )aeb->data == (unsigned int )((void *)0)) {
          tmp___15 = strEmpty;
        } else {
          tmp___15 = aeb->data;
        }
        dat = tmp___15;
        if ((int )flags & 2) {
          tmp___16 = "disabled ";
        } else {
          tmp___16 = strEmpty;
        }
        disabl = tmp___16;
        if ((int )flags & 4) {
          tmp___17 = "read-only ";
        } else {
          tmp___17 = strEmpty;
        }
        readonl = tmp___17;
        if ((int )flags & 8) {
          tmp___18 = "multi-option ";
        } else {
          tmp___18 = strEmpty;
        }
        mult = tmp___18;
        if ((int const   )(*dat) != 0) {
          tmp___19 = ", ";
        } else {
          tmp___19 = strEmpty;
        }
        my_spf(strbuf___0, 4096U, & spfbuf___0, "%s%s%s%s%s%s", disabl, readonl, mult,
               strAek[aeb->kind], tmp___19, dat);
        show_message((char const   *)spfbuf___0, (unsigned char)0);
        while (1) {
          if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf___0) {
            memory_deallocate_ll((void const   *)spfbuf___0);
          }
          break;
        }
      } else {
        goto _L___26;
      }
    } else {
      goto _L___26;
    }
  } else {
    _L___26: /* CIL Label */ 
    goto not_handled;
  }
  break;
  case 22: ;
  case 23: 
  fwdact(strFexecext);
  break;
  case 50: 
  __line_input_estart((unsigned char)12, "Save session as: ", config.session_default,
                      (tUserQuery *)((void *)0));
  break;
  case 49: 
  __line_input_estart((unsigned char)13, "Resume session from: ", config.session_default,
                      (tUserQuery *)((void *)0));
  break;
  case 39: ;
  case 40: ;
  case 41: 
  mouse_flip((unsigned char )((int )code - 39));
  break;
  case 48: 
  fwdact("Fscroll bars");
  break;
  case 44: ;
  if (config.flags & 16U) {
    do_quit();
  } else {
    ask_yesno("Really quit retawq?", (unsigned char)0, (tUserQuery *)((void *)0));
  }
  break;
  default: ;
  not_handled: 
  retval = (unsigned char)0;
  break;
  }
  out: 
  return (retval);
}
}
static tBoolean handle_command_code(tProgramCommandCode pcc ) 
{ tBoolean retval ;
  tWindow *window ;
  tBoolean (*func)(tWindow * , tProgramCommandCode  ) ;

  {
  window = visible_window_x[current_window_index_x];
  func = (window->spec)->handle_pcc;
  if ((unsigned int )func != (unsigned int )((void *)0)) {
    retval = ((*func))(window, pcc);
  } else {
    retval = (unsigned char)0;
  }
  if (! retval) {
    retval = generic_handle_command(pcc);
  }
  return (retval);
}
}
__inline static void handle_key_mouse(void) 
{ MEVENT event ;
  short x ;
  short _y ;
  tLinenumber y ;
  tLinenumber yt ;
  tVisibleWindowIndex i ;
  tWindow *window ;
  tBrowserDocument *document ;
  tActiveElement const   *aes ;
  tActiveElementNumber _ae ;
  mmask_t mask ;
  int tmp ;
  short offset ;
  short pos ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  tActiveElementCoordinates const   *aec ;
  tLinenumber yc ;
  short x1 ;
  short x2 ;
  tActiveElementBase const   *aeb ;
  tWindow *tmp___3 ;

  {
  tmp = getmouse(& event);
  if (tmp != 0) {
    return;
  }
  mask = event.bstate;
  if (! (mask & 16644UL)) {
    return;
  }
  x = (short )event.x;
  _y = (short )event.y;
  y = (int )_y;
  if (! ((int )key_handling_mode == 1)) {
    sprintf((char * __restrict  )(strbuf___0), (char const   * __restrict  )"mouse click: %d, %d",
            x, _y);
    show_message((char const   *)(strbuf___0), (unsigned char)0);
  }
  if ((int )key_handling_mode == 1) {
    if ((int )lid.curr == 1) {
      if (y == (tLinenumber )lid.area[lid.curr].row) {
        if ((int )x >= (int )lid.area[lid.curr].colmin) {
          if ((int )x <= (int )lid.area[lid.curr].colmax) {
            offset = (short )((int )x - (int )lid.area[lid.curr].colcurr);
            if ((int )offset < 0) {
              li_off: 
              lid.area[lid.curr].colcurr = (short )((int )lid.area[lid.curr].colcurr +
                                                    (int )offset);
              lid.area[lid.curr].pos = (short )((int )lid.area[lid.curr].pos + (int )offset);
              wmove(stdscr, (int )lid.area[lid.curr].row, (int )lid.area[lid.curr].colcurr);
            } else {
              if ((int )offset > 0) {
                pos = (short )((int )lid.area[lid.curr].pos + (int )offset);
                if ((int )pos > (int )lid.area[lid.curr].len) {
                  pos = lid.area[lid.curr].len;
                }
                if ((int )pos > (int )lid.area[lid.curr].pos) {
                  offset = (short )((int )pos - (int )lid.area[lid.curr].pos);
                  goto li_off;
                }
              }
            }
          } else {
            goto _L___1;
          }
        } else {
          goto _L___1;
        }
      } else {
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ ;
    }
    return;
  } else {
    if ((int )key_handling_mode == 2) {
      if (mask & 4UL) {
        cm_handle_mouseclick(x, _y);
      }
      return;
    }
  }
  if (y > LINES - 2) {
    check_other_buttons: 
    _ae = -1;
    do_check_other_buttons: 
    if (mask & 16640UL) {
      cm_setup_contextual(x, _y, _ae);
    }
    return;
  }
  if ((unsigned int )visible_window_x[1] == (unsigned int )((void *)0)) {
    i = (unsigned char)0;
  } else {
    if ((LINES - 2) / 2 > 1) {
      tmp___2 = (LINES - 2) / 2;
    } else {
      tmp___2 = 1;
    }
    if (y == tmp___2) {
      goto check_other_buttons;
    } else {
      if ((LINES - 2) / 2 > 1) {
        tmp___1 = (LINES - 2) / 2;
      } else {
        tmp___1 = 1;
      }
      if (y < tmp___1) {
        i = (unsigned char)0;
      } else {
        i = (unsigned char)1;
        if ((LINES - 2) / 2 > 1) {
          tmp___0 = (LINES - 2) / 2;
        } else {
          tmp___0 = 1;
        }
        y -= tmp___0 + 1;
      }
    }
  }
  current_window_index_x = i;
  window = visible_window_x[current_window_index_x];
  document = ((*(((visible_window_x[current_window_index_x])->spec)->find_currdoc)))((tWindow const   *)visible_window_x[current_window_index_x]);
  if ((unsigned int )document == (unsigned int )((void *)0)) {
    goto _L___2;
  } else {
    if (document->aenum <= 0) {
      _L___2: /* CIL Label */ 
      goto check_other_buttons;
    }
  }
  yt = y + document->origin_y;
  aes = (tActiveElement const   *)document->active_element;
  _ae = 0;
  while (_ae < document->aenum) {
    aec = (tActiveElementCoordinates const   *)(aes + _ae)->aec;
    while ((unsigned int )aec != (unsigned int )((void *)0)) {
      yc = aec->y;
      x1 = aec->x1;
      x2 = aec->x2;
      if (yt == yc) {
        if ((int )x >= (int )x1) {
          if ((int )x <= (int )x2) {
            if (_ae != document->aecur) {
              activate_element(document, _ae);
            }
            if (! (mask & 4UL)) {
              goto do_check_other_buttons;
            }
            aeb = (tActiveElementBase const   *)((document->cantent)->aebase + _ae);
            if ((int )aeb->kind == 1) {
              while (1) {
                break;
              }
              tmp___3 = require_browser_window();
              wk_browser_prr(tmp___3, aeb->data, (unsigned short)2, (tBrowserDocument const   *)document);
            }
            return;
          } else {
            goto _L___4;
          }
        } else {
          goto _L___4;
        }
      } else {
        _L___4: /* CIL Label */ ;
      }
      aec = (tActiveElementCoordinates const   *)aec->next;
    }
    _ae ++;
  }
  goto check_other_buttons;
}
}
__inline static tMbsIndex lookup_command_key(tKey key ) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;

  {
  if (keymap_command_keys_num <= 0U) {
    return ((short)-1);
  }
  min = (tMbsIndex )0;
  max = (tMbsIndex )(keymap_command_keys_num - 1U);
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    if (key > (keymap_command_keys + idx)->key) {
      res = 1;
    } else {
      if (key < (keymap_command_keys + idx)->key) {
        res = -1;
      } else {
        res = 0;
      }
    }
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
static void handle_key(tKey key ) 
{ tWindow *window ;
  tWindowSpec const   *spec ;
  tBoolean (*func)(tWindow * , tKey  ) ;
  tBoolean might_try_key ;
  int tmp ;
  tMbsIndex idx ;
  tBoolean tmp___0 ;
  tBoolean tmp___1 ;
  tBoolean tmp___2 ;
  char const   *tmp___3 ;

  {
  if (key == 409) {
    handle_key_mouse();
    return;
  }
  if (key == 410) {
    if ((int )key_handling_mode == 1) {
      line_input_resize();
    } else {
      if ((int )key_handling_mode == 2) {
        cm_cancel();
      }
    }
    window_redraw_all();
    return;
  }
  remap_key(& key);
  if ((int )key_handling_mode == 0) {
    if (key != 355) {
      window = visible_window_x[current_window_index_x];
      spec = window->spec;
      func = spec->handle_key;
      if ((unsigned int )func != (unsigned int )((void *)0)) {
        tmp = 1;
      } else {
        tmp = 0;
      }
      might_try_key = (tBoolean )tmp;
      if ((int )spec->flags & 1) {
        if (might_try_key) {
          tmp___0 = ((*func))(window, key);
          if (tmp___0) {
            return;
          } else {
            might_try_key = (unsigned char)0;
          }
        } else {
          goto _L;
        }
      } else {
        _L: /* CIL Label */ ;
      }
      idx = lookup_command_key(key);
      if ((int )idx >= 0) {
        tmp___1 = handle_command_code((keymap_command_keys + idx)->pcc);
        if (tmp___1) {
          return;
        }
      } else {
        if (might_try_key) {
          tmp___2 = ((*func))(window, key);
          if (tmp___2) {
            return;
          } else {
            goto _L___0;
          }
        } else {
          _L___0: /* CIL Label */ ;
        }
      }
      if ((int )idx >= 0) {
        tmp___3 = "Keyboard command not handled";
      } else {
        tmp___3 = "Key not handled";
      }
      show_message(tmp___3, (unsigned char)1);
    }
  } else {
    if ((int )key_handling_mode == 1) {
      line_input_handle_key(key);
    } else {
      if ((int )key_handling_mode == 2) {
        switch (key) {
        case 343: 
        cm_apply();
        break;
        case 355: 
        cm_cancel();
        break;
        case 259: 
        cm_line_up();
        break;
        case 258: 
        cm_line_down();
        break;
        case 339: 
        cm_page_up();
        break;
        case 338: 
        cm_page_down();
        break;
        }
      }
    }
  }
  return;
}
}
static tBoolean rwd_cb_redir(tRemainingWork const   *rw ) 
{ tWindow *window ;
  tBrowserDocument const   *referrer ;
  char const   *uri ;

  {
  window = (tWindow *)rw->data1;
  referrer = (tBrowserDocument const   *)rw->data2;
  uri = (char const   *)rw->data3;
  wk_browser_prr(window, uri, (unsigned short)66, referrer);
  memory_deallocate_ll((void const   *)uri);
  return ((unsigned char)0);
}
}
static void test_redirection(tWindow *window , tBrowserDocument *document ) 
{ tResourceRequest const   *request ;
  tResource const   *resource ;
  char const   *redirection ;
  tCantent *cantent ;
  tServerStatusCode ssc ;
  tRemainingWork *rw ;

  {
  if ((int )document->flags & 8) {
    goto _L___0;
  } else {
    cantent = document->cantent;
    if ((unsigned int )cantent == (unsigned int )((void *)0)) {
      _L___0: /* CIL Label */ 
      goto _L;
    } else {
      redirection = cantent->redirection;
      if ((unsigned int )redirection == (unsigned int )((void *)0)) {
        _L: /* CIL Label */ 
        return;
      }
    }
  }
  document->flags = (unsigned char )((int )document->flags | 8);
  if ((int )document->bddm == 1) {
    return;
  }
  request = (tResourceRequest const   *)document->request;
  if ((unsigned int )request != (unsigned int )((void *)0)) {
    resource = (tResource const   *)request->resource;
  } else {
    resource = (tResource const   *)((void *)0);
  }
  if ((unsigned int )resource != (unsigned int )((void *)0)) {
    if ((int )rp_data[resource->protocol].flags & 2) {
      ssc = resource->server_status_code;
      if ((int )ssc == 301) {
        goto _L___3;
      } else {
        if ((int )ssc == 302) {
          _L___3: /* CIL Label */ 
          goto _L___2;
        } else {
          if ((int )ssc == 303) {
            _L___2: /* CIL Label */ 
            goto setup_redirect;
          } else {
            if ((int )ssc == 307) {
              setup_redirect: 
              while (1) {
                break;
              }
              rw = remaining_work_create(& rwd_cb_redir);
              rw->data1 = (void *)window;
              rw->data2 = (void *)document;
              rw->data3 = (void *)my_strdup(redirection);
            }
          }
        }
      }
    } else {
      goto _L___4;
    }
  } else {
    _L___4: /* CIL Label */ 
    if ((int )cantent->caf & 2) {
      goto setup_redirect;
    }
  }
  return;
}
}
static char const   strAccount[8]  = 
  {      (char const   )'a',      (char const   )'c',      (char const   )'c',      (char const   )'o', 
        (char const   )'u',      (char const   )'n',      (char const   )'t',      (char const   )'\000'};
static char const   strAppend[7]  = {      (char const   )'a',      (char const   )'p',      (char const   )'p',      (char const   )'e', 
        (char const   )'n',      (char const   )'d',      (char const   )'\000'};
static char const   strAscii[6]  = {      (char const   )'a',      (char const   )'s',      (char const   )'c',      (char const   )'i', 
        (char const   )'i',      (char const   )'\000'};
static char const   strAuth[5]  = {      (char const   )'a',      (char const   )'u',      (char const   )'t',      (char const   )'h', 
        (char const   )'\000'};
static char const   strBinary[7]  = {      (char const   )'b',      (char const   )'i',      (char const   )'n',      (char const   )'a', 
        (char const   )'r',      (char const   )'y',      (char const   )'\000'};
static char const   strCdup[5]  = {      (char const   )'c',      (char const   )'d',      (char const   )'u',      (char const   )'p', 
        (char const   )'\000'};
static char const   strDelete[7]  = {      (char const   )'d',      (char const   )'e',      (char const   )'l',      (char const   )'e', 
        (char const   )'t',      (char const   )'e',      (char const   )'\000'};
static char const   strDownload[9]  = 
  {      (char const   )'d',      (char const   )'o',      (char const   )'w',      (char const   )'n', 
        (char const   )'l',      (char const   )'o',      (char const   )'a',      (char const   )'d', 
        (char const   )'\000'};
static char const   strLcGet[4]  = {      (char const   )'g',      (char const   )'e',      (char const   )'t',      (char const   )'\000'};
static char const   strHash[5]  = {      (char const   )'h',      (char const   )'a',      (char const   )'s',      (char const   )'h', 
        (char const   )'\000'};
static char const   strLabel[6]  = {      (char const   )'l',      (char const   )'a',      (char const   )'b',      (char const   )'e', 
        (char const   )'l',      (char const   )'\000'};
static char const   strLcd[4]  = {      (char const   )'l',      (char const   )'c',      (char const   )'d',      (char const   )'\000'};
static char const   strLs[3]  = {      (char const   )'l',      (char const   )'s',      (char const   )'\000'};
static char const   strMkdir[6]  = {      (char const   )'m',      (char const   )'k',      (char const   )'d',      (char const   )'i', 
        (char const   )'r',      (char const   )'\000'};
static char const   strOpen[5]  = {      (char const   )'o',      (char const   )'p',      (char const   )'e',      (char const   )'n', 
        (char const   )'\000'};
static char const   strPass[5]  = {      (char const   )'p',      (char const   )'a',      (char const   )'s',      (char const   )'s', 
        (char const   )'\000'};
static char const   strPut[4]  = {      (char const   )'p',      (char const   )'u',      (char const   )'t',      (char const   )'\000'};
static char const   strPwd[4]  = {      (char const   )'p',      (char const   )'w',      (char const   )'d',      (char const   )'\000'};
static char const   strQuote[6]  = {      (char const   )'q',      (char const   )'u',      (char const   )'o',      (char const   )'t', 
        (char const   )'e',      (char const   )'\000'};
static char const   strRestart[8]  = 
  {      (char const   )'r',      (char const   )'e',      (char const   )'s',      (char const   )'t', 
        (char const   )'a',      (char const   )'r',      (char const   )'t',      (char const   )'\000'};
static char const   strRmdir[6]  = {      (char const   )'r',      (char const   )'m',      (char const   )'d',      (char const   )'i', 
        (char const   )'r',      (char const   )'\000'};
static char const   strSite[5]  = {      (char const   )'s',      (char const   )'i',      (char const   )'t',      (char const   )'e', 
        (char const   )'\000'};
static char const   strTask[5]  = {      (char const   )'t',      (char const   )'a',      (char const   )'s',      (char const   )'k', 
        (char const   )'\000'};
static char const   strUpload[7]  = {      (char const   )'u',      (char const   )'p',      (char const   )'l',      (char const   )'o', 
        (char const   )'a',      (char const   )'d',      (char const   )'\000'};
static char const   strUser[5]  = {      (char const   )'u',      (char const   )'s',      (char const   )'e',      (char const   )'r', 
        (char const   )'\000'};
static char const   strExcl[2]  = {      (char const   )'!',      (char const   )'\000'};
static char const   strSpaceOpeningBrace[3]  = {      (char const   )' ',      (char const   )'(',      (char const   )'\000'};
static char const   strClosingBrace[2]  = {      (char const   )')',      (char const   )'\000'};
static char const   strTooFewArguments[19]  = 
  {      (char const   )'T',      (char const   )'o',      (char const   )'o',      (char const   )' ', 
        (char const   )'f',      (char const   )'e',      (char const   )'w',      (char const   )' ', 
        (char const   )'a',      (char const   )'r',      (char const   )'g',      (char const   )'u', 
        (char const   )'m',      (char const   )'e',      (char const   )'n',      (char const   )'t', 
        (char const   )'s',      (char const   )'\n',      (char const   )'\000'};
static int cc_hash_bytes  =    1024;
static unsigned char cc_do_hash  =    (tBoolean )0;
static tCccData const   cccdata[32]  = 
  {      {strQuit, "quit retawq", (tCccFlags )9, (tCccArgnum )0, (tCccArgnum )0}, 
        {strOptVersion + 2, "print version information", (tCccFlags )8, (tCccArgnum )0,
      (tCccArgnum )0}, 
        {strOptHelp + 2, "print help information", (tCccFlags )8, (tCccArgnum )0, (tCccArgnum )100}, 
        {strHash,
      "hashmarks on/off", (tCccFlags )8, (tCccArgnum )0, (tCccArgnum )1}, 
        {strLcd, "change local directory", (tCccFlags )9, (tCccArgnum )0, (tCccArgnum )1}, 
        {strTask,
      "switch to <task-id>", (tCccFlags )9, (tCccArgnum )1, (tCccArgnum )1}, 
        {strInfo, "show information about existing task(s)", (tCccFlags )9, (tCccArgnum )0,
      (tCccArgnum )100}, 
        {strLabel, "label a task", (tCccFlags )9, (tCccArgnum )1, (tCccArgnum )2}, 
        {strAuth, "start TLS/SSL handshake (p/c/s)", (tCccFlags )2, (tCccArgnum )0, (tCccArgnum )1}, 
        {strDownload,
      "download via URL", (tCccFlags )9, (tCccArgnum )1, (tCccArgnum )2}, 
        {strUpload, "upload via URL", (tCccFlags )9, (tCccArgnum )1, (tCccArgnum )2}, 
        {strOpen,
      "open a connection to a server (via URL)", (tCccFlags )8, (tCccArgnum )1, (tCccArgnum )1}, 
        {strClose,
      "close some connection(s)", (tCccFlags )8, (tCccArgnum )0, (tCccArgnum )100}, 
        {strQuote,
      "send a verbatim command", (tCccFlags )2, (tCccArgnum )1, (tCccArgnum )100}, 
        {strUser,
      "send username", (tCccFlags )2, (tCccArgnum )0, (tCccArgnum )1}, 
        {strPass, "send password", (tCccFlags )2, (tCccArgnum )0, (tCccArgnum )1}, 
        {strAccount, "send account", (tCccFlags )2, (tCccArgnum )1, (tCccArgnum )1}, 
        {strLcd + 1, "change remote directory", (tCccFlags )2, (tCccArgnum )1, (tCccArgnum )1}, 
        {strCdup,
      "change to remote parent directory", (tCccFlags )6, (tCccArgnum )0, (tCccArgnum )0}, 
        {strPwd,
      "print remote working directory", (tCccFlags )6, (tCccArgnum )0, (tCccArgnum )0}, 
        {strLs,
      "list contents of remote directory", (tCccFlags )0, (tCccArgnum )0, (tCccArgnum )100}, 
        {strAscii,
      "set file transfer type to ASCII", (tCccFlags )2, (tCccArgnum )0, (tCccArgnum )0}, 
        {strBinary,
      "set file transfer type to binary", (tCccFlags )2, (tCccArgnum )0, (tCccArgnum )0}, 
        {strDelete,
      "delete remote file", (tCccFlags )2, (tCccArgnum )1, (tCccArgnum )1}, 
        {strMkdir, "make remote directory", (tCccFlags )2, (tCccArgnum )1, (tCccArgnum )1}, 
        {strRmdir,
      "delete remote directory", (tCccFlags )2, (tCccArgnum )1, (tCccArgnum )1}, 
        {strRestart, "set file transfer restart marker", (tCccFlags )2, (tCccArgnum )1,
      (tCccArgnum )1}, 
        {strLcGet, "receive one file", (tCccFlags )0, (tCccArgnum )1, (tCccArgnum )2}, 
        {strPut,
      "upload one file", (tCccFlags )0, (tCccArgnum )1, (tCccArgnum )2}, 
        {strAppend, "append to remote file", (tCccFlags )0, (tCccArgnum )1, (tCccArgnum )2}, 
        {strSite,
      "send site-specific command", (tCccFlags )6, (tCccArgnum )1, (tCccArgnum )100}, 
        {strExcl,
      "execute a shell command", (tCccFlags )9, (tCccArgnum )1, (tCccArgnum )100}};
static tCccXlat const   cccxlat[30]  = 
  {      {strQm, (tCccCode )2}, 
        {strAccount, (tCccCode )16}, 
        {strAscii, (tCccCode )21}, 
        {strBinary, (tCccCode )22}, 
        {"bye", (tCccCode )0}, 
        {strLcd + 1, (tCccCode )17}, 
        {strCdup, (tCccCode )18}, 
        {strClose, (tCccCode )12}, 
        {strDelete, (tCccCode )23}, 
        {strDownload, (tCccCode )9}, 
        {"exit", (tCccCode )0}, 
        {strLcGet, (tCccCode )27}, 
        {strHash, (tCccCode )3}, 
        {strOptHelp + 2, (tCccCode )2}, 
        {strInfo, (tCccCode )6}, 
        {strLabel, (tCccCode )7}, 
        {strLcd, (tCccCode )4}, 
        {strLs, (tCccCode )20}, 
        {strMkdir, (tCccCode )24}, 
        {strOpen, (tCccCode )11}, 
        {strPass, (tCccCode )15}, 
        {strPwd, (tCccCode )19}, 
        {strQuit, (tCccCode )0}, 
        {strQuote, (tCccCode )13}, 
        {strRestart, (tCccCode )26}, 
        {strRmdir, (tCccCode )25}, 
        {strSite, (tCccCode )30}, 
        {strTask, (tCccCode )5}, 
        {strUser, (tCccCode )14}, 
        {strOptVersion + 2, (tCccCode )1}};
__inline static tMbsIndex __ccc_do_lookup(char const   *str ) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___29 ;
  size_t tmp___30 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___45 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )(sizeof(cccxlat) / sizeof(cccxlat[0]) - 1U);
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    tmp___55 = __builtin_constant_p(str);
    if (tmp___55) {
      tmp___56 = __builtin_constant_p(cccxlat[idx].cmdstr);
      if (tmp___56) {
        __s1_len = strlen(str);
        __s2_len = strlen(cccxlat[idx].cmdstr);
        if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
               1U)) {
          goto _L___172;
        } else {
          if (__s1_len >= 4U) {
            _L___172: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)(cccxlat[idx].cmdstr + 1)) - (unsigned int )((void const   *)cccxlat[idx].cmdstr) ==
                   1U)) {
              goto _L___171;
            } else {
              if (__s2_len >= 4U) {
                _L___171: /* CIL Label */ 
                tmp___57 = 1;
              } else {
                goto _L___170;
              }
            }
          } else {
            _L___170: /* CIL Label */ 
            tmp___57 = 0;
          }
        }
        if (tmp___57) {
          if (__s1_len < __s2_len) {
            tmp___30 = __s1_len;
          } else {
            tmp___30 = __s2_len;
          }
          tmp___29 = memcmp((void const   *)str, (void const   *)cccxlat[idx].cmdstr,
                            tmp___30 + 1U);
        } else {
          goto _L___174;
        }
      } else {
        goto _L___174;
      }
    } else {
      _L___174: /* CIL Label */ 
      tmp___54 = __builtin_constant_p(str);
      if (tmp___54) {
        if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
            1U) {
          __s1_len = strlen(str);
          if (__s1_len < 4U) {
            tmp___45 = __builtin_constant_p(cccxlat[idx].cmdstr);
            if (tmp___45) {
              if ((unsigned int )((void const   *)(cccxlat[idx].cmdstr + 1)) - (unsigned int )((void const   *)cccxlat[idx].cmdstr) ==
                  1U) {
                __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                        0)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                               0)));
                if (__s1_len > 0U) {
                  if (__result___37 == 0) {
                    __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                            1)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                   1)));
                    if (__s1_len > 1U) {
                      if (__result___37 == 0) {
                        __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                                2)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                       2)));
                        if (__s1_len > 2U) {
                          if (__result___37 == 0) {
                            __result___37 = (int )((int const   )(*((unsigned char const   *)str +
                                                                    3)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                           3)));
                          } else {
                            goto _L___133;
                          }
                        } else {
                          _L___133: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___134;
                      }
                    } else {
                      _L___134: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___135;
                  }
                } else {
                  _L___135: /* CIL Label */ ;
                }
                tmp___29 = __result___37;
              } else {
                goto _L___139;
              }
            } else {
              _L___139: /* CIL Label */ 
              __s2___6 = (unsigned char const   *)cccxlat[idx].cmdstr;
              __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                      0)) - (int const   )(*(__s2___6 +
                                                                             0)));
              if (__s1_len > 0U) {
                if (__result___38 == 0) {
                  __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                          1)) - (int const   )(*(__s2___6 +
                                                                                 1)));
                  if (__s1_len > 1U) {
                    if (__result___38 == 0) {
                      __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                              2)) - (int const   )(*(__s2___6 +
                                                                                     2)));
                      if (__s1_len > 2U) {
                        if (__result___38 == 0) {
                          __result___38 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  3)) - (int const   )(*(__s2___6 +
                                                                                         3)));
                        } else {
                          goto _L___136;
                        }
                      } else {
                        _L___136: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___137;
                    }
                  } else {
                    _L___137: /* CIL Label */ ;
                  }
                } else {
                  goto _L___138;
                }
              } else {
                _L___138: /* CIL Label */ ;
              }
              tmp___29 = __result___38;
            }
          } else {
            goto _L___169;
          }
        } else {
          goto _L___169;
        }
      } else {
        _L___169: /* CIL Label */ 
        tmp___53 = __builtin_constant_p(cccxlat[idx].cmdstr);
        if (tmp___53) {
          if ((unsigned int )((void const   *)(cccxlat[idx].cmdstr + 1)) - (unsigned int )((void const   *)cccxlat[idx].cmdstr) ==
              1U) {
            __s2_len = strlen(cccxlat[idx].cmdstr);
            if (__s2_len < 4U) {
              tmp___52 = __builtin_constant_p(str);
              if (tmp___52) {
                if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                    1U) {
                  __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                          0)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                 0)));
                  if (__s2_len > 0U) {
                    if (__result___45 == 0) {
                      __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                              1)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                     1)));
                      if (__s2_len > 1U) {
                        if (__result___45 == 0) {
                          __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  2)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                         2)));
                          if (__s2_len > 2U) {
                            if (__result___45 == 0) {
                              __result___45 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      3)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                             3)));
                            } else {
                              goto _L___159;
                            }
                          } else {
                            _L___159: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___160;
                        }
                      } else {
                        _L___160: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___161;
                    }
                  } else {
                    _L___161: /* CIL Label */ ;
                  }
                  tmp___29 = __result___45;
                } else {
                  goto _L___165;
                }
              } else {
                _L___165: /* CIL Label */ 
                __s1___14 = (unsigned char const   *)str;
                __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                           0)));
                if (__s2_len > 0U) {
                  if (__result___46 == 0) {
                    __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                               1)));
                    if (__s2_len > 1U) {
                      if (__result___46 == 0) {
                        __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                               (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                2)));
                        if (__s2_len > 2U) {
                          if (__result___46 == 0) {
                            __result___46 = (int )((int const   )(*(__s1___14 + 3)) -
                                                   (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                    3)));
                          } else {
                            goto _L___162;
                          }
                        } else {
                          _L___162: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___163;
                      }
                    } else {
                      _L___163: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___164;
                  }
                } else {
                  _L___164: /* CIL Label */ ;
                }
                tmp___29 = __result___46;
              }
            } else {
              goto _L___167;
            }
          } else {
            goto _L___167;
          }
        } else {
          _L___167: /* CIL Label */ 
          tmp___29 = strcmp(str, cccxlat[idx].cmdstr);
        }
      }
    }
    res = tmp___29;
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
__inline static tCccCode __ccc_lookup(char const   *str ) 
{ tMbsIndex idx ;
  tMbsIndex tmp ;
  int tmp___0 ;

  {
  tmp = __ccc_do_lookup(str);
  idx = tmp;
  if ((int )idx >= 0) {
    tmp___0 = (int )cccxlat[idx].code;
  } else {
    tmp___0 = -2;
  }
  return ((signed char )tmp___0);
}
}
__inline static tMbsIndex __ccc_do_lookup_prefix(char const   *prefix___0 , size_t prefixlen ) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___94 ;
  size_t tmp___95 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  int tmp___110 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___117 ;
  int tmp___118 ;
  int tmp___119 ;
  int tmp___120 ;
  int tmp___121 ;
  int tmp___122 ;
  int tmp___123 ;
  int tmp___124 ;
  size_t tmp___125 ;
  int tmp___126 ;
  size_t tmp___127 ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )(sizeof(cccxlat) / sizeof(cccxlat[0]) - 1U);
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    tmp___123 = __builtin_constant_p(prefixlen);
    if (tmp___123) {
      tmp___124 = __builtin_constant_p(prefix___0);
      if (tmp___124) {
        tmp___125 = strlen(prefix___0);
        if (tmp___125 < prefixlen) {
          goto _L___352;
        } else {
          goto _L___354;
        }
      } else {
        _L___354: /* CIL Label */ 
        tmp___126 = __builtin_constant_p(cccxlat[idx].cmdstr);
        if (tmp___126) {
          tmp___127 = strlen(cccxlat[idx].cmdstr);
          if (tmp___127 < prefixlen) {
            _L___352: /* CIL Label */ 
            tmp___120 = __builtin_constant_p(prefix___0);
            if (tmp___120) {
              tmp___121 = __builtin_constant_p(cccxlat[idx].cmdstr);
              if (tmp___121) {
                __s1_len___0 = strlen(prefix___0);
                __s2_len___0 = strlen(cccxlat[idx].cmdstr);
                if (! ((unsigned int )((void const   *)(prefix___0 + 1)) - (unsigned int )((void const   *)prefix___0) ==
                       1U)) {
                  goto _L___348;
                } else {
                  if (__s1_len___0 >= 4U) {
                    _L___348: /* CIL Label */ 
                    if (! ((unsigned int )((void const   *)(cccxlat[idx].cmdstr +
                                                            1)) - (unsigned int )((void const   *)cccxlat[idx].cmdstr) ==
                           1U)) {
                      goto _L___347;
                    } else {
                      if (__s2_len___0 >= 4U) {
                        _L___347: /* CIL Label */ 
                        tmp___122 = 1;
                      } else {
                        goto _L___346;
                      }
                    }
                  } else {
                    _L___346: /* CIL Label */ 
                    tmp___122 = 0;
                  }
                }
                if (tmp___122) {
                  if (__s1_len___0 < __s2_len___0) {
                    tmp___95 = __s1_len___0;
                  } else {
                    tmp___95 = __s2_len___0;
                  }
                  tmp___94 = memcmp((void const   *)prefix___0, (void const   *)cccxlat[idx].cmdstr,
                                    tmp___95 + 1U);
                } else {
                  goto _L___350;
                }
              } else {
                goto _L___350;
              }
            } else {
              _L___350: /* CIL Label */ 
              tmp___119 = __builtin_constant_p(prefix___0);
              if (tmp___119) {
                if ((unsigned int )((void const   *)(prefix___0 + 1)) - (unsigned int )((void const   *)prefix___0) ==
                    1U) {
                  __s1_len___0 = strlen(prefix___0);
                  if (__s1_len___0 < 4U) {
                    tmp___110 = __builtin_constant_p(cccxlat[idx].cmdstr);
                    if (tmp___110) {
                      if ((unsigned int )((void const   *)(cccxlat[idx].cmdstr + 1)) -
                          (unsigned int )((void const   *)cccxlat[idx].cmdstr) ==
                          1U) {
                        __result___85 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                0)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                       0)));
                        if (__s1_len___0 > 0U) {
                          if (__result___85 == 0) {
                            __result___85 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                    1)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                           1)));
                            if (__s1_len___0 > 1U) {
                              if (__result___85 == 0) {
                                __result___85 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                        2)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                               2)));
                                if (__s1_len___0 > 2U) {
                                  if (__result___85 == 0) {
                                    __result___85 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                            3)));
                                  } else {
                                    goto _L___309;
                                  }
                                } else {
                                  _L___309: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___310;
                              }
                            } else {
                              _L___310: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___311;
                          }
                        } else {
                          _L___311: /* CIL Label */ ;
                        }
                        tmp___94 = __result___85;
                      } else {
                        goto _L___315;
                      }
                    } else {
                      _L___315: /* CIL Label */ 
                      __s2___14 = (unsigned char const   *)cccxlat[idx].cmdstr;
                      __result___86 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                              0)) - (int const   )(*(__s2___14 +
                                                                                     0)));
                      if (__s1_len___0 > 0U) {
                        if (__result___86 == 0) {
                          __result___86 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                  1)) - (int const   )(*(__s2___14 +
                                                                                         1)));
                          if (__s1_len___0 > 1U) {
                            if (__result___86 == 0) {
                              __result___86 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                      2)) - (int const   )(*(__s2___14 +
                                                                                             2)));
                              if (__s1_len___0 > 2U) {
                                if (__result___86 == 0) {
                                  __result___86 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                          3)) - (int const   )(*(__s2___14 +
                                                                                                 3)));
                                } else {
                                  goto _L___312;
                                }
                              } else {
                                _L___312: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___313;
                            }
                          } else {
                            _L___313: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___314;
                        }
                      } else {
                        _L___314: /* CIL Label */ ;
                      }
                      tmp___94 = __result___86;
                    }
                  } else {
                    goto _L___345;
                  }
                } else {
                  goto _L___345;
                }
              } else {
                _L___345: /* CIL Label */ 
                tmp___118 = __builtin_constant_p(cccxlat[idx].cmdstr);
                if (tmp___118) {
                  if ((unsigned int )((void const   *)(cccxlat[idx].cmdstr + 1)) -
                      (unsigned int )((void const   *)cccxlat[idx].cmdstr) == 1U) {
                    __s2_len___0 = strlen(cccxlat[idx].cmdstr);
                    if (__s2_len___0 < 4U) {
                      tmp___117 = __builtin_constant_p(prefix___0);
                      if (tmp___117) {
                        if ((unsigned int )((void const   *)(prefix___0 + 1)) - (unsigned int )((void const   *)prefix___0) ==
                            1U) {
                          __result___93 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                  0)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                         0)));
                          if (__s2_len___0 > 0U) {
                            if (__result___93 == 0) {
                              __result___93 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                      1)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                             1)));
                              if (__s2_len___0 > 1U) {
                                if (__result___93 == 0) {
                                  __result___93 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                          2)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                                 2)));
                                  if (__s2_len___0 > 2U) {
                                    if (__result___93 == 0) {
                                      __result___93 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                              3)) -
                                                             (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                              3)));
                                    } else {
                                      goto _L___335;
                                    }
                                  } else {
                                    _L___335: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___336;
                                }
                              } else {
                                _L___336: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___337;
                            }
                          } else {
                            _L___337: /* CIL Label */ ;
                          }
                          tmp___94 = __result___93;
                        } else {
                          goto _L___341;
                        }
                      } else {
                        _L___341: /* CIL Label */ 
                        __s1___30 = (unsigned char const   *)prefix___0;
                        __result___94 = (int )((int const   )(*(__s1___30 + 0)) -
                                               (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                0)));
                        if (__s2_len___0 > 0U) {
                          if (__result___94 == 0) {
                            __result___94 = (int )((int const   )(*(__s1___30 + 1)) -
                                                   (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                    1)));
                            if (__s2_len___0 > 1U) {
                              if (__result___94 == 0) {
                                __result___94 = (int )((int const   )(*(__s1___30 +
                                                                        2)) - (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                                               2)));
                                if (__s2_len___0 > 2U) {
                                  if (__result___94 == 0) {
                                    __result___94 = (int )((int const   )(*(__s1___30 +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)cccxlat[idx].cmdstr +
                                                                            3)));
                                  } else {
                                    goto _L___338;
                                  }
                                } else {
                                  _L___338: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___339;
                              }
                            } else {
                              _L___339: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___340;
                          }
                        } else {
                          _L___340: /* CIL Label */ ;
                        }
                        tmp___94 = __result___94;
                      }
                    } else {
                      goto _L___343;
                    }
                  } else {
                    goto _L___343;
                  }
                } else {
                  _L___343: /* CIL Label */ 
                  tmp___94 = strcmp(prefix___0, cccxlat[idx].cmdstr);
                }
              }
            }
            res = tmp___94;
          } else {
            goto _L___353;
          }
        } else {
          _L___353: /* CIL Label */ 
          goto _L___351;
        }
      }
    } else {
      _L___351: /* CIL Label */ 
      res = strncmp(prefix___0, cccxlat[idx].cmdstr, prefixlen);
    }
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
static tMbsIndex ccc_minidx  ;
static tMbsIndex ccc_maxidx  ;
static tMbsIndex ccc_abbridx  ;
__inline static tCccCode __ccc_lookup_prefix(char const   *prefix___0 ) 
{ size_t prefixlen ;
  size_t tmp ;
  tMbsIndex idx ;
  tMbsIndex tmp___0 ;
  tMbsIndex minidx ;
  tMbsIndex maxidx ;
  int tmp___66 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___97 ;
  size_t tmp___98 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  int tmp___113 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___120 ;
  int tmp___121 ;
  int tmp___122 ;
  int tmp___123 ;
  int tmp___124 ;
  int tmp___125 ;
  int tmp___126 ;
  int tmp___127 ;
  size_t tmp___128 ;
  int tmp___129 ;
  size_t tmp___130 ;
  int tmp___196 ;
  size_t __s1_len___2 ;
  size_t __s2_len___2 ;
  int tmp___227 ;
  size_t tmp___228 ;
  register int __result___181 ;
  unsigned char const   *__s2___30 ;
  register int __result___182 ;
  int tmp___243 ;
  register int __result___189 ;
  unsigned char const   *__s1___62 ;
  register int __result___190 ;
  int tmp___250 ;
  int tmp___251 ;
  int tmp___252 ;
  int tmp___253 ;
  int tmp___254 ;
  int tmp___255 ;
  int tmp___256 ;
  int tmp___257 ;
  size_t tmp___258 ;
  int tmp___259 ;
  size_t tmp___260 ;
  int tmp___261 ;

  {
  tmp = strlen(prefix___0);
  prefixlen = tmp;
  tmp___0 = __ccc_do_lookup_prefix(prefix___0, prefixlen);
  idx = tmp___0;
  if ((int )idx >= 0) {
    maxidx = idx;
    minidx = maxidx;
    while (1) {
      minidx = (tMbsIndex )((int )minidx - 1);
      if (minidx >= 0) {
        tmp___126 = __builtin_constant_p(prefixlen);
        if (tmp___126) {
          tmp___127 = __builtin_constant_p(prefix___0);
          if (tmp___127) {
            tmp___128 = strlen(prefix___0);
            if (tmp___128 < prefixlen) {
              goto _L___352;
            } else {
              goto _L___354;
            }
          } else {
            _L___354: /* CIL Label */ 
            tmp___129 = __builtin_constant_p(cccxlat[minidx].cmdstr);
            if (tmp___129) {
              tmp___130 = strlen(cccxlat[minidx].cmdstr);
              if (tmp___130 < prefixlen) {
                _L___352: /* CIL Label */ 
                tmp___123 = __builtin_constant_p(prefix___0);
                if (tmp___123) {
                  tmp___124 = __builtin_constant_p(cccxlat[minidx].cmdstr);
                  if (tmp___124) {
                    __s1_len___0 = strlen(prefix___0);
                    __s2_len___0 = strlen(cccxlat[minidx].cmdstr);
                    if (! ((unsigned int )((void const   *)(prefix___0 + 1)) - (unsigned int )((void const   *)prefix___0) ==
                           1U)) {
                      goto _L___348;
                    } else {
                      if (__s1_len___0 >= 4U) {
                        _L___348: /* CIL Label */ 
                        if (! ((unsigned int )((void const   *)(cccxlat[minidx].cmdstr +
                                                                1)) - (unsigned int )((void const   *)cccxlat[minidx].cmdstr) ==
                               1U)) {
                          goto _L___347;
                        } else {
                          if (__s2_len___0 >= 4U) {
                            _L___347: /* CIL Label */ 
                            tmp___125 = 1;
                          } else {
                            goto _L___346;
                          }
                        }
                      } else {
                        _L___346: /* CIL Label */ 
                        tmp___125 = 0;
                      }
                    }
                    if (tmp___125) {
                      if (__s1_len___0 < __s2_len___0) {
                        tmp___98 = __s1_len___0;
                      } else {
                        tmp___98 = __s2_len___0;
                      }
                      tmp___97 = memcmp((void const   *)prefix___0, (void const   *)cccxlat[minidx].cmdstr,
                                        tmp___98 + 1U);
                    } else {
                      goto _L___350;
                    }
                  } else {
                    goto _L___350;
                  }
                } else {
                  _L___350: /* CIL Label */ 
                  tmp___122 = __builtin_constant_p(prefix___0);
                  if (tmp___122) {
                    if ((unsigned int )((void const   *)(prefix___0 + 1)) - (unsigned int )((void const   *)prefix___0) ==
                        1U) {
                      __s1_len___0 = strlen(prefix___0);
                      if (__s1_len___0 < 4U) {
                        tmp___113 = __builtin_constant_p(cccxlat[minidx].cmdstr);
                        if (tmp___113) {
                          if ((unsigned int )((void const   *)(cccxlat[minidx].cmdstr +
                                                               1)) - (unsigned int )((void const   *)cccxlat[minidx].cmdstr) ==
                              1U) {
                            __result___85 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                    0)) - (int const   )(*((unsigned char const   *)cccxlat[minidx].cmdstr +
                                                                                           0)));
                            if (__s1_len___0 > 0U) {
                              if (__result___85 == 0) {
                                __result___85 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                        1)) - (int const   )(*((unsigned char const   *)cccxlat[minidx].cmdstr +
                                                                                               1)));
                                if (__s1_len___0 > 1U) {
                                  if (__result___85 == 0) {
                                    __result___85 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                            2)) -
                                                           (int const   )(*((unsigned char const   *)cccxlat[minidx].cmdstr +
                                                                            2)));
                                    if (__s1_len___0 > 2U) {
                                      if (__result___85 == 0) {
                                        __result___85 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                                3)) -
                                                               (int const   )(*((unsigned char const   *)cccxlat[minidx].cmdstr +
                                                                                3)));
                                      } else {
                                        goto _L___309;
                                      }
                                    } else {
                                      _L___309: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___310;
                                  }
                                } else {
                                  _L___310: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___311;
                              }
                            } else {
                              _L___311: /* CIL Label */ ;
                            }
                            tmp___97 = __result___85;
                          } else {
                            goto _L___315;
                          }
                        } else {
                          _L___315: /* CIL Label */ 
                          __s2___14 = (unsigned char const   *)cccxlat[minidx].cmdstr;
                          __result___86 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                  0)) - (int const   )(*(__s2___14 +
                                                                                         0)));
                          if (__s1_len___0 > 0U) {
                            if (__result___86 == 0) {
                              __result___86 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                      1)) - (int const   )(*(__s2___14 +
                                                                                             1)));
                              if (__s1_len___0 > 1U) {
                                if (__result___86 == 0) {
                                  __result___86 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                          2)) - (int const   )(*(__s2___14 +
                                                                                                 2)));
                                  if (__s1_len___0 > 2U) {
                                    if (__result___86 == 0) {
                                      __result___86 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                              3)) -
                                                             (int const   )(*(__s2___14 +
                                                                              3)));
                                    } else {
                                      goto _L___312;
                                    }
                                  } else {
                                    _L___312: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___313;
                                }
                              } else {
                                _L___313: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___314;
                            }
                          } else {
                            _L___314: /* CIL Label */ ;
                          }
                          tmp___97 = __result___86;
                        }
                      } else {
                        goto _L___345;
                      }
                    } else {
                      goto _L___345;
                    }
                  } else {
                    _L___345: /* CIL Label */ 
                    tmp___121 = __builtin_constant_p(cccxlat[minidx].cmdstr);
                    if (tmp___121) {
                      if ((unsigned int )((void const   *)(cccxlat[minidx].cmdstr +
                                                           1)) - (unsigned int )((void const   *)cccxlat[minidx].cmdstr) ==
                          1U) {
                        __s2_len___0 = strlen(cccxlat[minidx].cmdstr);
                        if (__s2_len___0 < 4U) {
                          tmp___120 = __builtin_constant_p(prefix___0);
                          if (tmp___120) {
                            if ((unsigned int )((void const   *)(prefix___0 + 1)) -
                                (unsigned int )((void const   *)prefix___0) == 1U) {
                              __result___93 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                      0)) - (int const   )(*((unsigned char const   *)cccxlat[minidx].cmdstr +
                                                                                             0)));
                              if (__s2_len___0 > 0U) {
                                if (__result___93 == 0) {
                                  __result___93 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                          1)) - (int const   )(*((unsigned char const   *)cccxlat[minidx].cmdstr +
                                                                                                 1)));
                                  if (__s2_len___0 > 1U) {
                                    if (__result___93 == 0) {
                                      __result___93 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                              2)) -
                                                             (int const   )(*((unsigned char const   *)cccxlat[minidx].cmdstr +
                                                                              2)));
                                      if (__s2_len___0 > 2U) {
                                        if (__result___93 == 0) {
                                          __result___93 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                                  3)) -
                                                                 (int const   )(*((unsigned char const   *)cccxlat[minidx].cmdstr +
                                                                                  3)));
                                        } else {
                                          goto _L___335;
                                        }
                                      } else {
                                        _L___335: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___336;
                                    }
                                  } else {
                                    _L___336: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___337;
                                }
                              } else {
                                _L___337: /* CIL Label */ ;
                              }
                              tmp___97 = __result___93;
                            } else {
                              goto _L___341;
                            }
                          } else {
                            _L___341: /* CIL Label */ 
                            __s1___30 = (unsigned char const   *)prefix___0;
                            __result___94 = (int )((int const   )(*(__s1___30 + 0)) -
                                                   (int const   )(*((unsigned char const   *)cccxlat[minidx].cmdstr +
                                                                    0)));
                            if (__s2_len___0 > 0U) {
                              if (__result___94 == 0) {
                                __result___94 = (int )((int const   )(*(__s1___30 +
                                                                        1)) - (int const   )(*((unsigned char const   *)cccxlat[minidx].cmdstr +
                                                                                               1)));
                                if (__s2_len___0 > 1U) {
                                  if (__result___94 == 0) {
                                    __result___94 = (int )((int const   )(*(__s1___30 +
                                                                            2)) -
                                                           (int const   )(*((unsigned char const   *)cccxlat[minidx].cmdstr +
                                                                            2)));
                                    if (__s2_len___0 > 2U) {
                                      if (__result___94 == 0) {
                                        __result___94 = (int )((int const   )(*(__s1___30 +
                                                                                3)) -
                                                               (int const   )(*((unsigned char const   *)cccxlat[minidx].cmdstr +
                                                                                3)));
                                      } else {
                                        goto _L___338;
                                      }
                                    } else {
                                      _L___338: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___339;
                                  }
                                } else {
                                  _L___339: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___340;
                              }
                            } else {
                              _L___340: /* CIL Label */ ;
                            }
                            tmp___97 = __result___94;
                          }
                        } else {
                          goto _L___343;
                        }
                      } else {
                        goto _L___343;
                      }
                    } else {
                      _L___343: /* CIL Label */ 
                      tmp___97 = strcmp(prefix___0, cccxlat[minidx].cmdstr);
                    }
                  }
                }
                tmp___66 = tmp___97;
              } else {
                goto _L___353;
              }
            } else {
              _L___353: /* CIL Label */ 
              goto _L___351;
            }
          }
        } else {
          _L___351: /* CIL Label */ 
          tmp___66 = strncmp(prefix___0, cccxlat[minidx].cmdstr, prefixlen);
        }
        if (tmp___66) {
          goto _L___355;
        }
      } else {
        _L___355: /* CIL Label */ 
        break;
      }
    }
    while (1) {
      maxidx = (tMbsIndex )((int )maxidx + 1);
      if (maxidx < (int )((short )(sizeof(cccxlat) / sizeof(cccxlat[0])))) {
        tmp___256 = __builtin_constant_p(prefixlen);
        if (tmp___256) {
          tmp___257 = __builtin_constant_p(prefix___0);
          if (tmp___257) {
            tmp___258 = strlen(prefix___0);
            if (tmp___258 < prefixlen) {
              goto _L___709;
            } else {
              goto _L___711;
            }
          } else {
            _L___711: /* CIL Label */ 
            tmp___259 = __builtin_constant_p(cccxlat[maxidx].cmdstr);
            if (tmp___259) {
              tmp___260 = strlen(cccxlat[maxidx].cmdstr);
              if (tmp___260 < prefixlen) {
                _L___709: /* CIL Label */ 
                tmp___253 = __builtin_constant_p(prefix___0);
                if (tmp___253) {
                  tmp___254 = __builtin_constant_p(cccxlat[maxidx].cmdstr);
                  if (tmp___254) {
                    __s1_len___2 = strlen(prefix___0);
                    __s2_len___2 = strlen(cccxlat[maxidx].cmdstr);
                    if (! ((unsigned int )((void const   *)(prefix___0 + 1)) - (unsigned int )((void const   *)prefix___0) ==
                           1U)) {
                      goto _L___705;
                    } else {
                      if (__s1_len___2 >= 4U) {
                        _L___705: /* CIL Label */ 
                        if (! ((unsigned int )((void const   *)(cccxlat[maxidx].cmdstr +
                                                                1)) - (unsigned int )((void const   *)cccxlat[maxidx].cmdstr) ==
                               1U)) {
                          goto _L___704;
                        } else {
                          if (__s2_len___2 >= 4U) {
                            _L___704: /* CIL Label */ 
                            tmp___255 = 1;
                          } else {
                            goto _L___703;
                          }
                        }
                      } else {
                        _L___703: /* CIL Label */ 
                        tmp___255 = 0;
                      }
                    }
                    if (tmp___255) {
                      if (__s1_len___2 < __s2_len___2) {
                        tmp___228 = __s1_len___2;
                      } else {
                        tmp___228 = __s2_len___2;
                      }
                      tmp___227 = memcmp((void const   *)prefix___0, (void const   *)cccxlat[maxidx].cmdstr,
                                         tmp___228 + 1U);
                    } else {
                      goto _L___707;
                    }
                  } else {
                    goto _L___707;
                  }
                } else {
                  _L___707: /* CIL Label */ 
                  tmp___252 = __builtin_constant_p(prefix___0);
                  if (tmp___252) {
                    if ((unsigned int )((void const   *)(prefix___0 + 1)) - (unsigned int )((void const   *)prefix___0) ==
                        1U) {
                      __s1_len___2 = strlen(prefix___0);
                      if (__s1_len___2 < 4U) {
                        tmp___243 = __builtin_constant_p(cccxlat[maxidx].cmdstr);
                        if (tmp___243) {
                          if ((unsigned int )((void const   *)(cccxlat[maxidx].cmdstr +
                                                               1)) - (unsigned int )((void const   *)cccxlat[maxidx].cmdstr) ==
                              1U) {
                            __result___181 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                     0)) - (int const   )(*((unsigned char const   *)cccxlat[maxidx].cmdstr +
                                                                                            0)));
                            if (__s1_len___2 > 0U) {
                              if (__result___181 == 0) {
                                __result___181 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                         1)) - (int const   )(*((unsigned char const   *)cccxlat[maxidx].cmdstr +
                                                                                                1)));
                                if (__s1_len___2 > 1U) {
                                  if (__result___181 == 0) {
                                    __result___181 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                             2)) -
                                                            (int const   )(*((unsigned char const   *)cccxlat[maxidx].cmdstr +
                                                                             2)));
                                    if (__s1_len___2 > 2U) {
                                      if (__result___181 == 0) {
                                        __result___181 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                                 3)) -
                                                                (int const   )(*((unsigned char const   *)cccxlat[maxidx].cmdstr +
                                                                                 3)));
                                      } else {
                                        goto _L___666;
                                      }
                                    } else {
                                      _L___666: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___667;
                                  }
                                } else {
                                  _L___667: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___668;
                              }
                            } else {
                              _L___668: /* CIL Label */ ;
                            }
                            tmp___227 = __result___181;
                          } else {
                            goto _L___672;
                          }
                        } else {
                          _L___672: /* CIL Label */ 
                          __s2___30 = (unsigned char const   *)cccxlat[maxidx].cmdstr;
                          __result___182 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                   0)) - (int const   )(*(__s2___30 +
                                                                                          0)));
                          if (__s1_len___2 > 0U) {
                            if (__result___182 == 0) {
                              __result___182 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                       1)) - (int const   )(*(__s2___30 +
                                                                                              1)));
                              if (__s1_len___2 > 1U) {
                                if (__result___182 == 0) {
                                  __result___182 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                           2)) - (int const   )(*(__s2___30 +
                                                                                                  2)));
                                  if (__s1_len___2 > 2U) {
                                    if (__result___182 == 0) {
                                      __result___182 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                               3)) -
                                                              (int const   )(*(__s2___30 +
                                                                               3)));
                                    } else {
                                      goto _L___669;
                                    }
                                  } else {
                                    _L___669: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___670;
                                }
                              } else {
                                _L___670: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___671;
                            }
                          } else {
                            _L___671: /* CIL Label */ ;
                          }
                          tmp___227 = __result___182;
                        }
                      } else {
                        goto _L___702;
                      }
                    } else {
                      goto _L___702;
                    }
                  } else {
                    _L___702: /* CIL Label */ 
                    tmp___251 = __builtin_constant_p(cccxlat[maxidx].cmdstr);
                    if (tmp___251) {
                      if ((unsigned int )((void const   *)(cccxlat[maxidx].cmdstr +
                                                           1)) - (unsigned int )((void const   *)cccxlat[maxidx].cmdstr) ==
                          1U) {
                        __s2_len___2 = strlen(cccxlat[maxidx].cmdstr);
                        if (__s2_len___2 < 4U) {
                          tmp___250 = __builtin_constant_p(prefix___0);
                          if (tmp___250) {
                            if ((unsigned int )((void const   *)(prefix___0 + 1)) -
                                (unsigned int )((void const   *)prefix___0) == 1U) {
                              __result___189 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                       0)) - (int const   )(*((unsigned char const   *)cccxlat[maxidx].cmdstr +
                                                                                              0)));
                              if (__s2_len___2 > 0U) {
                                if (__result___189 == 0) {
                                  __result___189 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                           1)) - (int const   )(*((unsigned char const   *)cccxlat[maxidx].cmdstr +
                                                                                                  1)));
                                  if (__s2_len___2 > 1U) {
                                    if (__result___189 == 0) {
                                      __result___189 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                               2)) -
                                                              (int const   )(*((unsigned char const   *)cccxlat[maxidx].cmdstr +
                                                                               2)));
                                      if (__s2_len___2 > 2U) {
                                        if (__result___189 == 0) {
                                          __result___189 = (int )((int const   )(*((unsigned char const   *)prefix___0 +
                                                                                   3)) -
                                                                  (int const   )(*((unsigned char const   *)cccxlat[maxidx].cmdstr +
                                                                                   3)));
                                        } else {
                                          goto _L___692;
                                        }
                                      } else {
                                        _L___692: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___693;
                                    }
                                  } else {
                                    _L___693: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___694;
                                }
                              } else {
                                _L___694: /* CIL Label */ ;
                              }
                              tmp___227 = __result___189;
                            } else {
                              goto _L___698;
                            }
                          } else {
                            _L___698: /* CIL Label */ 
                            __s1___62 = (unsigned char const   *)prefix___0;
                            __result___190 = (int )((int const   )(*(__s1___62 + 0)) -
                                                    (int const   )(*((unsigned char const   *)cccxlat[maxidx].cmdstr +
                                                                     0)));
                            if (__s2_len___2 > 0U) {
                              if (__result___190 == 0) {
                                __result___190 = (int )((int const   )(*(__s1___62 +
                                                                         1)) - (int const   )(*((unsigned char const   *)cccxlat[maxidx].cmdstr +
                                                                                                1)));
                                if (__s2_len___2 > 1U) {
                                  if (__result___190 == 0) {
                                    __result___190 = (int )((int const   )(*(__s1___62 +
                                                                             2)) -
                                                            (int const   )(*((unsigned char const   *)cccxlat[maxidx].cmdstr +
                                                                             2)));
                                    if (__s2_len___2 > 2U) {
                                      if (__result___190 == 0) {
                                        __result___190 = (int )((int const   )(*(__s1___62 +
                                                                                 3)) -
                                                                (int const   )(*((unsigned char const   *)cccxlat[maxidx].cmdstr +
                                                                                 3)));
                                      } else {
                                        goto _L___695;
                                      }
                                    } else {
                                      _L___695: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___696;
                                  }
                                } else {
                                  _L___696: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___697;
                              }
                            } else {
                              _L___697: /* CIL Label */ ;
                            }
                            tmp___227 = __result___190;
                          }
                        } else {
                          goto _L___700;
                        }
                      } else {
                        goto _L___700;
                      }
                    } else {
                      _L___700: /* CIL Label */ 
                      tmp___227 = strcmp(prefix___0, cccxlat[maxidx].cmdstr);
                    }
                  }
                }
                tmp___196 = tmp___227;
              } else {
                goto _L___710;
              }
            } else {
              _L___710: /* CIL Label */ 
              goto _L___708;
            }
          }
        } else {
          _L___708: /* CIL Label */ 
          tmp___196 = strncmp(prefix___0, cccxlat[maxidx].cmdstr, prefixlen);
        }
        if (tmp___196) {
          goto _L___712;
        }
      } else {
        _L___712: /* CIL Label */ 
        break;
      }
    }
    minidx = (tMbsIndex )((int )minidx + 1);
    maxidx = (tMbsIndex )((int )maxidx - 1);
    if ((int )minidx < (int )maxidx) {
      ccc_minidx = minidx;
      ccc_maxidx = maxidx;
      return ((signed char)-1);
    } else {
      ccc_abbridx = idx;
    }
  }
  if ((int )idx >= 0) {
    tmp___261 = (int )cccxlat[idx].code;
  } else {
    tmp___261 = -2;
  }
  return ((signed char )tmp___261);
}
}
static tCccCode ccc_lookup(char const   *str ) 
{ tCccCode cccc ;
  tCccCode tmp ;

  {
  tmp = __ccc_lookup(str);
  cccc = tmp;
  ccc_abbridx = (short)-1;
  if ((int )cccc == -2) {
    cccc = __ccc_lookup_prefix(str);
  }
  return (cccc);
}
}
static char *ccs_ptr  ;
static tBoolean ccs_is_first  ;
static void ccs_append(char const   *str ) 
{ char ch ;
  char *tmp ;
  char *tmp___0 ;
  char const   *tmp___1 ;

  {
  if (ccs_is_first) {
    ccs_is_first = (unsigned char)0;
  } else {
    tmp = ccs_ptr;
    ccs_ptr ++;
    (*tmp) = (char )' ';
  }
  while (1) {
    tmp___1 = str;
    str ++;
    ch = (char )(*tmp___1);
    if (! ((int )ch != 0)) {
      break;
    }
    tmp___0 = ccs_ptr;
    ccs_ptr ++;
    (*tmp___0) = ch;
  }
  return;
}
}
static void cc_concat(char const   *cmd , char const   **arg , tCccArgnum argnum ,
                      tBoolean append_crlf ) 
{ tCccArgnum i ;
  char *tmp ;
  char *tmp___0 ;

  {
  ccs_ptr = strbuf___0;
  ccs_is_first = (unsigned char)1;
  if ((unsigned int )cmd != (unsigned int )((void *)0)) {
    ccs_append(cmd);
  }
  i = (unsigned char)0;
  while ((int )i < (int )argnum) {
    ccs_append((*(arg + i)));
    i = (tCccArgnum )((int )i + 1);
  }
  if (append_crlf) {
    tmp = ccs_ptr;
    ccs_ptr ++;
    (*tmp) = (char )'\r';
    tmp___0 = ccs_ptr;
    ccs_ptr ++;
    (*tmp___0) = (char )'\n';
  }
  (*ccs_ptr) = (char )'\000';
  return;
}
}
__inline static void cc_do_start(tCustomConnContext const   *context , unsigned char what ,
                                 void const   *whatever ) 
{ 

  {
  ((*((context->ops)->do_start)))(context, what, whatever);
  return;
}
}
__inline static void cc_do_start_cmd(tCustomConnContext const   *context , char const   *cmd ) 
{ 

  {
  cc_do_start(context, (unsigned char)0, (void const   *)cmd);
  return;
}
}
__inline static void cc_start_cmd(tCustomConnContext const   *context , char const   *cmd ,
                                  char const   **arg , tCccArgnum argnum ) 
{ 

  {
  cc_concat(cmd, arg, argnum, (unsigned char)1);
  cc_do_start_cmd(context, (char const   *)(strbuf___0));
  return;
}
}
__inline static void cc_start_rch(tCustomConnContext const   *context , tResourceCommandHandshake rch ) 
{ 

  {
  cc_do_start(context, (unsigned char)1, (void const   *)((void *)((int )rch)));
  return;
}
}
__inline static void cc_sequencer_prepare(tCustomConnContext const   *context , char const   *cmd ,
                                          void (*callback)(struct tCustomConnContext  const  * ,
                                                           tResource *resource , struct tCcSeqEntry *entry ,
                                                           tCcSeqStep  ) ) 
{ 

  {
  ((*((context->ops)->do_prepare_sequencer)))(context, cmd, callback);
  return;
}
}
static void cc_sequencer_cleanup(tCustomConnContext const   *context , tCcSeqEntry *entry ,
                                 tResource *resource ) 
{ void (*callback)(struct tCustomConnContext  const  * , tResource *resource , struct tCcSeqEntry *entry ,
                   tCcSeqStep  ) ;
  int tmp ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_133 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp___0 ;

  {
  callback = entry->callback;
  if ((unsigned int )callback != (unsigned int )((void *)0)) {
    if (entry->did_send) {
      tmp = 2;
    } else {
      tmp = 3;
    }
    ((*callback))(context, resource, entry, (unsigned char )tmp);
    tmp___0 = __builtin_constant_p(sizeof(tCcSeqEntry ));
    if (tmp___0) {
      if (sizeof(tCcSeqEntry ) <= 16U) {
        if (sizeof(tCcSeqEntry ) == 1U) {
          __s___1 = (void *)entry;
          (*((__uint8_t *)__s___1)) = (unsigned char)0;
        } else {
          __s___0 = (void *)entry;
          __u = (union __anonunion___u_133 *)__s___0;
          __c = (unsigned char)0;
          switch ((int )sizeof(tCcSeqEntry )) {
          case 15: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_133 *)((void *)__u + 4);
          case 11: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_133 *)((void *)__u + 4);
          case 7: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_133 *)((void *)__u + 4);
          case 3: 
          __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
          __u = (union __anonunion___u_133 *)((void *)__u + 2);
          __u->__uc = __c;
          break;
          case 14: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_133 *)((void *)__u + 4);
          case 10: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_133 *)((void *)__u + 4);
          case 6: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_133 *)((void *)__u + 4);
          case 2: 
          __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
          break;
          case 13: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_133 *)((void *)__u + 4);
          case 9: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_133 *)((void *)__u + 4);
          case 5: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_133 *)((void *)__u + 4);
          case 1: 
          __u->__uc = __c;
          break;
          case 16: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_133 *)((void *)__u + 4);
          case 12: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_133 *)((void *)__u + 4);
          case 8: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_133 *)((void *)__u + 4);
          case 4: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          case 0: ;
          break;
          }
        }
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      __s = (void *)entry;
      __builtin_memset(__s, '\000', (int )sizeof(tCcSeqEntry ));
    }
  }
  return;
}
}
static void cc_seq_cb_ls(tCustomConnContext const   *context , tResource *resource ,
                         tCcSeqEntry *entry , tCcSeqStep step ) 
{ char const   *cmd ;

  {
  switch ((int )step) {
  case 1: ;
  if ((unsigned int )resource != (unsigned int )((void *)0)) {
    resource->flags |= 8192U;
  }
  cmd = (char const   *)entry->data;
  cc_do_start_cmd(context, cmd);
  memory_deallocate_ll((void const   *)cmd);
  entry->data = (void *)0;
  break;
  case 2: ;
  case 3: ;
  if ((unsigned int )resource != (unsigned int )((void *)0)) {
    resource->flags &= 4294844415U;
  }
  while (1) {
    if ((unsigned int )entry->data != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)entry->data);
    }
    break;
  }
  break;
  }
  return;
}
}
static void cc_seq_cb_retr(tCustomConnContext const   *context , tResource *resource ,
                           tCcSeqEntry *entry , tCcSeqStep step ) 
{ char const   *cmd ;

  {
  switch ((int )step) {
  case 1: ;
  if ((unsigned int )resource != (unsigned int )((void *)0)) {
    resource->flags |= 65664U;
  }
  cmd = (char const   *)entry->data;
  cc_do_start_cmd(context, cmd);
  memory_deallocate_ll((void const   *)cmd);
  entry->data = (void *)0;
  break;
  case 2: ;
  case 3: ;
  if ((unsigned int )resource != (unsigned int )((void *)0)) {
    sinking_data_deallocate(& resource->sinking_data);
    resource->flags &= 4294844287U;
  }
  while (1) {
    if ((unsigned int )entry->data != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)entry->data);
    }
    break;
  }
  break;
  }
  return;
}
}
__inline static void ccc_execute(tCustomConnContext const   *context , char *inputstr ) ;
static char const   strCommaSpace[3]  = {      (char const   )',',      (char const   )' ',      (char const   )'\000'};
__inline static void ccc_execute(tCustomConnContext const   *context , char *inputstr ) 
{ tCccCode cccc ;
  tCccData const   *data ;
  tCccFlags cccf ;
  char const   *cmdstr ;
  char const   *_arg[50] ;
  char const   **arg ;
  char const   *sendcmd ;
  char const   *filename ;
  char type_ch ;
  char numbuf[200] ;
  char *temp ;
  tCccArgnum argnum ;
  tCccArgnum i ;
  char *tmp ;
  tCccArgnum tmp___0 ;
  char *tmp___1 ;
  tMbsIndex idx ;
  tBoolean is_first ;
  tBoolean tmp___2 ;
  tMbsIndex idx___0 ;
  tBoolean on_console ;
  int tmp___3 ;
  int maxlinewidth ;
  int linewidth ;
  int maxnum ;
  int count___2 ;
  int cmdwidth ;
  tCccXlat const   *xlat ;
  char const   *src ;
  char const   *origtemp ;
  tCccCode c ;
  tBoolean cannot_use ;
  int tmp___4 ;
  char ch ;
  char *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;
  char const   *tmp___8 ;
  char *tmp___9 ;
  char *tmp___10 ;
  char *tmp___11 ;
  char *tmp___12 ;
  char const   *str ;
  tCccCode c___0 ;
  tCccCode tmp___13 ;
  tCccData const   *d ;
  char const   *defaultstr ;
  tCccArgnum minarg ;
  tCccArgnum maxarg ;
  char const   *s ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___44 ;
  size_t tmp___45 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___60 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___67 ;
  int tmp___68 ;
  int tmp___69 ;
  int tmp___70 ;
  int tmp___71 ;
  int tmp___72 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___103 ;
  size_t tmp___104 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  int tmp___119 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___126 ;
  int tmp___127 ;
  int tmp___128 ;
  int tmp___129 ;
  int tmp___130 ;
  int tmp___131 ;
  tMbsIndex j ;
  char const   *val ;
  int bytes ;
  char const   *a ;
  char const   *ptr___0 ;
  tUriData *uri ;
  tUriData *tmp___132 ;
  tResourceProtocol rp ;
  tResourceError re ;
  tResourceRequest *request ;
  char *spfbuf ;
  tBoolean tmp___133 ;
  tBoolean tmp___134 ;

  {
  temp = inputstr;
  argnum = (tCccArgnum )0;
  splitloop: 
  while (1) {
    if ((int )(*temp) == 32) {
      goto _L;
    } else {
      if ((int )(*temp) == 9) {
        _L: /* CIL Label */ ;
      } else {
        break;
      }
    }
    tmp = temp;
    temp ++;
    (*tmp) = (char )'\000';
  }
  if ((int )(*temp) != 0) {
    if ((int )argnum >= 50) {
      err_tma: 
      cc_output_str("Too many arguments\n");
      return;
    }
    tmp___0 = argnum;
    argnum = (tCccArgnum )((int )argnum + 1);
    tmp___1 = temp;
    temp ++;
    _arg[tmp___0] = (char const   *)tmp___1;
    while (1) {
      if ((int )(*temp) != 32) {
        if ((int )(*temp) != 9) {
          if (! ((int )(*temp) != 0)) {
            goto _L___1;
          }
        } else {
          goto _L___1;
        }
      } else {
        _L___1: /* CIL Label */ 
        break;
      }
      temp ++;
    }
    if ((int )(*temp) != 0) {
      goto splitloop;
    }
  }
  if ((int )argnum <= 0) {
    return;
  }
  cmdstr = _arg[0];
  arg = & _arg[1];
  argnum = (tCccArgnum )((int )argnum - 1);
  cccc = ccc_lookup(cmdstr);
  if ((int )cccc == -2) {
    if ((int const   )(*cmdstr) == 63) {
      cccc = (signed char)2;
    } else {
      err_unknown_cmd: 
      cc_output_str("Unknown command. Try \"help\".\n");
      return;
    }
    _arg[0] ++;
    arg = _arg;
    argnum = (tCccArgnum )((int )argnum + 1);
  } else {
    if ((int )cccc == -1) {
      idx = ccc_minidx;
      is_first = (tBoolean )1;
      cc_output_str("Ambiguous command - ");
      while ((int )idx <= (int )ccc_maxidx) {
        if (is_first) {
          is_first = (unsigned char)0;
        } else {
          cc_output_str(strCommaSpace);
        }
        cc_output_str(cccxlat[idx].cmdstr);
        idx = (tMbsIndex )((int )idx + 1);
      }
      cc_output_str("?\n");
      return;
    }
  }
  data = & cccdata[cccc];
  cccf = data->flags;
  if ((int )cccf & 1) {
    if (! ((int )program_mode == 3)) {
      cc_output_str("Command only available in console mode\n");
      return;
    } else {
      goto _L___3;
    }
  } else {
    _L___3: /* CIL Label */ 
    if (! ((int )cccf & 8)) {
      tmp___2 = ((*((context->ops)->may_handle)))(context);
      if (tmp___2) {
        goto _L___2;
      } else {
        cc_output_str("Not connected (or no task selected)\n");
        return;
      }
    } else {
      _L___2: /* CIL Label */ 
      if ((int )argnum < (int )data->minarg) {
        err_tfa: 
        cc_output_str(strTooFewArguments);
        return;
      } else {
        if ((int )argnum > (int )data->maxarg) {
          goto err_tma;
        } else {
          if ((int )cccf & 4) {
            cc_start_cmd(context, data->default_cmdstr, arg, argnum);
            return;
          }
        }
      }
    }
  }
  switch ((int )cccc) {
  case 0: 
  do_quit();
  break;
  case 1: 
  cc_output_str(strCopyright);
  cc_output_str(strProgramLegalese);
  break;
  case 2: ;
  if ((int )argnum <= 0) {
    if ((int )program_mode == 3) {
      tmp___3 = 1;
    } else {
      tmp___3 = 0;
    }
    on_console = (tBoolean )tmp___3;
    maxlinewidth = 2048;
    linewidth = 80;
    cmdwidth = 9;
    if (linewidth > maxlinewidth) {
      linewidth = maxlinewidth;
    } else {
      if (linewidth < 25) {
        linewidth = 25;
      }
    }
    if (! on_console) {
      cmdwidth += 2;
    }
    maxnum = linewidth / (cmdwidth + 1);
    count___2 = 0;
    temp = strbuf___0;
    idx___0 = (short)0;
    while ((int )idx___0 < (int )((short )(sizeof(cccxlat) / sizeof(cccxlat[0])))) {
      xlat = & cccxlat[idx___0];
      src = xlat->cmdstr;
      c = xlat->code;
      if (! on_console) {
        if ((int )cccdata[c].flags & 1) {
          tmp___4 = 1;
        } else {
          goto _L___4;
        }
      } else {
        _L___4: /* CIL Label */ 
        tmp___4 = 0;
      }
      cannot_use = (tBoolean )tmp___4;
      if (count___2 > 0) {
        tmp___5 = temp;
        temp ++;
        (*tmp___5) = (char )' ';
      }
      origtemp = (char const   *)temp;
      if (cannot_use) {
        tmp___6 = temp;
        temp ++;
        (*tmp___6) = (char )'[';
      }
      while (1) {
        tmp___8 = src;
        src ++;
        ch = (char )(*tmp___8);
        if (! ((int )ch != 0)) {
          break;
        }
        tmp___7 = temp;
        temp ++;
        (*tmp___7) = ch;
      }
      if (cannot_use) {
        tmp___9 = temp;
        temp ++;
        (*tmp___9) = (char )']';
      }
      count___2 ++;
      if (count___2 >= maxnum) {
        tmp___10 = temp;
        temp ++;
        (*tmp___10) = (char )'\n';
        (*temp) = (char )'\000';
        cc_output_str((char const   *)(strbuf___0));
        count___2 = 0;
        temp = strbuf___0;
      } else {
        while (temp - (char *)origtemp < cmdwidth) {
          tmp___11 = temp;
          temp ++;
          (*tmp___11) = (char )' ';
        }
      }
      idx___0 = (tMbsIndex )((int )idx___0 + 1);
    }
    if (count___2 > 0) {
      tmp___12 = temp;
      temp ++;
      (*tmp___12) = (char )'\n';
      (*temp) = (char )'\000';
      cc_output_str((char const   *)(strbuf___0));
    }
  } else {
    i = (unsigned char)0;
    while ((int )i < (int )argnum) {
      str = (*(arg + i));
      tmp___13 = ccc_lookup(str);
      c___0 = tmp___13;
      cc_output_str(str);
      if ((int )c___0 >= 0) {
        d = & cccdata[c___0];
        defaultstr = d->default_cmdstr;
        minarg = d->minarg;
        maxarg = d->maxarg;
        tmp___129 = __builtin_constant_p(str);
        if (tmp___129) {
          tmp___130 = __builtin_constant_p(defaultstr);
          if (tmp___130) {
            __s1_len___0 = strlen(str);
            __s2_len___0 = strlen(defaultstr);
            if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                   1U)) {
              goto _L___354;
            } else {
              if (__s1_len___0 >= 4U) {
                _L___354: /* CIL Label */ 
                if (! ((unsigned int )((void const   *)(defaultstr + 1)) - (unsigned int )((void const   *)defaultstr) ==
                       1U)) {
                  goto _L___353;
                } else {
                  if (__s2_len___0 >= 4U) {
                    _L___353: /* CIL Label */ 
                    tmp___131 = 1;
                  } else {
                    goto _L___352;
                  }
                }
              } else {
                _L___352: /* CIL Label */ 
                tmp___131 = 0;
              }
            }
            if (tmp___131) {
              if (__s1_len___0 < __s2_len___0) {
                tmp___104 = __s1_len___0;
              } else {
                tmp___104 = __s2_len___0;
              }
              tmp___103 = memcmp((void const   *)str, (void const   *)defaultstr,
                                 tmp___104 + 1U);
            } else {
              goto _L___356;
            }
          } else {
            goto _L___356;
          }
        } else {
          _L___356: /* CIL Label */ 
          tmp___128 = __builtin_constant_p(str);
          if (tmp___128) {
            if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                1U) {
              __s1_len___0 = strlen(str);
              if (__s1_len___0 < 4U) {
                tmp___119 = __builtin_constant_p(defaultstr);
                if (tmp___119) {
                  if ((unsigned int )((void const   *)(defaultstr + 1)) - (unsigned int )((void const   *)defaultstr) ==
                      1U) {
                    __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                            0)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                   0)));
                    if (__s1_len___0 > 0U) {
                      if (__result___85 == 0) {
                        __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                                1)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                       1)));
                        if (__s1_len___0 > 1U) {
                          if (__result___85 == 0) {
                            __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                                    2)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                           2)));
                            if (__s1_len___0 > 2U) {
                              if (__result___85 == 0) {
                                __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                                        3)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                               3)));
                              } else {
                                goto _L___315;
                              }
                            } else {
                              _L___315: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___316;
                          }
                        } else {
                          _L___316: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___317;
                      }
                    } else {
                      _L___317: /* CIL Label */ ;
                    }
                    tmp___103 = __result___85;
                  } else {
                    goto _L___321;
                  }
                } else {
                  _L___321: /* CIL Label */ 
                  __s2___14 = (unsigned char const   *)defaultstr;
                  __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                          0)) - (int const   )(*(__s2___14 +
                                                                                 0)));
                  if (__s1_len___0 > 0U) {
                    if (__result___86 == 0) {
                      __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                              1)) - (int const   )(*(__s2___14 +
                                                                                     1)));
                      if (__s1_len___0 > 1U) {
                        if (__result___86 == 0) {
                          __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  2)) - (int const   )(*(__s2___14 +
                                                                                         2)));
                          if (__s1_len___0 > 2U) {
                            if (__result___86 == 0) {
                              __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      3)) - (int const   )(*(__s2___14 +
                                                                                             3)));
                            } else {
                              goto _L___318;
                            }
                          } else {
                            _L___318: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___319;
                        }
                      } else {
                        _L___319: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___320;
                    }
                  } else {
                    _L___320: /* CIL Label */ ;
                  }
                  tmp___103 = __result___86;
                }
              } else {
                goto _L___351;
              }
            } else {
              goto _L___351;
            }
          } else {
            _L___351: /* CIL Label */ 
            tmp___127 = __builtin_constant_p(defaultstr);
            if (tmp___127) {
              if ((unsigned int )((void const   *)(defaultstr + 1)) - (unsigned int )((void const   *)defaultstr) ==
                  1U) {
                __s2_len___0 = strlen(defaultstr);
                if (__s2_len___0 < 4U) {
                  tmp___126 = __builtin_constant_p(str);
                  if (tmp___126) {
                    if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                        1U) {
                      __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                              0)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                     0)));
                      if (__s2_len___0 > 0U) {
                        if (__result___93 == 0) {
                          __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  1)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                         1)));
                          if (__s2_len___0 > 1U) {
                            if (__result___93 == 0) {
                              __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      2)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                             2)));
                              if (__s2_len___0 > 2U) {
                                if (__result___93 == 0) {
                                  __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                                          3)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                                 3)));
                                } else {
                                  goto _L___341;
                                }
                              } else {
                                _L___341: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___342;
                            }
                          } else {
                            _L___342: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___343;
                        }
                      } else {
                        _L___343: /* CIL Label */ ;
                      }
                      tmp___103 = __result___93;
                    } else {
                      goto _L___347;
                    }
                  } else {
                    _L___347: /* CIL Label */ 
                    __s1___30 = (unsigned char const   *)str;
                    __result___94 = (int )((int const   )(*(__s1___30 + 0)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                               0)));
                    if (__s2_len___0 > 0U) {
                      if (__result___94 == 0) {
                        __result___94 = (int )((int const   )(*(__s1___30 + 1)) -
                                               (int const   )(*((unsigned char const   *)defaultstr +
                                                                1)));
                        if (__s2_len___0 > 1U) {
                          if (__result___94 == 0) {
                            __result___94 = (int )((int const   )(*(__s1___30 + 2)) -
                                                   (int const   )(*((unsigned char const   *)defaultstr +
                                                                    2)));
                            if (__s2_len___0 > 2U) {
                              if (__result___94 == 0) {
                                __result___94 = (int )((int const   )(*(__s1___30 +
                                                                        3)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                               3)));
                              } else {
                                goto _L___344;
                              }
                            } else {
                              _L___344: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___345;
                          }
                        } else {
                          _L___345: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___346;
                      }
                    } else {
                      _L___346: /* CIL Label */ ;
                    }
                    tmp___103 = __result___94;
                  }
                } else {
                  goto _L___349;
                }
              } else {
                goto _L___349;
              }
            } else {
              _L___349: /* CIL Label */ 
              tmp___103 = strcmp(str, defaultstr);
            }
          }
        }
        if (tmp___103) {
          cc_output_str(strSpaceOpeningBrace);
          if ((int )ccc_abbridx >= 0) {
            s = cccxlat[ccc_abbridx].cmdstr;
            tmp___70 = __builtin_constant_p(s);
            if (tmp___70) {
              tmp___71 = __builtin_constant_p(defaultstr);
              if (tmp___71) {
                __s1_len = strlen(s);
                __s2_len = strlen(defaultstr);
                if (! ((unsigned int )((void const   *)(s + 1)) - (unsigned int )((void const   *)s) ==
                       1U)) {
                  goto _L___178;
                } else {
                  if (__s1_len >= 4U) {
                    _L___178: /* CIL Label */ 
                    if (! ((unsigned int )((void const   *)(defaultstr + 1)) - (unsigned int )((void const   *)defaultstr) ==
                           1U)) {
                      goto _L___177;
                    } else {
                      if (__s2_len >= 4U) {
                        _L___177: /* CIL Label */ 
                        tmp___72 = 1;
                      } else {
                        goto _L___176;
                      }
                    }
                  } else {
                    _L___176: /* CIL Label */ 
                    tmp___72 = 0;
                  }
                }
                if (tmp___72) {
                  if (__s1_len < __s2_len) {
                    tmp___45 = __s1_len;
                  } else {
                    tmp___45 = __s2_len;
                  }
                  tmp___44 = memcmp((void const   *)s, (void const   *)defaultstr,
                                    tmp___45 + 1U);
                } else {
                  goto _L___180;
                }
              } else {
                goto _L___180;
              }
            } else {
              _L___180: /* CIL Label */ 
              tmp___69 = __builtin_constant_p(s);
              if (tmp___69) {
                if ((unsigned int )((void const   *)(s + 1)) - (unsigned int )((void const   *)s) ==
                    1U) {
                  __s1_len = strlen(s);
                  if (__s1_len < 4U) {
                    tmp___60 = __builtin_constant_p(defaultstr);
                    if (tmp___60) {
                      if ((unsigned int )((void const   *)(defaultstr + 1)) - (unsigned int )((void const   *)defaultstr) ==
                          1U) {
                        __result___37 = (int )((int const   )(*((unsigned char const   *)s +
                                                                0)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                       0)));
                        if (__s1_len > 0U) {
                          if (__result___37 == 0) {
                            __result___37 = (int )((int const   )(*((unsigned char const   *)s +
                                                                    1)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                           1)));
                            if (__s1_len > 1U) {
                              if (__result___37 == 0) {
                                __result___37 = (int )((int const   )(*((unsigned char const   *)s +
                                                                        2)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                               2)));
                                if (__s1_len > 2U) {
                                  if (__result___37 == 0) {
                                    __result___37 = (int )((int const   )(*((unsigned char const   *)s +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)defaultstr +
                                                                            3)));
                                  } else {
                                    goto _L___139;
                                  }
                                } else {
                                  _L___139: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___140;
                              }
                            } else {
                              _L___140: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___141;
                          }
                        } else {
                          _L___141: /* CIL Label */ ;
                        }
                        tmp___44 = __result___37;
                      } else {
                        goto _L___145;
                      }
                    } else {
                      _L___145: /* CIL Label */ 
                      __s2___6 = (unsigned char const   *)defaultstr;
                      __result___38 = (int )((int const   )(*((unsigned char const   *)s +
                                                              0)) - (int const   )(*(__s2___6 +
                                                                                     0)));
                      if (__s1_len > 0U) {
                        if (__result___38 == 0) {
                          __result___38 = (int )((int const   )(*((unsigned char const   *)s +
                                                                  1)) - (int const   )(*(__s2___6 +
                                                                                         1)));
                          if (__s1_len > 1U) {
                            if (__result___38 == 0) {
                              __result___38 = (int )((int const   )(*((unsigned char const   *)s +
                                                                      2)) - (int const   )(*(__s2___6 +
                                                                                             2)));
                              if (__s1_len > 2U) {
                                if (__result___38 == 0) {
                                  __result___38 = (int )((int const   )(*((unsigned char const   *)s +
                                                                          3)) - (int const   )(*(__s2___6 +
                                                                                                 3)));
                                } else {
                                  goto _L___142;
                                }
                              } else {
                                _L___142: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___143;
                            }
                          } else {
                            _L___143: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___144;
                        }
                      } else {
                        _L___144: /* CIL Label */ ;
                      }
                      tmp___44 = __result___38;
                    }
                  } else {
                    goto _L___175;
                  }
                } else {
                  goto _L___175;
                }
              } else {
                _L___175: /* CIL Label */ 
                tmp___68 = __builtin_constant_p(defaultstr);
                if (tmp___68) {
                  if ((unsigned int )((void const   *)(defaultstr + 1)) - (unsigned int )((void const   *)defaultstr) ==
                      1U) {
                    __s2_len = strlen(defaultstr);
                    if (__s2_len < 4U) {
                      tmp___67 = __builtin_constant_p(s);
                      if (tmp___67) {
                        if ((unsigned int )((void const   *)(s + 1)) - (unsigned int )((void const   *)s) ==
                            1U) {
                          __result___45 = (int )((int const   )(*((unsigned char const   *)s +
                                                                  0)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                         0)));
                          if (__s2_len > 0U) {
                            if (__result___45 == 0) {
                              __result___45 = (int )((int const   )(*((unsigned char const   *)s +
                                                                      1)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                             1)));
                              if (__s2_len > 1U) {
                                if (__result___45 == 0) {
                                  __result___45 = (int )((int const   )(*((unsigned char const   *)s +
                                                                          2)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                                 2)));
                                  if (__s2_len > 2U) {
                                    if (__result___45 == 0) {
                                      __result___45 = (int )((int const   )(*((unsigned char const   *)s +
                                                                              3)) -
                                                             (int const   )(*((unsigned char const   *)defaultstr +
                                                                              3)));
                                    } else {
                                      goto _L___165;
                                    }
                                  } else {
                                    _L___165: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___166;
                                }
                              } else {
                                _L___166: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___167;
                            }
                          } else {
                            _L___167: /* CIL Label */ ;
                          }
                          tmp___44 = __result___45;
                        } else {
                          goto _L___171;
                        }
                      } else {
                        _L___171: /* CIL Label */ 
                        __s1___14 = (unsigned char const   *)s;
                        __result___46 = (int )((int const   )(*(__s1___14 + 0)) -
                                               (int const   )(*((unsigned char const   *)defaultstr +
                                                                0)));
                        if (__s2_len > 0U) {
                          if (__result___46 == 0) {
                            __result___46 = (int )((int const   )(*(__s1___14 + 1)) -
                                                   (int const   )(*((unsigned char const   *)defaultstr +
                                                                    1)));
                            if (__s2_len > 1U) {
                              if (__result___46 == 0) {
                                __result___46 = (int )((int const   )(*(__s1___14 +
                                                                        2)) - (int const   )(*((unsigned char const   *)defaultstr +
                                                                                               2)));
                                if (__s2_len > 2U) {
                                  if (__result___46 == 0) {
                                    __result___46 = (int )((int const   )(*(__s1___14 +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)defaultstr +
                                                                            3)));
                                  } else {
                                    goto _L___168;
                                  }
                                } else {
                                  _L___168: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___169;
                              }
                            } else {
                              _L___169: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___170;
                          }
                        } else {
                          _L___170: /* CIL Label */ ;
                        }
                        tmp___44 = __result___46;
                      }
                    } else {
                      goto _L___173;
                    }
                  } else {
                    goto _L___173;
                  }
                } else {
                  _L___173: /* CIL Label */ 
                  tmp___44 = strcmp(s, defaultstr);
                }
              }
            }
            if (tmp___44) {
              sprintf((char * __restrict  )(strbuf___0), (char const   * __restrict  )"%s, ",
                      s);
              cc_output_str((char const   *)(strbuf___0));
            }
          }
          cc_output_str(defaultstr);
          cc_output_str(strClosingBrace);
        }
        cc_output_str(strSpacedDash);
        cc_output_str(d->helpstr);
        if ((int )maxarg >= 50) {
          maxarg = (unsigned char)49;
        }
        if ((int )minarg != (int )maxarg) {
          sprintf((char * __restrict  )(numbuf), (char const   * __restrict  )"..%d",
                  maxarg);
        } else {
          numbuf[0] = (char )'\000';
        }
        sprintf((char * __restrict  )(strbuf___0), (char const   * __restrict  )" (%d%s)",
                minarg, numbuf);
        cc_output_str((char const   *)(strbuf___0));
      } else {
        if ((int )c___0 == -1) {
          cc_output_str(strSpacedDash);
          j = ccc_minidx;
          while ((int )j <= (int )ccc_maxidx) {
            if ((int )j > (int )ccc_minidx) {
              cc_output_str(strCommaSpace);
            }
            cc_output_str(cccxlat[j].cmdstr);
            j = (tMbsIndex )((int )j + 1);
          }
          cc_output_str(strQm);
        } else {
          cc_output_str(strSpacedDash);
          cc_output_str(strUnknown);
        }
      }
      cc_output_str(strNewline);
      i = (tCccArgnum )((int )i + 1);
    }
  }
  break;
  case 3: ;
  if ((int )argnum <= 0) {
    while (1) {
      if ((int )cc_do_hash == 0) {
        cc_do_hash = (unsigned char)1;
      } else {
        cc_do_hash = (unsigned char)0;
      }
      break;
    }
    show_hashing: 
    if (! cc_do_hash) {
      val = strOff;
    } else {
      sprintf((char * __restrict  )(numbuf), (char const   * __restrict  )(strPercd),
              cc_hash_bytes);
      val = (char const   *)(numbuf);
    }
    sprintf((char * __restrict  )(strbuf___0), (char const   * __restrict  )"Hashmarks: %s\n",
            val);
    cc_output_str((char const   *)(strbuf___0));
  } else {
    a = (*(arg + 0));
    if ((int const   )(*(a + 0)) == 63) {
      if ((int const   )(*(a + 1)) == 0) {
        goto show_hashing;
      } else {
        goto _L___357;
      }
    } else {
      _L___357: /* CIL Label */ ;
    }
    my_atoi(a, & bytes, (char const   **)((void *)0), 195225786);
    if (bytes < 256) {
      cc_do_hash = (unsigned char)0;
    } else {
      cc_hash_bytes = bytes;
      cc_do_hash = (unsigned char)1;
    }
    goto show_hashing;
  }
  break;
  case 13: 
  sendcmd = (char const   *)((void *)0);
  send_cmd: 
  cc_start_cmd(context, sendcmd, arg, argnum);
  break;
  case 14: ;
  if ((int )argnum <= 0) {
    (*(arg + 0)) = strAnonymous;
    argnum = (unsigned char)1;
  }
  sendcmd = strUser;
  goto send_cmd;
  break;
  case 15: ;
  if ((int )argnum <= 0) {
    goto poke_context;
  } else {
    sendcmd = strPass;
    goto send_cmd;
  }
  break;
  case 16: 
  sendcmd = "ACCT";
  goto send_cmd;
  break;
  case 17: 
  sendcmd = "CWD";
  goto send_cmd;
  break;
  case 20: 
  cc_concat(strList, arg, argnum, (unsigned char)1);
  cc_sequencer_prepare(context, (char const   *)(strbuf___0), & cc_seq_cb_ls);
  cc_start_rch(context, (unsigned char)5);
  break;
  case 21: 
  type_ch = (char )'A';
  send_type: 
  sprintf((char * __restrict  )(strbuf___0), (char const   * __restrict  )"TYPE %c\r\n",
          type_ch);
  cc_do_start_cmd(context, (char const   *)(strbuf___0));
  break;
  case 22: 
  type_ch = (char )'I';
  goto send_type;
  break;
  case 23: 
  sendcmd = "DELE";
  goto send_cmd;
  break;
  case 24: 
  sendcmd = "MKD";
  goto send_cmd;
  break;
  case 25: 
  sendcmd = "RMD";
  goto send_cmd;
  break;
  case 26: 
  sendcmd = "REST";
  goto send_cmd;
  break;
  case 27: ;
  if ((int )argnum >= 2) {
    filename = (*(arg + 1));
  } else {
    ptr___0 = (*(arg + 0));
    filename = strrchr(ptr___0, '/');
    if ((unsigned int )filename == (unsigned int )((void *)0)) {
      filename = ptr___0;
    } else {
      filename ++;
      if ((int const   )(*filename) == 0) {
        goto err_tfa;
      }
    }
  }
  ((*((context->ops)->getput)))(context, (unsigned char)0, (*(arg + 0)), filename);
  break;
  case 11: 
  tmp___133 = ((*((context->ops)->try_open)))(context);
  if (tmp___133) {
    tmp___132 = uri_parse((*(arg + 0)), (tUriData const   *)((void *)0), (char const   **)((void *)0),
                          (char const   *)((void *)0), (unsigned char)1);
    uri = tmp___132;
    rp = uri->rp;
    re = uri->re;
    my_spf(strbuf___0, 4096U, & spfbuf, "%s%s\n", strUriColonSpace, uri->uri);
    cc_output_str((char const   *)spfbuf);
    while (1) {
      if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
        memory_deallocate_ll((void const   *)spfbuf);
      }
      break;
    }
    if ((int )re == 0) {
      if (! ((int )rp_data[rp].flags & 4)) {
        re = (unsigned char)12;
      } else {
        goto _L___358;
      }
    } else {
      _L___358: /* CIL Label */ ;
    }
    if ((int )re != 0) {
      cc_output_str((char const   *)strResourceError[re]);
      cc_output_str(strNewline);
      uri_put(uri);
      return;
    }
    request = request_create();
    while (1) {
      uri->refcount = (unsigned char )((int )uri->refcount + 1);
      request->uri_data = uri;
      break;
    }
    ((*((context->ops)->do_open)))(context, request);
  }
  break;
  default: ;
  poke_context: 
  tmp___134 = ((*((context->ops)->handle_cccc)))(context, cccc, arg, argnum);
  if (! tmp___134) {
    goto err_unknown_cmd;
  }
  break;
  }
}
}
static char const   strTooManyTasks[16]  = 
  {      (char const   )'T',      (char const   )'o',      (char const   )'o',      (char const   )' ', 
        (char const   )'m',      (char const   )'a',      (char const   )'n',      (char const   )'y', 
        (char const   )' ',      (char const   )'t',      (char const   )'a',      (char const   )'s', 
        (char const   )'k',      (char const   )'s',      (char const   )'\n',      (char const   )'\000'};
static tConsoleTask *console_task  =    (tConsoleTask *)((void *)0);
static int console_task_num  =    0;
static int console_task_curr  =    -1;
static unsigned char console_try_prompt  =    (tBoolean )0;
static struct __anonstruct_tCustomConnOps_132  const  console_ops ;
static struct tCustomConnContext  const  console_dummyctx  =    {& console_ops, (void *)-1};
static unsigned char console_pk  =    (tConsolePromptKind )0;
static char *console_input  =    (char *)((void *)0);
static unsigned int console_input_len  =    (size_t )0;
static unsigned int console_input_maxlen  =    (size_t )0;
static char const   *console_cwd  =    (char const   *)((void *)0);
static char console_oac[4]  ;
static void console_print_prompt(void) 
{ char const   *extra ;
  char const   *spacing ;
  char const   *using_tls ;

  {
  if (console_task_curr == -1) {
    goto _L;
  } else {
    if ((int )(console_task + console_task_curr)->state == 1) {
      _L: /* CIL Label */ ;
    } else {
      return;
    }
  }
  if (console_task_curr == -1) {
    strbuf2[0] = (char )'\000';
  } else {
    using_tls = strEmpty;
    sprintf((char * __restrict  )(strbuf2), (char const   * __restrict  )"[%d%s]",
            console_task_curr + 1, using_tls);
  }
  switch ((int )console_pk) {
  default: 
  extra = strEmpty;
  break;
  case 1: 
  extra = strPass;
  break;
  case 2: 
  extra = (char const   *)(console_oac);
  break;
  }
  if ((int const   )(*extra) == 0) {
    spacing = strEmpty;
  } else {
    spacing = strSpacedDash + 2;
  }
  sprintf((char * __restrict  )(strbuf___0), (char const   * __restrict  )"\n%s%s%s%s> ",
          strbuf2, spacing, extra, spacing);
  cc_output_str((char const   *)(strbuf___0));
  console_try_prompt = (unsigned char)0;
}
}
static void console_task_print_info(tConsoleTaskNum idx , char const   *prefix___0 ) 
{ tConsoleTask const   *task ;
  tConsoleTaskState state___0 ;
  tResourceRequest const   *request ;
  char const   *message ;
  char const   *label ;
  char const   *statestr ;
  char const   *using_tls ;
  char *spfbuf ;
  tBoolean has_label ;
  tBoolean is_error ;
  char const   *tmp ;
  char const   *tmp___0 ;
  char const   *tmp___1 ;
  char const   *tmp___2 ;
  char const   *tmp___3 ;

  {
  if (idx == -1) {
    return;
  }
  task = (tConsoleTask const   *)(console_task + idx);
  request = (tResourceRequest const   *)task->request;
  state___0 = task->state;
  label = task->label;
  if ((unsigned int )label != (unsigned int )((void *)0)) {
    has_label = (unsigned char)1;
  } else {
    has_label = (unsigned char)0;
  }
  switch ((int )state___0) {
  default: 
  statestr = strEmpty;
  break;
  case 2: 
  statestr = "busy";
  break;
  case 3: 
  statestr = "automated";
  break;
  }
  using_tls = strEmpty;
  if ((int const   )(*statestr) != 0) {
    tmp = strSpacedDash;
  } else {
    tmp = strEmpty;
  }
  if (has_label) {
    tmp___0 = "\")";
  } else {
    tmp___0 = strEmpty;
  }
  if ((unsigned int )label == (unsigned int )((void *)0)) {
    tmp___1 = strEmpty;
  } else {
    tmp___1 = label;
  }
  if (has_label) {
    tmp___2 = " (\"";
  } else {
    tmp___2 = strEmpty;
  }
  if ((unsigned int )prefix___0 == (unsigned int )((void *)0)) {
    tmp___3 = strEmpty;
  } else {
    tmp___3 = prefix___0;
  }
  my_spf(strbuf___0, 4096U, & spfbuf, "%s%s %d%s%s%s%s%s%s - \"%s\"\n", tmp___3, "Task",
         idx + 1, tmp___2, tmp___1, tmp___0, tmp, statestr, using_tls, (request->uri_data)->uri);
  cc_output_str((char const   *)spfbuf);
  while (1) {
    if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  message = calculate_reqresmsg(request, (tResource const   *)request->resource, (unsigned char)1,
                                & is_error);
  if ((int const   )(*message) != 0) {
    cc_output_str(message);
    cc_output_str(strNewline);
  }
}
}
static void console_task_switch(tConsoleTaskNum idx , tBoolean did_create ) 
{ tConsoleTask *task ;
  tResourceRequest const   *request ;
  tResource const   *resource ;
  char const   *tmp ;

  {
  task = console_task + idx;
  request = (tResourceRequest const   *)task->request;
  resource = (tResource const   *)request->resource;
  console_task_curr = idx;
  if (did_create) {
    tmp = "Creating: ";
  } else {
    tmp = "Switching to: ";
  }
  console_task_print_info(idx, tmp);
  if ((unsigned int )resource != (unsigned int )((void *)0)) {
    task->last_hash_bytecount = resource->bytecount;
  }
  return;
}
}
static tConsoleTaskNum console_task_create(void) 
{ tConsoleTaskNum idx ;
  tConsoleTaskNum tempidx ;
  tConsoleTask *task ;
  tCustomConnContext *context ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_138 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;

  {
  idx = 0;
  while (idx < console_task_num) {
    if ((int )(console_task + idx)->state == 0) {
      pick_it: 
      task = console_task + idx;
      task->state = (unsigned char)2;
      context = & task->context;
      context->ops = & console_ops;
      context->data = (void *)idx;
      goto out;
    }
    idx ++;
  }
  tempidx = console_task_num;
  idx = tempidx;
  if (console_task_num < 2) {
    console_task_num = 2;
  } else {
    if (console_task_num < 4096) {
      console_task_num <<= 1;
    } else {
      goto fail;
    }
  }
  console_task = (tConsoleTask *)memory_reallocate_ll((void *)console_task, (unsigned int )console_task_num *
                                                                            sizeof(tConsoleTask ));
  while (tempidx < console_task_num) {
    tmp = __builtin_constant_p(sizeof((*(console_task + tempidx))));
    if (tmp) {
      if (sizeof((*(console_task + tempidx))) <= 16U) {
        if (sizeof((*(console_task + tempidx))) == 1U) {
          __s___1 = (void *)(console_task + tempidx);
          (*((__uint8_t *)__s___1)) = (unsigned char)0;
        } else {
          __s___0 = (void *)(console_task + tempidx);
          __u = (union __anonunion___u_138 *)__s___0;
          __c = (unsigned char)0;
          switch ((int )sizeof((*(console_task + tempidx)))) {
          case 15: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_138 *)((void *)__u + 4);
          case 11: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_138 *)((void *)__u + 4);
          case 7: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_138 *)((void *)__u + 4);
          case 3: 
          __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
          __u = (union __anonunion___u_138 *)((void *)__u + 2);
          __u->__uc = __c;
          break;
          case 14: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_138 *)((void *)__u + 4);
          case 10: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_138 *)((void *)__u + 4);
          case 6: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_138 *)((void *)__u + 4);
          case 2: 
          __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
          break;
          case 13: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_138 *)((void *)__u + 4);
          case 9: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_138 *)((void *)__u + 4);
          case 5: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_138 *)((void *)__u + 4);
          case 1: 
          __u->__uc = __c;
          break;
          case 16: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_138 *)((void *)__u + 4);
          case 12: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_138 *)((void *)__u + 4);
          case 8: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_138 *)((void *)__u + 4);
          case 4: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          case 0: ;
          break;
          }
        }
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      __s = (void *)(console_task + tempidx);
      __builtin_memset(__s, '\000', (int )sizeof((*(console_task + tempidx))));
    }
    tempidx ++;
  }
  goto pick_it;
  fail: 
  idx = -1;
  out: 
  return (idx);
}
}
static void console_task_remove(tConsoleTaskNum idx , tBoolean print_notice ) 
{ tConsoleTask *task ;
  tResourceRequest *request ;
  tResource *resource ;
  tResource *tmp ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_139 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp___0 ;

  {
  task = console_task + idx;
  request = task->request;
  if ((unsigned int )request != (unsigned int )((void *)0)) {
    tmp = request->resource;
  } else {
    tmp = (tResource *)((void *)0);
  }
  resource = tmp;
  if (print_notice) {
    console_task_print_info(idx, "Removing: ");
  }
  cc_sequencer_cleanup((tCustomConnContext const   *)(& task->context), & task->sequencer_entry,
                       resource);
  request_remove(request);
  while (1) {
    if ((unsigned int )task->label != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)task->label);
    }
    break;
  }
  tmp___0 = __builtin_constant_p(sizeof((*(console_task + idx))));
  if (tmp___0) {
    if (sizeof((*(console_task + idx))) <= 16U) {
      if (sizeof((*(console_task + idx))) == 1U) {
        __s___1 = (void *)(console_task + idx);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(console_task + idx);
        __u = (union __anonunion___u_139 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof((*(console_task + idx)))) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_139 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = (void *)(console_task + idx);
    __builtin_memset(__s, '\000', (int )sizeof((*(console_task + idx))));
  }
  if (console_task_curr == idx) {
    console_task_curr = -1;
    console_try_prompt = (unsigned char)1;
  }
  return;
}
}
static tConsoleTaskNum task_str2idx(char const   *str ) 
{ tConsoleTaskNum id ;
  tConsoleTaskNum idx ;
  char const   *tail ;

  {
  my_atoi(str, & id, & tail, 195225786);
  if (id <= 0) {
    goto _L___0;
  } else {
    if (id > console_task_num) {
      _L___0: /* CIL Label */ 
      goto failed;
    } else {
      if ((int const   )(*tail) != 0) {
        failed: 
        idx = -1;
        goto out;
      }
    }
  }
  idx = id - 1;
  if ((int )(console_task + idx)->state == 0) {
    goto failed;
  }
  out: 
  return (idx);
}
}
static void say_task_unknown(char const   *str ) 
{ char *spfbuf ;

  {
  my_spf(strbuf___0, 4096U, & spfbuf, "%s - %s\n", str, strUnknown);
  cc_output_str((char const   *)spfbuf);
  while (1) {
    if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  return;
}
}
static tBoolean console_may_handle(tCustomConnContext const   *context  __attribute__((__unused__)) ) 
{ int tmp ;

  {
  if (console_task_curr != -1) {
    tmp = 1;
  } else {
    tmp = 0;
  }
  return ((unsigned char )tmp);
}
}
static void console_print_hashmarks(tConsoleTask *task , tResource const   *resource ) 
{ size_t old ;
  size_t curr ;
  size_t diff ;
  size_t num ;
  size_t count___2 ;
  size_t c ;
  char *buf___2 ;
  char *tmp ;

  {
  old = task->last_hash_bytecount;
  curr = resource->bytecount;
  if (curr <= old) {
    return;
  }
  diff = curr - old;
  num = diff / (size_t )cc_hash_bytes;
  if (num > 0U) {
    task->last_hash_bytecount += num * (size_t )cc_hash_bytes;
    while (num > 0U) {
      buf___2 = strbuf___0;
      if (num < 2048U) {
        count___2 = num;
      } else {
        count___2 = 2048U;
      }
      num -= count___2;
      c = 0U;
      while (c < count___2) {
        tmp = buf___2;
        buf___2 ++;
        (*tmp) = (char )'#';
        c ++;
      }
      (*buf___2) = (char )'\000';
      cc_output_str((char const   *)(strbuf___0));
    }
  }
  return;
}
}
static tBoolean rwd_cb_ctr(tRemainingWork const   *rw ) 
{ tConsoleTaskNum task_idx ;
  int tmp ;

  {
  task_idx = (int )rw->data1;
  if (task_idx == console_task_curr) {
    tmp = 1;
  } else {
    tmp = 0;
  }
  console_task_remove(task_idx, (unsigned char )tmp);
  if (console_try_prompt) {
    console_print_prompt();
  }
  return ((unsigned char)0);
}
}
static void console_schedule_task_removal(tConsoleTaskNum task_idx ) 
{ tRemainingWork *rw ;
  tRemainingWork *tmp ;

  {
  tmp = remaining_work_create(& rwd_cb_ctr);
  rw = tmp;
  rw->data1 = (void *)task_idx;
  return;
}
}
static void console_download_request_callback(void *_idx , tDhmNotificationFlags flags ) 
{ tConsoleTaskNum task_idx ;
  tConsoleTask *task ;
  tResourceRequest const   *request ;
  tResource *resource ;
  tBoolean is_curr ;
  int tmp ;
  tResourceError re ;
  char const   *text ;
  tDhmNotificationSetup _dns ;

  {
  task_idx = (int )_idx;
  task = console_task + task_idx;
  request = (tResourceRequest const   *)task->request;
  resource = request->resource;
  if ((int )flags & 12) {
    if (task_idx == console_task_curr) {
      tmp = 1;
    } else {
      tmp = 0;
    }
    is_curr = (tBoolean )tmp;
    if ((unsigned int )resource != (unsigned int )((void *)0)) {
      re = resource->error;
      if ((int )re != 0) {
        if (is_curr) {
          handle_re: 
          text = (char const   *)strResourceError[re];
          cc_output_str(text);
          cc_output_str(strNewline);
        }
        remove_task: 
        console_schedule_task_removal(task_idx);
        return;
      } else {
        if (resource->flags & 1U) {
          if (is_curr) {
            cc_output_str(strDone);
            cc_output_str(strNewline);
          }
          goto remove_task;
        } else {
          if (cc_do_hash) {
            if (is_curr) {
              console_print_hashmarks(task, (tResource const   *)resource);
            } else {
              goto _L;
            }
          } else {
            _L: /* CIL Label */ ;
          }
        }
      }
    } else {
      re = request->error;
      if ((int )re != 0) {
        if (is_curr) {
          goto handle_re;
        } else {
          goto remove_task;
        }
      }
    }
  } else {
    if ((int )flags & 16) {
      while (1) {
        _dns.callback = & console_download_request_callback;
        _dns.callback_data = _idx;
        _dns.flags = (tDhmNotificationFlags )12;
        _dns.mode = (tDhmNotimode )0;
        dhm_generic_handler(& resource->dhm_data, (void const   *)(& _dns), (unsigned char)3);
        break;
      }
    }
  }
  return;
}
}
__inline static void console_download(char const   *from , char const   *to ) 
{ unsigned char _cleanup ;
  tUriData *uri_data ;
  tUriData *tmp ;
  tResourceError re ;
  int fd ;
  int err ;
  int e ;
  struct stat statbuf ;
  mode_t mode ;
  char *spfbuf ;
  tPrrData prr_data ;
  tResourceRequest *request ;
  tConsoleTaskNum task_idx ;
  tConsoleTask *task ;
  char const   *tmp___0 ;
  char const   *tmp___2 ;
  int *tmp___4 ;
  int *tmp___6 ;
  tDhmNotificationSetup _dns ;

  {
  _cleanup = (unsigned char)0;
  tmp = uri_parse(from, (tUriData const   *)((void *)0), (char const   **)((void *)0),
                  (char const   *)((void *)0), (unsigned char)0);
  uri_data = tmp;
  re = uri_data->re;
  fd = -1;
  if ((int )re != 0) {
    cc_output_str((char const   *)strResourceError[re]);
    cc_output_str(strNewline);
    goto cleanup;
  }
  if ((unsigned int )to == (unsigned int )((void *)0)) {
    to = uri2filename((tUriData const   *)uri_data);
    if ((unsigned int )to == (unsigned int )((void *)0)) {
      cc_output_str(strTooFewArguments);
      goto cleanup;
    }
    _cleanup = (unsigned char )((int )_cleanup | 1);
  }
  if (! ((int const   )(*to) == 47)) {
    if ((int const   )(*(to + 0)) == 126) {
      if ((int const   )(*(to + 1)) == 47) {
        tmp___0 = get_homepath();
        my_spf((char *)((void *)0), 0U, & spfbuf, strPercsPercs, tmp___0, to + 2);
        if ((int )_cleanup & 1) {
          memory_deallocate_ll((void const   *)to);
        }
        to = (char const   *)spfbuf;
        _cleanup = (unsigned char )((int )_cleanup | 1);
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      if ((unsigned int )console_cwd != (unsigned int )((void *)0)) {
        tmp___2 = console_cwd;
      } else {
        tmp___2 = my_getcwd();
      }
      my_spf((char *)((void *)0), 0U, & spfbuf, strPercsPercs, tmp___2, to);
      if ((int )_cleanup & 1) {
        memory_deallocate_ll((void const   *)to);
      }
      to = (char const   *)spfbuf;
      _cleanup = (unsigned char )((int )_cleanup | 1);
    }
  }
  my_spf(strbuf___0, 4096U, & spfbuf, "%s \"%s\" -> \"%s\"\n", strUcDownload, uri_data->uri,
         to);
  cc_output_str((char const   *)spfbuf);
  while (1) {
    if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  fd = my_create(to, 705, 384U);
  if (fd < 0) {
    if (fd == -1) {
      tmp___4 = __errno_location();
      e = (*tmp___4);
    } else {
      e = 0;
    }
    failed_fd: 
    inform_about_error(e, strCantDownload);
    goto cleanup;
  }
  _cleanup = (unsigned char )((int )_cleanup | 2);
  err = my_fstat(fd, & statbuf);
  if (err != 0) {
    if (err == -1) {
      tmp___6 = __errno_location();
      e = (*tmp___6);
    } else {
      e = 0;
    }
    goto failed_fd;
  }
  mode = statbuf.st_mode;
  if (! ((mode & 61440U) == 32768U)) {
    if ((mode & 61440U) == 16384U) {
      e = 21;
    } else {
      e = 0;
    }
    goto failed_fd;
  }
  prr_setup(& prr_data, from, (unsigned short)0);
  prepare_resource_request(& prr_data);
  _cleanup = (unsigned char )((int )_cleanup | 4);
  request = prr_data.result;
  re = request->error;
  if ((int )re != 0) {
    inform_about_error(0, (char const   *)strResourceError[re]);
    goto cleanup;
  }
  task_idx = console_task_create();
  if (task_idx == -1) {
    cc_output_str(strTooManyTasks);
    goto cleanup;
  }
  task = console_task + task_idx;
  task->state = (unsigned char)3;
  task->request = request;
  prr_data.result = (tResourceRequest *)((void *)0);
  console_task_switch(task_idx, (unsigned char)1);
  _cleanup = (unsigned char )((int )_cleanup & -3);
  while (1) {
    _dns.callback = & console_download_request_callback;
    _dns.callback_data = (void *)task_idx;
    _dns.flags = (tDhmNotificationFlags )28;
    _dns.mode = (tDhmNotimode )0;
    dhm_generic_handler(& request->dhm_data, (void const   *)(& _dns), (unsigned char)3);
    break;
  }
  download_queue(request, fd);
  cleanup: 
  uri_put(uri_data);
  if ((int )_cleanup & 1) {
    memory_deallocate_ll((void const   *)to);
  }
  if ((int )_cleanup & 2) {
    my_close(fd);
  }
  if ((int )_cleanup & 4) {
    prr_setdown(& prr_data);
  }
  return;
}
}
static tBoolean console_handle_cccc(tCustomConnContext const   *context  __attribute__((__unused__)) ,
                                    tCccCode cccc , char const   **arg , tCccArgnum argnum ) ;
static char const   strNoTask[9]  = 
  {      (char const   )'n',      (char const   )'o',      (char const   )' ',      (char const   )'t', 
        (char const   )'a',      (char const   )'s',      (char const   )'k',      (char const   )'\n', 
        (char const   )'\000'};
static tBoolean console_handle_cccc(tCustomConnContext const   *context  __attribute__((__unused__)) ,
                                    tCccCode cccc , char const   **arg , tCccArgnum argnum ) 
{ tBoolean retval ;
  tConsoleTaskNum task_idx ;
  tConsoleTask *task ;
  char const   *str ;
  char *spfbuf ;
  char *new_cwd ;
  char const   *tmp ;
  char const   *dir ;
  size_t dirlen ;
  size_t tmp___0 ;
  tBoolean has_slash ;
  int tmp___1 ;
  char const   *tmp___2 ;
  char const   *tmp___3 ;
  char const   *tmp___5 ;
  tBoolean is_first ;
  tCccArgnum i ;
  tCccArgnum i___0 ;
  char const   *tmp___6 ;

  {
  retval = (tBoolean )1;
  switch ((int )cccc) {
  case 4: ;
  if ((int )argnum <= 0) {
    tmp = my_getcwd();
    new_cwd = my_strdup(tmp);
  } else {
    dir = (*(arg + 0));
    tmp___0 = strlen(dir);
    dirlen = tmp___0;
    if (dirlen > 0U) {
      if ((int const   )(*(dir + (dirlen - 1U))) == 47) {
        tmp___1 = 1;
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      tmp___1 = 0;
    }
    has_slash = (tBoolean )tmp___1;
    if ((int const   )(*dir) == 47) {
      if (has_slash) {
        new_cwd = my_strdup(dir);
      } else {
        new_cwd = (char *)__memory_allocate_ll((dirlen + 1U) + 1U);
        memcpy((void * __restrict  )new_cwd, (void const   * __restrict  )dir, dirlen);
        (*(new_cwd + dirlen)) = (char )'/';
        (*(new_cwd + (dirlen + 1U))) = (char )'\000';
      }
    } else {
      if ((int const   )(*(dir + 0)) == 126) {
        if ((int const   )(*(dir + 1)) == 47) {
          tmp___2 = get_homepath();
          my_spf(strbuf___0, 4096U, & spfbuf, strPercsPercs, tmp___2, dir + 2);
          new_cwd = finalize_path((char const   *)spfbuf);
          while (1) {
            if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
              memory_deallocate_ll((void const   *)spfbuf);
            }
            break;
          }
        } else {
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
        if (has_slash) {
          tmp___3 = strEmpty;
        } else {
          tmp___3 = strSlash;
        }
        if ((unsigned int )console_cwd != (unsigned int )((void *)0)) {
          tmp___5 = console_cwd;
        } else {
          tmp___5 = my_getcwd();
        }
        my_spf(strbuf___0, 4096U, & spfbuf, "%s%s%s", tmp___5, dir, tmp___3);
        new_cwd = finalize_path((char const   *)spfbuf);
        while (1) {
          if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
            memory_deallocate_ll((void const   *)spfbuf);
          }
          break;
        }
      }
    }
  }
  while (1) {
    if ((unsigned int )console_cwd != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)console_cwd);
    }
    break;
  }
  console_cwd = (char const   *)new_cwd;
  my_spf(strbuf___0, 4096U, & spfbuf, "Local current directory: \"%s\"\n", console_cwd);
  cc_output_str((char const   *)spfbuf);
  while (1) {
    if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  break;
  case 5: 
  str = (*(arg + 0));
  task_idx = task_str2idx(str);
  if (task_idx == -1) {
    if ((int const   )(*(str + 0)) == 48) {
      if ((int const   )(*(str + 1)) == 0) {
        console_task_curr = -1;
      } else {
        goto stu;
      }
    } else {
      stu: 
      say_task_unknown(str);
    }
  } else {
    console_task_switch(task_idx, (unsigned char)0);
  }
  break;
  case 6: ;
  if ((int )argnum <= 0) {
    is_first = (tBoolean )1;
    task_idx = 0;
    while (task_idx < console_task_num) {
      if ((int )(console_task + task_idx)->state != 0) {
        console_task_print_info(task_idx, (char const   *)((void *)0));
        is_first = (unsigned char)0;
      }
      task_idx ++;
    }
    if (is_first) {
      say_no_task: 
      cc_output_str(strNoTask);
    }
  } else {
    i = (unsigned char)0;
    while ((int )i < (int )argnum) {
      str = (*(arg + i));
      task_idx = task_str2idx(str);
      if (task_idx == -1) {
        goto stu;
      } else {
        console_task_print_info(task_idx, (char const   *)((void *)0));
      }
      i = (tCccArgnum )((int )i + 1);
    }
  }
  break;
  case 7: ;
  if ((int const   )(*((*(arg + 0)))) >= 48) {
    if ((int const   )(*((*(arg + 0)))) <= 57) {
      cc_output_str(strBadValue);
      cc_output_str(strNewline);
      break;
    } else {
      goto _L___2;
    }
  } else {
    _L___2: /* CIL Label */ ;
  }
  if ((int )argnum <= 1) {
    task_idx = console_task_curr;
    if (task_idx == -1) {
      goto say_no_task;
    }
  } else {
    str = (*(arg + 1));
    task_idx = task_str2idx(str);
    if (task_idx == -1) {
      goto stu;
    }
  }
  task = console_task + task_idx;
  while (1) {
    while (1) {
      if ((unsigned int )task->label != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)task->label);
      }
      break;
    }
    task->label = my_strdup((*(arg + 0)));
    break;
  }
  break;
  case 15: 
  console_pk = (unsigned char)1;
  break;
  case 12: ;
  if ((int )argnum <= 0) {
    if (console_task_curr == -1) {
      cc_output_str(strNoTask);
    } else {
      console_task_remove(console_task_curr, (unsigned char)1);
    }
  } else {
    i___0 = (unsigned char)0;
    while ((int )i___0 < (int )argnum) {
      str = (*(arg + i___0));
      task_idx = task_str2idx(str);
      if (task_idx == -1) {
        goto stu;
      } else {
        console_task_remove(task_idx, (unsigned char)1);
      }
      i___0 = (tCccArgnum )((int )i___0 + 1);
    }
  }
  break;
  case 9: ;
  if ((int )argnum >= 2) {
    tmp___6 = (*(arg + 1));
  } else {
    tmp___6 = (char const   *)((void *)0);
  }
  console_download((*(arg + 0)), tmp___6);
  break;
  default: 
  retval = (unsigned char)0;
  break;
  }
  return (retval);
}
}
static tBoolean console_try_open(tCustomConnContext const   *context  __attribute__((__unused__)) ) 
{ tBoolean retval ;
  int tmp ;

  {
  if (console_task_num < 4096) {
    tmp = 1;
  } else {
    tmp = 0;
  }
  retval = (tBoolean )tmp;
  if (! retval) {
    cc_output_str(strTooManyTasks);
  }
  return (retval);
}
}
static void console_request_callback(void *_idx , tDhmNotificationFlags flags ) 
{ tConsoleTaskNum idx ;
  tConsoleTask *task ;
  tResourceRequest *request ;
  tResource *resource ;
  tResourceError re ;
  char const   *text ;
  tDhmNotificationSetup _dns ;

  {
  idx = (int )_idx;
  task = console_task + idx;
  request = task->request;
  resource = request->resource;
  if ((int )flags & 12) {
    if ((unsigned int )resource != (unsigned int )((void *)0)) {
      re = resource->error;
      if ((int )re != 0) {
        handle_re: 
        text = (char const   *)strResourceError[re];
        if (idx == console_task_curr) {
          inform_about_error(0, text);
        }
        console_schedule_task_removal(idx);
        goto out;
      }
    } else {
      re = request->error;
      if ((int )re != 0) {
        goto handle_re;
      }
    }
  } else {
    if ((int )flags & 16) {
      while (1) {
        _dns.callback = & console_request_callback;
        _dns.callback_data = _idx;
        _dns.flags = (tDhmNotificationFlags )12;
        _dns.mode = (tDhmNotimode )0;
        dhm_generic_handler(& resource->dhm_data, (void const   *)(& _dns), (unsigned char)3);
        break;
      }
      resource->flags |= 2048U;
      resource->custconn_handle = _idx;
    }
  }
  out: 
  if (console_try_prompt) {
    console_print_prompt();
  }
  return;
}
}
static void console_do_open(tCustomConnContext const   *context  __attribute__((__unused__)) ,
                            tResourceRequest *request ) 
{ tConsoleTaskNum idx ;
  tConsoleTaskNum tmp ;
  tDhmNotificationSetup _dns ;

  {
  tmp = console_task_create();
  idx = tmp;
  if (idx == -1) {
    request_remove(request);
    return;
  }
  (console_task + idx)->request = request;
  console_task_switch(idx, (unsigned char)1);
  while (1) {
    _dns.callback = & console_request_callback;
    _dns.callback_data = (void *)idx;
    _dns.flags = (tDhmNotificationFlags )28;
    _dns.mode = (tDhmNotimode )0;
    dhm_generic_handler(& request->dhm_data, (void const   *)(& _dns), (unsigned char)3);
    break;
  }
  request_queue(request, (unsigned char)3);
  return;
}
}
static void console_do_start(tCustomConnContext const   *context , unsigned char what ,
                             void const   *whatever ) 
{ tConsoleTask *task ;
  tResource *resource ;

  {
  task = console_task + (int )context->data;
  resource = (task->request)->resource;
  if ((int )what == 2) {
    if ((int )(resource->uri_data)->rp != 3) {
      cc_output_str((char const   *)strResourceError[12]);
      cc_output_str(strNewline);
      return;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  task->state = (unsigned char)2;
  resource_custom_conn_start(resource, what, whatever);
  return;
}
}
static void console_do_prepare_sequencer(tCustomConnContext const   *context , char const   *cmd ,
                                         void (*callback)(struct tCustomConnContext  const  * ,
                                                          tResource *resource , struct tCcSeqEntry *entry ,
                                                          tCcSeqStep  ) ) 
{ tConsoleTask *task ;
  tCcSeqEntry *entry ;

  {
  task = console_task + (int )context->data;
  entry = & task->sequencer_entry;
  while (1) {
    while (1) {
      if ((unsigned int )entry->data != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)entry->data);
      }
      break;
    }
    entry->data = (void *)my_strdup(cmd);
    break;
  }
  entry->callback = callback;
  return;
}
}
static char const   *console_from  =    (char const   *)((void *)0);
static char const   *console_to  =    (char const   *)((void *)0);
static void console_setup_retr(tCustomConnContext const   *context , char const   *from ,
                               char const   *to , tFileTreatment ft ) 
{ int fd ;
  int err ;
  int e ;
  struct stat statbuf ;
  mode_t mode ;
  tConsoleTask *task ;
  tResourceRequest *request ;
  tResource *resource ;
  int cflags ;
  int *tmp___0 ;
  int *tmp___2 ;

  {
  if ((int )ft == 3) {
    fd = my_open(to, 1025);
  } else {
    cflags = 577;
    if ((int )ft == 1) {
      cflags |= 128;
    }
    fd = my_create(to, cflags, 384U);
  }
  if (fd < 0) {
    if (fd == -1) {
      tmp___0 = __errno_location();
      e = (*tmp___0);
    } else {
      e = 0;
    }
    handle_re_file: 
    inform_about_error(e, (char const   *)strResourceError[7]);
    return;
  }
  err = my_fstat(fd, & statbuf);
  if (err != 0) {
    if (err == -1) {
      tmp___2 = __errno_location();
      e = (*tmp___2);
    } else {
      e = 0;
    }
    clre: 
    my_close(fd);
    goto handle_re_file;
  }
  mode = statbuf.st_mode;
  if (! ((mode & 61440U) == 32768U)) {
    if ((mode & 61440U) == 16384U) {
      e = 21;
    } else {
      e = 0;
    }
    goto clre;
  }
  task = console_task + (int )context->data;
  request = task->request;
  resource = request->resource;
  sinking_data_deallocate(& resource->sinking_data);
  sinking_data_mcleanup();
  sinking_data.download_fd = fd;
  sinking_data.flags = (unsigned char )((int )sinking_data.flags | 1);
  sinking_data_shift(& resource->sinking_data);
  cc_concat(strRetr, & from, (unsigned char)1, (unsigned char)1);
  cc_sequencer_prepare(context, (char const   *)(strbuf___0), & cc_seq_cb_retr);
  cc_start_rch(context, (unsigned char)5);
  return;
}
}
__inline static void console_handle_oac(char const   *str ) 
{ char ch ;
  char const   *tmp ;
  tFileTreatment ft ;
  struct tCustomConnContext  const  *tmp___0 ;

  {
  tmp = str;
  str ++;
  ch = (char )(*tmp);
  if ((int )ch == 0) {
    goto _L;
  } else {
    if ((int const   )(*str) != 0) {
      _L: /* CIL Label */ 
      cc_output_str(strBadValue);
      cc_output_str(strNewline);
      return;
    }
  }
  if ((int )ch == (int )console_oac[0]) {
    ft = (unsigned char)2;
  } else {
    if ((int )ch == (int )console_oac[1]) {
      ft = (unsigned char)3;
    } else {
      cc_output_str("Cancelled\n");
      return;
    }
  }
  if (console_task_curr == -1) {
    tmp___0 = & console_dummyctx;
  } else {
    tmp___0 = (struct tCustomConnContext  const  *)(& (console_task + console_task_curr)->context);
  }
  console_setup_retr(tmp___0, console_from, console_to, ft);
  return;
}
}
static void console_getput(tCustomConnContext const   *context , unsigned char what ,
                           char const   *s1 , char const   *s2 ) ;
static unsigned char did_init___0  =    (tBoolean )0;
static void console_getput(tCustomConnContext const   *context , unsigned char what ,
                           char const   *s1 , char const   *s2 ) 
{ char const   *from ;
  char const   *to ;
  char *spfbuf ;
  tBoolean must_dealloc_to ;
  struct stat statbuf ;
  int err ;
  int e ;
  char const   *tmp ;
  char const   *tmp___1 ;
  int *tmp___3 ;
  char const   *question ;
  mode_t mode ;
  unsigned char c ;
  char const   *src ;
  char ch ;
  char *dest ;
  char *tmp___6 ;

  {
  must_dealloc_to = (tBoolean )0;
  if ((int )what == 0) {
    from = s1;
    to = s2;
    if (! ((int const   )(*to) == 47)) {
      if ((int const   )(*(to + 0)) == 126) {
        if ((int const   )(*(to + 1)) == 47) {
          tmp = get_homepath();
          my_spf((char *)((void *)0), 0U, & spfbuf, strPercsPercs, tmp, to + 2);
          to = (char const   *)spfbuf;
          must_dealloc_to = (unsigned char)1;
        } else {
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
        while (1) {
          if ((int const   )(*(to + 0)) == 46) {
            if (! ((int const   )(*(to + 1)) == 47)) {
              goto _L;
            }
          } else {
            _L: /* CIL Label */ 
            break;
          }
          to += 2;
        }
        if ((unsigned int )console_cwd != (unsigned int )((void *)0)) {
          tmp___1 = console_cwd;
        } else {
          tmp___1 = my_getcwd();
        }
        my_spf((char *)((void *)0), 0U, & spfbuf, strPercsPercs, tmp___1, to);
        to = (char const   *)spfbuf;
        must_dealloc_to = (unsigned char)1;
      }
    }
    my_spf(strbuf___0, 4096U, & spfbuf, "\"%s\" -> \"%s\"\n", from, to);
    cc_output_str((char const   *)spfbuf);
    while (1) {
      if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
        memory_deallocate_ll((void const   *)spfbuf);
      }
      break;
    }
    err = my_stat(to, & statbuf);
    if (err != 0) {
      if (err == -1) {
        tmp___3 = __errno_location();
        e = (*tmp___3);
      } else {
        e = 0;
      }
      if (e == 2) {
        console_setup_retr(context, from, to, (unsigned char)1);
      } else {
        handle_re_file: 
        inform_about_error(e, (char const   *)strResourceError[7]);
        goto cleanup;
      }
    } else {
      mode = statbuf.st_mode;
      if (! ((mode & 61440U) == 32768U)) {
        if ((mode & 61440U) == 16384U) {
          e = 21;
        } else {
          e = 0;
        }
        goto handle_re_file;
      }
      question = "File exists - (o)verwrite, (a)ppend, (c)ancel?\n";
      if (! did_init___0) {
        src = question;
        dest = console_oac;
        c = (unsigned char)0;
        while ((int )c <= 2) {
          src = strchr(src, '(');
          if ((unsigned int )src == (unsigned int )((void *)0)) {
            bad_oac: 
            cc_output_str((char const   *)strResourceError[10]);
            cc_output_str(strNewline);
            goto cleanup;
          }
          src ++;
          ch = (char )(*src);
          if ((int )ch >= 97) {
            if (! ((int )ch <= 122)) {
              goto _L___1;
            }
          } else {
            _L___1: /* CIL Label */ 
            goto bad_oac;
          }
          tmp___6 = dest;
          dest ++;
          (*tmp___6) = ch;
          c = (unsigned char )((int )c + 1);
        }
        (*dest) = (char )'\000';
        did_init___0 = (unsigned char)1;
      }
      while (1) {
        if ((unsigned int )console_from != (unsigned int )((void *)0)) {
          memory_deallocate_ll((void const   *)console_from);
        }
        break;
      }
      console_from = my_strdup(from);
      while (1) {
        if ((unsigned int )console_to != (unsigned int )((void *)0)) {
          memory_deallocate_ll((void const   *)console_to);
        }
        break;
      }
      if (! must_dealloc_to) {
        console_to = my_strdup(to);
      } else {
        console_to = to;
        must_dealloc_to = (unsigned char)0;
      }
      cc_output_str(question);
      console_pk = (unsigned char)2;
    }
  } else {
    from = s2;
    to = s1;
  }
  cleanup: 
  if (must_dealloc_to) {
    memory_deallocate_ll((void const   *)to);
  }
  return;
}
}
static struct __anonstruct_tCustomConnOps_132  const  console_ops  =    {& console_may_handle, & console_handle_cccc, & console_try_open, & console_do_open,
    & console_do_start, & console_do_prepare_sequencer, & console_getput};
static void console_input_append(char ch ) 
{ unsigned int tmp ;

  {
  if (console_input_len >= console_input_maxlen) {
    console_input_maxlen += 50U;
    console_input = (char *)memory_reallocate_ll((void *)console_input, console_input_maxlen);
  }
  tmp = console_input_len;
  console_input_len ++;
  (*(console_input + tmp)) = ch;
  return;
}
}
static void console_handle_res(tResource *resource , unsigned char what , void *_x ) 
{ tConsoleTaskNum task_idx ;
  tCustomConnPrintingData *x ;
  tConsoleTask *task ;
  tConsoleTaskState state___0 ;
  char const   *text ;
  tCcSeqEntry *sequencer_entry ;
  void (*seq_cb)(struct tCustomConnContext  const  * , tResource *resource , struct tCcSeqEntry *entry ,
                 tCcSeqStep  ) ;
  tBoolean has_seq ;
  tBoolean stop_seq ;
  char ch ;
  char netresp[1005] ;
  unsigned char c ;
  size_t count___2 ;
  size_t netresplen ;
  char const   *tmp ;
  size_t tmp___0 ;
  size_t tmp___1 ;
  size_t tmp___2 ;
  size_t tmp___3 ;
  int tmp___4 ;
  tResourceRequest *request ;
  char const   *message ;
  tBoolean is_error ;
  tResourceError const   *_re ;

  {
  task_idx = (int )resource->custconn_handle;
  switch ((int )what) {
  case 0: ;
  if (console_task_curr != task_idx) {
    return;
  }
  x = (tCustomConnPrintingData *)_x;
  text = x->text;
  if ((int )x->ccpk == 3) {
    count___2 = x->len;
    netresplen = (size_t )0;
    while (1) {
      tmp___2 = count___2;
      count___2 --;
      if (! (tmp___2 > 0U)) {
        break;
      }
      tmp = text;
      text ++;
      ch = (char )(*tmp);
      c = (unsigned char )ch;
      if ((int )c < 32) {
        goto _L___0;
      } else {
        if ((int )c == 127) {
          _L___0: /* CIL Label */ 
          if ((int )ch == 10) {
            _L: /* CIL Label */ 
            while (1) {
              if (netresplen > 1000U) {
                while (1) {
                  tmp___0 = netresplen;
                  netresplen ++;
                  netresp[tmp___0] = (char )'\000';
                  cc_output_str((char const   *)(netresp));
                  break;
                }
                netresplen = 0U;
              }
              tmp___1 = netresplen;
              netresplen ++;
              netresp[tmp___1] = ch;
              break;
            }
          }
        } else {
          goto _L;
        }
      }
    }
    if (netresplen > 0U) {
      while (1) {
        tmp___3 = netresplen;
        netresplen ++;
        netresp[tmp___3] = (char )'\000';
        cc_output_str((char const   *)(netresp));
        break;
      }
    }
  } else {
    if ((int )x->ccpk == 2) {
      cc_output_str("Sending: ");
      tmp___4 = strneqcase3(text, "pass ", 5U);
      if (tmp___4 == 0) {
        text = "PASS...\n";
      }
    }
    cc_output_str(text);
  }
  break;
  case 1: 
  task = console_task + task_idx;
  state___0 = task->state;
  task->last_hash_bytecount = 0U;
  resource->bytecount = task->last_hash_bytecount;
  sequencer_entry = & task->sequencer_entry;
  seq_cb = sequencer_entry->callback;
  if ((unsigned int )seq_cb != (unsigned int )((void *)0)) {
    has_seq = (unsigned char)1;
  } else {
    has_seq = (unsigned char)0;
  }
  if (resource->flags & 4096U) {
    stop_seq = (unsigned char)1;
    resource->flags &= 4294963199U;
  } else {
    stop_seq = (unsigned char)0;
  }
  if ((int )state___0 == 2) {
    task->state = (unsigned char)1;
    resource->state = (unsigned char)3;
    if (has_seq) {
      if (! stop_seq) {
        if (! sequencer_entry->did_send) {
          sequencer_entry->did_send = (unsigned char)1;
          ((*seq_cb))((struct tCustomConnContext  const  *)(& task->context), resource,
                      sequencer_entry, (unsigned char)1);
        } else {
          goto _L___2;
        }
      } else {
        goto _L___2;
      }
    } else {
      _L___2: /* CIL Label */ 
      if (has_seq) {
        cc_sequencer_cleanup((tCustomConnContext const   *)(& task->context), sequencer_entry,
                             resource);
      }
      if (console_task_curr == task_idx) {
        console_try_prompt = (unsigned char)1;
      }
    }
  }
  break;
  case 2: ;
  if (console_task_curr == task_idx) {
    task = console_task + task_idx;
    request = task->request;
    message = calculate_reqresmsg((tResourceRequest const   *)request, (tResource const   *)resource,
                                  (unsigned char)0, & is_error);
    if ((int const   )(*message) != 0) {
      cc_output_str(message);
      cc_output_str(strNewline);
    }
  }
  break;
  case 3: ;
  if (console_task_curr == task_idx) {
    _re = (tResourceError const   *)_x;
    cc_output_str((char const   *)strResourceError[(*_re)]);
    cc_output_str(strNewline);
  }
  break;
  case 4: ;
  if (cc_do_hash) {
    if (console_task_curr == task_idx) {
      task = console_task + task_idx;
      console_print_hashmarks(task, (tResource const   *)resource);
    } else {
      goto _L___3;
    }
  } else {
    _L___3: /* CIL Label */ ;
  }
  break;
  }
  if (console_try_prompt) {
    console_print_prompt();
  }
  return;
}
}
__inline static void console_input_interpret(void) 
{ tConsolePromptKind cpk ;
  char const   *_x ;
  size_t tmp ;
  char const   *arg[1] ;
  struct tCustomConnContext  const  *tmp___0 ;
  struct tCustomConnContext  const  *tmp___1 ;

  {
  cpk = console_pk;
  if (console_input_len <= 0U) {
    return;
  }
  console_input_append((char )'\000');
  console_input_len = 0U;
  while (1) {
    _x = strNewline;
    tmp = strlen(_x);
    my_write(fd_stdout, (void const   *)_x, tmp);
    break;
  }
  console_pk = (unsigned char)0;
  if ((int )cpk == 1) {
    arg[0] = (char const   *)console_input;
    if (console_task_curr == -1) {
      tmp___0 = & console_dummyctx;
    } else {
      tmp___0 = (struct tCustomConnContext  const  *)(& (console_task + console_task_curr)->context);
    }
    cc_start_cmd(tmp___0, strPass, arg, (unsigned char)1);
  } else {
    if ((int )cpk == 2) {
      console_handle_oac((char const   *)console_input);
    } else {
      if (console_task_curr == -1) {
        tmp___1 = & console_dummyctx;
      } else {
        tmp___1 = (struct tCustomConnContext  const  *)(& (console_task + console_task_curr)->context);
      }
      ccc_execute(tmp___1, console_input);
    }
  }
  console_try_prompt = (unsigned char)1;
  return;
}
}
static void console_keyboard_handler(void *data  __attribute__((__unused__)) , tFdObservationFlags flags  __attribute__((__unused__)) ) 
{ char ch ;
  int err ;
  int tmp ;
  char const   *_x ;
  size_t tmp___0 ;
  unsigned char c ;

  {
  tmp = my_read(fd_keyboard_input, (void *)(& ch), sizeof(ch));
  err = tmp;
  if (! (err <= 0)) {
    if (console_task_curr == -1) {
      goto _L___0;
    } else {
      if ((int )(console_task + console_task_curr)->state == 1) {
        _L___0: /* CIL Label */ 
        if ((int )ch == 10) {
          console_input_interpret();
        } else {
          if ((int )ch == (int )config.console_backspace) {
            if (console_input_len > 0U) {
              console_input_len --;
              while (1) {
                _x = "\b \b";
                tmp___0 = strlen(_x);
                my_write(fd_stdout, (void const   *)_x, tmp___0);
                break;
              }
            }
          } else {
            if (console_input_len <= 2048U) {
              c = (unsigned char )ch;
              if ((int )c < 32) {
                goto _L;
              } else {
                if ((int )c == 127) {
                  _L: /* CIL Label */ ;
                } else {
                  console_input_append(ch);
                  if ((int )console_pk == 1) {
                    ch = (char )'*';
                  }
                  my_write(fd_stdout, (void const   *)(& ch), 1U);
                }
              }
            }
          }
        }
      } else {
        if ((int )ch == 38) {
          console_task_curr = -1;
          console_try_prompt = (unsigned char)1;
        }
      }
    }
  }
  if (console_try_prompt) {
    console_print_prompt();
  }
  return;
}
}
static void curses_keyboard_handler(void *data  __attribute__((__unused__)) , tFdObservationFlags flags  __attribute__((__unused__)) ) 
{ tKey key ;
  tKey tmp ;

  {
  tmp = wgetch(stdscr);
  key = tmp;
  if (key != -1) {
    handle_key(key);
  }
  return;
}
}
static char buf[4]  ;
static void any2main_input_handler(void *data  __attribute__((__unused__)) , tFdObservationFlags flags  __attribute__((__unused__)) ) ;
static char count  =    (char)0;
static void any2main_input_handler(void *data  __attribute__((__unused__)) , tFdObservationFlags flags  __attribute__((__unused__)) ) 
{ ssize_t err ;
  ssize_t tmp ;
  unsigned char const   *temp ;
  unsigned char cols ;
  unsigned char rows ;
  int tmp___64 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___95 ;
  size_t tmp___96 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  int tmp___111 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___118 ;
  int tmp___119 ;
  int tmp___120 ;
  int tmp___121 ;
  int tmp___122 ;
  int tmp___123 ;
  int tmp___124 ;
  size_t tmp___125 ;
  int tmp___126 ;
  size_t tmp___127 ;
  int tmp___192 ;
  size_t __s1_len___2 ;
  size_t __s2_len___2 ;
  int tmp___223 ;
  size_t tmp___224 ;
  register int __result___181 ;
  unsigned char const   *__s2___30 ;
  register int __result___182 ;
  int tmp___239 ;
  register int __result___189 ;
  unsigned char const   *__s1___62 ;
  register int __result___190 ;
  int tmp___246 ;
  int tmp___247 ;
  int tmp___248 ;
  int tmp___249 ;
  int tmp___250 ;
  int tmp___251 ;
  int tmp___252 ;
  size_t tmp___253 ;
  int tmp___254 ;
  size_t tmp___255 ;

  {
  tmp = my_read(fd_any2main_read, (void *)(buf + (int )count), (unsigned int )(4 -
                                                                               (int )count));
  err = tmp;
  if (err <= 0) {
    return;
  }
  count = (char )((int )count + err);
  if ((int )count < 4) {
    return;
  }
  count = (char)0;
  tmp___252 = __builtin_constant_p(buf);
  if (tmp___252) {
    tmp___253 = strlen((char const   *)(buf));
    if (tmp___253 < 4U) {
      goto _L___708;
    } else {
      goto _L___710;
    }
  } else {
    _L___710: /* CIL Label */ 
    tmp___254 = __builtin_constant_p(strQuit);
    if (tmp___254) {
      tmp___255 = strlen(strQuit);
      if (tmp___255 < 4U) {
        _L___708: /* CIL Label */ 
        tmp___249 = __builtin_constant_p(buf);
        if (tmp___249) {
          tmp___250 = __builtin_constant_p(strQuit);
          if (tmp___250) {
            __s1_len___2 = strlen((char const   *)(buf));
            __s2_len___2 = strlen(strQuit);
            if (! ((unsigned int )((void const   *)(buf + 1)) - (unsigned int )((void const   *)(buf)) ==
                   1U)) {
              goto _L___705;
            } else {
              if (__s1_len___2 >= 4U) {
                _L___705: /* CIL Label */ 
                if (! ((unsigned int )((void const   *)(strQuit + 1)) - (unsigned int )((void const   *)(strQuit)) ==
                       1U)) {
                  goto _L___704;
                } else {
                  if (__s2_len___2 >= 4U) {
                    _L___704: /* CIL Label */ 
                    tmp___251 = 1;
                  } else {
                    goto _L___703;
                  }
                }
              } else {
                _L___703: /* CIL Label */ 
                tmp___251 = 0;
              }
            }
            if (tmp___251) {
              if (__s1_len___2 < __s2_len___2) {
                tmp___224 = __s1_len___2;
              } else {
                tmp___224 = __s2_len___2;
              }
              tmp___223 = memcmp((void const   *)((char const   *)(buf)), (void const   *)(strQuit),
                                 tmp___224 + 1U);
            } else {
              goto _L___707;
            }
          } else {
            goto _L___707;
          }
        } else {
          _L___707: /* CIL Label */ 
          tmp___248 = __builtin_constant_p(buf);
          if (tmp___248) {
            if ((unsigned int )((void const   *)(buf + 1)) - (unsigned int )((void const   *)(buf)) ==
                1U) {
              __s1_len___2 = strlen((char const   *)(buf));
              if (__s1_len___2 < 4U) {
                tmp___239 = __builtin_constant_p(strQuit);
                if (tmp___239) {
                  if ((unsigned int )((void const   *)(strQuit + 1)) - (unsigned int )((void const   *)(strQuit)) ==
                      1U) {
                    __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                             0)) - (int const   )(*((unsigned char const   *)(strQuit) +
                                                                                    0)));
                    if (__s1_len___2 > 0U) {
                      if (__result___181 == 0) {
                        __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                 1)) - (int const   )(*((unsigned char const   *)(strQuit) +
                                                                                        1)));
                        if (__s1_len___2 > 1U) {
                          if (__result___181 == 0) {
                            __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                     2)) - (int const   )(*((unsigned char const   *)(strQuit) +
                                                                                            2)));
                            if (__s1_len___2 > 2U) {
                              if (__result___181 == 0) {
                                __result___181 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                         3)) - (int const   )(*((unsigned char const   *)(strQuit) +
                                                                                                3)));
                              } else {
                                goto _L___666;
                              }
                            } else {
                              _L___666: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___667;
                          }
                        } else {
                          _L___667: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___668;
                      }
                    } else {
                      _L___668: /* CIL Label */ ;
                    }
                    tmp___223 = __result___181;
                  } else {
                    goto _L___672;
                  }
                } else {
                  _L___672: /* CIL Label */ 
                  __s2___30 = (unsigned char const   *)(strQuit);
                  __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                           0)) - (int const   )(*(__s2___30 +
                                                                                  0)));
                  if (__s1_len___2 > 0U) {
                    if (__result___182 == 0) {
                      __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                               1)) - (int const   )(*(__s2___30 +
                                                                                      1)));
                      if (__s1_len___2 > 1U) {
                        if (__result___182 == 0) {
                          __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                   2)) - (int const   )(*(__s2___30 +
                                                                                          2)));
                          if (__s1_len___2 > 2U) {
                            if (__result___182 == 0) {
                              __result___182 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                       3)) - (int const   )(*(__s2___30 +
                                                                                              3)));
                            } else {
                              goto _L___669;
                            }
                          } else {
                            _L___669: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___670;
                        }
                      } else {
                        _L___670: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___671;
                    }
                  } else {
                    _L___671: /* CIL Label */ ;
                  }
                  tmp___223 = __result___182;
                }
              } else {
                goto _L___702;
              }
            } else {
              goto _L___702;
            }
          } else {
            _L___702: /* CIL Label */ 
            tmp___247 = __builtin_constant_p(strQuit);
            if (tmp___247) {
              if ((unsigned int )((void const   *)(strQuit + 1)) - (unsigned int )((void const   *)(strQuit)) ==
                  1U) {
                __s2_len___2 = strlen(strQuit);
                if (__s2_len___2 < 4U) {
                  tmp___246 = __builtin_constant_p(buf);
                  if (tmp___246) {
                    if ((unsigned int )((void const   *)(buf + 1)) - (unsigned int )((void const   *)(buf)) ==
                        1U) {
                      __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                               0)) - (int const   )(*((unsigned char const   *)(strQuit) +
                                                                                      0)));
                      if (__s2_len___2 > 0U) {
                        if (__result___189 == 0) {
                          __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                   1)) - (int const   )(*((unsigned char const   *)(strQuit) +
                                                                                          1)));
                          if (__s2_len___2 > 1U) {
                            if (__result___189 == 0) {
                              __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                       2)) - (int const   )(*((unsigned char const   *)(strQuit) +
                                                                                              2)));
                              if (__s2_len___2 > 2U) {
                                if (__result___189 == 0) {
                                  __result___189 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                           3)) - (int const   )(*((unsigned char const   *)(strQuit) +
                                                                                                  3)));
                                } else {
                                  goto _L___692;
                                }
                              } else {
                                _L___692: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___693;
                            }
                          } else {
                            _L___693: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___694;
                        }
                      } else {
                        _L___694: /* CIL Label */ ;
                      }
                      tmp___223 = __result___189;
                    } else {
                      goto _L___698;
                    }
                  } else {
                    _L___698: /* CIL Label */ 
                    __s1___62 = (unsigned char const   *)((char const   *)(buf));
                    __result___190 = (int )((int const   )(*(__s1___62 + 0)) - (int const   )(*((unsigned char const   *)(strQuit) +
                                                                                                0)));
                    if (__s2_len___2 > 0U) {
                      if (__result___190 == 0) {
                        __result___190 = (int )((int const   )(*(__s1___62 + 1)) -
                                                (int const   )(*((unsigned char const   *)(strQuit) +
                                                                 1)));
                        if (__s2_len___2 > 1U) {
                          if (__result___190 == 0) {
                            __result___190 = (int )((int const   )(*(__s1___62 + 2)) -
                                                    (int const   )(*((unsigned char const   *)(strQuit) +
                                                                     2)));
                            if (__s2_len___2 > 2U) {
                              if (__result___190 == 0) {
                                __result___190 = (int )((int const   )(*(__s1___62 +
                                                                         3)) - (int const   )(*((unsigned char const   *)(strQuit) +
                                                                                                3)));
                              } else {
                                goto _L___695;
                              }
                            } else {
                              _L___695: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___696;
                          }
                        } else {
                          _L___696: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___697;
                      }
                    } else {
                      _L___697: /* CIL Label */ ;
                    }
                    tmp___223 = __result___190;
                  }
                } else {
                  goto _L___700;
                }
              } else {
                goto _L___700;
              }
            } else {
              _L___700: /* CIL Label */ 
              tmp___223 = strcmp((char const   *)(buf), strQuit);
            }
          }
        }
        tmp___192 = tmp___223;
      } else {
        goto _L___709;
      }
    } else {
      _L___709: /* CIL Label */ 
      tmp___192 = strncmp((char const   *)(buf), strQuit, 4U);
    }
  }
  if (tmp___192) {
    if ((int )buf[0] == 119) {
      temp = (unsigned char const   *)(buf);
      cols = (unsigned char )(*(temp + 1));
      rows = (unsigned char )(*(temp + 2));
      if (COLS != (int )cols) {
        goto _L;
      } else {
        if (LINES != (int )rows) {
          _L: /* CIL Label */ 
          if ((int )key_handling_mode == 2) {
            cm_cancel();
          }
          resizeterm((int )rows, (int )cols);
          window_redraw_all();
          if ((int )key_handling_mode == 1) {
            line_input_resize();
          }
        }
      }
    } else {
      tmp___124 = __builtin_constant_p(buf);
      if (tmp___124) {
        tmp___125 = strlen((char const   *)(buf));
        if (tmp___125 < 4U) {
          goto _L___353;
        } else {
          goto _L___355;
        }
      } else {
        _L___355: /* CIL Label */ 
        tmp___126 = __builtin_constant_p(strConsoleDiscard);
        if (tmp___126) {
          tmp___127 = strlen(strConsoleDiscard);
          if (tmp___127 < 4U) {
            _L___353: /* CIL Label */ 
            tmp___121 = __builtin_constant_p(buf);
            if (tmp___121) {
              tmp___122 = __builtin_constant_p(strConsoleDiscard);
              if (tmp___122) {
                __s1_len___0 = strlen((char const   *)(buf));
                __s2_len___0 = strlen(strConsoleDiscard);
                if (! ((unsigned int )((void const   *)(buf + 1)) - (unsigned int )((void const   *)(buf)) ==
                       1U)) {
                  goto _L___350;
                } else {
                  if (__s1_len___0 >= 4U) {
                    _L___350: /* CIL Label */ 
                    if (! ((unsigned int )((void const   *)(strConsoleDiscard + 1)) -
                           (unsigned int )((void const   *)(strConsoleDiscard)) ==
                           1U)) {
                      goto _L___349;
                    } else {
                      if (__s2_len___0 >= 4U) {
                        _L___349: /* CIL Label */ 
                        tmp___123 = 1;
                      } else {
                        goto _L___348;
                      }
                    }
                  } else {
                    _L___348: /* CIL Label */ 
                    tmp___123 = 0;
                  }
                }
                if (tmp___123) {
                  if (__s1_len___0 < __s2_len___0) {
                    tmp___96 = __s1_len___0;
                  } else {
                    tmp___96 = __s2_len___0;
                  }
                  tmp___95 = memcmp((void const   *)((char const   *)(buf)), (void const   *)(strConsoleDiscard),
                                    tmp___96 + 1U);
                } else {
                  goto _L___352;
                }
              } else {
                goto _L___352;
              }
            } else {
              _L___352: /* CIL Label */ 
              tmp___120 = __builtin_constant_p(buf);
              if (tmp___120) {
                if ((unsigned int )((void const   *)(buf + 1)) - (unsigned int )((void const   *)(buf)) ==
                    1U) {
                  __s1_len___0 = strlen((char const   *)(buf));
                  if (__s1_len___0 < 4U) {
                    tmp___111 = __builtin_constant_p(strConsoleDiscard);
                    if (tmp___111) {
                      if ((unsigned int )((void const   *)(strConsoleDiscard + 1)) -
                          (unsigned int )((void const   *)(strConsoleDiscard)) ==
                          1U) {
                        __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                0)) - (int const   )(*((unsigned char const   *)(strConsoleDiscard) +
                                                                                       0)));
                        if (__s1_len___0 > 0U) {
                          if (__result___85 == 0) {
                            __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                    1)) - (int const   )(*((unsigned char const   *)(strConsoleDiscard) +
                                                                                           1)));
                            if (__s1_len___0 > 1U) {
                              if (__result___85 == 0) {
                                __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                        2)) - (int const   )(*((unsigned char const   *)(strConsoleDiscard) +
                                                                                               2)));
                                if (__s1_len___0 > 2U) {
                                  if (__result___85 == 0) {
                                    __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)(strConsoleDiscard) +
                                                                            3)));
                                  } else {
                                    goto _L___311;
                                  }
                                } else {
                                  _L___311: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___312;
                              }
                            } else {
                              _L___312: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___313;
                          }
                        } else {
                          _L___313: /* CIL Label */ ;
                        }
                        tmp___95 = __result___85;
                      } else {
                        goto _L___317;
                      }
                    } else {
                      _L___317: /* CIL Label */ 
                      __s2___14 = (unsigned char const   *)(strConsoleDiscard);
                      __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                              0)) - (int const   )(*(__s2___14 +
                                                                                     0)));
                      if (__s1_len___0 > 0U) {
                        if (__result___86 == 0) {
                          __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                  1)) - (int const   )(*(__s2___14 +
                                                                                         1)));
                          if (__s1_len___0 > 1U) {
                            if (__result___86 == 0) {
                              __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                      2)) - (int const   )(*(__s2___14 +
                                                                                             2)));
                              if (__s1_len___0 > 2U) {
                                if (__result___86 == 0) {
                                  __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                          3)) - (int const   )(*(__s2___14 +
                                                                                                 3)));
                                } else {
                                  goto _L___314;
                                }
                              } else {
                                _L___314: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___315;
                            }
                          } else {
                            _L___315: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___316;
                        }
                      } else {
                        _L___316: /* CIL Label */ ;
                      }
                      tmp___95 = __result___86;
                    }
                  } else {
                    goto _L___347;
                  }
                } else {
                  goto _L___347;
                }
              } else {
                _L___347: /* CIL Label */ 
                tmp___119 = __builtin_constant_p(strConsoleDiscard);
                if (tmp___119) {
                  if ((unsigned int )((void const   *)(strConsoleDiscard + 1)) - (unsigned int )((void const   *)(strConsoleDiscard)) ==
                      1U) {
                    __s2_len___0 = strlen(strConsoleDiscard);
                    if (__s2_len___0 < 4U) {
                      tmp___118 = __builtin_constant_p(buf);
                      if (tmp___118) {
                        if ((unsigned int )((void const   *)(buf + 1)) - (unsigned int )((void const   *)(buf)) ==
                            1U) {
                          __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                  0)) - (int const   )(*((unsigned char const   *)(strConsoleDiscard) +
                                                                                         0)));
                          if (__s2_len___0 > 0U) {
                            if (__result___93 == 0) {
                              __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                      1)) - (int const   )(*((unsigned char const   *)(strConsoleDiscard) +
                                                                                             1)));
                              if (__s2_len___0 > 1U) {
                                if (__result___93 == 0) {
                                  __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                          2)) - (int const   )(*((unsigned char const   *)(strConsoleDiscard) +
                                                                                                 2)));
                                  if (__s2_len___0 > 2U) {
                                    if (__result___93 == 0) {
                                      __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)(buf)) +
                                                                              3)) -
                                                             (int const   )(*((unsigned char const   *)(strConsoleDiscard) +
                                                                              3)));
                                    } else {
                                      goto _L___337;
                                    }
                                  } else {
                                    _L___337: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___338;
                                }
                              } else {
                                _L___338: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___339;
                            }
                          } else {
                            _L___339: /* CIL Label */ ;
                          }
                          tmp___95 = __result___93;
                        } else {
                          goto _L___343;
                        }
                      } else {
                        _L___343: /* CIL Label */ 
                        __s1___30 = (unsigned char const   *)((char const   *)(buf));
                        __result___94 = (int )((int const   )(*(__s1___30 + 0)) -
                                               (int const   )(*((unsigned char const   *)(strConsoleDiscard) +
                                                                0)));
                        if (__s2_len___0 > 0U) {
                          if (__result___94 == 0) {
                            __result___94 = (int )((int const   )(*(__s1___30 + 1)) -
                                                   (int const   )(*((unsigned char const   *)(strConsoleDiscard) +
                                                                    1)));
                            if (__s2_len___0 > 1U) {
                              if (__result___94 == 0) {
                                __result___94 = (int )((int const   )(*(__s1___30 +
                                                                        2)) - (int const   )(*((unsigned char const   *)(strConsoleDiscard) +
                                                                                               2)));
                                if (__s2_len___0 > 2U) {
                                  if (__result___94 == 0) {
                                    __result___94 = (int )((int const   )(*(__s1___30 +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)(strConsoleDiscard) +
                                                                            3)));
                                  } else {
                                    goto _L___340;
                                  }
                                } else {
                                  _L___340: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___341;
                              }
                            } else {
                              _L___341: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___342;
                          }
                        } else {
                          _L___342: /* CIL Label */ ;
                        }
                        tmp___95 = __result___94;
                      }
                    } else {
                      goto _L___345;
                    }
                  } else {
                    goto _L___345;
                  }
                } else {
                  _L___345: /* CIL Label */ 
                  tmp___95 = strcmp((char const   *)(buf), strConsoleDiscard);
                }
              }
            }
            tmp___64 = tmp___95;
          } else {
            goto _L___354;
          }
        } else {
          _L___354: /* CIL Label */ 
          tmp___64 = strncmp((char const   *)(buf), strConsoleDiscard, 4U);
        }
      }
      if (! tmp___64) {
        if (console_task_curr == -1) {
          goto _L___0;
        } else {
          if ((int )(console_task + console_task_curr)->state == 1) {
            _L___0: /* CIL Label */ 
            console_input_len = 0U;
            console_pk = (unsigned char)0;
          } else {
            console_task_curr = -1;
          }
        }
        console_print_prompt();
      }
    }
  } else {
    do_quit_sig();
  }
  return;
}
}
static void cu_display_title(tWindow const   *window , char const   *title , short titlerow ) 
{ short count___2 ;
  short maxcount ;
  char ch ;
  char buf___2[1024] ;
  short tmp ;
  short tmp___0 ;
  short tmp___1 ;
  short tmp___2 ;
  short tmp___3 ;
  char const   *tmp___4 ;
  short tmp___5 ;

  {
  count___2 = (short)0;
  maxcount = (short )(COLS - 1);
  if ((int )maxcount > 1000) {
    maxcount = (short)1000;
  }
  tmp = count___2;
  count___2 = (short )((int )count___2 + 1);
  buf___2[tmp] = (window->spec)->ui_char;
  tmp___0 = count___2;
  count___2 = (short )((int )count___2 + 1);
  buf___2[tmp___0] = (char )' ';
  tmp___1 = count___2;
  count___2 = (short )((int )count___2 + 1);
  buf___2[tmp___1] = (char )'-';
  tmp___2 = count___2;
  count___2 = (short )((int )count___2 + 1);
  buf___2[tmp___2] = (char )' ';
  while (1) {
    tmp___4 = title;
    title ++;
    ch = (char )(*tmp___4);
    if ((int )ch != 0) {
      if (! ((int )count___2 < (int )maxcount)) {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      break;
    }
    tmp___3 = count___2;
    count___2 = (short )((int )count___2 + 1);
    buf___2[tmp___3] = ch;
  }
  while ((int )count___2 <= (int )maxcount) {
    tmp___5 = count___2;
    count___2 = (short )((int )count___2 + 1);
    buf___2[tmp___5] = (char )' ';
  }
  buf___2[count___2] = (char )'\000';
  wmove(stdscr, (int )titlerow, 0);
  wattr_on(stdscr, 262144UL, (void *)0);
  waddnstr(stdscr, (char const   *)(buf___2), -1);
  wattr_off(stdscr, 262144UL, (void *)0);
  return;
}
}
static void wk_browser_redraw_message(tBrowserDocument *document ) 
{ tWindowView const   *view ;
  tWindow const   *window ;
  tResourceRequest const   *request ;
  tResource const   *resource ;
  tBoolean is_error ;
  char const   *message ;
  char const   *tmp ;
  size_t msgsize ;
  size_t tmp___0 ;
  char *temp ;
  char *tmp___1 ;

  {
  view = (tWindowView const   *)document->container;
  window = (tWindow const   *)view->window;
  request = (tResourceRequest const   *)document->request;
  resource = (tResource const   *)request->resource;
  tmp = calculate_reqresmsg(request, resource, (unsigned char)0, & is_error);
  message = tmp;
  tmp___0 = strlen(message);
  msgsize = tmp___0 + 1U;
  tmp___1 = (char *)__memory_allocate_ll(msgsize + 1U);
  temp = tmp___1;
  if ((unsigned int )window == (unsigned int )visible_window_x[current_window_index_x]) {
    show_message(message, is_error);
  }
  if ((int )is_error == 0) {
    (*temp) = (char)0;
  } else {
    (*temp) = (char)1;
  }
  memcpy((void * __restrict  )(temp + 1), (void const   * __restrict  )message, msgsize);
  while (1) {
    if ((unsigned int )document->last_info != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)document->last_info);
    }
    break;
  }
  document->last_info = (char const   *)temp;
  return;
}
}
static void wk_browser_redraw_title(tBrowserDocument const   *document , short titlerow ) 
{ tWindowView const   *view ;
  tWindow const   *window ;
  tResource *resource ;
  char *temp ;
  tCantent const   *cantent ;
  char const   *major ;
  char const   *tmp ;
  char const   *html_title ;
  char const   *tmp___0 ;
  char const   *title ;
  char const   *tmp___1 ;
  char const   *tmp___2 ;
  char const   *tmp___3 ;
  char const   *tmp___4 ;
  char const   *tmp___5 ;
  char const   *tmp___6 ;
  char const   *tmp___7 ;
  char const   *tmp___8 ;

  {
  view = (tWindowView const   *)document->container;
  window = (tWindow const   *)view->window;
  resource = (document->request)->resource;
  cantent = (tCantent const   *)document->cantent;
  if ((unsigned int )cantent != (unsigned int )((void *)0)) {
    tmp = cantent->major_html_title;
  } else {
    tmp = (char const   *)((void *)0);
  }
  major = tmp;
  if ((unsigned int )major != (unsigned int )((void *)0)) {
    tmp___0 = major;
  } else {
    tmp___0 = document->minor_html_title;
  }
  html_title = tmp___0;
  title = document->title;
  if ((unsigned int )title == (unsigned int )((void *)0)) {
    tmp___1 = strEmpty;
  } else {
    tmp___1 = title;
  }
  if ((unsigned int )html_title != (unsigned int )((void *)0)) {
    tmp___2 = strSpacedDash;
  } else {
    tmp___2 = strEmpty;
  }
  if ((unsigned int )html_title != (unsigned int )((void *)0)) {
    tmp___3 = html_title;
  } else {
    tmp___3 = strEmpty;
  }
  if ((int )document->bddm == 1) {
    tmp___4 = strSpacedDash;
  } else {
    tmp___4 = strEmpty;
  }
  if ((int )document->bddm == 1) {
    tmp___5 = strSource;
  } else {
    tmp___5 = strEmpty;
  }
  if ((int )document->flags & 8) {
    tmp___6 = strSpacedDash;
  } else {
    tmp___6 = strEmpty;
  }
  if ((int )document->flags & 8) {
    tmp___7 = strRedirection;
  } else {
    tmp___7 = strEmpty;
  }
  if ((unsigned int )resource != (unsigned int )((void *)0)) {
    if (resource->flags & 1536U) {
      tmp___8 = strCookies;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    tmp___8 = strEmpty;
  }
  my_spf(strbuf___0, 4096U, & temp, "%s%s%s%s%s%s%s%s", tmp___8, tmp___7, tmp___6,
         tmp___5, tmp___4, tmp___3, tmp___2, tmp___1);
  cu_display_title(window, (char const   *)temp, titlerow);
  while (1) {
    if ((unsigned int )(strbuf___0) != (unsigned int )temp) {
      memory_deallocate_ll((void const   *)temp);
    }
    break;
  }
  return;
}
}
static char const   * const  strIheader[4]  = {      (char const   * const  )"Images: ",      (char const   * const  )"Forms: ",      (char const   * const  )"Frames: ",      (char const   * const  )"Links: "};
__inline static void wk_browser_build_document_info(tBrowserDocument *document ) ;
static char const   strMasterPre[6]  = {      (char const   )'<',      (char const   )'u',      (char const   )'l',      (char const   )'>', 
        (char const   )'\n',      (char const   )'\000'};
static char const   strMasterPost[7]  = {      (char const   )'<',      (char const   )'/',      (char const   )'u',      (char const   )'l', 
        (char const   )'>',      (char const   )'\n',      (char const   )'\000'};
static char const   strIpre[5]  = {      (char const   )'<',      (char const   )'l',      (char const   )'i',      (char const   )'>', 
        (char const   )'\000'};
static char const   strIpost[7]  = {      (char const   )'<',      (char const   )'/',      (char const   )'l',      (char const   )'i', 
        (char const   )'>',      (char const   )'\n',      (char const   )'\000'};
__inline static void wk_browser_build_document_info(tBrowserDocument *document ) 
{ tWindow *iw ;
  tIbuffer ibuf[4] ;
  tIbufferIndex idx ;
  tHtmlNode const   *node ;
  tResourceRequest const   *request ;
  tUriData const   *req_ud ;
  tResource const   *resource ;
  tCantent *cantent ;
  char const   *uri ;
  char const   *html_title ;
  tActiveElementNumber _ae ;
  tActiveElementNumber __ae ;
  tHtmlFormNumber _hfn ;
  tHtmlFormNumber __hfn ;
  char *spfbuf ;
  char const   *tmp ;
  char const   *html_uri ;
  char const   *tmp___0 ;
  char const   *htitle ;
  char const   *tmp___1 ;
  size_t size ;
  char const   *tmp___2 ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_143 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp___3 ;
  tHtmlTagKind htk ;
  tHtmlNodeFlags hnf ;
  tBoolean has_aebase ;
  int tmp___4 ;
  tActiveElementBase const   *aeb ;
  tAttribute const   *attr ;
  char const   *str ;
  char const   *hstr ;
  tUriData *uri_data ;
  tHtmlForm const   *f ;
  char const   *au ;
  tHtmlFormFlags hff ;
  char const   *tmp___5 ;
  char const   *tmp___6 ;
  tIbuf *ib ;
  tIbuf *tmp___7 ;
  tIbuf *ib___0 ;
  tIbuf *next ;
  char const   *str___0 ;

  {
  request = (tResourceRequest const   *)document->request;
  req_ud = (tUriData const   *)request->uri_data;
  resource = (tResource const   *)request->resource;
  cantent = document->cantent;
  uri = document->title;
  if ((unsigned int )uri != (unsigned int )((void *)0)) {
    tmp = uri;
  } else {
    tmp = strUnknown;
  }
  my_spf((char *)((void *)0), 0U, & spfbuf, "Information about \"%s\"", tmp);
  visible_window_x[1 - (int )current_window_index_x] = wk_info_create((char const   *)spfbuf,
                                                                      (unsigned char)2,
                                                                      (tBrowserDocument **)((void *)0));
  iw = visible_window_x[1 - (int )current_window_index_x];
  if ((unsigned int )uri != (unsigned int )((void *)0)) {
    tmp___0 = htmlify(uri);
    html_uri = tmp___0;
    my_spf(strbuf___0, 4096U, & spfbuf, "<p>%s<a href=\"%s\">%s</a></p>\n", strUriColonSpace,
           html_uri, html_uri);
    while (1) {
      if ((unsigned int )html_uri != (unsigned int )uri) {
        memory_deallocate_ll((void const   *)html_uri);
      }
      break;
    }
    wk_info_collect(iw, (char const   *)spfbuf);
    while (1) {
      if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
        memory_deallocate_ll((void const   *)spfbuf);
      }
      break;
    }
  }
  if ((unsigned int )cantent != (unsigned int )((void *)0)) {
    html_title = cantent->major_html_title;
  } else {
    html_title = (char const   *)((void *)0);
  }
  if ((unsigned int )html_title == (unsigned int )((void *)0)) {
    html_title = document->minor_html_title;
  }
  if ((unsigned int )html_title != (unsigned int )((void *)0)) {
    if ((int const   )(*html_title) != 0) {
      tmp___1 = htmlify(html_title);
      htitle = tmp___1;
      my_spf(strbuf___0, 4096U, & spfbuf, "<p>%s\"%s\"</p>\n", "Title: ", htitle);
      while (1) {
        if ((unsigned int )htitle != (unsigned int )html_title) {
          memory_deallocate_ll((void const   *)htitle);
        }
        break;
      }
      wk_info_collect(iw, (char const   *)spfbuf);
      while (1) {
        if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
          memory_deallocate_ll((void const   *)spfbuf);
        }
        break;
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  if ((unsigned int )resource != (unsigned int )((void *)0)) {
    size = resource->bytecount;
    if (size == 1U) {
      tmp___2 = strByte;
    } else {
      tmp___2 = strBytes;
    }
    my_spf(strbuf___0, 4096U, & spfbuf, "<p>%s%d %s</p>\n", "Size: ", size, tmp___2);
    wk_info_collect(iw, (char const   *)spfbuf);
    while (1) {
      if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
        memory_deallocate_ll((void const   *)spfbuf);
      }
      break;
    }
  }
  if ((unsigned int )cantent == (unsigned int )((void *)0)) {
    goto _L___0;
  } else {
    if ((int )document->bddm != 2) {
      if ((int )cantent->kind != 2) {
        _L___0: /* CIL Label */ 
        goto not_html;
      } else {
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ ;
    }
  }
  document_display(document, (unsigned char)4);
  parser_html_start(cantent);
  tmp___3 = __builtin_constant_p(sizeof(ibuf));
  if (tmp___3) {
    if (sizeof(ibuf) <= 16U) {
      if (sizeof(ibuf) == 1U) {
        __s___1 = (void *)(ibuf);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(ibuf);
        __u = (union __anonunion___u_143 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(ibuf)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_143 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_143 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_143 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_143 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_143 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_143 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_143 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_143 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_143 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_143 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_143 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_143 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_143 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L___2;
    }
  } else {
    _L___2: /* CIL Label */ 
    __s = (void *)(ibuf);
    __builtin_memset(__s, '\000', (int )sizeof(ibuf));
  }
  __ae = -1;
  _ae = __ae;
  __hfn = -1;
  _hfn = __hfn;
  while (1) {
    node = parser_html_next((unsigned char)0);
    if (! ((unsigned int )node != (unsigned int )((void *)0))) {
      break;
    }
    htk = node->kind;
    hnf = node->flags;
    if ((int )hnf & 8) {
      tmp___4 = 1;
    } else {
      tmp___4 = 0;
    }
    has_aebase = (tBoolean )tmp___4;
    if (has_aebase) {
      __ae ++;
      _ae = __ae;
    } else {
      _ae = -1;
    }
    if ((int )hnf & 128) {
      __hfn ++;
      _hfn = __hfn;
    } else {
      _hfn = -1;
    }
    if ((int )htk == 0) {
      goto do_next;
    }
    idx = (signed char)-1;
    switch ((int )htk) {
    case 1: ;
    if (_ae == -1) {
      goto do_next;
    }
    aeb = (tActiveElementBase const   *)(cantent->aebase + _ae);
    str = aeb->data;
    if ((unsigned int )str != (unsigned int )((void *)0)) {
      if ((int const   )(*str) != 0) {
        idx = (signed char)3;
        use_linkstr: 
        uri_data = uri_parse(str, req_ud, (char const   **)((void *)0), (char const   *)((void *)0),
                             (unsigned char)2);
        str = (char const   *)uri_data->uri;
        hstr = htmlify(str);
        my_spf((char *)((void *)0), 0U, & spfbuf, "%s<a href=\"%s\">%s</a>%s", strIpre,
               hstr, hstr, strIpost);
        while (1) {
          if ((unsigned int )hstr != (unsigned int )str) {
            memory_deallocate_ll((void const   *)hstr);
          }
          break;
        }
        uri_put(uri_data);
      } else {
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ ;
    }
    break;
    case 37: 
    attr = find_attribute(node, (unsigned char)24);
    if ((unsigned int )attr != (unsigned int )((void *)0)) {
      str = (char const   *)attr->value;
      if ((unsigned int )str != (unsigned int )((void *)0)) {
        if ((int const   )(*str) != 0) {
          idx = (signed char)0;
          goto use_linkstr;
        } else {
          goto _L___5;
        }
      } else {
        goto _L___5;
      }
    } else {
      _L___5: /* CIL Label */ ;
    }
    break;
    case 23: ;
    if (_hfn != -1) {
      f = (tHtmlForm const   *)(cantent->form + _hfn);
      au = f->action_uri;
      if ((unsigned int )au != (unsigned int )((void *)0)) {
        if ((int const   )(*au) != 0) {
          hff = f->flags;
          if ((int )hff & 2) {
            tmp___5 = " - multipart";
          } else {
            tmp___5 = strEmpty;
          }
          if ((int )hff & 1) {
            tmp___6 = " - POST";
          } else {
            tmp___6 = strEmpty;
          }
          my_spf((char *)((void *)0), 0U, & spfbuf, "%s\"%s\"%s%s%s", strIpre, au,
                 tmp___6, tmp___5, strIpost);
          idx = (signed char)1;
        } else {
          goto _L___6;
        }
      } else {
        _L___6: /* CIL Label */ ;
      }
    }
    break;
    case 24: ;
    if (_ae == -1) {
      goto do_next;
    }
    aeb = (tActiveElementBase const   *)(cantent->aebase + _ae);
    str = aeb->data;
    if ((unsigned int )str != (unsigned int )((void *)0)) {
      if ((int const   )(*str) != 0) {
        idx = (signed char)2;
        goto use_linkstr;
      } else {
        goto _L___7;
      }
    } else {
      _L___7: /* CIL Label */ ;
    }
    break;
    }
    if ((int )idx >= 0) {
      tmp___7 = (tIbuf *)__memory_allocate_ll(sizeof(tIbuf ));
      ib = tmp___7;
      ib->next = (struct tIbuf *)((void *)0);
      ib->str = (char const   *)spfbuf;
      if ((unsigned int )ibuf[idx].tail != (unsigned int )((void *)0)) {
        (ibuf[idx].tail)->next = ib;
      }
      ibuf[idx].tail = ib;
      if ((unsigned int )ibuf[idx].head == (unsigned int )((void *)0)) {
        ibuf[idx].head = ib;
      }
    }
    do_next: 
    if (! ((int )hnf & 4)) {
      deallocate_html_node(node);
    }
  }
  parser_html_finish();
  idx = (signed char)0;
  while ((int )idx <= 3) {
    ib___0 = ibuf[idx].head;
    if ((unsigned int )ib___0 == (unsigned int )((void *)0)) {
      goto do_next_idx;
    }
    sprintf((char * __restrict  )(strbuf___0), (char const   * __restrict  )"<p>%s</p>\n%s",
            strIheader[idx], strMasterPre);
    wk_info_collect(iw, (char const   *)(strbuf___0));
    while ((unsigned int )ib___0 != (unsigned int )((void *)0)) {
      next = ib___0->next;
      str___0 = ib___0->str;
      wk_info_collect(iw, str___0);
      memory_deallocate_ll((void const   *)str___0);
      memory_deallocate_ll((void const   *)ib___0);
      ib___0 = next;
    }
    wk_info_collect(iw, strMasterPost);
    do_next_idx: 
    idx = (tIbufferIndex )((int )idx + 1);
  }
  not_html: 
  wk_info_finalize(iw);
  return;
}
}
static tBoolean wk_browser_dop_find_coords(tBrowserDocument const   *document , short *_x1 ,
                                           short *_y1 , short *_x2 , short *_y2 ) 
{ tWindowView const   *view ;
  tWindow const   *window ;
  short minrow ;
  short maxrow ;
  tBoolean retval ;
  tBoolean tmp ;

  {
  view = (tWindowView const   *)document->container;
  window = (tWindow const   *)view->window;
  tmp = window_contents_minmaxrow(window, & minrow, & maxrow);
  retval = tmp;
  if (retval) {
    (*_x1) = (short)0;
    (*_y1) = minrow;
    (*_x2) = (short )(COLS - 1);
    (*_y2) = maxrow;
  }
  return (retval);
}
}
static void wk_browser_dop_display_meta1(tBrowserDocument *document ) 
{ 

  {
  wk_browser_redraw_message(document);
  return;
}
}
static void wk_browser_dop_display_meta2(tBrowserDocument *document ) 
{ short minrow ;
  short maxrow ;
  tBoolean tmp ;

  {
  tmp = document_minmaxrow((tBrowserDocument const   *)document, & minrow, & maxrow);
  if (tmp) {
    wk_browser_redraw_title((tBrowserDocument const   *)document, (short )((int )maxrow +
                                                                           1));
  }
  return;
}
}
static struct __anonstruct_tBrowserDocumentOps_99  const  wk_browser_document_ops  =    {& wk_browser_dop_find_coords,
    & wk_browser_dop_display_meta1, & wk_browser_dop_display_meta2};
static void deallocate_windowviewlist(tWindowView const   *view ) 
{ tWindowView const   *next ;

  {
  while ((unsigned int )view != (unsigned int )((void *)0)) {
    next = (tWindowView const   *)view->next;
    document_tear((tBrowserDocument const   *)(& view->bd));
    memory_deallocate_ll((void const   *)view);
    view = next;
  }
  return;
}
}
static void cut_windowviewlist(tWindow *window ) 
{ tWkBrowserData *wksd ;
  tWindowView *view ;

  {
  wksd = (tWkBrowserData *)window->wksd;
  view = wksd->current_view;
  if ((unsigned int )view != (unsigned int )((void *)0)) {
    if ((unsigned int )view->prev != (unsigned int )((void *)0)) {
      (view->prev)->next = (struct tWindowView *)((void *)0);
    }
    wksd->current_view = view->prev;
    if ((unsigned int )wksd->first_view == (unsigned int )view) {
      wksd->first_view = (tWindowView *)((void *)0);
    }
    deallocate_windowviewlist((tWindowView const   *)view);
  }
  return;
}
}
static tWindowView *wk_browser_append_view(tWindow *window ) 
{ tWkBrowserData *wksd ;
  tWindowView *current_view ;
  tWindowView *new_view ;
  tWindowView *tmp ;
  tWindowView const   *tail ;

  {
  wksd = (tWkBrowserData *)window->wksd;
  current_view = wksd->current_view;
  tmp = (tWindowView *)memory_allocate_ll(sizeof(tWindowView ));
  new_view = tmp;
  new_view->window = window;
  if ((unsigned int )current_view != (unsigned int )((void *)0)) {
    tail = (tWindowView const   *)current_view->next;
    if ((unsigned int )tail != (unsigned int )((void *)0)) {
      deallocate_windowviewlist(tail);
    }
    current_view->next = new_view;
    new_view->prev = current_view;
  }
  wksd->current_view = new_view;
  if ((unsigned int )wksd->first_view == (unsigned int )((void *)0)) {
    wksd->first_view = new_view;
  }
  return (new_view);
}
}
static void wk_browser_request_callback(void *_document , tDhmNotificationFlags flags ) 
{ tBrowserDocument *document ;
  tResourceRequest *request ;
  tResource *resource ;
  tWindowView *view ;
  tWindow *window ;
  tWkBrowserData *wksd ;
  tBoolean tmp ;
  tDhmNotificationSetup _dns ;

  {
  document = (tBrowserDocument *)_document;
  request = document->request;
  resource = request->resource;
  view = (tWindowView *)document->container;
  window = view->window;
  if ((unsigned int )resource != (unsigned int )((void *)0)) {
    request_copy_error(request, (tResource const   *)resource);
  }
  if ((int )flags & 12) {
    wksd = (tWkBrowserData *)window->wksd;
    tmp = window_is_visible(window);
    if (tmp) {
      if ((unsigned int )wksd->current_view == (unsigned int )view) {
        if ((int )request->flags & 1) {
          request->flags = (unsigned char )((int )request->flags & -2);
        } else {
          if ((int )document->flags & 1) {
            document->flags = (unsigned char )((int )document->flags | 2);
          }
        }
        document_display(document, (unsigned char)0);
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ ;
    }
  } else {
    if ((int )flags & 16) {
      while (1) {
        _dns.callback = & wk_browser_request_callback;
        _dns.callback_data = (void *)document;
        _dns.flags = (tDhmNotificationFlags )12;
        _dns.mode = (tDhmNotimode )0;
        dhm_generic_handler(& resource->dhm_data, (void const   *)(& _dns), (unsigned char)3);
        break;
      }
      while (1) {
        (resource->cantent)->refcount ++;
        document->cantent = resource->cantent;
        break;
      }
    }
  }
  test_redirection(window, document);
  return;
}
}
static void wk_browser_prr(tWindow *window , char const   *uri , tPrrFlags prrf ,
                           tBrowserDocument const   *referrer ) 
{ tWkBrowserData *wksd ;
  tWindowView *current_view ;
  tWindowView *new_view ;
  tPrrData prr_data ;
  tResourceRequest *request ;
  tBrowserDocument *document ;
  char const   *anchor ;
  unsigned char redirections ;
  unsigned char count___2 ;
  tResource const   *res ;
  char const   *html_title ;
  tResourceRequestAction action ;
  tDhmNotificationSetup _dns ;

  {
  wksd = (tWkBrowserData *)window->wksd;
  current_view = wksd->current_view;
  redirections = (unsigned char)0;
  prr_setup(& prr_data, uri, (unsigned short )((int )prrf | 512));
  prr_data.referrer = referrer;
  prepare_resource_request(& prr_data);
  request = prr_data.result;
  prr_data.result = (tResourceRequest *)((void *)0);
  anchor = prr_data.uri_anchor;
  prr_data.uri_anchor = (char const   *)((void *)0);
  if ((int )prrf & 64) {
    if ((unsigned int )referrer != (unsigned int )((void *)0)) {
      redirections = (unsigned char )((int )referrer->redirections + 1);
      count___2 = redirections;
      if ((int )count___2 > (int )config.redirections) {
        redirection_error: 
        request_set_error(request, (unsigned char)16);
        goto redirection_checked;
      }
      if ((int )prrf & 64) {
        if ((unsigned int )referrer != (unsigned int )((void *)0)) {
          res = (tResource const   *)(referrer->request)->resource;
          if ((unsigned int )res != (unsigned int )((void *)0)) {
            if (res->flags & 2U) {
              goto redirection_error;
            } else {
              goto _L;
            }
          } else {
            _L: /* CIL Label */ ;
          }
        } else {
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ ;
      }
    } else {
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ ;
  }
  redirection_checked: 
  new_view = wk_browser_append_view(window);
  document = & new_view->bd;
  document_init(document, & wk_browser_document_ops, (void *)new_view, request);
  document->anchor = anchor;
  document->redirections = redirections;
  document->title = my_strdup((char const   *)(request->uri_data)->uri);
  if ((int )prrf & 256) {
    document->flags = (unsigned char )((int )document->flags | 16);
  }
  if ((int )prrf & 4) {
    document->bddm = (unsigned char)1;
    if ((unsigned int )current_view != (unsigned int )((void *)0)) {
      html_title = current_view->bd.minor_html_title;
      if ((unsigned int )html_title != (unsigned int )((void *)0)) {
        document->minor_html_title = my_strdup(html_title);
      }
    }
  } else {
    if ((int )prrf & 8) {
      document->bddm = (unsigned char)2;
    }
  }
  if ((int )prrf & 1) {
    window_redraw_all();
  } else {
    if ((int )prrf & 2) {
      window_redraw(window);
    }
  }
  if ((int )request->state != 1) {
    if ((int )prrf & 32) {
      action = (unsigned char)2;
    } else {
      if ((int )prrf & 16) {
        action = (unsigned char)1;
      } else {
        action = (unsigned char)0;
        if ((int )program_mode == 0) {
          while (1) {
            while (1) {
              if ((unsigned int )uri_history[uri_history_index] != (unsigned int )((void *)0)) {
                memory_deallocate_ll((void const   *)uri_history[uri_history_index]);
              }
              break;
            }
            uri_history[uri_history_index] = my_strdup((char const   *)(request->uri_data)->uri);
            break;
          }
          if ((int )uri_history_index < 19) {
            uri_history_index = (unsigned short )((int )uri_history_index + 1);
          } else {
            uri_history_index = (unsigned short)0;
          }
        }
      }
    }
    while (1) {
      _dns.callback = & wk_browser_request_callback;
      _dns.callback_data = (void *)document;
      _dns.flags = (tDhmNotificationFlags )28;
      _dns.mode = (tDhmNotimode )0;
      dhm_generic_handler(& request->dhm_data, (void const   *)(& _dns), (unsigned char)3);
      break;
    }
    request_queue(request, action);
  }
  prr_setdown(& prr_data);
  return;
}
}
static void wop_browser_create(tWindow *window ) 
{ 

  {
  window->wksd = memory_allocate_ll(sizeof(tWkBrowserData ));
  return;
}
}
static void wop_browser_remove(tWindow *window ) 
{ tWkBrowserData const   *wksd ;
  tWindowView const   *view ;

  {
  wksd = (tWkBrowserData const   *)((tWkBrowserData *)window->wksd);
  view = (tWindowView const   *)wksd->first_view;
  if ((unsigned int )view != (unsigned int )((void *)0)) {
    deallocate_windowviewlist(view);
  }
  memory_deallocate_ll((void const   *)wksd);
  return;
}
}
static void wop_browser_redraw(tWindow const   *window ) 
{ tWkBrowserData const   *wksd ;
  tWindowView *view ;
  tBrowserDocument *document ;
  tBrowserDocument *tmp ;
  short i ;
  short minrow ;
  short maxrow ;
  tBoolean tmp___0 ;

  {
  wksd = (tWkBrowserData const   *)((tWkBrowserData *)window->wksd);
  view = wksd->current_view;
  if ((unsigned int )view != (unsigned int )((void *)0)) {
    tmp = & view->bd;
  } else {
    tmp = (tBrowserDocument *)((void *)0);
  }
  document = tmp;
  if ((unsigned int )document != (unsigned int )((void *)0)) {
    document_display(document, (unsigned char)0);
  } else {
    tmp___0 = window_contents_minmaxrow(window, & minrow, & maxrow);
    if (tmp___0) {
      i = minrow;
      while ((int )i <= (int )maxrow) {
        wmove(stdscr, (int )i, 0);
        wclrtoeol(stdscr);
        i = (short )((int )i + 1);
      }
      cu_display_title(window, strBracedNewWindow, (short )((int )maxrow + 1));
      if ((unsigned int )window == (unsigned int )visible_window_x[current_window_index_x]) {
        show_message(strEmpty, (unsigned char)0);
      }
    }
  }
  must_reset_cursor();
  return;
}
}
static tBoolean wop_browser_is_precious(tWindow const   *window ) 
{ tWkBrowserData const   *wksd ;
  int tmp ;

  {
  wksd = (tWkBrowserData const   *)((tWkBrowserData *)window->wksd);
  if ((unsigned int )wksd->first_view != (unsigned int )((void *)0)) {
    tmp = 1;
  } else {
    tmp = 0;
  }
  return ((unsigned char )tmp);
}
}
static tBoolean wop_browser_handle_pcc(tWindow *window , tProgramCommandCode pcc ) 
{ tBoolean retval ;
  tWkBrowserData *wksd ;
  tWindowView *view ;
  tBrowserDocument *document ;
  tBoolean is_post ;
  tBrowserDocument const   *document___0 ;
  tBrowserDocument const   *tmp ;
  tWindow *tmp___0 ;

  {
  retval = (tBoolean )1;
  switch ((int )pcc) {
  case 52: 
  wksd = (tWkBrowserData *)window->wksd;
  view = wksd->current_view;
  if ((unsigned int )view != (unsigned int )((void *)0)) {
    if ((unsigned int )view->prev != (unsigned int )((void *)0)) {
      wksd->current_view = view->prev;
      window_redraw(window);
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  break;
  case 53: 
  wksd = (tWkBrowserData *)window->wksd;
  view = wksd->current_view;
  if ((unsigned int )view != (unsigned int )((void *)0)) {
    if ((unsigned int )view->next != (unsigned int )((void *)0)) {
      wksd->current_view = view->next;
      window_redraw(window);
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  break;
  case 5: ;
  case 6: 
  wksd = (tWkBrowserData *)window->wksd;
  view = wksd->current_view;
  if ((unsigned int )view == (unsigned int )((void *)0)) {
    goto out;
  }
  document = & view->bd;
  if ((int )document->flags & 16) {
    is_post = (unsigned char)1;
  } else {
    is_post = (unsigned char)0;
  }
  if ((int )pcc == 6) {
    lid.prrf = (unsigned short)32;
  } else {
    lid.prrf = (unsigned short)16;
  }
  if (is_post) {
    lid.prrf = (unsigned short )((int )lid.prrf | 256);
  }
  if (! is_post) {
    goto _L___1;
  } else {
    if (config.flags & 512U) {
      _L___1: /* CIL Label */ 
      wk_browser_reload(window);
    } else {
      ask_yesno("Really repost form data?", (unsigned char)8, (tUserQuery *)((void *)0));
    }
  }
  break;
  case 3: 
  tmp = ((*((window->spec)->find_currdoc)))((tWindow const   *)window);
  document___0 = tmp;
  if ((unsigned int )document___0 != (unsigned int )((void *)0)) {
    if ((int )document___0->bddm != 1) {
      tmp___0 = require_browser_window();
      wk_browser_prr(tmp___0, document___0->title, (unsigned short)6, (tBrowserDocument const   *)((void *)0));
    } else {
      goto _L___2;
    }
  } else {
    _L___2: /* CIL Label */ ;
  }
  break;
  case 4: 
  wksd = (tWkBrowserData *)window->wksd;
  view = wksd->current_view;
  if ((unsigned int )view != (unsigned int )((void *)0)) {
    wk_browser_build_document_info(& view->bd);
  }
  break;
  default: 
  retval = (unsigned char)0;
  break;
  }
  out: 
  return (retval);
}
}
static tBrowserDocument *wop_browser_find_currdoc(tWindow const   *window ) 
{ tWkBrowserData const   *wksd ;
  tWindowView *view ;
  tBrowserDocument *tmp ;

  {
  wksd = (tWkBrowserData const   *)((tWkBrowserData *)window->wksd);
  view = wksd->current_view;
  if ((unsigned int )view != (unsigned int )((void *)0)) {
    tmp = & view->bd;
  } else {
    tmp = (tBrowserDocument *)((void *)0);
  }
  return (tmp);
}
}
static char const   *wop_browser_get_info(tWindow *window , tBoolean *_is_error ) 
{ tWkBrowserData const   *wksd ;
  tWindowView const   *view ;
  char const   *retval ;
  char const   *tmp ;
  char const   *tmp___4 ;

  {
  wksd = (tWkBrowserData const   *)((tWkBrowserData *)window->wksd);
  view = (tWindowView const   *)wksd->current_view;
  if ((unsigned int )view != (unsigned int )((void *)0)) {
    tmp = view->bd.last_info;
  } else {
    tmp = (char const   *)((void *)0);
  }
  retval = tmp;
  if ((unsigned int )retval != (unsigned int )((void *)0)) {
    tmp___4 = retval;
    retval ++;
    if ((int const   )(*tmp___4) & 1) {
      (*_is_error) = (unsigned char)1;
    } else {
      (*_is_error) = (unsigned char)0;
    }
  } else {
    (*_is_error) = (unsigned char)0;
  }
  return (retval);
}
}
static char const   *wop_browser_get_menu_entry(tWindow *window ) 
{ tWkBrowserData const   *wksd ;
  tWindowView const   *view ;
  tBrowserDocument const   *document ;
  tCantent const   *cantent ;
  char const   *text ;

  {
  wksd = (tWkBrowserData const   *)((tWkBrowserData *)window->wksd);
  view = (tWindowView const   *)wksd->current_view;
  if ((unsigned int )view == (unsigned int )((void *)0)) {
    text = strBracedNewWindow;
    goto out;
  }
  document = (tBrowserDocument const   *)(& view->bd);
  cantent = (tCantent const   *)document->cantent;
  if ((unsigned int )cantent != (unsigned int )((void *)0)) {
    text = cantent->major_html_title;
    if ((unsigned int )text != (unsigned int )((void *)0)) {
      goto out;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  text = document->minor_html_title;
  if ((unsigned int )text != (unsigned int )((void *)0)) {
    goto out;
  }
  text = document->title;
  if ((unsigned int )text != (unsigned int )((void *)0)) {
    goto out;
  }
  text = (char const   *)((char *)(strUnknown));
  out: 
  return (text);
}
}
static void wop_browser_setup_cm(tWindow *window , short *_x , short *_y , tActiveElementNumber _ae ) 
{ tWkBrowserData const   *wksd ;
  tWindowView const   *view ;
  tBrowserDocument const   *document ;
  tResourceRequest const   *request ;
  char const   *uri ;
  char *tmp ;
  short x ;
  short y ;
  tCantent const   *cantent ;
  tActiveElementBase const   *aeb ;
  tActiveElementKind aek ;
  int tmp___0 ;
  tActiveElementCoordinates const   *aec ;
  tActiveElementCoordinates const   *tmp___1 ;
  tBoolean tmp___2 ;
  tHtmlFormNumber hfn ;
  tHtmlFormNumber tmp___3 ;

  {
  wksd = (tWkBrowserData const   *)((tWkBrowserData *)window->wksd);
  view = (tWindowView const   *)wksd->current_view;
  if ((unsigned int )view != (unsigned int )((void *)0)) {
    document = (tBrowserDocument const   *)(& view->bd);
    request = (tResourceRequest const   *)document->request;
    if ((unsigned int )request != (unsigned int )((void *)0)) {
      tmp = (request->uri_data)->uri;
    } else {
      tmp = (char *)((void *)0);
    }
    uri = (char const   *)tmp;
    if (_ae != -1) {
      cantent = (tCantent const   *)document->cantent;
      aeb = (tActiveElementBase const   *)cantent->aebase;
      if ((unsigned int )aeb != (unsigned int )((void *)0)) {
        tmp___0 = (int )(aeb + _ae)->kind;
      } else {
        tmp___0 = 0;
      }
      aek = (tActiveElementKind )tmp___0;
      tmp___1 = find_visible_aec(document, _ae);
      aec = tmp___1;
      if ((unsigned int )aec != (unsigned int )((void *)0)) {
        tmp___2 = document_line2row(document, aec->y, & y);
        if (tmp___2) {
          x = aec->x1;
          y = (short )((int )y + 1);
          (*_x) = x;
          (*_y) = y;
        } else {
          goto _L;
        }
      } else {
        _L: /* CIL Label */ ;
      }
      __cm_add((char const   *)((char *)(strShowElementInfo)), & cm_handle_command_code,
               (void *)17);
      if ((unsigned int )aeb != (unsigned int )((void *)0)) {
        if ((int )(aeb + _ae)->flags & 2) {
          __cm_add((char const   *)((char *)(strEnableThisElement)), & cm_handle_command_code,
                   (void *)16);
        } else {
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ ;
      }
      if ((int )aek == 1) {
        __cm_add((char const   *)((char *)(strOpenLinkInNewWindow)), & cm_handle_command_code,
                 (void *)57);
        __cm_add((char const   *)((char *)(strSaveLinkAs)), & cm_handle_command_code,
                 (void *)14);
      } else {
        if ((int )aek >= 2) {
          if ((int )aek <= 13) {
            tmp___3 = calc_hfn(cantent, _ae);
            hfn = tmp___3;
            if (hfn != -1) {
              __cm_add((char const   *)((char *)(strSubmitThisForm)), & cm_handle_command_code,
                       (void *)25);
            }
          } else {
            goto _L___1;
          }
        } else {
          _L___1: /* CIL Label */ ;
        }
      }
      cm_add_separator();
    }
    if ((unsigned int )view->prev != (unsigned int )((void *)0)) {
      __cm_add((char const   *)((char *)(strBack)), & cm_handle_command_code, (void *)52);
    }
    if ((unsigned int )view->next != (unsigned int )((void *)0)) {
      __cm_add((char const   *)((char *)(strForward)), & cm_handle_command_code, (void *)53);
    }
    if ((unsigned int )uri != (unsigned int )((void *)0)) {
      if ((int const   )(*uri) != 0) {
        __cm_add((char const   *)((char *)(strReload)), & cm_handle_command_code,
                 (void *)5);
        __cm_add((char const   *)((char *)(strEnforcedReload)), & cm_handle_command_code,
                 (void *)6);
        __cm_add((char const   *)((char *)(strSaveAs)), & cm_handle_command_code,
                 (void *)7);
        __cm_add((char const   *)((char *)(strOpenInNewWindow)), & cm_handle_command_code,
                 (void *)56);
      } else {
        goto _L___2;
      }
    } else {
      _L___2: /* CIL Label */ ;
    }
    __cm_add((char const   *)((char *)(strSourceCode)), & cm_handle_command_code,
             (void *)3);
    cm_add_separator();
  }
  return;
}
}
static void wop_browser_save_session(tWindow *window , int fd ) 
{ tWkBrowserData *wksd ;
  tWindowView *view ;
  tWindowView *currview ;
  tBoolean is_fuiw ;
  tBrowserDocument const   *document ;
  tResourceRequest const   *request ;
  tWindowViewFlags wvf ;
  tBrowserDocumentDisplayMode bddm ;
  char const   *uri ;
  char const   *html_title ;
  char const   *flagsptr ;
  char const   *linenumptr ;
  char *spfbuf ;
  tLinenumber linenum ;
  tBoolean is_currview ;
  tResource const   *resource ;
  char *temp ;
  unsigned char num ;
  size_t tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char const   *_x ;
  size_t tmp___2 ;
  char *temp___0 ;
  size_t tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  size_t tmp___7 ;
  char const   *tmp___8 ;
  char const   *tmp___9 ;
  char const   *_x___0 ;
  size_t tmp___10 ;

  {
  wksd = (tWkBrowserData *)window->wksd;
  view = wksd->first_view;
  currview = wksd->current_view;
  is_fuiw = (tBoolean )1;
  while ((unsigned int )view != (unsigned int )((void *)0)) {
    document = (tBrowserDocument const   *)(& view->bd);
    wvf = document->flags;
    if ((int )wvf & 16) {
      goto nextview;
    }
    if ((unsigned int )view == (unsigned int )currview) {
      is_currview = (unsigned char)1;
    } else {
      is_currview = (unsigned char)0;
    }
    request = (tResourceRequest const   *)document->request;
    if ((unsigned int )request != (unsigned int )((void *)0)) {
      resource = (tResource const   *)request->resource;
      if ((unsigned int )resource != (unsigned int )((void *)0)) {
        uri = (char const   *)(resource->uri_data)->uri;
        if ((unsigned int )uri != (unsigned int )((void *)0)) {
          if ((int const   )(*uri) != 0) {
            goto write_uri;
          } else {
            goto _L___0;
          }
        } else {
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ ;
      }
      uri = (char const   *)(request->uri_data)->uri;
      if ((unsigned int )uri != (unsigned int )((void *)0)) {
        if ((int const   )(*uri) != 0) {
          goto write_uri;
        } else {
          goto _L___1;
        }
      } else {
        _L___1: /* CIL Label */ ;
      }
    }
    uri = document->title;
    if ((unsigned int )uri != (unsigned int )((void *)0)) {
      if ((int const   )(*uri) != 0) {
        goto write_uri;
      } else {
        goto _L___2;
      }
    } else {
      _L___2: /* CIL Label */ ;
    }
    goto nextview;
    write_uri: 
    if (is_fuiw) {
      temp = winbuf + 2;
      num = (unsigned char)0;
      while ((int )num < 2) {
        if ((unsigned int )window == (unsigned int )visible_window_x[num]) {
          while (1) {
            strcpy((char * __restrict  )temp, (char const   * __restrict  )(strSessionMarker));
            (*(temp + 3)) = (char )'v';
            break;
          }
          tmp = strlen(strSessionMarker);
          temp = temp + tmp;
          tmp___0 = temp;
          temp ++;
          (*tmp___0) = (char )(48 + (int )num);
          break;
        }
        num = (unsigned char )((int )num + 1);
      }
      tmp___1 = temp;
      temp ++;
      (*tmp___1) = (char )'\n';
      (*temp) = (char )'\000';
      while (1) {
        _x = (char const   *)(winbuf);
        tmp___2 = strlen(_x);
        my_write(fd, (void const   *)_x, tmp___2);
        break;
      }
      is_fuiw = (unsigned char)0;
    }
    bddm = document->bddm;
    if ((int )bddm != 0) {
      goto _L___3;
    } else {
      if (is_currview) {
        _L___3: /* CIL Label */ 
        tmp___3 = strlen(strSessionMarker);
        temp___0 = flagsbuf + tmp___3;
        if ((int )bddm == 1) {
          tmp___4 = temp___0;
          temp___0 ++;
          (*tmp___4) = (char )'s';
        } else {
          if ((int )bddm == 2) {
            tmp___5 = temp___0;
            temp___0 ++;
            (*tmp___5) = (char )'h';
          }
        }
        if (is_currview) {
          tmp___6 = temp___0;
          temp___0 ++;
          (*tmp___6) = (char )'c';
        }
        (*temp___0) = (char )'\000';
        flagsptr = (char const   *)(flagsbuf);
      } else {
        flagsptr = strEmpty;
      }
    }
    linenum = document->origin_y;
    if (linenum <= 0) {
      linenumptr = strEmpty;
    } else {
      tmp___7 = strlen(strSessionMarker);
      sprintf((char * __restrict  )(linenumbuf + tmp___7), (char const   * __restrict  )(strPercd),
              linenum);
      linenumptr = (char const   *)(linenumbuf);
    }
    if ((int )bddm == 1) {
      html_title = document->minor_html_title;
    } else {
      html_title = (char const   *)((void *)0);
    }
    if ((unsigned int )html_title != (unsigned int )((void *)0)) {
      if ((int const   )(*html_title) == 0) {
        html_title = (char const   *)((void *)0);
      } else {
        goto _L___4;
      }
    } else {
      _L___4: /* CIL Label */ ;
    }
    if ((unsigned int )html_title == (unsigned int )((void *)0)) {
      tmp___8 = strEmpty;
    } else {
      tmp___8 = html_title;
    }
    if ((unsigned int )html_title != (unsigned int )((void *)0)) {
      tmp___9 = (char const   *)(htmltitlemarker);
    } else {
      tmp___9 = strEmpty;
    }
    my_spf(strbuf___0, 4096U, & spfbuf, "U:%s%s%s%s%s%s\n", flagsptr, linenumptr,
           urimarker, uri, tmp___9, tmp___8);
    while (1) {
      _x___0 = (char const   *)spfbuf;
      tmp___10 = strlen(_x___0);
      my_write(fd, (void const   *)_x___0, tmp___10);
      break;
    }
    while (1) {
      if ((unsigned int )(strbuf___0) != (unsigned int )spfbuf) {
        memory_deallocate_ll((void const   *)spfbuf);
      }
      break;
    }
    nextview: 
    view = view->next;
  }
  return;
}
}
static void wop_browser_handle_mouse(tWindow *window  __attribute__((__unused__)) ,
                                     tCoordinate x  __attribute__((__unused__)) ,
                                     tCoordinate y  __attribute__((__unused__)) ,
                                     int flags  __attribute__((__unused__)) ) 
{ 

  {
  return;
}
}
static struct tWindowSpec  const  wk_browser_spec  = 
     {& wop_browser_create, & wop_browser_remove, & wop_browser_redraw, & wop_browser_is_precious,
    (tBoolean (*)(tWindow * , tKey  ))((void *)0), & wop_browser_handle_pcc, & wop_browser_find_currdoc,
    & wop_browser_get_info, & wop_browser_get_menu_entry, & wop_browser_setup_cm,
    & wop_browser_save_session, & wop_browser_handle_mouse, (char )'B', (char )'B',
    (tWindowKind )1, (tWindowSpecFlags )0};
static void wk_browser_reload(tWindow *window ) 
{ tWkBrowserData const   *wksd ;
  tWindowView const   *view ;
  tBrowserDocument const   *document ;
  char const   *uri ;
  tBoolean do_post ;
  tPrrFlags prrf ;
  char const   *post ;
  char const   *tmp ;
  size_t tmp___0 ;

  {
  wksd = (tWkBrowserData const   *)((tWkBrowserData *)window->wksd);
  view = (tWindowView const   *)wksd->current_view;
  if ((unsigned int )view == (unsigned int )((void *)0)) {
    return;
  }
  document = (tBrowserDocument const   *)(& view->bd);
  uri = my_strdup(document->title);
  prrf = (unsigned short )((int )lid.prrf | 2);
  if ((int )prrf & 256) {
    do_post = (unsigned char)1;
  } else {
    do_post = (unsigned char)0;
  }
  if (do_post) {
    post = (char const   *)((document->request)->uri_data)->post;
    if ((unsigned int )post == (unsigned int )((void *)0)) {
      tmp = strEmpty;
    } else {
      tmp = post;
    }
    sfbuf = my_strdup(tmp);
    tmp___0 = strlen((char const   *)sfbuf);
    sfbuf_maxsize = tmp___0 + 1U;
    sfbuf_size = sfbuf_maxsize;
    prrf = (unsigned short )((int )prrf | 128);
  }
  cut_windowviewlist(window);
  wk_browser_prr(window, uri, prrf, (tBrowserDocument const   *)((void *)0));
  memory_deallocate_ll((void const   *)uri);
  return;
}
}
static tWindow *wk_browser_create(void) 
{ tWindow *tmp ;

  {
  tmp = window_create(& wk_browser_spec);
  return (tmp);
}
}
static tBoolean wk_info_dop_find_coords(tBrowserDocument const   *document , short *_x1 ,
                                        short *_y1 , short *_x2 , short *_y2 ) 
{ tWindow const   *window ;
  short minrow ;
  short maxrow ;
  tBoolean retval ;
  tBoolean tmp ;

  {
  window = (tWindow const   *)document->container;
  tmp = window_contents_minmaxrow(window, & minrow, & maxrow);
  retval = tmp;
  if (retval) {
    (*_x1) = (short)0;
    (*_y1) = minrow;
    (*_x2) = (short )(COLS - 1);
    (*_y2) = maxrow;
  }
  return (retval);
}
}
static void wk_info_dop_display_meta1(tBrowserDocument *document ) 
{ tWindow const   *window ;
  tWkInfoData const   *wksd ;
  char const   *msg ;
  char const   *tmp ;

  {
  window = (tWindow const   *)document->container;
  if ((unsigned int )window == (unsigned int )visible_window_x[current_window_index_x]) {
    wksd = (tWkInfoData const   *)window->wksd;
    msg = wksd->message;
    if ((unsigned int )msg == (unsigned int )((void *)0)) {
      tmp = strEmpty;
    } else {
      tmp = msg;
    }
    show_message(tmp, wksd->message_is_error);
  }
  return;
}
}
static void wk_info_dop_display_meta2(tBrowserDocument *document ) 
{ short minrow ;
  short maxrow ;
  tWindow const   *window ;
  tWkInfoData const   *wksd ;
  tBoolean tmp ;

  {
  tmp = document_minmaxrow((tBrowserDocument const   *)document, & minrow, & maxrow);
  if (tmp) {
    window = (tWindow const   *)document->container;
    wksd = (tWkInfoData const   *)window->wksd;
    cu_display_title(window, wksd->window_title, (short )((int )maxrow + 1));
  }
  return;
}
}
static struct __anonstruct_tBrowserDocumentOps_99  const  wk_info_document_ops  =    {& wk_info_dop_find_coords,
    & wk_info_dop_display_meta1, & wk_info_dop_display_meta2};
static void wop_info_create(tWindow *window ) 
{ tWkInfoData *wksd ;
  tBrowserDocument *document ;
  tCantent *cantent ;
  tCantent *tmp ;

  {
  window->wksd = memory_allocate_ll(sizeof(tWkInfoData ));
  wksd = (tWkInfoData *)window->wksd;
  document = & wksd->document;
  tmp = cantent_create();
  cantent = tmp;
  document_init(document, & wk_info_document_ops, (void *)window, (tResourceRequest *)((void *)0));
  while (1) {
    cantent->refcount ++;
    document->cantent = cantent;
    break;
  }
  return;
}
}
static void wop_info_remove(tWindow *window ) 
{ tWkInfoData *wksd ;

  {
  wksd = (tWkInfoData *)window->wksd;
  document_tear((tBrowserDocument const   *)(& wksd->document));
  while (1) {
    if ((unsigned int )wksd->window_title != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)wksd->window_title);
    }
    break;
  }
  memory_deallocate_ll((void const   *)wksd);
  return;
}
}
static void wop_info_redraw(tWindow const   *window ) 
{ tWkInfoData *wksd ;
  tBrowserDocument *document ;

  {
  wksd = (tWkInfoData *)window->wksd;
  document = & wksd->document;
  document_display(document, (unsigned char)0);
  return;
}
}
static tBrowserDocument *wop_info_find_currdoc(tWindow const   *window ) 
{ tWkInfoData *wksd ;
  tBrowserDocument *document ;

  {
  wksd = (tWkInfoData *)window->wksd;
  document = & wksd->document;
  return (document);
}
}
static char const   *wop_info_get_info(tWindow *window , tBoolean *_is_error ) 
{ tWkInfoData const   *wksd ;
  char const   *retval ;

  {
  wksd = (tWkInfoData const   *)((tWkInfoData *)window->wksd);
  retval = wksd->message;
  (*_is_error) = wksd->message_is_error;
  return (retval);
}
}
static char const   *wop_info_get_menu_entry(tWindow *window ) 
{ tWkInfoData const   *wksd ;

  {
  wksd = (tWkInfoData const   *)window->wksd;
  return (wksd->window_title);
}
}
static struct tWindowSpec  const  wk_info_spec  = 
     {& wop_info_create, & wop_info_remove, & wop_info_redraw, (tBoolean (*)(tWindow const   * ))((void *)0),
    (tBoolean (*)(tWindow * , tKey  ))((void *)0), (tBoolean (*)(tWindow * , tProgramCommandCode  ))((void *)0),
    & wop_info_find_currdoc, & wop_info_get_info, & wop_info_get_menu_entry, (void (*)(tWindow * ,
                                                                                       short * ,
                                                                                       short * ,
                                                                                       tActiveElementNumber  ))((void *)0),
    (void (*)(tWindow * , int  ))((void *)0), (void (*)(tWindow * , tCoordinate  ,
                                                        tCoordinate  , int  ))((void *)0),
    (char )'I', (char )'I', (tWindowKind )2, (tWindowSpecFlags )0};
static tWindow *wk_info_create(char const   *title , tBrowserDocumentDisplayMode bddm ,
                               tBrowserDocument **_document ) 
{ tWindow *retval ;
  tWindow *tmp ;
  tWkInfoData *wksd ;
  tBrowserDocument *document ;

  {
  tmp = window_create(& wk_info_spec);
  retval = tmp;
  wksd = (tWkInfoData *)retval->wksd;
  document = & wksd->document;
  wksd->window_title = title;
  document->bddm = bddm;
  if ((int )bddm == 2) {
    cantent_collect_title(document->cantent, title);
  }
  if ((unsigned int )_document != (unsigned int )((void *)0)) {
    (*_document) = document;
  }
  return (retval);
}
}
static void wk_info_collect(tWindow *window , char const   *str ) 
{ tWkInfoData *wksd ;

  {
  wksd = (tWkInfoData *)window->wksd;
  cantent_collect_str(wksd->document.cantent, str);
  if (wksd->is_finalized) {
    window_redraw(window);
  }
  return;
}
}
static void wk_info_finalize(tWindow *window ) 
{ tWkInfoData *wksd ;

  {
  wksd = (tWkInfoData *)window->wksd;
  wksd->is_finalized = (unsigned char)1;
  window_redraw_all();
  return;
}
}
void main_handle_custom_conn(tResource *resource , unsigned char what , void *_x ) 
{ 

  {
  if ((int )program_mode == 3) {
    console_handle_res(resource, what, _x);
  }
  return;
}
}
__inline static void cursor_reset_position(void) 
{ int tmp___0 ;
  int tmp___1 ;

  {
  if ((int )key_handling_mode == 1) {
    wmove(stdscr, (int )lid.area[lid.curr].row, (int )lid.area[lid.curr].colcurr);
  } else {
    if ((int )current_window_index_x == 1) {
      if ((LINES - 2) / 2 > 1) {
        tmp___1 = (LINES - 2) / 2;
      } else {
        tmp___1 = 1;
      }
      tmp___0 = tmp___1 + 1;
    } else {
      tmp___0 = 0;
    }
    wmove(stdscr, tmp___0, 0);
  }
  __must_reset_cursor = (unsigned char)0;
  return;
}
}
__inline static void main_initialize(void) 
{ size_t count___2 ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_145 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;
  tKeymapCommandEntry const   *x ;
  tKeymapLineinputEntry const   *x___0 ;

  {
  fd_observe(fd_any2main_read, & any2main_input_handler, (void *)0, (unsigned char)1);
  sinking_data_reset();
  sfconv[0] = (char )'%';
  sfconv[3] = (char )'\000';
  tmp = __builtin_constant_p(sizeof(uri_history));
  if (tmp) {
    if (sizeof(uri_history) <= 16U) {
      if (sizeof(uri_history) == 1U) {
        __s___1 = (void *)(uri_history);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(uri_history);
        __u = (union __anonunion___u_145 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(uri_history)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_145 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = (void *)(uri_history);
    __builtin_memset(__s, '\000', (int )sizeof(uri_history));
  }
  if (! ((int )program_mode == 0)) {
    return;
  }
  count___2 = 0U;
  while (count___2 < sizeof(keymap_command_defaultkeys) / sizeof(keymap_command_defaultkeys[0])) {
    x = & keymap_command_defaultkeys[count___2];
    keymap_command_key_do_register(x->key, x->pcc);
    count___2 ++;
  }
  qsort((void *)keymap_command_keys, keymap_command_keys_num, sizeof(tKeymapCommandEntry ),
        & keymap_command_sorter);
  count___2 = 0U;
  while (count___2 < sizeof(keymap_lineinput_defaultkeys) / sizeof(keymap_lineinput_defaultkeys[0])) {
    x___0 = & keymap_lineinput_defaultkeys[count___2];
    keymap_lineinput_key_do_register(x___0->key, x___0->liac);
    count___2 ++;
  }
  qsort((void *)keymap_lineinput_keys, keymap_lineinput_keys_num, sizeof(tKeymapLineinputEntry ),
        & keymap_lineinput_sorter);
  return;
}
}
int main(int argc , char const   **argv ) 
{ unsigned char count___2 ;
  char const   *filename ;
  unsigned char tmp ;
  tWindow *w ;
  tWindow *tmp___0 ;

  {
  initialize(argc, argv);
  main_initialize();
  if ((int )program_mode == 0) {
    filename = config.session_resume;
    if ((unsigned int )filename != (unsigned int )((void *)0)) {
      session_resume(filename);
    }
    if ((unsigned int )windowlisthead == (unsigned int )((void *)0)) {
      if ((int )launch_uri_count == 0) {
        tmp = launch_uri_count;
        launch_uri_count = (unsigned char )((int )launch_uri_count + 1);
        launch_uri[tmp] = "about:retawq";
      }
    }
    count___2 = (unsigned char)0;
    while ((int )count___2 < (int )launch_uri_count) {
      tmp___0 = wk_browser_create();
      w = tmp___0;
      if ((int )count___2 < 2) {
        visible_window_x[count___2] = w;
      }
      wk_browser_prr(w, launch_uri[count___2], (unsigned short)0, (tBrowserDocument const   *)((void *)0));
      count___2 = (unsigned char )((int )count___2 + 1);
    }
    window_redraw_all();
  } else {
    if ((int )program_mode == 1) {
      content_download_to_fd(config.pm_uri, (tBrowserDocument const   *)((void *)0),
                             1);
    } else {
      if ((int )program_mode == 2) {
        content_dump_auto(config.pm_uri);
      } else {
        if ((int )program_mode == 3) {
          cc_output_str(strCopyright);
          cc_output_str(strProgramLegalese);
          if ((unsigned int )initial_console_msgs != (unsigned int )((void *)0)) {
            cc_output_str(strNewline);
            cc_output_str(initial_console_msgs);
          }
          cc_output_str("\nEntering console runmode. Use the command \"help\" for a list of commands.\n");
          console_print_prompt();
        }
      }
    }
  }
  while (1) {
    if ((unsigned int )initial_console_msgs != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)initial_console_msgs);
      initial_console_msgs = (char const   *)((void *)0);
    }
    break;
  }
  if ((int )program_mode == 0) {
    fd_observe(fd_keyboard_input, & curses_keyboard_handler, (void *)0, (unsigned char)1);
  } else {
    if ((int )program_mode == 3) {
      fd_observe(fd_keyboard_input, & console_keyboard_handler, (void *)0, (unsigned char)1);
    }
  }
  while (1) {
    remaining_work_do();
    if ((int )program_mode == 0) {
      if (__must_reset_cursor) {
        cursor_reset_position();
      }
      wrefresh(stdscr);
    }
    fd_multiplex();
  }
  do_quit();
  return (0);
}
}
#pragma merger(0,"/tmp/cil-HJAF8rV7.i","-O2")
char const   strAsterisk[2] ;
char const   strLt[2] ;
char const   strGt[2] ;
char const   strA[2] ;
char const   strShtml[6] ;
char const   strReset[6] ;
char const   strSelect[7] ;
char const   strSubmit[7] ;
void deallocate_one_aebase(tActiveElementBase const   *aeb ) ;
static char const   strCommentTag[4]  = {      (char const   )'!',      (char const   )'-',      (char const   )'-',      (char const   )'\000'};
static char const   strSingleQuote[2]  = {      (char const   )'\'',      (char const   )'\000'};
static char const   strPipe[2]  = {      (char const   )'|',      (char const   )'\000'};
static char const   strHref[5]  = {      (char const   )'h',      (char const   )'r',      (char const   )'e',      (char const   )'f', 
        (char const   )'\000'};
static char const   strType[5]  = {      (char const   )'t',      (char const   )'y',      (char const   )'p',      (char const   )'e', 
        (char const   )'\000'};
static char const   strName[5]  = {      (char const   )'n',      (char const   )'a',      (char const   )'m',      (char const   )'e', 
        (char const   )'\000'};
static char const   strValue[6]  = {      (char const   )'v',      (char const   )'a',      (char const   )'l',      (char const   )'u', 
        (char const   )'e',      (char const   )'\000'};
static char const   strDisabled[9]  = 
  {      (char const   )'d',      (char const   )'i',      (char const   )'s',      (char const   )'a', 
        (char const   )'b',      (char const   )'l',      (char const   )'e',      (char const   )'d', 
        (char const   )'\000'};
static char const   strTitle[6]  = {      (char const   )'t',      (char const   )'i',      (char const   )'t',      (char const   )'l', 
        (char const   )'e',      (char const   )'\000'};
static char const   strStyle[6]  = {      (char const   )'s',      (char const   )'t',      (char const   )'y',      (char const   )'l', 
        (char const   )'e',      (char const   )'\000'};
static char const   strReadonly[9]  = 
  {      (char const   )'r',      (char const   )'e',      (char const   )'a',      (char const   )'d', 
        (char const   )'o',      (char const   )'n',      (char const   )'l',      (char const   )'y', 
        (char const   )'\000'};
static char const   strAlt[4]  = {      (char const   )'a',      (char const   )'l',      (char const   )'t',      (char const   )'\000'};
static char const   strLabel___0[6]  = {      (char const   )'l',      (char const   )'a',      (char const   )'b',      (char const   )'e', 
        (char const   )'l',      (char const   )'\000'};
static char const   strSize[5]  = {      (char const   )'s',      (char const   )'i',      (char const   )'z',      (char const   )'e', 
        (char const   )'\000'};
static char const   strCenter[7]  = {      (char const   )'c',      (char const   )'e',      (char const   )'n',      (char const   )'t', 
        (char const   )'e',      (char const   )'r',      (char const   )'\000'};
static char const   strP[2]  = {      (char const   )'p',      (char const   )'\000'};
static char const   strPi[3]  = {      (char const   )'p',      (char const   )'i',      (char const   )'\000'};
static char const   strOtimes[7]  = {      (char const   )'o',      (char const   )'t',      (char const   )'i',      (char const   )'m', 
        (char const   )'e',      (char const   )'s',      (char const   )'\000'};
static char const   strAcute[6]  = {      (char const   )'a',      (char const   )'c',      (char const   )'u',      (char const   )'t', 
        (char const   )'e',      (char const   )'\000'};
static char const   strCedil[6]  = {      (char const   )'c',      (char const   )'e',      (char const   )'d',      (char const   )'i', 
        (char const   )'l',      (char const   )'\000'};
static char const   strCirc[5]  = {      (char const   )'c',      (char const   )'i',      (char const   )'r',      (char const   )'c', 
        (char const   )'\000'};
static char const   strTilde[6]  = {      (char const   )'t',      (char const   )'i',      (char const   )'l',      (char const   )'d', 
        (char const   )'e',      (char const   )'\000'};
static char const   strUml[4]  = {      (char const   )'u',      (char const   )'m',      (char const   )'l',      (char const   )'\000'};
static char const   strSup[4]  = {      (char const   )'s',      (char const   )'u',      (char const   )'p',      (char const   )'\000'};
static struct __anonstruct_tagdata_70  const  tagdata[66]  = 
  {      {strA, (tHtmlTagFlags )1}, 
        {"address", (tHtmlTagFlags )49}, 
        {"area", (tHtmlTagFlags )4}, 
        {"b", (tHtmlTagFlags )1}, 
        {"big", (tHtmlTagFlags )1}, 
        {"blockquote", (tHtmlTagFlags )49}, 
        {"body", (tHtmlTagFlags )2}, 
        {"br", (tHtmlTagFlags )4}, 
        {strButton, (tHtmlTagFlags )1}, 
        {"caption", (tHtmlTagFlags )33}, 
        {strCenter, (tHtmlTagFlags )49}, 
        {"cite", (tHtmlTagFlags )1}, 
        {"dd", (tHtmlTagFlags )18}, 
        {"del", (tHtmlTagFlags )1}, 
        {"dfn", (tHtmlTagFlags )1}, 
        {"dir", (tHtmlTagFlags )49}, 
        {"div", (tHtmlTagFlags )49}, 
        {"dl", (tHtmlTagFlags )49}, 
        {"dt", (tHtmlTagFlags )18}, 
        {"em", (tHtmlTagFlags )1}, 
        {"fieldset", (tHtmlTagFlags )49}, 
        {"font", (tHtmlTagFlags )1}, 
        {"form", (tHtmlTagFlags )49}, 
        {"frame", (tHtmlTagFlags )20}, 
        {"frameset", (tHtmlTagFlags )49}, 
        {"h1", (tHtmlTagFlags )49}, 
        {"h2", (tHtmlTagFlags )49}, 
        {"h3", (tHtmlTagFlags )49}, 
        {"h4", (tHtmlTagFlags )49}, 
        {"h5", (tHtmlTagFlags )49}, 
        {"h6", (tHtmlTagFlags )49}, 
        {"head", (tHtmlTagFlags )10}, 
        {"hr", (tHtmlTagFlags )20}, 
        {strShtml + 1, (tHtmlTagFlags )2}, 
        {"i", (tHtmlTagFlags )1}, 
        {"iframe", (tHtmlTagFlags )20}, 
        {"img", (tHtmlTagFlags )4}, 
        {"input", (tHtmlTagFlags )4}, 
        {"li", (tHtmlTagFlags )18}, 
        {"menu", (tHtmlTagFlags )49}, 
        {"meta", (tHtmlTagFlags )4}, 
        {"noframes", (tHtmlTagFlags )49}, 
        {"noscript", (tHtmlTagFlags )49}, 
        {"object", (tHtmlTagFlags )1}, 
        {"ol", (tHtmlTagFlags )49}, 
        {"optgroup", (tHtmlTagFlags )1}, 
        {"option", (tHtmlTagFlags )74}, 
        {strP, (tHtmlTagFlags )50}, 
        {"pre", (tHtmlTagFlags )49}, 
        {"q", (tHtmlTagFlags )1}, 
        {"s", (tHtmlTagFlags )1}, 
        {"script", (tHtmlTagFlags )65}, 
        {strSelect, (tHtmlTagFlags )1}, 
        {"strike", (tHtmlTagFlags )1}, 
        {"strong", (tHtmlTagFlags )1}, 
        {strStyle, (tHtmlTagFlags )65}, 
        {"sub", (tHtmlTagFlags )1}, 
        {strSup, (tHtmlTagFlags )1}, 
        {"table", (tHtmlTagFlags )49}, 
        {"td", (tHtmlTagFlags )2}, 
        {"textarea", (tHtmlTagFlags )65}, 
        {"th", (tHtmlTagFlags )2}, 
        {strTitle, (tHtmlTagFlags )73}, 
        {"tr", (tHtmlTagFlags )34}, 
        {"u", (tHtmlTagFlags )1}, 
        {"ul", (tHtmlTagFlags )49}};
static struct __anonstruct_chent_71  const  chent[141]  = 
  {      {"AElig", "\306"}, 
        {"Aacute", "\301"}, 
        {"Acirc", "\302"}, 
        {"Agrave", "\300"}, 
        {"Aring", "\305"}, 
        {"Atilde", "\303"}, 
        {"Auml", "\304"}, 
        {"Ccedil", "\307"}, 
        {"Dagger", strHm}, 
        {"ETH", "\320"}, 
        {"Eacute", "\311"}, 
        {"Ecirc", "\312"}, 
        {"Egrave", "\310"}, 
        {"Euml", "\313"}, 
        {"Iacute", "\315"}, 
        {"Icirc", "\316"}, 
        {"Igrave", "\314"}, 
        {"Iuml", "\317"}, 
        {"Ntilde", "\321"}, 
        {"Oacute", "\323"}, 
        {"Ocirc", "\324"}, 
        {"Ograve", "\322"}, 
        {"Oslash", "\330"}, 
        {"Otilde", "\325"}, 
        {"Ouml", "\326"}, 
        {"Prime", "\'\'"}, 
        {"THORN", "\336"}, 
        {"Uacute", "\332"}, 
        {"Ucirc", "\333"}, 
        {"Ugrave", "\331"}, 
        {"Uuml", "\334"}, 
        {"Yacute", "\335"}, 
        {"aacute", "\341"}, 
        {"acirc", "\342"}, 
        {strAcute, "\264"}, 
        {"aelig", "\346"}, 
        {"agrave", "\340"}, 
        {"amp", "&"}, 
        {"apos", strSingleQuote}, 
        {"aring", "\345"}, 
        {"atilde", "\343"}, 
        {"auml", "\344"}, 
        {"bdquo", strDoubleQuote}, 
        {"beta", "\337"}, 
        {"boxv", strPipe}, 
        {"brkbar", strPipe}, 
        {"brvbar", strPipe}, 
        {"bull", "o"}, 
        {"ccedil", "\347"}, 
        {strCedil, "\270"}, 
        {"cent", "\242"}, 
        {strCirc, "^"}, 
        {"copy", "\251"}, 
        {"curren", "\244"}, 
        {"darr", "v"}, 
        {"deg", "\260"}, 
        {"divide", "\367"}, 
        {"eacute", "\351"}, 
        {"ecirc", "\352"}, 
        {"egrave", "\350"}, 
        {"eth", "\360"}, 
        {"euml", "\353"}, 
        {"euro", "EUR"}, 
        {"frac12", "\275"}, 
        {"frac14", "\274"}, 
        {"frac34", "\276"}, 
        {"frasl", "/"}, 
        {"ge", ">="}, 
        {"gt", strGt}, 
        {"hArr", "<=>"}, 
        {"harr", "<->"}, 
        {"iacute", "\355"}, 
        {"icirc", "\356"}, 
        {"iexcl", "\241"}, 
        {"igrave", "\354"}, 
        {"iquest", "\277"}, 
        {"iuml", "\357"}, 
        {"lArr", "<="}, 
        {"lang", strLt}, 
        {"laquo", strDoubleQuote}, 
        {"larr", "<-"}, 
        {"ldquo", strDoubleQuote}, 
        {"le", "<="}, 
        {"lsaquo", strSingleQuote}, 
        {"lsquo", strSingleQuote}, 
        {"lt", strLt}, 
        {"mdash", strMinus}, 
        {"middot", "\267"}, 
        {"minus", strMinus}, 
        {"nbsp", strSpacedDash + 2}, 
        {"ndash", strMinus}, 
        {"ne", "!="}, 
        {"not", "\254"}, 
        {"ntilde", "\361"}, 
        {"oacute", "\363"}, 
        {"ocirc", "\364"}, 
        {"ograve", "\362"}, 
        {"oplus", "+"}, 
        {"ordf", "\252"}, 
        {"ordm", "\272"}, 
        {"oslash", "\370"}, 
        {"otilde", "\365"}, 
        {strOtimes, strAsterisk}, 
        {"ouml", "\366"}, 
        {"para", "\266"}, 
        {"permil", "o/oo"}, 
        {strPi, strPi}, 
        {"plusmn", "\261"}, 
        {"pound", "\243"}, 
        {"prime", strSingleQuote}, 
        {"quot", strDoubleQuote}, 
        {"rArr", "=>"}, 
        {"rang", strGt}, 
        {"raquo", strDoubleQuote}, 
        {"rarr", "->"}, 
        {"rdquo", strDoubleQuote}, 
        {"reg", "\256"}, 
        {"rsaquo", strSingleQuote}, 
        {"rsquo", strSingleQuote}, 
        {"sbquo", strSingleQuote}, 
        {"sdot", "\267"}, 
        {"sect", "\247"}, 
        {"shy", strEmpty}, 
        {"sim", "~"}, 
        {"sup1", "\271"}, 
        {"sup2", "\262"}, 
        {"sup3", "\263"}, 
        {"szlig", "\337"}, 
        {"thorn", "\376"}, 
        {strTilde, "~"}, 
        {strOtimes + 1, "\327"}, 
        {"trade", "(tm)"}, 
        {"uacute", "\372"}, 
        {"uarr", "^"}, 
        {"ucirc", "\373"}, 
        {"ugrave", "\371"}, 
        {strUml, "\250"}, 
        {"uuml", "\374"}, 
        {"yacute", "\375"}, 
        {"yen", "\245"}, 
        {"yuml", "\377"}};
static struct __anonstruct_chentcode_72  const  chentcode[139]  = 
  {      {(tEntityCode )34, (short)110}, 
        {(tEntityCode )38, (short)37}, 
        {(tEntityCode )39, (short)38}, 
        {(tEntityCode )60, (short)85}, 
        {(tEntityCode )62, (short)68}, 
        {(tEntityCode )160, (short)89}, 
        {(tEntityCode )161, (short)73}, 
        {(tEntityCode )162, (short)50}, 
        {(tEntityCode )163, (short)108}, 
        {(tEntityCode )164, (short)53}, 
        {(tEntityCode )165, (short)139}, 
        {(tEntityCode )166, (short)46}, 
        {(tEntityCode )167, (short)121}, 
        {(tEntityCode )168, (short)136}, 
        {(tEntityCode )169, (short)52}, 
        {(tEntityCode )170, (short)98}, 
        {(tEntityCode )171, (short)79}, 
        {(tEntityCode )172, (short)92}, 
        {(tEntityCode )173, (short)122}, 
        {(tEntityCode )174, (short)116}, 
        {(tEntityCode )176, (short)55}, 
        {(tEntityCode )177, (short)107}, 
        {(tEntityCode )178, (short)125}, 
        {(tEntityCode )179, (short)126}, 
        {(tEntityCode )180, (short)34}, 
        {(tEntityCode )182, (short)104}, 
        {(tEntityCode )183, (short)87}, 
        {(tEntityCode )184, (short)49}, 
        {(tEntityCode )185, (short)124}, 
        {(tEntityCode )186, (short)99}, 
        {(tEntityCode )187, (short)113}, 
        {(tEntityCode )188, (short)64}, 
        {(tEntityCode )189, (short)63}, 
        {(tEntityCode )190, (short)65}, 
        {(tEntityCode )191, (short)75}, 
        {(tEntityCode )192, (short)3}, 
        {(tEntityCode )193, (short)1}, 
        {(tEntityCode )194, (short)2}, 
        {(tEntityCode )195, (short)5}, 
        {(tEntityCode )196, (short)6}, 
        {(tEntityCode )197, (short)4}, 
        {(tEntityCode )198, (short)0}, 
        {(tEntityCode )199, (short)7}, 
        {(tEntityCode )200, (short)12}, 
        {(tEntityCode )201, (short)10}, 
        {(tEntityCode )202, (short)11}, 
        {(tEntityCode )203, (short)13}, 
        {(tEntityCode )204, (short)16}, 
        {(tEntityCode )205, (short)14}, 
        {(tEntityCode )206, (short)15}, 
        {(tEntityCode )207, (short)17}, 
        {(tEntityCode )208, (short)9}, 
        {(tEntityCode )209, (short)18}, 
        {(tEntityCode )210, (short)21}, 
        {(tEntityCode )211, (short)19}, 
        {(tEntityCode )212, (short)20}, 
        {(tEntityCode )213, (short)23}, 
        {(tEntityCode )214, (short)24}, 
        {(tEntityCode )215, (short)130}, 
        {(tEntityCode )216, (short)22}, 
        {(tEntityCode )217, (short)29}, 
        {(tEntityCode )218, (short)27}, 
        {(tEntityCode )219, (short)28}, 
        {(tEntityCode )220, (short)30}, 
        {(tEntityCode )221, (short)31}, 
        {(tEntityCode )222, (short)26}, 
        {(tEntityCode )223, (short)127}, 
        {(tEntityCode )224, (short)36}, 
        {(tEntityCode )225, (short)32}, 
        {(tEntityCode )226, (short)33}, 
        {(tEntityCode )227, (short)40}, 
        {(tEntityCode )228, (short)41}, 
        {(tEntityCode )229, (short)39}, 
        {(tEntityCode )230, (short)35}, 
        {(tEntityCode )231, (short)48}, 
        {(tEntityCode )232, (short)59}, 
        {(tEntityCode )233, (short)57}, 
        {(tEntityCode )234, (short)58}, 
        {(tEntityCode )235, (short)61}, 
        {(tEntityCode )236, (short)74}, 
        {(tEntityCode )237, (short)71}, 
        {(tEntityCode )238, (short)72}, 
        {(tEntityCode )239, (short)76}, 
        {(tEntityCode )240, (short)60}, 
        {(tEntityCode )241, (short)93}, 
        {(tEntityCode )242, (short)96}, 
        {(tEntityCode )243, (short)94}, 
        {(tEntityCode )244, (short)95}, 
        {(tEntityCode )245, (short)101}, 
        {(tEntityCode )246, (short)103}, 
        {(tEntityCode )247, (short)56}, 
        {(tEntityCode )248, (short)100}, 
        {(tEntityCode )249, (short)135}, 
        {(tEntityCode )250, (short)132}, 
        {(tEntityCode )251, (short)134}, 
        {(tEntityCode )252, (short)137}, 
        {(tEntityCode )253, (short)138}, 
        {(tEntityCode )254, (short)128}, 
        {(tEntityCode )255, (short)140}, 
        {(tEntityCode )710, (short)51}, 
        {(tEntityCode )732, (short)129}, 
        {(tEntityCode )960, (short)106}, 
        {(tEntityCode )8211, (short)90}, 
        {(tEntityCode )8212, (short)86}, 
        {(tEntityCode )8216, (short)84}, 
        {(tEntityCode )8217, (short)118}, 
        {(tEntityCode )8218, (short)119}, 
        {(tEntityCode )8220, (short)81}, 
        {(tEntityCode )8221, (short)115}, 
        {(tEntityCode )8222, (short)42}, 
        {(tEntityCode )8225, (short)8}, 
        {(tEntityCode )8226, (short)47}, 
        {(tEntityCode )8240, (short)105}, 
        {(tEntityCode )8242, (short)109}, 
        {(tEntityCode )8243, (short)25}, 
        {(tEntityCode )8249, (short)83}, 
        {(tEntityCode )8250, (short)117}, 
        {(tEntityCode )8260, (short)66}, 
        {(tEntityCode )8364, (short)62}, 
        {(tEntityCode )8482, (short)131}, 
        {(tEntityCode )8592, (short)80}, 
        {(tEntityCode )8593, (short)133}, 
        {(tEntityCode )8594, (short)114}, 
        {(tEntityCode )8595, (short)54}, 
        {(tEntityCode )8596, (short)70}, 
        {(tEntityCode )8656, (short)77}, 
        {(tEntityCode )8658, (short)111}, 
        {(tEntityCode )8660, (short)69}, 
        {(tEntityCode )8722, (short)88}, 
        {(tEntityCode )8764, (short)123}, 
        {(tEntityCode )8800, (short)91}, 
        {(tEntityCode )8804, (short)82}, 
        {(tEntityCode )8805, (short)67}, 
        {(tEntityCode )8853, (short)97}, 
        {(tEntityCode )8855, (short)102}, 
        {(tEntityCode )8901, (short)120}, 
        {(tEntityCode )9001, (short)78}, 
        {(tEntityCode )9002, (short)112}, 
        {(tEntityCode )9474, (short)44}};
static char const   * const  chentsuffix[14]  = 
  {      (char const   * const  )(strAcute),      (char const   * const  )(strCedil),      (char const   * const  )(strCirc),      (char const   * const  )"grave", 
        (char const   * const  )"lig",      (char const   * const  )"ring",      (char const   * const  )"slash",      (char const   * const  )(strTilde), 
        (char const   * const  )(strUml),      (char const   * const  )"dash",      (char const   * const  )"sp",      (char const   * const  )"caron", 
        (char const   * const  )"comma",      (char const   * const  )"cy"};
static unsigned char const   chentsuffixlen[14]  = 
  {      (unsigned char const   )5,      (unsigned char const   )5,      (unsigned char const   )4,      (unsigned char const   )5, 
        (unsigned char const   )3,      (unsigned char const   )4,      (unsigned char const   )5,      (unsigned char const   )5, 
        (unsigned char const   )3,      (unsigned char const   )4,      (unsigned char const   )2,      (unsigned char const   )5, 
        (unsigned char const   )5,      (unsigned char const   )2};
static struct __anonstruct_attrdata_74  const  attrdata[30]  = 
  {      {"action", (tAttributeName )1}, 
        {"align", (tAttributeName )2}, 
        {strAlt, (tAttributeName )3}, 
        {"checked", (tAttributeName )4}, 
        {"class", (tAttributeName )29}, 
        {"color", (tAttributeName )5}, 
        {"content", (tAttributeName )6}, 
        {"declare", (tAttributeName )7}, 
        {strDisabled, (tAttributeName )8}, 
        {"enctype", (tAttributeName )9}, 
        {"face", (tAttributeName )10}, 
        {strHref, (tAttributeName )11}, 
        {"http-equiv", (tAttributeName )12}, 
        {"id", (tAttributeName )13}, 
        {strLabel___0, (tAttributeName )16}, 
        {"language", (tAttributeName )32}, 
        {"maxlength", (tAttributeName )17}, 
        {"media", (tAttributeName )30}, 
        {"method", (tAttributeName )18}, 
        {"multiple", (tAttributeName )19}, 
        {strName, (tAttributeName )20}, 
        {strReadonly, (tAttributeName )21}, 
        {"selected", (tAttributeName )22}, 
        {strSize, (tAttributeName )23}, 
        {"src", (tAttributeName )24}, 
        {strStyle, (tAttributeName )31}, 
        {strTitle, (tAttributeName )25}, 
        {strType, (tAttributeName )26}, 
        {strValue, (tAttributeName )27}, 
        {"width", (tAttributeName )28}};
static unsigned char const   attrvalueconv[5]  = {      (unsigned char const   )106,      (unsigned char const   )12,      (unsigned char const   )145,      (unsigned char const   )251, 
        (unsigned char const   )1};
static tHtmlParserState state  ;
static tAttributeName current_attr_name  ;
static tHtmlTagKind current_tagkind  ;
static char *current_unknown_tagname  ;
static tAttribute *current_attributes  ;
static unsigned int bufsize  ;
static unsigned int maxbufsize  ;
static tBoolean is_endtag  ;
static tBoolean tagblock_ends  ;
static unsigned char attrvalue_quotes  ;
static tCantent *current_cantent  ;
static tBoolean is_current_node_valid  ;
static tBoolean is_parsing_done  ;
static tBoolean inside_select  ;
static tHtmlNode *current_node  ;
static tHtmlNode *current_node_in_tree  ;
static tHtmlNode *previous_node_in_tree  ;
static tHtmlNode *delayed_node  ;
static tHtmlNode *select_node  ;
static char const   *dataptr  ;
static char *buf___0  ;
static tContentblock *current_block  ;
static tContentblock *lhpp_content  ;
static size_t current_block_sizeleft  ;
static size_t lhpp_byte  ;
static tActiveElementBase curraebase  ;
static tActiveElementBase select_aebase  ;
static tActiveElementBase *aebase  ;
static tActiveElementNumber aenum  ;
static tActiveElementNumber aemax  ;
static void buf_append(char ch ) 
{ unsigned int tmp ;

  {
  if (maxbufsize <= bufsize) {
    maxbufsize += 1024U;
    buf___0 = (char *)memory_reallocate_ll((void *)buf___0, maxbufsize);
  }
  tmp = bufsize;
  bufsize ++;
  (*(buf___0 + tmp)) = ch;
  return;
}
}
static tHtmlInputLength attr2htmlinputlength(tAttribute const   *attr , tHtmlInputLength _default ) 
{ tHtmlInputLength retval ;
  char const   *value ;
  int l ;

  {
  retval = _default;
  if ((unsigned int )attr != (unsigned int )((void *)0)) {
    value = (char const   *)attr->value;
    if ((unsigned int )value != (unsigned int )((void *)0)) {
      my_atoi(value, & l, (char const   **)((void *)0), 2049);
      if (l > 2048) {
        l = 2048;
      } else {
        if (l < 1) {
          l = 1;
        }
      }
      retval = (unsigned int )l;
    }
  }
  return (retval);
}
}
__inline static tMbsIndex do_lookup_tagkind(void) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___29 ;
  size_t tmp___30 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___45 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )65;
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    tmp___55 = __builtin_constant_p(buf___0);
    if (tmp___55) {
      tmp___56 = __builtin_constant_p(tagdata[idx].name);
      if (tmp___56) {
        __s1_len = strlen((char const   *)buf___0);
        __s2_len = strlen(tagdata[idx].name);
        if (! ((unsigned int )((void const   *)(buf___0 + 1)) - (unsigned int )((void const   *)buf___0) ==
               1U)) {
          goto _L___172;
        } else {
          if (__s1_len >= 4U) {
            _L___172: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)(tagdata[idx].name + 1)) - (unsigned int )((void const   *)tagdata[idx].name) ==
                   1U)) {
              goto _L___171;
            } else {
              if (__s2_len >= 4U) {
                _L___171: /* CIL Label */ 
                tmp___57 = 1;
              } else {
                goto _L___170;
              }
            }
          } else {
            _L___170: /* CIL Label */ 
            tmp___57 = 0;
          }
        }
        if (tmp___57) {
          if (__s1_len < __s2_len) {
            tmp___30 = __s1_len;
          } else {
            tmp___30 = __s2_len;
          }
          tmp___29 = memcmp((void const   *)((char const   *)buf___0), (void const   *)tagdata[idx].name,
                            tmp___30 + 1U);
        } else {
          goto _L___174;
        }
      } else {
        goto _L___174;
      }
    } else {
      _L___174: /* CIL Label */ 
      tmp___54 = __builtin_constant_p(buf___0);
      if (tmp___54) {
        if ((unsigned int )((void const   *)(buf___0 + 1)) - (unsigned int )((void const   *)buf___0) ==
            1U) {
          __s1_len = strlen((char const   *)buf___0);
          if (__s1_len < 4U) {
            tmp___45 = __builtin_constant_p(tagdata[idx].name);
            if (tmp___45) {
              if ((unsigned int )((void const   *)(tagdata[idx].name + 1)) - (unsigned int )((void const   *)tagdata[idx].name) ==
                  1U) {
                __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                        0)) - (int const   )(*((unsigned char const   *)tagdata[idx].name +
                                                                               0)));
                if (__s1_len > 0U) {
                  if (__result___37 == 0) {
                    __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                            1)) - (int const   )(*((unsigned char const   *)tagdata[idx].name +
                                                                                   1)));
                    if (__s1_len > 1U) {
                      if (__result___37 == 0) {
                        __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                2)) - (int const   )(*((unsigned char const   *)tagdata[idx].name +
                                                                                       2)));
                        if (__s1_len > 2U) {
                          if (__result___37 == 0) {
                            __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                    3)) - (int const   )(*((unsigned char const   *)tagdata[idx].name +
                                                                                           3)));
                          } else {
                            goto _L___133;
                          }
                        } else {
                          _L___133: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___134;
                      }
                    } else {
                      _L___134: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___135;
                  }
                } else {
                  _L___135: /* CIL Label */ ;
                }
                tmp___29 = __result___37;
              } else {
                goto _L___139;
              }
            } else {
              _L___139: /* CIL Label */ 
              __s2___6 = (unsigned char const   *)tagdata[idx].name;
              __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                      0)) - (int const   )(*(__s2___6 +
                                                                             0)));
              if (__s1_len > 0U) {
                if (__result___38 == 0) {
                  __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                          1)) - (int const   )(*(__s2___6 +
                                                                                 1)));
                  if (__s1_len > 1U) {
                    if (__result___38 == 0) {
                      __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                              2)) - (int const   )(*(__s2___6 +
                                                                                     2)));
                      if (__s1_len > 2U) {
                        if (__result___38 == 0) {
                          __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                  3)) - (int const   )(*(__s2___6 +
                                                                                         3)));
                        } else {
                          goto _L___136;
                        }
                      } else {
                        _L___136: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___137;
                    }
                  } else {
                    _L___137: /* CIL Label */ ;
                  }
                } else {
                  goto _L___138;
                }
              } else {
                _L___138: /* CIL Label */ ;
              }
              tmp___29 = __result___38;
            }
          } else {
            goto _L___169;
          }
        } else {
          goto _L___169;
        }
      } else {
        _L___169: /* CIL Label */ 
        tmp___53 = __builtin_constant_p(tagdata[idx].name);
        if (tmp___53) {
          if ((unsigned int )((void const   *)(tagdata[idx].name + 1)) - (unsigned int )((void const   *)tagdata[idx].name) ==
              1U) {
            __s2_len = strlen(tagdata[idx].name);
            if (__s2_len < 4U) {
              tmp___52 = __builtin_constant_p(buf___0);
              if (tmp___52) {
                if ((unsigned int )((void const   *)(buf___0 + 1)) - (unsigned int )((void const   *)buf___0) ==
                    1U) {
                  __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                          0)) - (int const   )(*((unsigned char const   *)tagdata[idx].name +
                                                                                 0)));
                  if (__s2_len > 0U) {
                    if (__result___45 == 0) {
                      __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                              1)) - (int const   )(*((unsigned char const   *)tagdata[idx].name +
                                                                                     1)));
                      if (__s2_len > 1U) {
                        if (__result___45 == 0) {
                          __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                  2)) - (int const   )(*((unsigned char const   *)tagdata[idx].name +
                                                                                         2)));
                          if (__s2_len > 2U) {
                            if (__result___45 == 0) {
                              __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                      3)) - (int const   )(*((unsigned char const   *)tagdata[idx].name +
                                                                                             3)));
                            } else {
                              goto _L___159;
                            }
                          } else {
                            _L___159: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___160;
                        }
                      } else {
                        _L___160: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___161;
                    }
                  } else {
                    _L___161: /* CIL Label */ ;
                  }
                  tmp___29 = __result___45;
                } else {
                  goto _L___165;
                }
              } else {
                _L___165: /* CIL Label */ 
                __s1___14 = (unsigned char const   *)((char const   *)buf___0);
                __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)tagdata[idx].name +
                                                                                           0)));
                if (__s2_len > 0U) {
                  if (__result___46 == 0) {
                    __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)tagdata[idx].name +
                                                                                               1)));
                    if (__s2_len > 1U) {
                      if (__result___46 == 0) {
                        __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                               (int const   )(*((unsigned char const   *)tagdata[idx].name +
                                                                2)));
                        if (__s2_len > 2U) {
                          if (__result___46 == 0) {
                            __result___46 = (int )((int const   )(*(__s1___14 + 3)) -
                                                   (int const   )(*((unsigned char const   *)tagdata[idx].name +
                                                                    3)));
                          } else {
                            goto _L___162;
                          }
                        } else {
                          _L___162: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___163;
                      }
                    } else {
                      _L___163: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___164;
                  }
                } else {
                  _L___164: /* CIL Label */ ;
                }
                tmp___29 = __result___46;
              }
            } else {
              goto _L___167;
            }
          } else {
            goto _L___167;
          }
        } else {
          _L___167: /* CIL Label */ 
          tmp___29 = strcmp((char const   *)buf___0, tagdata[idx].name);
        }
      }
    }
    res = tmp___29;
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
__inline static tHtmlTagKind lookup_tagkind(void) 
{ tMbsIndex idx ;
  tMbsIndex tmp ;

  {
  tmp = do_lookup_tagkind();
  idx = tmp;
  if ((int )idx >= 0) {
    return ((unsigned char )((int )((unsigned char )idx) + 1));
  } else {
    return ((unsigned char)255);
  }
}
}
__inline static tMbsIndex do_lookup_entity_string(char const   *str , size_t len ) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___94 ;
  size_t tmp___95 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  int tmp___110 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___117 ;
  int tmp___118 ;
  int tmp___119 ;
  int tmp___120 ;
  int tmp___121 ;
  int tmp___122 ;
  int tmp___123 ;
  int tmp___124 ;
  size_t tmp___125 ;
  int tmp___126 ;
  size_t tmp___127 ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )140;
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    tmp___123 = __builtin_constant_p(len);
    if (tmp___123) {
      tmp___124 = __builtin_constant_p(str);
      if (tmp___124) {
        tmp___125 = strlen(str);
        if (tmp___125 < len) {
          goto _L___352;
        } else {
          goto _L___354;
        }
      } else {
        _L___354: /* CIL Label */ 
        tmp___126 = __builtin_constant_p(chent[idx].name);
        if (tmp___126) {
          tmp___127 = strlen(chent[idx].name);
          if (tmp___127 < len) {
            _L___352: /* CIL Label */ 
            tmp___120 = __builtin_constant_p(str);
            if (tmp___120) {
              tmp___121 = __builtin_constant_p(chent[idx].name);
              if (tmp___121) {
                __s1_len___0 = strlen(str);
                __s2_len___0 = strlen(chent[idx].name);
                if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                       1U)) {
                  goto _L___348;
                } else {
                  if (__s1_len___0 >= 4U) {
                    _L___348: /* CIL Label */ 
                    if (! ((unsigned int )((void const   *)(chent[idx].name + 1)) -
                           (unsigned int )((void const   *)chent[idx].name) == 1U)) {
                      goto _L___347;
                    } else {
                      if (__s2_len___0 >= 4U) {
                        _L___347: /* CIL Label */ 
                        tmp___122 = 1;
                      } else {
                        goto _L___346;
                      }
                    }
                  } else {
                    _L___346: /* CIL Label */ 
                    tmp___122 = 0;
                  }
                }
                if (tmp___122) {
                  if (__s1_len___0 < __s2_len___0) {
                    tmp___95 = __s1_len___0;
                  } else {
                    tmp___95 = __s2_len___0;
                  }
                  tmp___94 = memcmp((void const   *)str, (void const   *)chent[idx].name,
                                    tmp___95 + 1U);
                } else {
                  goto _L___350;
                }
              } else {
                goto _L___350;
              }
            } else {
              _L___350: /* CIL Label */ 
              tmp___119 = __builtin_constant_p(str);
              if (tmp___119) {
                if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                    1U) {
                  __s1_len___0 = strlen(str);
                  if (__s1_len___0 < 4U) {
                    tmp___110 = __builtin_constant_p(chent[idx].name);
                    if (tmp___110) {
                      if ((unsigned int )((void const   *)(chent[idx].name + 1)) -
                          (unsigned int )((void const   *)chent[idx].name) == 1U) {
                        __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                                0)) - (int const   )(*((unsigned char const   *)chent[idx].name +
                                                                                       0)));
                        if (__s1_len___0 > 0U) {
                          if (__result___85 == 0) {
                            __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                                    1)) - (int const   )(*((unsigned char const   *)chent[idx].name +
                                                                                           1)));
                            if (__s1_len___0 > 1U) {
                              if (__result___85 == 0) {
                                __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                                        2)) - (int const   )(*((unsigned char const   *)chent[idx].name +
                                                                                               2)));
                                if (__s1_len___0 > 2U) {
                                  if (__result___85 == 0) {
                                    __result___85 = (int )((int const   )(*((unsigned char const   *)str +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)chent[idx].name +
                                                                            3)));
                                  } else {
                                    goto _L___309;
                                  }
                                } else {
                                  _L___309: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___310;
                              }
                            } else {
                              _L___310: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___311;
                          }
                        } else {
                          _L___311: /* CIL Label */ ;
                        }
                        tmp___94 = __result___85;
                      } else {
                        goto _L___315;
                      }
                    } else {
                      _L___315: /* CIL Label */ 
                      __s2___14 = (unsigned char const   *)chent[idx].name;
                      __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                              0)) - (int const   )(*(__s2___14 +
                                                                                     0)));
                      if (__s1_len___0 > 0U) {
                        if (__result___86 == 0) {
                          __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  1)) - (int const   )(*(__s2___14 +
                                                                                         1)));
                          if (__s1_len___0 > 1U) {
                            if (__result___86 == 0) {
                              __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      2)) - (int const   )(*(__s2___14 +
                                                                                             2)));
                              if (__s1_len___0 > 2U) {
                                if (__result___86 == 0) {
                                  __result___86 = (int )((int const   )(*((unsigned char const   *)str +
                                                                          3)) - (int const   )(*(__s2___14 +
                                                                                                 3)));
                                } else {
                                  goto _L___312;
                                }
                              } else {
                                _L___312: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___313;
                            }
                          } else {
                            _L___313: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___314;
                        }
                      } else {
                        _L___314: /* CIL Label */ ;
                      }
                      tmp___94 = __result___86;
                    }
                  } else {
                    goto _L___345;
                  }
                } else {
                  goto _L___345;
                }
              } else {
                _L___345: /* CIL Label */ 
                tmp___118 = __builtin_constant_p(chent[idx].name);
                if (tmp___118) {
                  if ((unsigned int )((void const   *)(chent[idx].name + 1)) - (unsigned int )((void const   *)chent[idx].name) ==
                      1U) {
                    __s2_len___0 = strlen(chent[idx].name);
                    if (__s2_len___0 < 4U) {
                      tmp___117 = __builtin_constant_p(str);
                      if (tmp___117) {
                        if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                            1U) {
                          __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                                  0)) - (int const   )(*((unsigned char const   *)chent[idx].name +
                                                                                         0)));
                          if (__s2_len___0 > 0U) {
                            if (__result___93 == 0) {
                              __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                                      1)) - (int const   )(*((unsigned char const   *)chent[idx].name +
                                                                                             1)));
                              if (__s2_len___0 > 1U) {
                                if (__result___93 == 0) {
                                  __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                                          2)) - (int const   )(*((unsigned char const   *)chent[idx].name +
                                                                                                 2)));
                                  if (__s2_len___0 > 2U) {
                                    if (__result___93 == 0) {
                                      __result___93 = (int )((int const   )(*((unsigned char const   *)str +
                                                                              3)) -
                                                             (int const   )(*((unsigned char const   *)chent[idx].name +
                                                                              3)));
                                    } else {
                                      goto _L___335;
                                    }
                                  } else {
                                    _L___335: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___336;
                                }
                              } else {
                                _L___336: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___337;
                            }
                          } else {
                            _L___337: /* CIL Label */ ;
                          }
                          tmp___94 = __result___93;
                        } else {
                          goto _L___341;
                        }
                      } else {
                        _L___341: /* CIL Label */ 
                        __s1___30 = (unsigned char const   *)str;
                        __result___94 = (int )((int const   )(*(__s1___30 + 0)) -
                                               (int const   )(*((unsigned char const   *)chent[idx].name +
                                                                0)));
                        if (__s2_len___0 > 0U) {
                          if (__result___94 == 0) {
                            __result___94 = (int )((int const   )(*(__s1___30 + 1)) -
                                                   (int const   )(*((unsigned char const   *)chent[idx].name +
                                                                    1)));
                            if (__s2_len___0 > 1U) {
                              if (__result___94 == 0) {
                                __result___94 = (int )((int const   )(*(__s1___30 +
                                                                        2)) - (int const   )(*((unsigned char const   *)chent[idx].name +
                                                                                               2)));
                                if (__s2_len___0 > 2U) {
                                  if (__result___94 == 0) {
                                    __result___94 = (int )((int const   )(*(__s1___30 +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)chent[idx].name +
                                                                            3)));
                                  } else {
                                    goto _L___338;
                                  }
                                } else {
                                  _L___338: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___339;
                              }
                            } else {
                              _L___339: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___340;
                          }
                        } else {
                          _L___340: /* CIL Label */ ;
                        }
                        tmp___94 = __result___94;
                      }
                    } else {
                      goto _L___343;
                    }
                  } else {
                    goto _L___343;
                  }
                } else {
                  _L___343: /* CIL Label */ 
                  tmp___94 = strcmp(str, chent[idx].name);
                }
              }
            }
            res = tmp___94;
          } else {
            goto _L___353;
          }
        } else {
          _L___353: /* CIL Label */ 
          goto _L___351;
        }
      }
    } else {
      _L___351: /* CIL Label */ 
      res = strncmp(str, chent[idx].name, len);
    }
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
__inline static tMbsIndex lookup_entity_string(char const   *str , size_t len ) 
{ tMbsIndex retval ;
  tMbsIndex tmp ;
  size_t tmp___0 ;

  {
  tmp = do_lookup_entity_string(str, len);
  retval = tmp;
  if ((int )retval >= 0) {
    tmp___0 = strlen(chent[retval].name);
    if (tmp___0 != len) {
      retval = (short)-1;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  return (retval);
}
}
__inline static tMbsIndex lookup_entity_code(tEntityCode code ) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )138;
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    if ((int )code > (int )chentcode[idx].code) {
      res = 1;
    } else {
      if ((int )code < (int )chentcode[idx].code) {
        res = -1;
      } else {
        res = 0;
      }
    }
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
__inline static tBoolean guessed_entity(char const   *str , size_t len , char **_dest ) 
{ char *dest ;
  char *tmp ;
  char const   *tmp___0 ;
  size_t tmp___1 ;
  char const   *end ;
  unsigned short idx ;
  size_t sufflen ;
  char const   *suff ;
  int tmp___67 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___98 ;
  size_t tmp___99 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  int tmp___114 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___121 ;
  int tmp___122 ;
  int tmp___123 ;
  int tmp___124 ;
  int tmp___125 ;
  int tmp___126 ;
  int tmp___127 ;
  int tmp___128 ;
  size_t tmp___129 ;
  int tmp___130 ;
  size_t tmp___131 ;
  int tmp___196 ;
  size_t __s1_len___2 ;
  size_t __s2_len___2 ;
  int tmp___227 ;
  size_t tmp___228 ;
  register int __result___181 ;
  unsigned char const   *__s2___30 ;
  register int __result___182 ;
  int tmp___243 ;
  register int __result___189 ;
  unsigned char const   *__s1___62 ;
  register int __result___190 ;
  int tmp___250 ;
  int tmp___251 ;
  int tmp___252 ;
  int tmp___253 ;
  int tmp___254 ;
  int tmp___255 ;
  int tmp___256 ;
  size_t tmp___257 ;
  int tmp___258 ;
  size_t tmp___259 ;

  {
  if (len < 4U) {
    goto out;
  }
  tmp___256 = __builtin_constant_p(str);
  if (tmp___256) {
    tmp___257 = strlen(str);
    if (tmp___257 < 3U) {
      goto _L___707;
    } else {
      goto _L___709;
    }
  } else {
    _L___709: /* CIL Label */ 
    tmp___258 = __builtin_constant_p(strSup);
    if (tmp___258) {
      tmp___259 = strlen(strSup);
      if (tmp___259 < 3U) {
        _L___707: /* CIL Label */ 
        tmp___253 = __builtin_constant_p(str);
        if (tmp___253) {
          tmp___254 = __builtin_constant_p(strSup);
          if (tmp___254) {
            __s1_len___2 = strlen(str);
            __s2_len___2 = strlen(strSup);
            if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                   1U)) {
              goto _L___704;
            } else {
              if (__s1_len___2 >= 4U) {
                _L___704: /* CIL Label */ 
                if (! ((unsigned int )((void const   *)(strSup + 1)) - (unsigned int )((void const   *)(strSup)) ==
                       1U)) {
                  goto _L___703;
                } else {
                  if (__s2_len___2 >= 4U) {
                    _L___703: /* CIL Label */ 
                    tmp___255 = 1;
                  } else {
                    goto _L___702;
                  }
                }
              } else {
                _L___702: /* CIL Label */ 
                tmp___255 = 0;
              }
            }
            if (tmp___255) {
              if (__s1_len___2 < __s2_len___2) {
                tmp___228 = __s1_len___2;
              } else {
                tmp___228 = __s2_len___2;
              }
              tmp___227 = memcmp((void const   *)str, (void const   *)(strSup), tmp___228 +
                                                                                1U);
            } else {
              goto _L___706;
            }
          } else {
            goto _L___706;
          }
        } else {
          _L___706: /* CIL Label */ 
          tmp___252 = __builtin_constant_p(str);
          if (tmp___252) {
            if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                1U) {
              __s1_len___2 = strlen(str);
              if (__s1_len___2 < 4U) {
                tmp___243 = __builtin_constant_p(strSup);
                if (tmp___243) {
                  if ((unsigned int )((void const   *)(strSup + 1)) - (unsigned int )((void const   *)(strSup)) ==
                      1U) {
                    __result___181 = (int )((int const   )(*((unsigned char const   *)str +
                                                             0)) - (int const   )(*((unsigned char const   *)(strSup) +
                                                                                    0)));
                    if (__s1_len___2 > 0U) {
                      if (__result___181 == 0) {
                        __result___181 = (int )((int const   )(*((unsigned char const   *)str +
                                                                 1)) - (int const   )(*((unsigned char const   *)(strSup) +
                                                                                        1)));
                        if (__s1_len___2 > 1U) {
                          if (__result___181 == 0) {
                            __result___181 = (int )((int const   )(*((unsigned char const   *)str +
                                                                     2)) - (int const   )(*((unsigned char const   *)(strSup) +
                                                                                            2)));
                            if (__s1_len___2 > 2U) {
                              if (__result___181 == 0) {
                                __result___181 = (int )((int const   )(*((unsigned char const   *)str +
                                                                         3)) - (int const   )(*((unsigned char const   *)(strSup) +
                                                                                                3)));
                              } else {
                                goto _L___665;
                              }
                            } else {
                              _L___665: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___666;
                          }
                        } else {
                          _L___666: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___667;
                      }
                    } else {
                      _L___667: /* CIL Label */ ;
                    }
                    tmp___227 = __result___181;
                  } else {
                    goto _L___671;
                  }
                } else {
                  _L___671: /* CIL Label */ 
                  __s2___30 = (unsigned char const   *)(strSup);
                  __result___182 = (int )((int const   )(*((unsigned char const   *)str +
                                                           0)) - (int const   )(*(__s2___30 +
                                                                                  0)));
                  if (__s1_len___2 > 0U) {
                    if (__result___182 == 0) {
                      __result___182 = (int )((int const   )(*((unsigned char const   *)str +
                                                               1)) - (int const   )(*(__s2___30 +
                                                                                      1)));
                      if (__s1_len___2 > 1U) {
                        if (__result___182 == 0) {
                          __result___182 = (int )((int const   )(*((unsigned char const   *)str +
                                                                   2)) - (int const   )(*(__s2___30 +
                                                                                          2)));
                          if (__s1_len___2 > 2U) {
                            if (__result___182 == 0) {
                              __result___182 = (int )((int const   )(*((unsigned char const   *)str +
                                                                       3)) - (int const   )(*(__s2___30 +
                                                                                              3)));
                            } else {
                              goto _L___668;
                            }
                          } else {
                            _L___668: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___669;
                        }
                      } else {
                        _L___669: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___670;
                    }
                  } else {
                    _L___670: /* CIL Label */ ;
                  }
                  tmp___227 = __result___182;
                }
              } else {
                goto _L___701;
              }
            } else {
              goto _L___701;
            }
          } else {
            _L___701: /* CIL Label */ 
            tmp___251 = __builtin_constant_p(strSup);
            if (tmp___251) {
              if ((unsigned int )((void const   *)(strSup + 1)) - (unsigned int )((void const   *)(strSup)) ==
                  1U) {
                __s2_len___2 = strlen(strSup);
                if (__s2_len___2 < 4U) {
                  tmp___250 = __builtin_constant_p(str);
                  if (tmp___250) {
                    if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                        1U) {
                      __result___189 = (int )((int const   )(*((unsigned char const   *)str +
                                                               0)) - (int const   )(*((unsigned char const   *)(strSup) +
                                                                                      0)));
                      if (__s2_len___2 > 0U) {
                        if (__result___189 == 0) {
                          __result___189 = (int )((int const   )(*((unsigned char const   *)str +
                                                                   1)) - (int const   )(*((unsigned char const   *)(strSup) +
                                                                                          1)));
                          if (__s2_len___2 > 1U) {
                            if (__result___189 == 0) {
                              __result___189 = (int )((int const   )(*((unsigned char const   *)str +
                                                                       2)) - (int const   )(*((unsigned char const   *)(strSup) +
                                                                                              2)));
                              if (__s2_len___2 > 2U) {
                                if (__result___189 == 0) {
                                  __result___189 = (int )((int const   )(*((unsigned char const   *)str +
                                                                           3)) - (int const   )(*((unsigned char const   *)(strSup) +
                                                                                                  3)));
                                } else {
                                  goto _L___691;
                                }
                              } else {
                                _L___691: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___692;
                            }
                          } else {
                            _L___692: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___693;
                        }
                      } else {
                        _L___693: /* CIL Label */ ;
                      }
                      tmp___227 = __result___189;
                    } else {
                      goto _L___697;
                    }
                  } else {
                    _L___697: /* CIL Label */ 
                    __s1___62 = (unsigned char const   *)str;
                    __result___190 = (int )((int const   )(*(__s1___62 + 0)) - (int const   )(*((unsigned char const   *)(strSup) +
                                                                                                0)));
                    if (__s2_len___2 > 0U) {
                      if (__result___190 == 0) {
                        __result___190 = (int )((int const   )(*(__s1___62 + 1)) -
                                                (int const   )(*((unsigned char const   *)(strSup) +
                                                                 1)));
                        if (__s2_len___2 > 1U) {
                          if (__result___190 == 0) {
                            __result___190 = (int )((int const   )(*(__s1___62 + 2)) -
                                                    (int const   )(*((unsigned char const   *)(strSup) +
                                                                     2)));
                            if (__s2_len___2 > 2U) {
                              if (__result___190 == 0) {
                                __result___190 = (int )((int const   )(*(__s1___62 +
                                                                         3)) - (int const   )(*((unsigned char const   *)(strSup) +
                                                                                                3)));
                              } else {
                                goto _L___694;
                              }
                            } else {
                              _L___694: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___695;
                          }
                        } else {
                          _L___695: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___696;
                      }
                    } else {
                      _L___696: /* CIL Label */ ;
                    }
                    tmp___227 = __result___190;
                  }
                } else {
                  goto _L___699;
                }
              } else {
                goto _L___699;
              }
            } else {
              _L___699: /* CIL Label */ 
              tmp___227 = strcmp(str, strSup);
            }
          }
        }
        tmp___196 = tmp___227;
      } else {
        goto _L___708;
      }
    } else {
      _L___708: /* CIL Label */ 
      tmp___196 = strncmp(str, strSup, 3U);
    }
  }
  if (tmp___196) {
    _L___710: /* CIL Label */ 
    end = str + len;
    idx = (unsigned short)0;
    while ((int )idx <= 13) {
      sufflen = (unsigned int )chentsuffixlen[idx];
      if (len > sufflen) {
        suff = (char const   *)chentsuffix[idx];
        tmp___127 = __builtin_constant_p(sufflen);
        if (tmp___127) {
          tmp___128 = __builtin_constant_p(end - sufflen);
          if (tmp___128) {
            tmp___129 = strlen(end - sufflen);
            if (tmp___129 < sufflen) {
              goto _L___352;
            } else {
              goto _L___354;
            }
          } else {
            _L___354: /* CIL Label */ 
            tmp___130 = __builtin_constant_p(suff);
            if (tmp___130) {
              tmp___131 = strlen(suff);
              if (tmp___131 < sufflen) {
                _L___352: /* CIL Label */ 
                tmp___124 = __builtin_constant_p(end - sufflen);
                if (tmp___124) {
                  tmp___125 = __builtin_constant_p(suff);
                  if (tmp___125) {
                    __s1_len___0 = strlen(end - sufflen);
                    __s2_len___0 = strlen(suff);
                    if (! ((unsigned int )((void const   *)((end - sufflen) + 1)) -
                           (unsigned int )((void const   *)(end - sufflen)) == 1U)) {
                      goto _L___348;
                    } else {
                      if (__s1_len___0 >= 4U) {
                        _L___348: /* CIL Label */ 
                        if (! ((unsigned int )((void const   *)(suff + 1)) - (unsigned int )((void const   *)suff) ==
                               1U)) {
                          goto _L___347;
                        } else {
                          if (__s2_len___0 >= 4U) {
                            _L___347: /* CIL Label */ 
                            tmp___126 = 1;
                          } else {
                            goto _L___346;
                          }
                        }
                      } else {
                        _L___346: /* CIL Label */ 
                        tmp___126 = 0;
                      }
                    }
                    if (tmp___126) {
                      if (__s1_len___0 < __s2_len___0) {
                        tmp___99 = __s1_len___0;
                      } else {
                        tmp___99 = __s2_len___0;
                      }
                      tmp___98 = memcmp((void const   *)(end - sufflen), (void const   *)suff,
                                        tmp___99 + 1U);
                    } else {
                      goto _L___350;
                    }
                  } else {
                    goto _L___350;
                  }
                } else {
                  _L___350: /* CIL Label */ 
                  tmp___123 = __builtin_constant_p(end - sufflen);
                  if (tmp___123) {
                    if ((unsigned int )((void const   *)((end - sufflen) + 1)) - (unsigned int )((void const   *)(end -
                                                                                                                  sufflen)) ==
                        1U) {
                      __s1_len___0 = strlen(end - sufflen);
                      if (__s1_len___0 < 4U) {
                        tmp___114 = __builtin_constant_p(suff);
                        if (tmp___114) {
                          if ((unsigned int )((void const   *)(suff + 1)) - (unsigned int )((void const   *)suff) ==
                              1U) {
                            __result___85 = (int )((int const   )(*((unsigned char const   *)(end -
                                                                                              sufflen) +
                                                                    0)) - (int const   )(*((unsigned char const   *)suff +
                                                                                           0)));
                            if (__s1_len___0 > 0U) {
                              if (__result___85 == 0) {
                                __result___85 = (int )((int const   )(*((unsigned char const   *)(end -
                                                                                                  sufflen) +
                                                                        1)) - (int const   )(*((unsigned char const   *)suff +
                                                                                               1)));
                                if (__s1_len___0 > 1U) {
                                  if (__result___85 == 0) {
                                    __result___85 = (int )((int const   )(*((unsigned char const   *)(end -
                                                                                                      sufflen) +
                                                                            2)) -
                                                           (int const   )(*((unsigned char const   *)suff +
                                                                            2)));
                                    if (__s1_len___0 > 2U) {
                                      if (__result___85 == 0) {
                                        __result___85 = (int )((int const   )(*((unsigned char const   *)(end -
                                                                                                          sufflen) +
                                                                                3)) -
                                                               (int const   )(*((unsigned char const   *)suff +
                                                                                3)));
                                      } else {
                                        goto _L___309;
                                      }
                                    } else {
                                      _L___309: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___310;
                                  }
                                } else {
                                  _L___310: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___311;
                              }
                            } else {
                              _L___311: /* CIL Label */ ;
                            }
                            tmp___98 = __result___85;
                          } else {
                            goto _L___315;
                          }
                        } else {
                          _L___315: /* CIL Label */ 
                          __s2___14 = (unsigned char const   *)suff;
                          __result___86 = (int )((int const   )(*((unsigned char const   *)(end -
                                                                                            sufflen) +
                                                                  0)) - (int const   )(*(__s2___14 +
                                                                                         0)));
                          if (__s1_len___0 > 0U) {
                            if (__result___86 == 0) {
                              __result___86 = (int )((int const   )(*((unsigned char const   *)(end -
                                                                                                sufflen) +
                                                                      1)) - (int const   )(*(__s2___14 +
                                                                                             1)));
                              if (__s1_len___0 > 1U) {
                                if (__result___86 == 0) {
                                  __result___86 = (int )((int const   )(*((unsigned char const   *)(end -
                                                                                                    sufflen) +
                                                                          2)) - (int const   )(*(__s2___14 +
                                                                                                 2)));
                                  if (__s1_len___0 > 2U) {
                                    if (__result___86 == 0) {
                                      __result___86 = (int )((int const   )(*((unsigned char const   *)(end -
                                                                                                        sufflen) +
                                                                              3)) -
                                                             (int const   )(*(__s2___14 +
                                                                              3)));
                                    } else {
                                      goto _L___312;
                                    }
                                  } else {
                                    _L___312: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___313;
                                }
                              } else {
                                _L___313: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___314;
                            }
                          } else {
                            _L___314: /* CIL Label */ ;
                          }
                          tmp___98 = __result___86;
                        }
                      } else {
                        goto _L___345;
                      }
                    } else {
                      goto _L___345;
                    }
                  } else {
                    _L___345: /* CIL Label */ 
                    tmp___122 = __builtin_constant_p(suff);
                    if (tmp___122) {
                      if ((unsigned int )((void const   *)(suff + 1)) - (unsigned int )((void const   *)suff) ==
                          1U) {
                        __s2_len___0 = strlen(suff);
                        if (__s2_len___0 < 4U) {
                          tmp___121 = __builtin_constant_p(end - sufflen);
                          if (tmp___121) {
                            if ((unsigned int )((void const   *)((end - sufflen) +
                                                                 1)) - (unsigned int )((void const   *)(end -
                                                                                                        sufflen)) ==
                                1U) {
                              __result___93 = (int )((int const   )(*((unsigned char const   *)(end -
                                                                                                sufflen) +
                                                                      0)) - (int const   )(*((unsigned char const   *)suff +
                                                                                             0)));
                              if (__s2_len___0 > 0U) {
                                if (__result___93 == 0) {
                                  __result___93 = (int )((int const   )(*((unsigned char const   *)(end -
                                                                                                    sufflen) +
                                                                          1)) - (int const   )(*((unsigned char const   *)suff +
                                                                                                 1)));
                                  if (__s2_len___0 > 1U) {
                                    if (__result___93 == 0) {
                                      __result___93 = (int )((int const   )(*((unsigned char const   *)(end -
                                                                                                        sufflen) +
                                                                              2)) -
                                                             (int const   )(*((unsigned char const   *)suff +
                                                                              2)));
                                      if (__s2_len___0 > 2U) {
                                        if (__result___93 == 0) {
                                          __result___93 = (int )((int const   )(*((unsigned char const   *)(end -
                                                                                                            sufflen) +
                                                                                  3)) -
                                                                 (int const   )(*((unsigned char const   *)suff +
                                                                                  3)));
                                        } else {
                                          goto _L___335;
                                        }
                                      } else {
                                        _L___335: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___336;
                                    }
                                  } else {
                                    _L___336: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___337;
                                }
                              } else {
                                _L___337: /* CIL Label */ ;
                              }
                              tmp___98 = __result___93;
                            } else {
                              goto _L___341;
                            }
                          } else {
                            _L___341: /* CIL Label */ 
                            __s1___30 = (unsigned char const   *)(end - sufflen);
                            __result___94 = (int )((int const   )(*(__s1___30 + 0)) -
                                                   (int const   )(*((unsigned char const   *)suff +
                                                                    0)));
                            if (__s2_len___0 > 0U) {
                              if (__result___94 == 0) {
                                __result___94 = (int )((int const   )(*(__s1___30 +
                                                                        1)) - (int const   )(*((unsigned char const   *)suff +
                                                                                               1)));
                                if (__s2_len___0 > 1U) {
                                  if (__result___94 == 0) {
                                    __result___94 = (int )((int const   )(*(__s1___30 +
                                                                            2)) -
                                                           (int const   )(*((unsigned char const   *)suff +
                                                                            2)));
                                    if (__s2_len___0 > 2U) {
                                      if (__result___94 == 0) {
                                        __result___94 = (int )((int const   )(*(__s1___30 +
                                                                                3)) -
                                                               (int const   )(*((unsigned char const   *)suff +
                                                                                3)));
                                      } else {
                                        goto _L___338;
                                      }
                                    } else {
                                      _L___338: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___339;
                                  }
                                } else {
                                  _L___339: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___340;
                              }
                            } else {
                              _L___340: /* CIL Label */ ;
                            }
                            tmp___98 = __result___94;
                          }
                        } else {
                          goto _L___343;
                        }
                      } else {
                        goto _L___343;
                      }
                    } else {
                      _L___343: /* CIL Label */ 
                      tmp___98 = strcmp(end - sufflen, suff);
                    }
                  }
                }
                tmp___67 = tmp___98;
              } else {
                goto _L___353;
              }
            } else {
              _L___353: /* CIL Label */ 
              goto _L___351;
            }
          }
        } else {
          _L___351: /* CIL Label */ 
          tmp___67 = strncmp(end - sufflen, suff, sufflen);
        }
        if (! tmp___67) {
          if ((int )idx == 9) {
            str = strMinus;
            len = 1U;
          } else {
            if ((int )idx == 10) {
              str = strSpacedDash + 2;
              len = 1U;
            } else {
              len -= sufflen;
            }
          }
          goto copy;
        }
      }
      idx = (unsigned short )((int )idx + 1);
    }
  } else {
    if (len == 4U) {
      if ((int const   )(*(str + 3)) == 101) {
        goto _L___710;
      } else {
        goto _L___711;
      }
    } else {
      _L___711: /* CIL Label */ 
      str += 3;
      len -= 3U;
      copy: 
      dest = (*_dest);
      while (1) {
        tmp___1 = len;
        len --;
        if (! (tmp___1 > 0U)) {
          break;
        }
        tmp = dest;
        dest ++;
        tmp___0 = str;
        str ++;
        (*tmp) = (char )(*tmp___0);
      }
      (*_dest) = dest;
      return ((unsigned char)1);
    }
  }
  out: 
  return ((unsigned char)0);
}
}
__inline static tBoolean shall_interpret_chents_in_attrvalue(void) 
{ tBoolean retval ;
  int tmp ;

  {
  if ((int )current_attr_name < 33) {
    if ((int )(*((unsigned char *)(attrvalueconv + (int )current_attr_name / 8))) &
        (1 << (int )current_attr_name % 8)) {
      tmp = 1;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    tmp = 0;
  }
  retval = (tBoolean )tmp;
  if (retval) {
    if ((int )current_tagkind == 41) {
      if ((int )current_attr_name == 20) {
        retval = (unsigned char)0;
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ ;
    }
  }
  return (retval);
}
}
__inline static void interpret_character_entities(char *origdest , char const   *src ,
                                                  tBoolean may_trim ) 
{ char const   *start ;
  char const   *start0 ;
  char *dest ;
  tCharacterEntityInterpreterState ceis ;
  tEntityKind kind ;
  unsigned char lenleft ;
  char ch ;
  unsigned int _code ;
  char *tmp ;
  char *tmp___0 ;
  char const   *tmp___1 ;
  size_t len ;
  tMbsIndex idx ;
  tMbsIndex tmp___2 ;
  char const   *temp ;
  char *tmp___3 ;
  char const   *tmp___4 ;
  tBoolean tmp___5 ;
  char const   *temp___0 ;
  tMbsIndex idx___0 ;
  char c ;
  char const   *tmp___6 ;
  char *tmp___7 ;
  short i ;
  char *tmp___8 ;
  char const   *tmp___9 ;
  char const   *temp___1 ;
  char c___0 ;
  char const   *tmp___10 ;
  unsigned int add ;
  size_t tmp___11 ;
  char c___1 ;
  char *tmp___12 ;

  {
  start = (char const   *)((void *)0);
  start0 = (char const   *)((void *)0);
  dest = origdest;
  ceis = (tCharacterEntityInterpreterState )0;
  kind = (tEntityKind )0;
  lenleft = (unsigned char)0;
  if (may_trim) {
    while (1) {
      if ((int const   )(*src) == 32) {
        goto _L___1;
      } else {
        if ((int const   )(*src) == 9) {
          _L___1: /* CIL Label */ 
          goto _L___0;
        } else {
          if ((int const   )(*src) == 10) {
            _L___0: /* CIL Label */ 
            goto _L;
          } else {
            if ((int const   )(*src) == 13) {
              _L: /* CIL Label */ ;
            } else {
              break;
            }
          }
        }
      }
      src ++;
    }
  }
  while (1) {
    ch = (char )(*src);
    switch ((int )ceis) {
    case 0: ;
    if ((int )ch == 38) {
      start0 = src;
      ceis = (unsigned char)1;
    } else {
      tmp = dest;
      dest ++;
      (*tmp) = ch;
      if ((int )ch == 0) {
        goto out;
      }
    }
    break;
    case 1: ;
    if ((int )ch == 35) {
      ceis = (unsigned char)2;
    } else {
      kind = (unsigned char)0;
      start = src;
      lenleft = (unsigned char)7;
      ceis = (unsigned char)3;
      goto inside;
    }
    break;
    case 2: 
    lenleft = (unsigned char)5;
    ceis = (unsigned char)3;
    if ((int )ch == 120) {
      goto _L___2;
    } else {
      if ((int )ch == 88) {
        _L___2: /* CIL Label */ 
        kind = (unsigned char)2;
        start = src + 1;
      } else {
        kind = (unsigned char)1;
        start = src;
        goto inside;
      }
    }
    break;
    case 3: ;
    inside: 
    lenleft = (unsigned char )((int )lenleft - 1);
    if ((int )ch == 0) {
      goto _L___12;
    } else {
      if ((int )ch == 59) {
        _L___12: /* CIL Label */ 
        goto _L___11;
      } else {
        if ((int )ch == 32) {
          _L___11: /* CIL Label */ 
          goto _L___10;
        } else {
          if ((int )ch == 38) {
            _L___10: /* CIL Label */ 
            goto _L___9;
          } else {
            if (! lenleft) {
              _L___9: /* CIL Label */ 
              if ((unsigned int )src <= (unsigned int )(start + 1)) {
                postcopy: 
                while ((unsigned int )start0 <= (unsigned int )src) {
                  tmp___0 = dest;
                  dest ++;
                  tmp___1 = start0;
                  start0 ++;
                  (*tmp___0) = (char )(*tmp___1);
                }
                if ((int )ch == 0) {
                  goto out;
                }
              } else {
                if ((int )kind == 0) {
                  len = (size_t )(src - start);
                  tmp___2 = lookup_entity_string(start, len);
                  idx = tmp___2;
                  if ((int )idx >= 0) {
                    temp = chent[idx].result;
                    while ((*temp)) {
                      tmp___3 = dest;
                      dest ++;
                      tmp___4 = temp;
                      temp ++;
                      (*tmp___3) = (char )(*tmp___4);
                    }
                  } else {
                    tmp___5 = guessed_entity(start, len, & dest);
                    if (! tmp___5) {
                      goto postcopy;
                    }
                  }
                } else {
                  if ((int )kind == 1) {
                    temp___0 = start;
                    _code = 0U;
                    while ((unsigned int )temp___0 < (unsigned int )src) {
                      tmp___6 = temp___0;
                      temp___0 ++;
                      c = (char )(*tmp___6);
                      if ((int )c >= 48) {
                        if ((int )c <= 57) {
                          _code = 10U * _code + (unsigned int )((int )c - 48);
                        } else {
                          goto _L___3;
                        }
                      } else {
                        _L___3: /* CIL Label */ 
                        goto postcopy;
                      }
                    }
                    handle_code: 
                    if (_code > (unsigned int )chentcode[138].code) {
                      goto postcopy;
                    }
                    idx___0 = lookup_entity_code((unsigned short )_code);
                    if ((int )idx___0 < 0) {
                      if (_code >= 32U) {
                        if (_code <= 255U) {
                          if (_code != 127U) {
                            tmp___7 = dest;
                            dest ++;
                            (*tmp___7) = (char )_code;
                          } else {
                            goto _L___5;
                          }
                        } else {
                          goto _L___5;
                        }
                      } else {
                        _L___5: /* CIL Label */ 
                        goto postcopy;
                      }
                    } else {
                      i = chentcode[idx___0].index;
                      temp___0 = chent[i].result;
                      while ((*temp___0)) {
                        tmp___8 = dest;
                        dest ++;
                        tmp___9 = temp___0;
                        temp___0 ++;
                        (*tmp___8) = (char )(*tmp___9);
                      }
                    }
                  } else {
                    if ((int )kind == 2) {
                      temp___1 = start;
                      _code = 0U;
                      while ((unsigned int )temp___1 < (unsigned int )src) {
                        tmp___10 = temp___1;
                        temp___1 ++;
                        c___0 = (char )(*tmp___10);
                        if ((int )c___0 >= 48) {
                          if ((int )c___0 <= 57) {
                            add = (unsigned int )((int )c___0 - 48);
                            calc: 
                            _code = 16U * _code + add;
                          } else {
                            goto _L___8;
                          }
                        } else {
                          _L___8: /* CIL Label */ 
                          if ((int )c___0 >= 97) {
                            if ((int )c___0 <= 102) {
                              add = (unsigned int )(((int )c___0 - 97) + 10);
                              goto calc;
                            } else {
                              goto _L___7;
                            }
                          } else {
                            _L___7: /* CIL Label */ 
                            if ((int )c___0 >= 65) {
                              if ((int )c___0 <= 70) {
                                add = (unsigned int )(((int )c___0 - 65) + 10);
                                goto calc;
                              } else {
                                goto _L___6;
                              }
                            } else {
                              _L___6: /* CIL Label */ 
                              goto postcopy;
                            }
                          }
                        }
                      }
                      goto handle_code;
                    }
                  }
                }
              }
              ceis = (unsigned char)0;
            }
          }
        }
      }
    }
    break;
    }
    if ((int )ch == 0) {
      (*dest) = (char )'\000';
      goto out;
    } else {
      src ++;
    }
  }
  out: 
  if (may_trim) {
    tmp___11 = strlen((char const   *)origdest);
    dest = (origdest + tmp___11) - 1;
    while ((unsigned int )dest >= (unsigned int )origdest) {
      c___1 = (*dest);
      if ((int )c___1 == 32) {
        goto _L___15;
      } else {
        if ((int )c___1 == 9) {
          _L___15: /* CIL Label */ 
          goto _L___14;
        } else {
          if ((int )c___1 == 10) {
            _L___14: /* CIL Label */ 
            goto _L___13;
          } else {
            if ((int )c___1 == 13) {
              _L___13: /* CIL Label */ ;
            } else {
              break;
            }
          }
        }
      }
      tmp___12 = dest;
      dest --;
      (*tmp___12) = (char )'\000';
    }
  }
  return;
}
}
static tAttribute *find_and_detach_attribute(tAttribute **list , tAttributeName name ) 
{ tAttribute *a ;
  tAttribute *b ;

  {
  a = (*list);
  if ((unsigned int )a == (unsigned int )((void *)0)) {
    return ((tAttribute *)((void *)0));
  }
  if ((int )a->name == (int )name) {
    (*list) = a->next;
    a->next = (struct tAttribute *)((void *)0);
    return (a);
  }
  while (1) {
    b = a->next;
    if (! ((unsigned int )b != (unsigned int )((void *)0))) {
      break;
    }
    if ((int )b->name == (int )name) {
      a->next = b->next;
      b->next = (struct tAttribute *)((void *)0);
      return (b);
    }
    a = b;
  }
  return ((tAttribute *)((void *)0));
}
}
__inline static tAttribute *_find_and_detach_attribute(void **list , tAttributeName name ) 
{ tAttribute *tmp ;

  {
  tmp = find_and_detach_attribute((tAttribute **)list, name);
  return (tmp);
}
}
static struct __anonstruct_input_type_78  const  input_type[10]  = 
  {      {strButton, (tActiveElementKind )11}, 
        {strCheckbox, (tActiveElementKind )4}, 
        {strFile, (tActiveElementKind )8}, 
        {"hidden", (tActiveElementKind )13}, 
        {strImage, (tActiveElementKind )12}, 
        {"password", (tActiveElementKind )3}, 
        {"radio", (tActiveElementKind )5}, 
        {strReset, (tActiveElementKind )7}, 
        {strSubmit, (tActiveElementKind )6}, 
        {strText, (tActiveElementKind )2}};
__inline static tMbsIndex do_lookup_input_type(char const   *str ) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )9;
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    res = streqcase3(str, input_type[idx].name);
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
__inline static tActiveElementKind lookup_input_type(tAttribute const   *attr ) 
{ tActiveElementKind retval ;
  char const   *av ;
  tMbsIndex idx ;
  tMbsIndex tmp ;

  {
  retval = (tActiveElementKind )2;
  if ((unsigned int )attr != (unsigned int )((void *)0)) {
    av = (char const   *)attr->value;
    if ((unsigned int )av != (unsigned int )((void *)0)) {
      if ((int const   )(*av) != 0) {
        tmp = do_lookup_input_type(av);
        idx = tmp;
        if ((int )idx >= 0) {
          retval = input_type[idx].kind;
        } else {
          retval = (unsigned char)0;
        }
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ ;
    }
  }
  return (retval);
}
}
__inline static tBoolean use_curraebase(void) 
{ tBoolean retval ;
  tAttribute *h___0 ;
  tAttribute *tmp ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_79 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp___0 ;
  tAttribute *s ;
  tAttribute *tmp___1 ;
  tAttribute *t ;
  tAttribute *tmp___2 ;
  char *tv ;
  void *__s___2 ;
  void *__s___3 ;
  union __anonunion___u_80 *__u___0 ;
  __uint8_t __c___0 ;
  void *__s___4 ;
  int tmp___3 ;
  tAttribute *t___0 ;
  tAttribute *tmp___4 ;
  tAttribute *n ;
  tAttribute *tmp___5 ;
  tAttribute *v ;
  tAttribute *tmp___6 ;
  tAttribute *s___0 ;
  tAttribute *tmp___7 ;
  tAttribute *m ;
  tAttribute *tmp___8 ;
  tAttribute *a ;
  tAttribute *tmp___9 ;
  tAttribute *ch ;
  tAttribute *tmp___10 ;
  tAttribute *di ;
  tAttribute *tmp___11 ;
  tAttribute *re ;
  tAttribute *tmp___12 ;
  tActiveElementKind kind ;
  tActiveElementKind tmp___13 ;
  tActiveElementFlags flags ;
  char const   *render ;
  void *__s___5 ;
  void *__s___6 ;
  union __anonunion___u_81 *__u___1 ;
  __uint8_t __c___1 ;
  void *__s___7 ;
  int tmp___14 ;
  tHtmlInputLength max ;
  tHtmlInputLength tmp___15 ;
  tHtmlInputLength size ;
  tHtmlInputLength tmp___16 ;
  tAttribute *n___0 ;
  tAttribute *tmp___17 ;
  tAttribute *di___0 ;
  tAttribute *tmp___18 ;
  tAttribute *re___0 ;
  tAttribute *tmp___19 ;
  tActiveElementFlags flags___0 ;
  void *__s___8 ;
  void *__s___9 ;
  union __anonunion___u_82 *__u___2 ;
  __uint8_t __c___2 ;
  void *__s___10 ;
  int tmp___20 ;
  tAttribute *t___1 ;
  tAttribute *tmp___21 ;
  tAttribute *n___1 ;
  tAttribute *tmp___22 ;
  tAttribute *v___0 ;
  tAttribute *tmp___23 ;
  tAttribute *di___1 ;
  tAttribute *tmp___24 ;
  tActiveElementKind kind___0 ;
  char const   *temp ;
  int tmp___25 ;
  int tmp___26 ;
  int tmp___27 ;
  tActiveElementFlags flags___1 ;
  void *__s___11 ;
  void *__s___12 ;
  union __anonunion___u_83 *__u___3 ;
  __uint8_t __c___3 ;
  void *__s___13 ;
  int tmp___28 ;
  tAttribute *n___2 ;
  tAttribute *tmp___29 ;
  tAttribute *mu ;
  tAttribute *tmp___30 ;
  tAttribute *di___2 ;
  tAttribute *tmp___31 ;
  tActiveElementFlags flags___2 ;
  void *__s___14 ;
  void *__s___15 ;
  union __anonunion___u_84 *__u___4 ;
  __uint8_t __c___4 ;
  void *__s___16 ;
  int tmp___32 ;

  {
  retval = (tBoolean )0;
  switch ((int )current_tagkind) {
  case 1: ;
  case 3: 
  tmp = find_and_detach_attribute(& current_attributes, (unsigned char)11);
  h___0 = tmp;
  if ((unsigned int )h___0 != (unsigned int )((void *)0)) {
    if ((unsigned int )h___0->value != (unsigned int )((void *)0)) {
      if ((int )(*(h___0->value + 0)) != 0) {
        while (1) {
          tmp___0 = __builtin_constant_p(sizeof(curraebase));
          if (tmp___0) {
            if (sizeof(curraebase) <= 16U) {
              if (sizeof(curraebase) == 1U) {
                __s___1 = (void *)(& curraebase);
                (*((__uint8_t *)__s___1)) = (unsigned char)0;
              } else {
                __s___0 = (void *)(& curraebase);
                __u = (union __anonunion___u_79 *)__s___0;
                __c = (unsigned char)0;
                switch ((int )sizeof(curraebase)) {
                case 15: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_79 *)((void *)__u + 4);
                case 11: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_79 *)((void *)__u + 4);
                case 7: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_79 *)((void *)__u + 4);
                case 3: 
                __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
                __u = (union __anonunion___u_79 *)((void *)__u + 2);
                __u->__uc = __c;
                break;
                case 14: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_79 *)((void *)__u + 4);
                case 10: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_79 *)((void *)__u + 4);
                case 6: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_79 *)((void *)__u + 4);
                case 2: 
                __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
                break;
                case 13: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_79 *)((void *)__u + 4);
                case 9: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_79 *)((void *)__u + 4);
                case 5: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_79 *)((void *)__u + 4);
                case 1: 
                __u->__uc = __c;
                break;
                case 16: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_79 *)((void *)__u + 4);
                case 12: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_79 *)((void *)__u + 4);
                case 8: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                __u = (union __anonunion___u_79 *)((void *)__u + 4);
                case 4: 
                __u->__ui = (unsigned int )((int )__c * 16843009);
                case 0: ;
                break;
                }
              }
            } else {
              goto _L;
            }
          } else {
            _L: /* CIL Label */ 
            __s = (void *)(& curraebase);
            __builtin_memset(__s, '\000', (int )sizeof(curraebase));
          }
          curraebase.kind = (unsigned char)1;
          break;
        }
        while (1) {
          curraebase.data = (char const   *)h___0->value;
          h___0->value = (char *)((void *)0);
          break;
        }
        retval = (unsigned char)1;
      } else {
        goto _L___1;
      }
    } else {
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ ;
  }
  while (1) {
    if ((unsigned int )h___0 != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )h___0->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)h___0->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)h___0);
        break;
      }
    }
    break;
  }
  break;
  case 24: ;
  case 36: 
  tmp___1 = find_and_detach_attribute(& current_attributes, (unsigned char)24);
  s = tmp___1;
  tmp___2 = find_and_detach_attribute(& current_attributes, (unsigned char)25);
  t = tmp___2;
  if ((unsigned int )s != (unsigned int )((void *)0)) {
    if ((unsigned int )s->value != (unsigned int )((void *)0)) {
      if ((int )(*(s->value + 0)) != 0) {
        while (1) {
          tmp___3 = __builtin_constant_p(sizeof(curraebase));
          if (tmp___3) {
            if (sizeof(curraebase) <= 16U) {
              if (sizeof(curraebase) == 1U) {
                __s___4 = (void *)(& curraebase);
                (*((__uint8_t *)__s___4)) = (unsigned char)0;
              } else {
                __s___3 = (void *)(& curraebase);
                __u___0 = (union __anonunion___u_80 *)__s___3;
                __c___0 = (unsigned char)0;
                switch ((int )sizeof(curraebase)) {
                case 15: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_80 *)((void *)__u___0 + 4);
                case 11: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_80 *)((void *)__u___0 + 4);
                case 7: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_80 *)((void *)__u___0 + 4);
                case 3: 
                __u___0->__usi = (unsigned short )((int )((unsigned short )__c___0) *
                                                   257);
                __u___0 = (union __anonunion___u_80 *)((void *)__u___0 + 2);
                __u___0->__uc = __c___0;
                break;
                case 14: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_80 *)((void *)__u___0 + 4);
                case 10: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_80 *)((void *)__u___0 + 4);
                case 6: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_80 *)((void *)__u___0 + 4);
                case 2: 
                __u___0->__usi = (unsigned short )((int )((unsigned short )__c___0) *
                                                   257);
                break;
                case 13: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_80 *)((void *)__u___0 + 4);
                case 9: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_80 *)((void *)__u___0 + 4);
                case 5: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_80 *)((void *)__u___0 + 4);
                case 1: 
                __u___0->__uc = __c___0;
                break;
                case 16: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_80 *)((void *)__u___0 + 4);
                case 12: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_80 *)((void *)__u___0 + 4);
                case 8: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                __u___0 = (union __anonunion___u_80 *)((void *)__u___0 + 4);
                case 4: 
                __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
                case 0: ;
                break;
                }
              }
            } else {
              goto _L___2;
            }
          } else {
            _L___2: /* CIL Label */ 
            __s___2 = (void *)(& curraebase);
            __builtin_memset(__s___2, '\000', (int )sizeof(curraebase));
          }
          curraebase.kind = (unsigned char)1;
          break;
        }
        while (1) {
          curraebase.data = (char const   *)s->value;
          s->value = (char *)((void *)0);
          break;
        }
        retval = (unsigned char)1;
        if ((unsigned int )t != (unsigned int )((void *)0)) {
          tv = t->value;
          if ((unsigned int )tv != (unsigned int )((void *)0)) {
            if ((int )(*tv) != 0) {
              t->value = (char *)((void *)0);
            } else {
              goto _L___4;
            }
          } else {
            goto _L___4;
          }
        } else {
          _L___4: /* CIL Label */ 
          tv = my_strdup("[a frame]");
        }
        curraebase.render = (char const   *)tv;
      } else {
        goto _L___6;
      }
    } else {
      goto _L___6;
    }
  } else {
    _L___6: /* CIL Label */ ;
  }
  while (1) {
    if ((unsigned int )s != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )s->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)s->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)s);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )t != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )t->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)t->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)t);
        break;
      }
    }
    break;
  }
  break;
  case 38: 
  tmp___4 = find_and_detach_attribute(& current_attributes, (unsigned char)26);
  t___0 = tmp___4;
  tmp___5 = find_and_detach_attribute(& current_attributes, (unsigned char)20);
  n = tmp___5;
  tmp___6 = find_and_detach_attribute(& current_attributes, (unsigned char)27);
  v = tmp___6;
  tmp___7 = find_and_detach_attribute(& current_attributes, (unsigned char)23);
  s___0 = tmp___7;
  tmp___8 = find_and_detach_attribute(& current_attributes, (unsigned char)17);
  m = tmp___8;
  tmp___9 = find_and_detach_attribute(& current_attributes, (unsigned char)3);
  a = tmp___9;
  tmp___10 = find_and_detach_attribute(& current_attributes, (unsigned char)4);
  ch = tmp___10;
  tmp___11 = find_and_detach_attribute(& current_attributes, (unsigned char)8);
  di = tmp___11;
  tmp___12 = find_and_detach_attribute(& current_attributes, (unsigned char)21);
  re = tmp___12;
  tmp___13 = lookup_input_type((tAttribute const   *)t___0);
  kind = tmp___13;
  if ((int )kind != 0) {
    flags = (tActiveElementFlags )0;
    while (1) {
      tmp___14 = __builtin_constant_p(sizeof(curraebase));
      if (tmp___14) {
        if (sizeof(curraebase) <= 16U) {
          if (sizeof(curraebase) == 1U) {
            __s___7 = (void *)(& curraebase);
            (*((__uint8_t *)__s___7)) = (unsigned char)0;
          } else {
            __s___6 = (void *)(& curraebase);
            __u___1 = (union __anonunion___u_81 *)__s___6;
            __c___1 = (unsigned char)0;
            switch ((int )sizeof(curraebase)) {
            case 15: 
            __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
            __u___1 = (union __anonunion___u_81 *)((void *)__u___1 + 4);
            case 11: 
            __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
            __u___1 = (union __anonunion___u_81 *)((void *)__u___1 + 4);
            case 7: 
            __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
            __u___1 = (union __anonunion___u_81 *)((void *)__u___1 + 4);
            case 3: 
            __u___1->__usi = (unsigned short )((int )((unsigned short )__c___1) *
                                               257);
            __u___1 = (union __anonunion___u_81 *)((void *)__u___1 + 2);
            __u___1->__uc = __c___1;
            break;
            case 14: 
            __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
            __u___1 = (union __anonunion___u_81 *)((void *)__u___1 + 4);
            case 10: 
            __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
            __u___1 = (union __anonunion___u_81 *)((void *)__u___1 + 4);
            case 6: 
            __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
            __u___1 = (union __anonunion___u_81 *)((void *)__u___1 + 4);
            case 2: 
            __u___1->__usi = (unsigned short )((int )((unsigned short )__c___1) *
                                               257);
            break;
            case 13: 
            __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
            __u___1 = (union __anonunion___u_81 *)((void *)__u___1 + 4);
            case 9: 
            __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
            __u___1 = (union __anonunion___u_81 *)((void *)__u___1 + 4);
            case 5: 
            __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
            __u___1 = (union __anonunion___u_81 *)((void *)__u___1 + 4);
            case 1: 
            __u___1->__uc = __c___1;
            break;
            case 16: 
            __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
            __u___1 = (union __anonunion___u_81 *)((void *)__u___1 + 4);
            case 12: 
            __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
            __u___1 = (union __anonunion___u_81 *)((void *)__u___1 + 4);
            case 8: 
            __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
            __u___1 = (union __anonunion___u_81 *)((void *)__u___1 + 4);
            case 4: 
            __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
            case 0: ;
            break;
            }
          }
        } else {
          goto _L___7;
        }
      } else {
        _L___7: /* CIL Label */ 
        __s___5 = (void *)(& curraebase);
        __builtin_memset(__s___5, '\000', (int )sizeof(curraebase));
      }
      curraebase.kind = kind;
      break;
    }
    if ((unsigned int )n != (unsigned int )((void *)0)) {
      if ((unsigned int )n->value != (unsigned int )((void *)0)) {
        if ((int )(*(n->value + 0)) != 0) {
          while (1) {
            curraebase.data = (char const   *)n->value;
            n->value = (char *)((void *)0);
            break;
          }
        } else {
          goto _L___9;
        }
      } else {
        goto _L___9;
      }
    } else {
      _L___9: /* CIL Label */ ;
    }
    switch ((int )kind) {
    case 6: 
    render = "Submit";
    handle_render: 
    if ((unsigned int )v != (unsigned int )((void *)0)) {
      if ((unsigned int )v->value != (unsigned int )((void *)0)) {
        if ((int )(*(v->value + 0)) != 0) {
          render = (char const   *)v->value;
          v->value = (char *)((void *)0);
        } else {
          goto _L___11;
        }
      } else {
        goto _L___11;
      }
    } else {
      _L___11: /* CIL Label */ 
      render = my_strdup(render);
    }
    curraebase.render = render;
    break;
    case 7: 
    render = "Reset";
    goto handle_render;
    break;
    case 11: 
    render = "[a push button]";
    goto handle_render;
    break;
    case 12: ;
    if ((unsigned int )a != (unsigned int )((void *)0)) {
      if ((unsigned int )a->value != (unsigned int )((void *)0)) {
        if ((int )(*(a->value + 0)) != 0) {
          curraebase.render = (char const   *)a->value;
          a->value = (char *)((void *)0);
        } else {
          goto _L___13;
        }
      } else {
        goto _L___13;
      }
    } else {
      _L___13: /* CIL Label */ 
      curraebase.render = my_strdup("[a form image]");
    }
    break;
    case 2: ;
    case 3: ;
    case 5: ;
    case 13: ;
    if ((unsigned int )v != (unsigned int )((void *)0)) {
      if ((unsigned int )v->value != (unsigned int )((void *)0)) {
        if ((int )(*(v->value + 0)) != 0) {
          while (1) {
            curraebase.render = (char const   *)v->value;
            v->value = (char *)((void *)0);
            break;
          }
        } else {
          goto _L___15;
        }
      } else {
        goto _L___15;
      }
    } else {
      _L___15: /* CIL Label */ ;
    }
    break;
    }
    if ((int )kind == 2) {
      goto _L___16;
    } else {
      if ((int )kind == 3) {
        _L___16: /* CIL Label */ 
        tmp___15 = attr2htmlinputlength((tAttribute const   *)m, 2048U);
        max = tmp___15;
        tmp___16 = attr2htmlinputlength((tAttribute const   *)s___0, 20U);
        size = tmp___16;
        if (size > max) {
          size = max;
        }
        curraebase.size = size;
        curraebase.maxlength = max;
      }
    }
    if ((unsigned int )ch != (unsigned int )((void *)0)) {
      flags = (unsigned char )((int )flags | 1);
    }
    if ((unsigned int )di != (unsigned int )((void *)0)) {
      flags = (unsigned char )((int )flags | 2);
    }
    if ((unsigned int )re != (unsigned int )((void *)0)) {
      flags = (unsigned char )((int )flags | 4);
    }
    curraebase.flags = flags;
    retval = (unsigned char)1;
  }
  while (1) {
    if ((unsigned int )t___0 != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )t___0->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)t___0->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)t___0);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )n != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )n->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)n->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)n);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )v != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )v->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)v->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)v);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )s___0 != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )s___0->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)s___0->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)s___0);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )m != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )m->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)m->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)m);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )a != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )a->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)a->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)a);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )ch != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )ch->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)ch->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)ch);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )di != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )di->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)di->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)di);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )re != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )re->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)re->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)re);
        break;
      }
    }
    break;
  }
  break;
  case 61: 
  tmp___17 = find_and_detach_attribute(& current_attributes, (unsigned char)20);
  n___0 = tmp___17;
  tmp___18 = find_and_detach_attribute(& current_attributes, (unsigned char)8);
  di___0 = tmp___18;
  tmp___19 = find_and_detach_attribute(& current_attributes, (unsigned char)21);
  re___0 = tmp___19;
  flags___0 = (tActiveElementFlags )0;
  while (1) {
    tmp___20 = __builtin_constant_p(sizeof(curraebase));
    if (tmp___20) {
      if (sizeof(curraebase) <= 16U) {
        if (sizeof(curraebase) == 1U) {
          __s___10 = (void *)(& curraebase);
          (*((__uint8_t *)__s___10)) = (unsigned char)0;
        } else {
          __s___9 = (void *)(& curraebase);
          __u___2 = (union __anonunion___u_82 *)__s___9;
          __c___2 = (unsigned char)0;
          switch ((int )sizeof(curraebase)) {
          case 15: 
          __u___2->__ui = (unsigned int )((int )__c___2 * 16843009);
          __u___2 = (union __anonunion___u_82 *)((void *)__u___2 + 4);
          case 11: 
          __u___2->__ui = (unsigned int )((int )__c___2 * 16843009);
          __u___2 = (union __anonunion___u_82 *)((void *)__u___2 + 4);
          case 7: 
          __u___2->__ui = (unsigned int )((int )__c___2 * 16843009);
          __u___2 = (union __anonunion___u_82 *)((void *)__u___2 + 4);
          case 3: 
          __u___2->__usi = (unsigned short )((int )((unsigned short )__c___2) * 257);
          __u___2 = (union __anonunion___u_82 *)((void *)__u___2 + 2);
          __u___2->__uc = __c___2;
          break;
          case 14: 
          __u___2->__ui = (unsigned int )((int )__c___2 * 16843009);
          __u___2 = (union __anonunion___u_82 *)((void *)__u___2 + 4);
          case 10: 
          __u___2->__ui = (unsigned int )((int )__c___2 * 16843009);
          __u___2 = (union __anonunion___u_82 *)((void *)__u___2 + 4);
          case 6: 
          __u___2->__ui = (unsigned int )((int )__c___2 * 16843009);
          __u___2 = (union __anonunion___u_82 *)((void *)__u___2 + 4);
          case 2: 
          __u___2->__usi = (unsigned short )((int )((unsigned short )__c___2) * 257);
          break;
          case 13: 
          __u___2->__ui = (unsigned int )((int )__c___2 * 16843009);
          __u___2 = (union __anonunion___u_82 *)((void *)__u___2 + 4);
          case 9: 
          __u___2->__ui = (unsigned int )((int )__c___2 * 16843009);
          __u___2 = (union __anonunion___u_82 *)((void *)__u___2 + 4);
          case 5: 
          __u___2->__ui = (unsigned int )((int )__c___2 * 16843009);
          __u___2 = (union __anonunion___u_82 *)((void *)__u___2 + 4);
          case 1: 
          __u___2->__uc = __c___2;
          break;
          case 16: 
          __u___2->__ui = (unsigned int )((int )__c___2 * 16843009);
          __u___2 = (union __anonunion___u_82 *)((void *)__u___2 + 4);
          case 12: 
          __u___2->__ui = (unsigned int )((int )__c___2 * 16843009);
          __u___2 = (union __anonunion___u_82 *)((void *)__u___2 + 4);
          case 8: 
          __u___2->__ui = (unsigned int )((int )__c___2 * 16843009);
          __u___2 = (union __anonunion___u_82 *)((void *)__u___2 + 4);
          case 4: 
          __u___2->__ui = (unsigned int )((int )__c___2 * 16843009);
          case 0: ;
          break;
          }
        }
      } else {
        goto _L___17;
      }
    } else {
      _L___17: /* CIL Label */ 
      __s___8 = (void *)(& curraebase);
      __builtin_memset(__s___8, '\000', (int )sizeof(curraebase));
    }
    curraebase.kind = (unsigned char)2;
    break;
  }
  if ((unsigned int )n___0 != (unsigned int )((void *)0)) {
    if ((unsigned int )n___0->value != (unsigned int )((void *)0)) {
      if ((int )(*(n___0->value + 0)) != 0) {
        while (1) {
          curraebase.data = (char const   *)n___0->value;
          n___0->value = (char *)((void *)0);
          break;
        }
      } else {
        goto _L___19;
      }
    } else {
      goto _L___19;
    }
  } else {
    _L___19: /* CIL Label */ ;
  }
  if ((unsigned int )di___0 != (unsigned int )((void *)0)) {
    flags___0 = (unsigned char )((int )flags___0 | 2);
  }
  if ((unsigned int )re___0 != (unsigned int )((void *)0)) {
    flags___0 = (unsigned char )((int )flags___0 | 4);
  }
  curraebase.flags = flags___0;
  curraebase.size = 20U;
  retval = (unsigned char)1;
  while (1) {
    if ((unsigned int )n___0 != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )n___0->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)n___0->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)n___0);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )di___0 != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )di___0->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)di___0->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)di___0);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )re___0 != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )re___0->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)re___0->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)re___0);
        break;
      }
    }
    break;
  }
  break;
  case 9: 
  tmp___21 = find_and_detach_attribute(& current_attributes, (unsigned char)26);
  t___1 = tmp___21;
  tmp___22 = find_and_detach_attribute(& current_attributes, (unsigned char)20);
  n___1 = tmp___22;
  tmp___23 = find_and_detach_attribute(& current_attributes, (unsigned char)27);
  v___0 = tmp___23;
  tmp___24 = find_and_detach_attribute(& current_attributes, (unsigned char)8);
  di___1 = tmp___24;
  kind___0 = (tActiveElementKind )6;
  if ((unsigned int )n___1 != (unsigned int )((void *)0)) {
    if ((unsigned int )n___1->value != (unsigned int )((void *)0)) {
      if ((int )(*(n___1->value + 0)) != 0) {
        while (1) {
          curraebase.data = (char const   *)n___1->value;
          n___1->value = (char *)((void *)0);
          break;
        }
      } else {
        goto _L___21;
      }
    } else {
      goto _L___21;
    }
  } else {
    _L___21: /* CIL Label */ ;
  }
  if ((unsigned int )t___1 != (unsigned int )((void *)0)) {
    temp = (char const   *)t___1->value;
    if ((unsigned int )temp != (unsigned int )((void *)0)) {
      tmp___27 = streqcase3(temp, strButton);
      if (tmp___27 == 0) {
        kind___0 = (unsigned char)11;
      } else {
        tmp___26 = streqcase3(temp, strReset);
        if (tmp___26 == 0) {
          kind___0 = (unsigned char)7;
        } else {
          tmp___25 = streqcase3(temp, strSubmit);
          if (! (tmp___25 == 0)) {
            kind___0 = (unsigned char)0;
          }
        }
      }
    } else {
      goto _L___22;
    }
  } else {
    _L___22: /* CIL Label */ ;
  }
  if ((int )kind___0 != 0) {
    flags___1 = (tActiveElementFlags )16;
    if ((unsigned int )di___1 != (unsigned int )((void *)0)) {
      flags___1 = (unsigned char )((int )flags___1 | 2);
    }
    while (1) {
      tmp___28 = __builtin_constant_p(sizeof(curraebase));
      if (tmp___28) {
        if (sizeof(curraebase) <= 16U) {
          if (sizeof(curraebase) == 1U) {
            __s___13 = (void *)(& curraebase);
            (*((__uint8_t *)__s___13)) = (unsigned char)0;
          } else {
            __s___12 = (void *)(& curraebase);
            __u___3 = (union __anonunion___u_83 *)__s___12;
            __c___3 = (unsigned char)0;
            switch ((int )sizeof(curraebase)) {
            case 15: 
            __u___3->__ui = (unsigned int )((int )__c___3 * 16843009);
            __u___3 = (union __anonunion___u_83 *)((void *)__u___3 + 4);
            case 11: 
            __u___3->__ui = (unsigned int )((int )__c___3 * 16843009);
            __u___3 = (union __anonunion___u_83 *)((void *)__u___3 + 4);
            case 7: 
            __u___3->__ui = (unsigned int )((int )__c___3 * 16843009);
            __u___3 = (union __anonunion___u_83 *)((void *)__u___3 + 4);
            case 3: 
            __u___3->__usi = (unsigned short )((int )((unsigned short )__c___3) *
                                               257);
            __u___3 = (union __anonunion___u_83 *)((void *)__u___3 + 2);
            __u___3->__uc = __c___3;
            break;
            case 14: 
            __u___3->__ui = (unsigned int )((int )__c___3 * 16843009);
            __u___3 = (union __anonunion___u_83 *)((void *)__u___3 + 4);
            case 10: 
            __u___3->__ui = (unsigned int )((int )__c___3 * 16843009);
            __u___3 = (union __anonunion___u_83 *)((void *)__u___3 + 4);
            case 6: 
            __u___3->__ui = (unsigned int )((int )__c___3 * 16843009);
            __u___3 = (union __anonunion___u_83 *)((void *)__u___3 + 4);
            case 2: 
            __u___3->__usi = (unsigned short )((int )((unsigned short )__c___3) *
                                               257);
            break;
            case 13: 
            __u___3->__ui = (unsigned int )((int )__c___3 * 16843009);
            __u___3 = (union __anonunion___u_83 *)((void *)__u___3 + 4);
            case 9: 
            __u___3->__ui = (unsigned int )((int )__c___3 * 16843009);
            __u___3 = (union __anonunion___u_83 *)((void *)__u___3 + 4);
            case 5: 
            __u___3->__ui = (unsigned int )((int )__c___3 * 16843009);
            __u___3 = (union __anonunion___u_83 *)((void *)__u___3 + 4);
            case 1: 
            __u___3->__uc = __c___3;
            break;
            case 16: 
            __u___3->__ui = (unsigned int )((int )__c___3 * 16843009);
            __u___3 = (union __anonunion___u_83 *)((void *)__u___3 + 4);
            case 12: 
            __u___3->__ui = (unsigned int )((int )__c___3 * 16843009);
            __u___3 = (union __anonunion___u_83 *)((void *)__u___3 + 4);
            case 8: 
            __u___3->__ui = (unsigned int )((int )__c___3 * 16843009);
            __u___3 = (union __anonunion___u_83 *)((void *)__u___3 + 4);
            case 4: 
            __u___3->__ui = (unsigned int )((int )__c___3 * 16843009);
            case 0: ;
            break;
            }
          }
        } else {
          goto _L___23;
        }
      } else {
        _L___23: /* CIL Label */ 
        __s___11 = (void *)(& curraebase);
        __builtin_memset(__s___11, '\000', (int )sizeof(curraebase));
      }
      curraebase.kind = kind___0;
      break;
    }
    if ((unsigned int )v___0 != (unsigned int )((void *)0)) {
      while (1) {
        curraebase.render = (char const   *)v___0->value;
        v___0->value = (char *)((void *)0);
        break;
      }
    }
    curraebase.flags = flags___1;
    retval = (unsigned char)1;
  }
  while (1) {
    if ((unsigned int )t___1 != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )t___1->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)t___1->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)t___1);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )n___1 != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )n___1->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)n___1->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)n___1);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )v___0 != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )v___0->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)v___0->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)v___0);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )di___1 != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )di___1->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)di___1->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)di___1);
        break;
      }
    }
    break;
  }
  break;
  case 53: 
  tmp___29 = find_and_detach_attribute(& current_attributes, (unsigned char)20);
  n___2 = tmp___29;
  tmp___30 = find_and_detach_attribute(& current_attributes, (unsigned char)19);
  mu = tmp___30;
  tmp___31 = find_and_detach_attribute(& current_attributes, (unsigned char)8);
  di___2 = tmp___31;
  flags___2 = (tActiveElementFlags )0;
  while (1) {
    tmp___32 = __builtin_constant_p(sizeof(curraebase));
    if (tmp___32) {
      if (sizeof(curraebase) <= 16U) {
        if (sizeof(curraebase) == 1U) {
          __s___16 = (void *)(& curraebase);
          (*((__uint8_t *)__s___16)) = (unsigned char)0;
        } else {
          __s___15 = (void *)(& curraebase);
          __u___4 = (union __anonunion___u_84 *)__s___15;
          __c___4 = (unsigned char)0;
          switch ((int )sizeof(curraebase)) {
          case 15: 
          __u___4->__ui = (unsigned int )((int )__c___4 * 16843009);
          __u___4 = (union __anonunion___u_84 *)((void *)__u___4 + 4);
          case 11: 
          __u___4->__ui = (unsigned int )((int )__c___4 * 16843009);
          __u___4 = (union __anonunion___u_84 *)((void *)__u___4 + 4);
          case 7: 
          __u___4->__ui = (unsigned int )((int )__c___4 * 16843009);
          __u___4 = (union __anonunion___u_84 *)((void *)__u___4 + 4);
          case 3: 
          __u___4->__usi = (unsigned short )((int )((unsigned short )__c___4) * 257);
          __u___4 = (union __anonunion___u_84 *)((void *)__u___4 + 2);
          __u___4->__uc = __c___4;
          break;
          case 14: 
          __u___4->__ui = (unsigned int )((int )__c___4 * 16843009);
          __u___4 = (union __anonunion___u_84 *)((void *)__u___4 + 4);
          case 10: 
          __u___4->__ui = (unsigned int )((int )__c___4 * 16843009);
          __u___4 = (union __anonunion___u_84 *)((void *)__u___4 + 4);
          case 6: 
          __u___4->__ui = (unsigned int )((int )__c___4 * 16843009);
          __u___4 = (union __anonunion___u_84 *)((void *)__u___4 + 4);
          case 2: 
          __u___4->__usi = (unsigned short )((int )((unsigned short )__c___4) * 257);
          break;
          case 13: 
          __u___4->__ui = (unsigned int )((int )__c___4 * 16843009);
          __u___4 = (union __anonunion___u_84 *)((void *)__u___4 + 4);
          case 9: 
          __u___4->__ui = (unsigned int )((int )__c___4 * 16843009);
          __u___4 = (union __anonunion___u_84 *)((void *)__u___4 + 4);
          case 5: 
          __u___4->__ui = (unsigned int )((int )__c___4 * 16843009);
          __u___4 = (union __anonunion___u_84 *)((void *)__u___4 + 4);
          case 1: 
          __u___4->__uc = __c___4;
          break;
          case 16: 
          __u___4->__ui = (unsigned int )((int )__c___4 * 16843009);
          __u___4 = (union __anonunion___u_84 *)((void *)__u___4 + 4);
          case 12: 
          __u___4->__ui = (unsigned int )((int )__c___4 * 16843009);
          __u___4 = (union __anonunion___u_84 *)((void *)__u___4 + 4);
          case 8: 
          __u___4->__ui = (unsigned int )((int )__c___4 * 16843009);
          __u___4 = (union __anonunion___u_84 *)((void *)__u___4 + 4);
          case 4: 
          __u___4->__ui = (unsigned int )((int )__c___4 * 16843009);
          case 0: ;
          break;
          }
        }
      } else {
        goto _L___24;
      }
    } else {
      _L___24: /* CIL Label */ 
      __s___14 = (void *)(& curraebase);
      __builtin_memset(__s___14, '\000', (int )sizeof(curraebase));
    }
    curraebase.kind = (unsigned char)10;
    break;
  }
  if ((unsigned int )n___2 != (unsigned int )((void *)0)) {
    if ((unsigned int )n___2->value != (unsigned int )((void *)0)) {
      if ((int )(*(n___2->value + 0)) != 0) {
        while (1) {
          curraebase.data = (char const   *)n___2->value;
          n___2->value = (char *)((void *)0);
          break;
        }
      } else {
        goto _L___26;
      }
    } else {
      goto _L___26;
    }
  } else {
    _L___26: /* CIL Label */ ;
  }
  if ((unsigned int )mu != (unsigned int )((void *)0)) {
    flags___2 = (unsigned char )((int )flags___2 | 8);
  }
  if ((unsigned int )di___2 != (unsigned int )((void *)0)) {
    flags___2 = (unsigned char )((int )flags___2 | 2);
  }
  curraebase.flags = flags___2;
  select_aebase = curraebase;
  inside_select = (unsigned char)1;
  while (1) {
    if ((unsigned int )n___2 != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )n___2->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)n___2->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)n___2);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )mu != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )mu->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)mu->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)mu);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )di___2 != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )di___2->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)di___2->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)di___2);
        break;
      }
    }
    break;
  }
  break;
  }
  return (retval);
}
}
__inline static tAttribute *create_attribute(tAttributeName name ) 
{ tAttribute *retval ;
  tAttribute *tmp ;

  {
  tmp = (tAttribute *)memory_allocate_ll(sizeof(tAttribute ));
  retval = tmp;
  retval->name = name;
  return (retval);
}
}
__inline static void deallocate_attributes(tAttribute const   *a ) 
{ tAttribute const   *next ;

  {
  while ((unsigned int )a != (unsigned int )((void *)0)) {
    next = (tAttribute const   *)a->next;
    while (1) {
      while (1) {
        if ((unsigned int )a->value != (unsigned int )((void *)0)) {
          memory_deallocate_ll((void const   *)a->value);
        }
        break;
      }
      memory_deallocate_ll((void const   *)a);
      break;
    }
    a = next;
  }
  return;
}
}
void deallocate_html_node(tHtmlNode const   *node ) 
{ 

  {
  if ((int )node->kind == 0) {
    while (1) {
      if ((unsigned int )((char const   *)node->data) != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)((char const   *)node->data));
      }
      break;
    }
  } else {
    deallocate_attributes((tAttribute const   *)node->data);
  }
  memory_deallocate_ll((void const   *)node);
  return;
}
}
void deallocate_one_aebase(tActiveElementBase const   *aeb ) 
{ tHtmlOption const   *o ;
  tHtmlOption const   *next ;

  {
  while (1) {
    if ((unsigned int )aeb->data != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)aeb->data);
    }
    break;
  }
  if ((int )aeb->kind != 10) {
    while (1) {
      if ((unsigned int )aeb->render != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)aeb->render);
      }
      break;
    }
  } else {
    o = (tHtmlOption const   *)aeb->render;
    while ((unsigned int )o != (unsigned int )((void *)0)) {
      next = (tHtmlOption const   *)o->next;
      while (1) {
        if ((unsigned int )o->value != (unsigned int )((void *)0)) {
          memory_deallocate_ll((void const   *)o->value);
        }
        break;
      }
      while (1) {
        if ((unsigned int )o->render != (unsigned int )((void *)0)) {
          memory_deallocate_ll((void const   *)o->render);
        }
        break;
      }
      memory_deallocate_ll((void const   *)o);
      o = next;
    }
  }
  return;
}
}
__inline static tBoolean htk_has_flag(tHtmlTagKind kind , tHtmlTagFlags flag ) 
{ int tmp ;

  {
  if ((int )kind >= 1) {
    if ((int )kind < 67) {
      if ((int )tagdata[(int )kind - 1].flags & (int )flag) {
        tmp = 1;
      } else {
        goto _L___0;
      }
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ 
    tmp = 0;
  }
  return ((unsigned char )tmp);
}
}
__inline static tBoolean htk_soaks_up_text(tHtmlTagKind kind ) 
{ tBoolean tmp ;

  {
  tmp = htk_has_flag(kind, (unsigned char)64);
  return (tmp);
}
}
tBoolean htk_forbids_endtag(tHtmlTagKind kind ) 
{ tBoolean tmp ;

  {
  tmp = htk_has_flag(kind, (unsigned char)4);
  return (tmp);
}
}
tBoolean htk_forbids_pre(tHtmlTagKind kind ) 
{ tBoolean tmp ;

  {
  tmp = htk_has_flag(kind, (unsigned char)8);
  return (tmp);
}
}
tBoolean htk_is_block(tHtmlTagKind kind ) 
{ tBoolean tmp ;

  {
  tmp = htk_has_flag(kind, (unsigned char)16);
  return (tmp);
}
}
tBoolean htk_is_par(tHtmlTagKind kind ) 
{ tBoolean tmp ;

  {
  tmp = htk_has_flag(kind, (unsigned char)32);
  return (tmp);
}
}
__inline static void create_html_form(char const   *action , tHtmlFormFlags flags ) 
{ tHtmlFormNumber num ;
  tHtmlFormNumber max ;
  tHtmlForm *f ;
  int tmp ;

  {
  num = current_cantent->hfnum;
  max = current_cantent->hfmax;
  if (num >= max) {
    if (max >= 9) {
      tmp = 10;
    } else {
      tmp = 3;
    }
    max += tmp;
    current_cantent->hfmax = max;
    current_cantent->form = (tHtmlForm *)memory_reallocate_ll((void *)current_cantent->form,
                                                              (unsigned int )max *
                                                              sizeof(tHtmlForm ));
  }
  f = current_cantent->form + num;
  f->action_uri = action;
  f->flags = flags;
  f->last_ae = -1;
  f->first_ae = f->last_ae;
  current_cantent->hfnum = num + 1;
  return;
}
}
static void append_attribute_name(tAttributeName name ) 
{ tAttribute *a ;
  tAttribute *tmp ;

  {
  tmp = find_and_detach_attribute(& current_attributes, name);
  a = tmp;
  if ((unsigned int )a != (unsigned int )((void *)0)) {
    while (1) {
      if ((unsigned int )a->value != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)a->value);
        a->value = (char *)((void *)0);
      }
      break;
    }
  } else {
    a = create_attribute(name);
  }
  a->next = current_attributes;
  current_attributes = a;
  return;
}
}
__inline static void set_current_node(tHtmlNode *node ) 
{ 

  {
  current_node = node;
  is_current_node_valid = (unsigned char)1;
  return;
}
}
static void store_html_node(tHtmlNode *node , tBoolean do_skip_char ) 
{ tHtmlTagKind htk ;
  int tmp ;
  tAttribute *t ;
  tAttribute *tmp___0 ;
  char const   *tv ;
  int tmp___2 ;
  tAttribute *t___0 ;
  tAttribute *tmp___3 ;
  tActiveElementNumber tmp___4 ;

  {
  htk = node->kind;
  if (inside_select) {
    deallocate_html_node((tHtmlNode const   *)node);
    return;
  }
  if ((unsigned int )previous_node_in_tree != (unsigned int )((void *)0)) {
    previous_node_in_tree->next = node;
    previous_node_in_tree = node;
  } else {
    previous_node_in_tree = node;
    current_cantent->tree = (void *)previous_node_in_tree;
  }
  node->flags = (unsigned char )((int )node->flags | 4);
  lhpp_content = current_block;
  if ((unsigned int )current_block == (unsigned int )((void *)0)) {
    lhpp_byte = 0U;
  } else {
    if ((int )do_skip_char == 0) {
      tmp = 0;
    } else {
      tmp = 1;
    }
    lhpp_byte = (current_block->used - current_block_sizeleft) + (size_t )tmp;
  }
  if ((int )htk == 63) {
    tmp___0 = _find_and_detach_attribute(& node->data, (unsigned char)15);
    t = tmp___0;
    if ((unsigned int )t != (unsigned int )((void *)0)) {
      tv = (char const   *)t->value;
      if ((unsigned int )tv != (unsigned int )((void *)0)) {
        if ((int const   )(*tv) != 0) {
          while (1) {
            if ((unsigned int )current_cantent->major_html_title != (unsigned int )((void *)0)) {
              memory_deallocate_ll((void const   *)current_cantent->major_html_title);
            }
            break;
          }
          current_cantent->major_html_title = tv;
          t->value = (char *)((void *)0);
        } else {
          goto _L___0;
        }
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ ;
    }
    while (1) {
      if ((unsigned int )t != (unsigned int )((void *)0)) {
        while (1) {
          while (1) {
            if ((unsigned int )t->value != (unsigned int )((void *)0)) {
              memory_deallocate_ll((void const   *)t->value);
            }
            break;
          }
          memory_deallocate_ll((void const   *)t);
          break;
        }
      }
      break;
    }
  }
  if ((int )node->flags & 8) {
    if (aenum >= aemax) {
      if (aemax >= 1000) {
        tmp___2 = 1000;
      } else {
        if (aemax >= 100) {
          tmp___2 = 100;
        } else {
          tmp___2 = 20;
        }
      }
      aemax += tmp___2;
      aebase = (tActiveElementBase *)memory_reallocate_ll((void *)aebase, (unsigned int )aemax *
                                                                          sizeof(tActiveElementBase ));
      current_cantent->aebase = aebase;
    }
    if ((int )htk == 61) {
      tmp___3 = _find_and_detach_attribute(& node->data, (unsigned char)15);
      t___0 = tmp___3;
      if ((unsigned int )t___0 != (unsigned int )((void *)0)) {
        if ((unsigned int )t___0->value != (unsigned int )((void *)0)) {
          if ((int )(*(t___0->value + 0)) != 0) {
            while (1) {
              curraebase.render = (char const   *)t___0->value;
              t___0->value = (char *)((void *)0);
              break;
            }
          } else {
            goto _L___2;
          }
        } else {
          goto _L___2;
        }
      } else {
        _L___2: /* CIL Label */ ;
      }
      while (1) {
        if ((unsigned int )t___0 != (unsigned int )((void *)0)) {
          while (1) {
            while (1) {
              if ((unsigned int )t___0->value != (unsigned int )((void *)0)) {
                memory_deallocate_ll((void const   *)t___0->value);
              }
              break;
            }
            memory_deallocate_ll((void const   *)t___0);
            break;
          }
        }
        break;
      }
    }
    tmp___4 = aenum;
    aenum ++;
    (*(aebase + tmp___4)) = curraebase;
  }
  set_current_node(node);
  return;
}
}
static char *prepare_text(tBoolean may_trim ) 
{ char *text ;
  char *tmp ;

  {
  tmp = (char *)__memory_allocate_ll(bufsize);
  text = tmp;
  interpret_character_entities(text, (char const   *)buf___0, may_trim);
  return (text);
}
}
__inline static void finish_delayed_node(tBoolean got_text , tBoolean do_skip_char ) 
{ tHtmlTagKind htk ;
  tAttribute *a ;
  tAttribute *tmp ;
  tBoolean may_trim ;
  int tmp___0 ;
  tAttribute *list ;
  tAttribute *v ;
  tAttribute *tmp___1 ;
  tAttribute *l ;
  tAttribute *tmp___2 ;
  tAttribute *t ;
  tAttribute *tmp___3 ;
  tAttribute *se ;
  tAttribute *tmp___4 ;
  tAttribute *di ;
  tAttribute *tmp___5 ;
  tHtmlOption *option ;
  tHtmlOption *tmp___6 ;
  tHtmlOption *o ;
  tHtmlOptionFlags hof ;
  char *value ;
  char *render ;

  {
  htk = delayed_node->kind;
  if (got_text) {
    if ((int )htk != 52) {
      if ((int )htk != 56) {
        tmp = create_attribute((unsigned char)15);
        a = tmp;
        if ((int )htk == 47) {
          goto _L;
        } else {
          if ((int )htk == 63) {
            _L: /* CIL Label */ 
            tmp___0 = 1;
          } else {
            tmp___0 = 0;
          }
        }
        may_trim = (tBoolean )tmp___0;
        a->value = prepare_text(may_trim);
        a->next = (struct tAttribute *)delayed_node->data;
        delayed_node->data = (void *)a;
      } else {
        goto _L___1;
      }
    } else {
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ ;
  }
  if (inside_select) {
    if ((int )htk == 47) {
      list = (tAttribute *)delayed_node->data;
      tmp___1 = find_and_detach_attribute(& list, (unsigned char)27);
      v = tmp___1;
      tmp___2 = find_and_detach_attribute(& list, (unsigned char)16);
      l = tmp___2;
      tmp___3 = find_and_detach_attribute(& list, (unsigned char)15);
      t = tmp___3;
      tmp___4 = find_and_detach_attribute(& list, (unsigned char)22);
      se = tmp___4;
      tmp___5 = find_and_detach_attribute(& list, (unsigned char)8);
      di = tmp___5;
      tmp___6 = (tHtmlOption *)__memory_allocate_ll(sizeof(tHtmlOption ));
      option = tmp___6;
      o = (tHtmlOption *)select_aebase.render;
      hof = (tHtmlOptionFlags )0;
      delayed_node->data = (void *)list;
      deallocate_html_node((tHtmlNode const   *)delayed_node);
      if ((unsigned int )l != (unsigned int )((void *)0)) {
        if ((unsigned int )l->value != (unsigned int )((void *)0)) {
          if ((int )(*(l->value + 0)) != 0) {
            render = l->value;
            l->value = (char *)((void *)0);
          } else {
            goto _L___5;
          }
        } else {
          goto _L___5;
        }
      } else {
        _L___5: /* CIL Label */ 
        if ((unsigned int )t != (unsigned int )((void *)0)) {
          if ((unsigned int )t->value != (unsigned int )((void *)0)) {
            if ((int )(*(t->value + 0)) != 0) {
              render = my_strdup((char const   *)t->value);
            } else {
              goto _L___3;
            }
          } else {
            goto _L___3;
          }
        } else {
          _L___3: /* CIL Label */ 
          render = my_strdup("[an option]");
        }
      }
      if ((unsigned int )v != (unsigned int )((void *)0)) {
        if ((unsigned int )v->value != (unsigned int )((void *)0)) {
          if ((int )(*(v->value + 0)) != 0) {
            value = v->value;
            v->value = (char *)((void *)0);
          } else {
            goto _L___9;
          }
        } else {
          goto _L___9;
        }
      } else {
        _L___9: /* CIL Label */ 
        if ((unsigned int )t != (unsigned int )((void *)0)) {
          if ((unsigned int )t->value != (unsigned int )((void *)0)) {
            if ((int )(*(t->value + 0)) != 0) {
              value = t->value;
              t->value = (char *)((void *)0);
            } else {
              goto _L___7;
            }
          } else {
            goto _L___7;
          }
        } else {
          _L___7: /* CIL Label */ 
          value = (char *)((void *)0);
        }
      }
      if ((unsigned int )se != (unsigned int )((void *)0)) {
        hof = (unsigned char )((int )hof | 1);
      }
      if ((unsigned int )di != (unsigned int )((void *)0)) {
        hof = (unsigned char )((int )hof | 2);
      }
      option->next = (struct tHtmlOption *)((void *)0);
      option->value = value;
      option->render = render;
      option->flags = hof;
      if ((unsigned int )o == (unsigned int )((void *)0)) {
        select_aebase.render = (char const   *)((char *)option);
      } else {
        while ((unsigned int )o->next != (unsigned int )((void *)0)) {
          o = o->next;
        }
        o->next = option;
      }
      select_aebase.maxlength = select_aebase.maxlength + 1U;
      while (1) {
        if ((unsigned int )v != (unsigned int )((void *)0)) {
          while (1) {
            while (1) {
              if ((unsigned int )v->value != (unsigned int )((void *)0)) {
                memory_deallocate_ll((void const   *)v->value);
              }
              break;
            }
            memory_deallocate_ll((void const   *)v);
            break;
          }
        }
        break;
      }
      while (1) {
        if ((unsigned int )l != (unsigned int )((void *)0)) {
          while (1) {
            while (1) {
              if ((unsigned int )l->value != (unsigned int )((void *)0)) {
                memory_deallocate_ll((void const   *)l->value);
              }
              break;
            }
            memory_deallocate_ll((void const   *)l);
            break;
          }
        }
        break;
      }
      while (1) {
        if ((unsigned int )t != (unsigned int )((void *)0)) {
          while (1) {
            while (1) {
              if ((unsigned int )t->value != (unsigned int )((void *)0)) {
                memory_deallocate_ll((void const   *)t->value);
              }
              break;
            }
            memory_deallocate_ll((void const   *)t);
            break;
          }
        }
        break;
      }
      while (1) {
        if ((unsigned int )se != (unsigned int )((void *)0)) {
          while (1) {
            while (1) {
              if ((unsigned int )se->value != (unsigned int )((void *)0)) {
                memory_deallocate_ll((void const   *)se->value);
              }
              break;
            }
            memory_deallocate_ll((void const   *)se);
            break;
          }
        }
        break;
      }
      while (1) {
        if ((unsigned int )di != (unsigned int )((void *)0)) {
          while (1) {
            while (1) {
              if ((unsigned int )di->value != (unsigned int )((void *)0)) {
                memory_deallocate_ll((void const   *)di->value);
              }
              break;
            }
            memory_deallocate_ll((void const   *)di);
            break;
          }
        }
        break;
      }
    } else {
      goto _L___10;
    }
  } else {
    _L___10: /* CIL Label */ 
    if (! is_parsing_done) {
      store_html_node(delayed_node, do_skip_char);
    } else {
      deallocate_html_node((tHtmlNode const   *)delayed_node);
    }
  }
  delayed_node = (tHtmlNode *)((void *)0);
  return;
}
}
__inline static void deallocate_current_attributes(void) 
{ 

  {
  if ((unsigned int )current_attributes != (unsigned int )((void *)0)) {
    deallocate_attributes((tAttribute const   *)current_attributes);
    current_attributes = (tAttribute *)((void *)0);
  }
  return;
}
}
__inline static void handle_meta_tag(void) 
{ tAttribute const   *n1 ;
  tAttribute const   *tmp ;
  tAttribute const   *n2 ;
  tAttribute const   *tmp___0 ;
  tAttribute const   *n ;
  tAttribute const   *c ;
  tAttribute const   *tmp___1 ;
  char const   *cv ;
  int tmp___2 ;
  int dummy ;
  int tmp___3 ;

  {
  tmp = find_and_detach_attribute(& current_attributes, (unsigned char)20);
  n1 = tmp;
  tmp___0 = find_and_detach_attribute(& current_attributes, (unsigned char)12);
  n2 = tmp___0;
  tmp___1 = find_and_detach_attribute(& current_attributes, (unsigned char)6);
  c = tmp___1;
  if ((unsigned int )c == (unsigned int )((void *)0)) {
    goto _L;
  } else {
    cv = (char const   *)c->value;
    if ((unsigned int )cv == (unsigned int )((void *)0)) {
      _L: /* CIL Label */ 
      goto out;
    }
  }
  if ((unsigned int )n1 != (unsigned int )((void *)0)) {
    n = n1;
  } else {
    n = n2;
  }
  if ((unsigned int )n == (unsigned int )((void *)0)) {
    goto _L___0;
  } else {
    if ((unsigned int )n->value == (unsigned int )((void *)0)) {
      _L___0: /* CIL Label */ 
      goto out;
    }
  }
  tmp___2 = streqcase3((char const   *)n->value, "refresh");
  if (! (tmp___2 == 0)) {
    goto out;
  }
  if ((unsigned int )current_cantent->redirection != (unsigned int )((void *)0)) {
    goto out;
  }
  while (1) {
    if ((int const   )(*cv) == 32) {
      goto _L___3;
    } else {
      if ((int const   )(*cv) == 9) {
        _L___3: /* CIL Label */ 
        goto _L___2;
      } else {
        if ((int const   )(*cv) == 10) {
          _L___2: /* CIL Label */ 
          goto _L___1;
        } else {
          if ((int const   )(*cv) == 13) {
            _L___1: /* CIL Label */ ;
          } else {
            break;
          }
        }
      }
    }
    cv ++;
  }
  if ((int const   )(*cv) >= 48) {
    if ((int const   )(*cv) <= 57) {
      my_atoi(cv, & dummy, & cv, 9);
      while (1) {
        if ((int const   )(*cv) == 32) {
          goto _L___6;
        } else {
          if ((int const   )(*cv) == 9) {
            _L___6: /* CIL Label */ 
            goto _L___5;
          } else {
            if ((int const   )(*cv) == 10) {
              _L___5: /* CIL Label */ 
              goto _L___4;
            } else {
              if ((int const   )(*cv) == 13) {
                _L___4: /* CIL Label */ ;
              } else {
                break;
              }
            }
          }
        }
        cv ++;
      }
    } else {
      goto _L___7;
    }
  } else {
    _L___7: /* CIL Label */ ;
  }
  if ((int const   )(*cv) == 44) {
    goto _L___8;
  } else {
    if ((int const   )(*cv) == 59) {
      _L___8: /* CIL Label */ 
      cv ++;
    }
  }
  while (1) {
    if ((int const   )(*cv) == 32) {
      goto _L___11;
    } else {
      if ((int const   )(*cv) == 9) {
        _L___11: /* CIL Label */ 
        goto _L___10;
      } else {
        if ((int const   )(*cv) == 10) {
          _L___10: /* CIL Label */ 
          goto _L___9;
        } else {
          if ((int const   )(*cv) == 13) {
            _L___9: /* CIL Label */ ;
          } else {
            break;
          }
        }
      }
    }
    cv ++;
  }
  tmp___3 = strneqcase3(cv, "url=", 4U);
  if (tmp___3 == 0) {
    cv += 4;
    while (1) {
      if ((int const   )(*cv) == 32) {
        goto _L___14;
      } else {
        if ((int const   )(*cv) == 9) {
          _L___14: /* CIL Label */ 
          goto _L___13;
        } else {
          if ((int const   )(*cv) == 10) {
            _L___13: /* CIL Label */ 
            goto _L___12;
          } else {
            if ((int const   )(*cv) == 13) {
              _L___12: /* CIL Label */ ;
            } else {
              break;
            }
          }
        }
      }
      cv ++;
    }
  }
  if ((int const   )(*cv) != 0) {
    current_cantent->redirection = my_strdup(cv);
    current_cantent->caf = (unsigned char )((int )current_cantent->caf | 2);
  }
  out: 
  while (1) {
    if ((unsigned int )n1 != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )n1->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)n1->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)n1);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )n2 != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )n2->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)n2->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)n2);
        break;
      }
    }
    break;
  }
  while (1) {
    if ((unsigned int )c != (unsigned int )((void *)0)) {
      while (1) {
        while (1) {
          if ((unsigned int )c->value != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)c->value);
          }
          break;
        }
        memory_deallocate_ll((void const   *)c);
        break;
      }
    }
    break;
  }
  return;
}
}
static void build_html_node(void) 
{ tHtmlNode *node ;
  tHtmlNode *tmp ;
  tBoolean is_textual ;
  int tmp___0 ;
  tBoolean ucb ;
  int tmp___2 ;
  tHtmlNodeFlags hnf ;
  tAttribute *a ;
  tAttribute *tmp___3 ;
  tAttribute *m ;
  tAttribute *tmp___4 ;
  tAttribute *e ;
  tAttribute *tmp___5 ;
  tHtmlFormFlags ff ;
  int tmp___6 ;
  int tmp___7 ;
  tAttribute const   *a___0 ;
  tAttribute const   *tmp___8 ;
  char const   *av ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  tHtmlOption *o ;
  tHtmlOption *o0 ;
  tBoolean found_selected_option ;
  tBoolean is_multiple ;
  int tmp___12 ;
  tBoolean do_skip_char ;
  int tmp___13 ;
  tBoolean tmp___14 ;

  {
  tmp = (tHtmlNode *)memory_allocate_ll(sizeof(tHtmlNode ));
  node = tmp;
  if ((int )current_tagkind == 0) {
    tmp___0 = 1;
  } else {
    tmp___0 = 0;
  }
  is_textual = (tBoolean )tmp___0;
  if (is_endtag) {
    goto _L___0;
  } else {
    if (is_textual) {
      _L___0: /* CIL Label */ 
      goto _L;
    } else {
      if (is_parsing_done) {
        _L: /* CIL Label */ 
        tmp___2 = 0;
      } else {
        tmp___2 = (int )use_curraebase();
      }
    }
  }
  ucb = (tBoolean )tmp___2;
  hnf = (tHtmlNodeFlags )0;
  if (is_endtag) {
    hnf = (unsigned char )((int )hnf | 1);
  }
  if (tagblock_ends) {
    hnf = (unsigned char )((int )hnf | 2);
  }
  if (is_textual) {
    node->data = (void *)prepare_text((unsigned char)0);
  } else {
    if ((int )current_tagkind == 255) {
      append_attribute_name((unsigned char)14);
      current_attributes->value = current_unknown_tagname;
      current_unknown_tagname = (char *)((void *)0);
    } else {
      if (! is_endtag) {
        if (! is_parsing_done) {
          if ((int )current_tagkind == 11) {
            hnf = (unsigned char )((int )hnf | 32);
          } else {
            if ((int )current_tagkind == 41) {
              handle_meta_tag();
            } else {
              if ((int )current_tagkind == 23) {
                tmp___3 = find_and_detach_attribute(& current_attributes, (unsigned char)1);
                a = tmp___3;
                tmp___4 = find_and_detach_attribute(& current_attributes, (unsigned char)18);
                m = tmp___4;
                tmp___5 = find_and_detach_attribute(& current_attributes, (unsigned char)9);
                e = tmp___5;
                if ((unsigned int )a != (unsigned int )((void *)0)) {
                  if ((unsigned int )a->value != (unsigned int )((void *)0)) {
                    if ((int )(*(a->value + 0)) != 0) {
                      ff = (tHtmlFormFlags )0;
                      hnf = (unsigned char )((int )hnf | 128);
                      if ((unsigned int )m != (unsigned int )((void *)0)) {
                        if ((unsigned int )m->value != (unsigned int )((void *)0)) {
                          tmp___6 = streqcase3((char const   *)m->value, "post");
                          if (tmp___6 == 0) {
                            ff = (unsigned char )((int )ff | 1);
                          } else {
                            goto _L___2;
                          }
                        } else {
                          goto _L___2;
                        }
                      } else {
                        _L___2: /* CIL Label */ ;
                      }
                      if ((unsigned int )e != (unsigned int )((void *)0)) {
                        if ((unsigned int )e->value != (unsigned int )((void *)0)) {
                          tmp___7 = streqcase3((char const   *)e->value, "multipart/form-data");
                          if (tmp___7 == 0) {
                            ff = (unsigned char )((int )ff | 2);
                          } else {
                            goto _L___4;
                          }
                        } else {
                          goto _L___4;
                        }
                      } else {
                        _L___4: /* CIL Label */ ;
                      }
                      create_html_form((char const   *)a->value, ff);
                      a->value = (char *)((void *)0);
                    } else {
                      goto _L___6;
                    }
                  } else {
                    goto _L___6;
                  }
                } else {
                  _L___6: /* CIL Label */ ;
                }
                while (1) {
                  if ((unsigned int )a != (unsigned int )((void *)0)) {
                    while (1) {
                      while (1) {
                        if ((unsigned int )a->value != (unsigned int )((void *)0)) {
                          memory_deallocate_ll((void const   *)a->value);
                        }
                        break;
                      }
                      memory_deallocate_ll((void const   *)a);
                      break;
                    }
                  }
                  break;
                }
                while (1) {
                  if ((unsigned int )m != (unsigned int )((void *)0)) {
                    while (1) {
                      while (1) {
                        if ((unsigned int )m->value != (unsigned int )((void *)0)) {
                          memory_deallocate_ll((void const   *)m->value);
                        }
                        break;
                      }
                      memory_deallocate_ll((void const   *)m);
                      break;
                    }
                  }
                  break;
                }
                while (1) {
                  if ((unsigned int )e != (unsigned int )((void *)0)) {
                    while (1) {
                      while (1) {
                        if ((unsigned int )e->value != (unsigned int )((void *)0)) {
                          memory_deallocate_ll((void const   *)e->value);
                        }
                        break;
                      }
                      memory_deallocate_ll((void const   *)e);
                      break;
                    }
                  }
                  break;
                }
              }
            }
          }
        } else {
          goto _L___7;
        }
      } else {
        _L___7: /* CIL Label */ ;
      }
    }
    tmp___8 = find_and_detach_attribute(& current_attributes, (unsigned char)2);
    a___0 = tmp___8;
    if ((unsigned int )a___0 == (unsigned int )((void *)0)) {
      goto _L___10;
    } else {
      if ((int )current_tagkind == 59) {
        _L___10: /* CIL Label */ 
        goto _L___9;
      } else {
        if ((int )current_tagkind == 62) {
          _L___9: /* CIL Label */ 
          goto _L___8;
        } else {
          if ((int )current_tagkind == 60) {
            _L___8: /* CIL Label */ 
            goto dont_align;
          }
        }
      }
    }
    av = (char const   *)a___0->value;
    if ((unsigned int )av != (unsigned int )((void *)0)) {
      if ((int const   )(*av) != 0) {
        tmp___11 = streqcase3(av, "left");
        if (tmp___11 == 0) {
          hnf = (unsigned char )((int )hnf | 16);
        } else {
          tmp___10 = streqcase3(av, strCenter);
          if (tmp___10 == 0) {
            hnf = (unsigned char )((int )hnf | 32);
          } else {
            tmp___9 = streqcase3(av, "right");
            if (tmp___9 == 0) {
              hnf = (unsigned char )((int )hnf | 64);
            }
          }
        }
      } else {
        goto _L___11;
      }
    } else {
      _L___11: /* CIL Label */ ;
    }
    dont_align: ;
    while (1) {
      if ((unsigned int )a___0 != (unsigned int )((void *)0)) {
        while (1) {
          while (1) {
            if ((unsigned int )a___0->value != (unsigned int )((void *)0)) {
              memory_deallocate_ll((void const   *)a___0->value);
            }
            break;
          }
          memory_deallocate_ll((void const   *)a___0);
          break;
        }
      }
      break;
    }
    node->data = (void *)current_attributes;
    current_attributes = (tAttribute *)((void *)0);
  }
  node->kind = current_tagkind;
  node->flags = hnf;
  node->next = (struct tHtmlNode *)((void *)0);
  if (! is_endtag) {
    tmp___14 = htk_soaks_up_text(current_tagkind);
    if (tmp___14) {
      if ((int )current_tagkind == 61) {
        node->flags = (unsigned char )((int )node->flags | 8);
      }
      delayed_node = node;
    } else {
      goto _L___13;
    }
  } else {
    _L___13: /* CIL Label */ 
    if ((int )current_tagkind == 53) {
      if (! is_endtag) {
        select_node = node;
      } else {
        if (inside_select) {
          found_selected_option = (tBoolean )0;
          if ((int )select_aebase.flags & 8) {
            tmp___12 = 1;
          } else {
            tmp___12 = 0;
          }
          is_multiple = (tBoolean )tmp___12;
          inside_select = (unsigned char)0;
          curraebase = select_aebase;
          select_node->flags = (unsigned char )((int )select_node->flags | 8);
          o0 = (tHtmlOption *)curraebase.render;
          o = o0;
          while ((unsigned int )o != (unsigned int )((void *)0)) {
            if ((int )o->flags & 1) {
              if (found_selected_option) {
                o->flags = (unsigned char )((int )o->flags & -2);
              } else {
                found_selected_option = (unsigned char)1;
                if (is_multiple) {
                  break;
                }
              }
            }
            o = o->next;
          }
          if (! found_selected_option) {
            if ((unsigned int )o0 != (unsigned int )((void *)0)) {
              o0->flags = (unsigned char )((int )o0->flags | 1);
            } else {
              goto _L___12;
            }
          } else {
            _L___12: /* CIL Label */ ;
          }
          store_html_node(select_node, (unsigned char)1);
          select_node = (tHtmlNode *)((void *)0);
        }
      }
    } else {
      if (! is_parsing_done) {
        if (! is_textual) {
          tmp___13 = 1;
        } else {
          tmp___13 = 0;
        }
        do_skip_char = (tBoolean )tmp___13;
        if (ucb) {
          node->flags = (unsigned char )((int )node->flags | 8);
        }
        store_html_node(node, do_skip_char);
      } else {
        if (is_textual) {
          set_current_node(node);
        } else {
          deallocate_html_node((tHtmlNode const   *)node);
        }
      }
    }
  }
  deallocate_current_attributes();
  return;
}
}
__inline static tMbsIndex do_lookup_attrname(void) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___29 ;
  size_t tmp___30 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___45 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )(sizeof(attrdata) / sizeof(attrdata[0]) - 1U);
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    tmp___55 = __builtin_constant_p(buf___0);
    if (tmp___55) {
      tmp___56 = __builtin_constant_p(attrdata[idx].str);
      if (tmp___56) {
        __s1_len = strlen((char const   *)buf___0);
        __s2_len = strlen(attrdata[idx].str);
        if (! ((unsigned int )((void const   *)(buf___0 + 1)) - (unsigned int )((void const   *)buf___0) ==
               1U)) {
          goto _L___172;
        } else {
          if (__s1_len >= 4U) {
            _L___172: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)(attrdata[idx].str + 1)) - (unsigned int )((void const   *)attrdata[idx].str) ==
                   1U)) {
              goto _L___171;
            } else {
              if (__s2_len >= 4U) {
                _L___171: /* CIL Label */ 
                tmp___57 = 1;
              } else {
                goto _L___170;
              }
            }
          } else {
            _L___170: /* CIL Label */ 
            tmp___57 = 0;
          }
        }
        if (tmp___57) {
          if (__s1_len < __s2_len) {
            tmp___30 = __s1_len;
          } else {
            tmp___30 = __s2_len;
          }
          tmp___29 = memcmp((void const   *)((char const   *)buf___0), (void const   *)attrdata[idx].str,
                            tmp___30 + 1U);
        } else {
          goto _L___174;
        }
      } else {
        goto _L___174;
      }
    } else {
      _L___174: /* CIL Label */ 
      tmp___54 = __builtin_constant_p(buf___0);
      if (tmp___54) {
        if ((unsigned int )((void const   *)(buf___0 + 1)) - (unsigned int )((void const   *)buf___0) ==
            1U) {
          __s1_len = strlen((char const   *)buf___0);
          if (__s1_len < 4U) {
            tmp___45 = __builtin_constant_p(attrdata[idx].str);
            if (tmp___45) {
              if ((unsigned int )((void const   *)(attrdata[idx].str + 1)) - (unsigned int )((void const   *)attrdata[idx].str) ==
                  1U) {
                __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                        0)) - (int const   )(*((unsigned char const   *)attrdata[idx].str +
                                                                               0)));
                if (__s1_len > 0U) {
                  if (__result___37 == 0) {
                    __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                            1)) - (int const   )(*((unsigned char const   *)attrdata[idx].str +
                                                                                   1)));
                    if (__s1_len > 1U) {
                      if (__result___37 == 0) {
                        __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                2)) - (int const   )(*((unsigned char const   *)attrdata[idx].str +
                                                                                       2)));
                        if (__s1_len > 2U) {
                          if (__result___37 == 0) {
                            __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                    3)) - (int const   )(*((unsigned char const   *)attrdata[idx].str +
                                                                                           3)));
                          } else {
                            goto _L___133;
                          }
                        } else {
                          _L___133: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___134;
                      }
                    } else {
                      _L___134: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___135;
                  }
                } else {
                  _L___135: /* CIL Label */ ;
                }
                tmp___29 = __result___37;
              } else {
                goto _L___139;
              }
            } else {
              _L___139: /* CIL Label */ 
              __s2___6 = (unsigned char const   *)attrdata[idx].str;
              __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                      0)) - (int const   )(*(__s2___6 +
                                                                             0)));
              if (__s1_len > 0U) {
                if (__result___38 == 0) {
                  __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                          1)) - (int const   )(*(__s2___6 +
                                                                                 1)));
                  if (__s1_len > 1U) {
                    if (__result___38 == 0) {
                      __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                              2)) - (int const   )(*(__s2___6 +
                                                                                     2)));
                      if (__s1_len > 2U) {
                        if (__result___38 == 0) {
                          __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                  3)) - (int const   )(*(__s2___6 +
                                                                                         3)));
                        } else {
                          goto _L___136;
                        }
                      } else {
                        _L___136: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___137;
                    }
                  } else {
                    _L___137: /* CIL Label */ ;
                  }
                } else {
                  goto _L___138;
                }
              } else {
                _L___138: /* CIL Label */ ;
              }
              tmp___29 = __result___38;
            }
          } else {
            goto _L___169;
          }
        } else {
          goto _L___169;
        }
      } else {
        _L___169: /* CIL Label */ 
        tmp___53 = __builtin_constant_p(attrdata[idx].str);
        if (tmp___53) {
          if ((unsigned int )((void const   *)(attrdata[idx].str + 1)) - (unsigned int )((void const   *)attrdata[idx].str) ==
              1U) {
            __s2_len = strlen(attrdata[idx].str);
            if (__s2_len < 4U) {
              tmp___52 = __builtin_constant_p(buf___0);
              if (tmp___52) {
                if ((unsigned int )((void const   *)(buf___0 + 1)) - (unsigned int )((void const   *)buf___0) ==
                    1U) {
                  __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                          0)) - (int const   )(*((unsigned char const   *)attrdata[idx].str +
                                                                                 0)));
                  if (__s2_len > 0U) {
                    if (__result___45 == 0) {
                      __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                              1)) - (int const   )(*((unsigned char const   *)attrdata[idx].str +
                                                                                     1)));
                      if (__s2_len > 1U) {
                        if (__result___45 == 0) {
                          __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                  2)) - (int const   )(*((unsigned char const   *)attrdata[idx].str +
                                                                                         2)));
                          if (__s2_len > 2U) {
                            if (__result___45 == 0) {
                              __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                      3)) - (int const   )(*((unsigned char const   *)attrdata[idx].str +
                                                                                             3)));
                            } else {
                              goto _L___159;
                            }
                          } else {
                            _L___159: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___160;
                        }
                      } else {
                        _L___160: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___161;
                    }
                  } else {
                    _L___161: /* CIL Label */ ;
                  }
                  tmp___29 = __result___45;
                } else {
                  goto _L___165;
                }
              } else {
                _L___165: /* CIL Label */ 
                __s1___14 = (unsigned char const   *)((char const   *)buf___0);
                __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)attrdata[idx].str +
                                                                                           0)));
                if (__s2_len > 0U) {
                  if (__result___46 == 0) {
                    __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)attrdata[idx].str +
                                                                                               1)));
                    if (__s2_len > 1U) {
                      if (__result___46 == 0) {
                        __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                               (int const   )(*((unsigned char const   *)attrdata[idx].str +
                                                                2)));
                        if (__s2_len > 2U) {
                          if (__result___46 == 0) {
                            __result___46 = (int )((int const   )(*(__s1___14 + 3)) -
                                                   (int const   )(*((unsigned char const   *)attrdata[idx].str +
                                                                    3)));
                          } else {
                            goto _L___162;
                          }
                        } else {
                          _L___162: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___163;
                      }
                    } else {
                      _L___163: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___164;
                  }
                } else {
                  _L___164: /* CIL Label */ ;
                }
                tmp___29 = __result___46;
              }
            } else {
              goto _L___167;
            }
          } else {
            goto _L___167;
          }
        } else {
          _L___167: /* CIL Label */ 
          tmp___29 = strcmp((char const   *)buf___0, attrdata[idx].str);
        }
      }
    }
    res = tmp___29;
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
__inline static tAttributeName lookup_attrname(void) 
{ tMbsIndex idx ;
  tMbsIndex tmp ;
  int tmp___0 ;

  {
  tmp = do_lookup_attrname();
  idx = tmp;
  if ((int )idx < 0) {
    tmp___0 = 0;
  } else {
    tmp___0 = (int )attrdata[idx].an;
  }
  return ((unsigned char )tmp___0);
}
}
static void change_state(tHtmlParserState new_state ) 
{ tAttributeName an ;
  int tmp ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___31 ;
  size_t tmp___32 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___47 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;
  int tmp___58 ;
  int tmp___59 ;
  tBoolean tmp___63 ;

  {
  buf_append((char )'\000');
  if ((int )new_state == 5) {
    is_parsing_done = (unsigned char)1;
  }
  switch ((int )state) {
  case 0: ;
  if ((unsigned int )delayed_node != (unsigned int )((void *)0)) {
    if (bufsize > 1U) {
      tmp = 1;
    } else {
      tmp = 0;
    }
    finish_delayed_node((unsigned char )tmp, (unsigned char)0);
  } else {
    if (bufsize > 1U) {
      current_tagkind = (unsigned char)0;
      build_html_node();
    }
  }
  break;
  case 1: 
  current_tagkind = (unsigned char)255;
  if (bufsize > 1U) {
    tmp___57 = __builtin_constant_p(buf___0);
    if (tmp___57) {
      tmp___58 = __builtin_constant_p(strCommentTag);
      if (tmp___58) {
        __s1_len = strlen((char const   *)buf___0);
        __s2_len = strlen(strCommentTag);
        if (! ((unsigned int )((void const   *)(buf___0 + 1)) - (unsigned int )((void const   *)buf___0) ==
               1U)) {
          goto _L___172;
        } else {
          if (__s1_len >= 4U) {
            _L___172: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)(strCommentTag + 1)) - (unsigned int )((void const   *)(strCommentTag)) ==
                   1U)) {
              goto _L___171;
            } else {
              if (__s2_len >= 4U) {
                _L___171: /* CIL Label */ 
                tmp___59 = 1;
              } else {
                goto _L___170;
              }
            }
          } else {
            _L___170: /* CIL Label */ 
            tmp___59 = 0;
          }
        }
        if (tmp___59) {
          if (__s1_len < __s2_len) {
            tmp___32 = __s1_len;
          } else {
            tmp___32 = __s2_len;
          }
          tmp___31 = memcmp((void const   *)((char const   *)buf___0), (void const   *)(strCommentTag),
                            tmp___32 + 1U);
        } else {
          goto _L___174;
        }
      } else {
        goto _L___174;
      }
    } else {
      _L___174: /* CIL Label */ 
      tmp___56 = __builtin_constant_p(buf___0);
      if (tmp___56) {
        if ((unsigned int )((void const   *)(buf___0 + 1)) - (unsigned int )((void const   *)buf___0) ==
            1U) {
          __s1_len = strlen((char const   *)buf___0);
          if (__s1_len < 4U) {
            tmp___47 = __builtin_constant_p(strCommentTag);
            if (tmp___47) {
              if ((unsigned int )((void const   *)(strCommentTag + 1)) - (unsigned int )((void const   *)(strCommentTag)) ==
                  1U) {
                __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                        0)) - (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                               0)));
                if (__s1_len > 0U) {
                  if (__result___37 == 0) {
                    __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                            1)) - (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                   1)));
                    if (__s1_len > 1U) {
                      if (__result___37 == 0) {
                        __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                2)) - (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                       2)));
                        if (__s1_len > 2U) {
                          if (__result___37 == 0) {
                            __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                    3)) - (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                           3)));
                          } else {
                            goto _L___133;
                          }
                        } else {
                          _L___133: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___134;
                      }
                    } else {
                      _L___134: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___135;
                  }
                } else {
                  _L___135: /* CIL Label */ ;
                }
                tmp___31 = __result___37;
              } else {
                goto _L___139;
              }
            } else {
              _L___139: /* CIL Label */ 
              __s2___6 = (unsigned char const   *)(strCommentTag);
              __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                      0)) - (int const   )(*(__s2___6 +
                                                                             0)));
              if (__s1_len > 0U) {
                if (__result___38 == 0) {
                  __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                          1)) - (int const   )(*(__s2___6 +
                                                                                 1)));
                  if (__s1_len > 1U) {
                    if (__result___38 == 0) {
                      __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                              2)) - (int const   )(*(__s2___6 +
                                                                                     2)));
                      if (__s1_len > 2U) {
                        if (__result___38 == 0) {
                          __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                  3)) - (int const   )(*(__s2___6 +
                                                                                         3)));
                        } else {
                          goto _L___136;
                        }
                      } else {
                        _L___136: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___137;
                    }
                  } else {
                    _L___137: /* CIL Label */ ;
                  }
                } else {
                  goto _L___138;
                }
              } else {
                _L___138: /* CIL Label */ ;
              }
              tmp___31 = __result___38;
            }
          } else {
            goto _L___169;
          }
        } else {
          goto _L___169;
        }
      } else {
        _L___169: /* CIL Label */ 
        tmp___55 = __builtin_constant_p(strCommentTag);
        if (tmp___55) {
          if ((unsigned int )((void const   *)(strCommentTag + 1)) - (unsigned int )((void const   *)(strCommentTag)) ==
              1U) {
            __s2_len = strlen(strCommentTag);
            if (__s2_len < 4U) {
              tmp___54 = __builtin_constant_p(buf___0);
              if (tmp___54) {
                if ((unsigned int )((void const   *)(buf___0 + 1)) - (unsigned int )((void const   *)buf___0) ==
                    1U) {
                  __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                          0)) - (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                 0)));
                  if (__s2_len > 0U) {
                    if (__result___45 == 0) {
                      __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                              1)) - (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                     1)));
                      if (__s2_len > 1U) {
                        if (__result___45 == 0) {
                          __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                  2)) - (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                         2)));
                          if (__s2_len > 2U) {
                            if (__result___45 == 0) {
                              __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                      3)) - (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                             3)));
                            } else {
                              goto _L___159;
                            }
                          } else {
                            _L___159: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___160;
                        }
                      } else {
                        _L___160: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___161;
                    }
                  } else {
                    _L___161: /* CIL Label */ ;
                  }
                  tmp___31 = __result___45;
                } else {
                  goto _L___165;
                }
              } else {
                _L___165: /* CIL Label */ 
                __s1___14 = (unsigned char const   *)((char const   *)buf___0);
                __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                           0)));
                if (__s2_len > 0U) {
                  if (__result___46 == 0) {
                    __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                               1)));
                    if (__s2_len > 1U) {
                      if (__result___46 == 0) {
                        __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                               (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                2)));
                        if (__s2_len > 2U) {
                          if (__result___46 == 0) {
                            __result___46 = (int )((int const   )(*(__s1___14 + 3)) -
                                                   (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                    3)));
                          } else {
                            goto _L___162;
                          }
                        } else {
                          _L___162: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___163;
                      }
                    } else {
                      _L___163: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___164;
                  }
                } else {
                  _L___164: /* CIL Label */ ;
                }
                tmp___31 = __result___46;
              }
            } else {
              goto _L___167;
            }
          } else {
            goto _L___167;
          }
        } else {
          _L___167: /* CIL Label */ 
          tmp___31 = strcmp((char const   *)buf___0, strCommentTag);
        }
      }
    }
    if (tmp___31) {
      current_tagkind = lookup_tagkind();
      while (1) {
        if ((unsigned int )current_unknown_tagname != (unsigned int )((void *)0)) {
          memory_deallocate_ll((void const   *)current_unknown_tagname);
        }
        break;
      }
      if ((int )current_tagkind != 255) {
        current_unknown_tagname = (char *)((void *)0);
      } else {
        current_unknown_tagname = my_strdup((char const   *)buf___0);
      }
    } else {
      new_state = (unsigned char)6;
    }
  }
  break;
  case 2: 
  current_attr_name = (unsigned char)0;
  if (is_endtag) {
    goto an_ignore;
  }
  an = lookup_attrname();
  if ((int )an == 0) {
    goto an_ignore;
  }
  if ((int )an == 2) {
    goto _L___175;
  } else {
    if ((int )an == 13) {
      _L___175: /* CIL Label */ 
      current_attr_name = an;
    }
  }
  if ((int )current_attr_name != 0) {
    goto an_append;
  }
  if ((int )current_tagkind == 255) {
    goto an_ignore;
  }
  switch ((int )current_tagkind) {
  case 1: ;
  if ((int )an == 11) {
    goto _L___176;
  } else {
    if ((int )an == 20) {
      _L___176: /* CIL Label */ 
      current_attr_name = an;
    }
  }
  break;
  case 3: ;
  if ((int )an == 11) {
    goto _L___177;
  } else {
    if ((int )an == 3) {
      _L___177: /* CIL Label */ 
      current_attr_name = an;
    }
  }
  break;
  case 9: ;
  if ((int )an == 26) {
    goto _L___180;
  } else {
    if ((int )an == 20) {
      _L___180: /* CIL Label */ 
      goto _L___179;
    } else {
      if ((int )an == 27) {
        _L___179: /* CIL Label */ 
        goto _L___178;
      } else {
        if ((int )an == 8) {
          _L___178: /* CIL Label */ 
          current_attr_name = an;
        }
      }
    }
  }
  break;
  case 23: ;
  if ((int )an == 1) {
    goto _L___182;
  } else {
    if ((int )an == 18) {
      _L___182: /* CIL Label */ 
      goto _L___181;
    } else {
      if ((int )an == 9) {
        _L___181: /* CIL Label */ 
        current_attr_name = an;
      }
    }
  }
  break;
  case 24: ;
  case 36: ;
  if ((int )an == 24) {
    goto _L___183;
  } else {
    if ((int )an == 25) {
      _L___183: /* CIL Label */ 
      current_attr_name = an;
    }
  }
  break;
  case 33: ;
  if ((int )an == 28) {
    current_attr_name = an;
  }
  break;
  case 37: ;
  if ((int )an == 3) {
    goto _L___184;
  } else {
    if ((int )an == 24) {
      _L___184: /* CIL Label */ 
      current_attr_name = an;
    }
  }
  break;
  case 38: ;
  if ((int )an == 26) {
    goto _L___192;
  } else {
    if ((int )an == 20) {
      _L___192: /* CIL Label */ 
      goto _L___191;
    } else {
      if ((int )an == 27) {
        _L___191: /* CIL Label */ 
        goto _L___190;
      } else {
        if ((int )an == 3) {
          _L___190: /* CIL Label */ 
          goto _L___189;
        } else {
          if ((int )an == 23) {
            _L___189: /* CIL Label */ 
            goto _L___188;
          } else {
            if ((int )an == 17) {
              _L___188: /* CIL Label */ 
              goto _L___187;
            } else {
              if ((int )an == 4) {
                _L___187: /* CIL Label */ 
                goto _L___186;
              } else {
                if ((int )an == 8) {
                  _L___186: /* CIL Label */ 
                  goto _L___185;
                } else {
                  if ((int )an == 21) {
                    _L___185: /* CIL Label */ 
                    current_attr_name = an;
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  break;
  case 44: ;
  if ((int )an == 26) {
    goto _L___193;
  } else {
    if ((int )an == 7) {
      _L___193: /* CIL Label */ 
      current_attr_name = an;
    }
  }
  break;
  case 46: ;
  if ((int )an == 16) {
    goto _L___194;
  } else {
    if ((int )an == 8) {
      _L___194: /* CIL Label */ 
      current_attr_name = an;
    }
  }
  break;
  case 47: ;
  if ((int )an == 27) {
    goto _L___197;
  } else {
    if ((int )an == 16) {
      _L___197: /* CIL Label */ 
      goto _L___196;
    } else {
      if ((int )an == 22) {
        _L___196: /* CIL Label */ 
        goto _L___195;
      } else {
        if ((int )an == 8) {
          _L___195: /* CIL Label */ 
          current_attr_name = an;
        }
      }
    }
  }
  break;
  case 53: ;
  if ((int )an == 20) {
    goto _L___199;
  } else {
    if ((int )an == 19) {
      _L___199: /* CIL Label */ 
      goto _L___198;
    } else {
      if ((int )an == 8) {
        _L___198: /* CIL Label */ 
        current_attr_name = an;
      }
    }
  }
  break;
  case 61: ;
  if ((int )an == 20) {
    goto _L___201;
  } else {
    if ((int )an == 8) {
      _L___201: /* CIL Label */ 
      goto _L___200;
    } else {
      if ((int )an == 21) {
        _L___200: /* CIL Label */ 
        current_attr_name = an;
      }
    }
  }
  break;
  case 41: ;
  if ((int )an == 20) {
    goto _L___203;
  } else {
    if ((int )an == 12) {
      _L___203: /* CIL Label */ 
      goto _L___202;
    } else {
      if ((int )an == 6) {
        _L___202: /* CIL Label */ 
        current_attr_name = an;
      }
    }
  }
  break;
  case 22: ;
  if ((int )an == 5) {
    current_attr_name = an;
  }
  break;
  }
  if ((int )current_attr_name != 0) {
    an_append: 
    append_attribute_name(current_attr_name);
  }
  an_ignore: ;
  break;
  case 4: ;
  if (bufsize > 1U) {
    if ((int )current_attr_name != 0) {
      if ((unsigned int )current_attributes != (unsigned int )((void *)0)) {
        if ((int )current_attributes->name == (int )current_attr_name) {
          tmp___63 = shall_interpret_chents_in_attrvalue();
          if (tmp___63) {
            current_attributes->value = prepare_text((unsigned char)1);
          } else {
            current_attributes->value = my_strdup((char const   *)buf___0);
          }
        } else {
          goto _L___206;
        }
      } else {
        goto _L___206;
      }
    } else {
      goto _L___206;
    }
  } else {
    _L___206: /* CIL Label */ ;
  }
  break;
  }
  state = new_state;
  bufsize = 0U;
  if ((int )state == 4) {
    attrvalue_quotes = (unsigned char)0;
  } else {
    if ((int )state == 0) {
      if ((int )current_tagkind != 255) {
        goto _L___207;
      } else {
        if ((unsigned int )current_attributes != (unsigned int )((void *)0)) {
          _L___207: /* CIL Label */ 
          build_html_node();
        }
      }
    }
  }
  return;
}
}
void parser_html_start(tCantent *cantent ) 
{ size_t parsedsize ;
  size_t usedsize ;

  {
  current_cantent = cantent;
  current_node_in_tree = (tHtmlNode *)cantent->tree;
  previous_node_in_tree = (tHtmlNode *)((void *)0);
  select_node = previous_node_in_tree;
  delayed_node = select_node;
  current_node = delayed_node;
  lhpp_content = cantent->lhpp_content;
  current_block = lhpp_content;
  if ((unsigned int )current_block != (unsigned int )((void *)0)) {
    lhpp_byte = cantent->lhpp_byte;
    parsedsize = lhpp_byte;
    dataptr = (char const   *)(current_block->data + parsedsize);
    usedsize = current_block->used;
    if (parsedsize >= usedsize) {
      current_block_sizeleft = 0U;
    } else {
      current_block_sizeleft = usedsize - parsedsize;
    }
  } else {
    lhpp_byte = cantent->lhpp_byte;
    parsedsize = lhpp_byte;
    dataptr = (char const   *)((void *)0);
    usedsize = 0U;
    current_block_sizeleft = 0U;
  }
  aebase = cantent->aebase;
  aenum = cantent->aenum;
  aemax = cantent->aemax;
  state = (unsigned char)0;
  current_unknown_tagname = (char *)((void *)0);
  buf___0 = current_unknown_tagname;
  bufsize = 0U;
  maxbufsize = bufsize;
  current_tagkind = (unsigned char)255;
  current_attr_name = (unsigned char)0;
  current_attributes = (tAttribute *)((void *)0);
  inside_select = (unsigned char)0;
  is_parsing_done = inside_select;
  is_current_node_valid = is_parsing_done;
  return;
}
}
tHtmlNode const   *parser_html_next(tBoolean inside_pre ) 
{ tBoolean found_whitespace ;
  char ch ;
  tHtmlNode *retval ;
  tHtmlNode *retval___0 ;
  char const   *tmp ;
  int tmp___0 ;
  int tmp___65 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___96 ;
  size_t tmp___97 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  int tmp___112 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___119 ;
  int tmp___120 ;
  int tmp___121 ;
  int tmp___122 ;
  int tmp___123 ;
  int tmp___124 ;
  int tmp___125 ;
  size_t tmp___126 ;
  int tmp___127 ;
  size_t tmp___128 ;
  int tmp___129 ;

  {
  found_whitespace = (tBoolean )0;
  if ((unsigned int )current_node_in_tree != (unsigned int )((void *)0)) {
    previous_node_in_tree = current_node_in_tree;
    retval = previous_node_in_tree;
    current_node_in_tree = current_node_in_tree->next;
    return ((tHtmlNode const   *)retval);
  }
  loop: 
  if (is_current_node_valid) {
    if (is_parsing_done) {
      retval___0 = current_node;
      current_node = (tHtmlNode *)((void *)0);
      return ((tHtmlNode const   *)retval___0);
    } else {
      is_current_node_valid = (unsigned char)0;
      return ((tHtmlNode const   *)current_node);
    }
  }
  if (current_block_sizeleft <= 0U) {
    if ((unsigned int )current_block != (unsigned int )((void *)0)) {
      current_block = current_block->next;
    }
    if ((unsigned int )current_block != (unsigned int )((void *)0)) {
      dataptr = (char const   *)current_block->data;
      current_block_sizeleft = current_block->used;
    } else {
      change_state((unsigned char)5);
      if (! is_current_node_valid) {
        current_node = (tHtmlNode *)((void *)0);
        is_current_node_valid = (unsigned char)1;
      }
    }
    goto loop;
  }
  tmp = dataptr;
  dataptr ++;
  ch = (char )(*tmp);
  switch ((int )state) {
  case 0: ;
  if ((int )ch == 60) {
    if (found_whitespace) {
      buf_append((char )' ');
      found_whitespace = (unsigned char)0;
    }
    change_state((unsigned char)1);
    is_endtag = (unsigned char)0;
  } else {
    if (! inside_pre) {
      if ((int )ch == 32) {
        goto _L___1;
      } else {
        if ((int )ch == 9) {
          _L___1: /* CIL Label */ 
          goto _L___0;
        } else {
          if ((int )ch == 10) {
            _L___0: /* CIL Label */ 
            goto _L;
          } else {
            if ((int )ch == 13) {
              _L: /* CIL Label */ 
              found_whitespace = (unsigned char)1;
            } else {
              if (found_whitespace) {
                buf_append((char )' ');
                found_whitespace = (unsigned char)0;
              }
              buf_append(ch);
            }
          }
        }
      }
    } else {
      buf_append(ch);
    }
  }
  break;
  case 1: ;
  if ((int )ch == 32) {
    goto _L___361;
  } else {
    if ((int )ch == 9) {
      _L___361: /* CIL Label */ 
      goto _L___360;
    } else {
      if ((int )ch == 10) {
        _L___360: /* CIL Label */ 
        goto _L___359;
      } else {
        if ((int )ch == 13) {
          _L___359: /* CIL Label */ 
          if (bufsize > 0U) {
            change_state((unsigned char)2);
            tagblock_ends = (unsigned char)0;
          }
        } else {
          if ((int )ch == 62) {
            change_state((unsigned char)0);
          } else {
            if ((int )ch == 47) {
              if (bufsize == 0U) {
                is_endtag = (unsigned char)1;
              } else {
                change_state((unsigned char)2);
                tagblock_ends = (unsigned char)1;
              }
            } else {
              if ((int )ch >= 65) {
                if ((int )ch <= 90) {
                  tmp___0 = (int )ch + 32;
                } else {
                  goto _L___2;
                }
              } else {
                _L___2: /* CIL Label */ 
                tmp___0 = (int )ch;
              }
              buf_append((char )tmp___0);
              if (bufsize == 3U) {
                tmp___125 = __builtin_constant_p(buf___0);
                if (tmp___125) {
                  tmp___126 = strlen((char const   *)buf___0);
                  if (tmp___126 < 3U) {
                    goto _L___355;
                  } else {
                    goto _L___357;
                  }
                } else {
                  _L___357: /* CIL Label */ 
                  tmp___127 = __builtin_constant_p(strCommentTag);
                  if (tmp___127) {
                    tmp___128 = strlen(strCommentTag);
                    if (tmp___128 < 3U) {
                      _L___355: /* CIL Label */ 
                      tmp___122 = __builtin_constant_p(buf___0);
                      if (tmp___122) {
                        tmp___123 = __builtin_constant_p(strCommentTag);
                        if (tmp___123) {
                          __s1_len___0 = strlen((char const   *)buf___0);
                          __s2_len___0 = strlen(strCommentTag);
                          if (! ((unsigned int )((void const   *)(buf___0 + 1)) -
                                 (unsigned int )((void const   *)buf___0) == 1U)) {
                            goto _L___352;
                          } else {
                            if (__s1_len___0 >= 4U) {
                              _L___352: /* CIL Label */ 
                              if (! ((unsigned int )((void const   *)(strCommentTag +
                                                                      1)) - (unsigned int )((void const   *)(strCommentTag)) ==
                                     1U)) {
                                goto _L___351;
                              } else {
                                if (__s2_len___0 >= 4U) {
                                  _L___351: /* CIL Label */ 
                                  tmp___124 = 1;
                                } else {
                                  goto _L___350;
                                }
                              }
                            } else {
                              _L___350: /* CIL Label */ 
                              tmp___124 = 0;
                            }
                          }
                          if (tmp___124) {
                            if (__s1_len___0 < __s2_len___0) {
                              tmp___97 = __s1_len___0;
                            } else {
                              tmp___97 = __s2_len___0;
                            }
                            tmp___96 = memcmp((void const   *)((char const   *)buf___0),
                                              (void const   *)(strCommentTag), tmp___97 +
                                                                               1U);
                          } else {
                            goto _L___354;
                          }
                        } else {
                          goto _L___354;
                        }
                      } else {
                        _L___354: /* CIL Label */ 
                        tmp___121 = __builtin_constant_p(buf___0);
                        if (tmp___121) {
                          if ((unsigned int )((void const   *)(buf___0 + 1)) - (unsigned int )((void const   *)buf___0) ==
                              1U) {
                            __s1_len___0 = strlen((char const   *)buf___0);
                            if (__s1_len___0 < 4U) {
                              tmp___112 = __builtin_constant_p(strCommentTag);
                              if (tmp___112) {
                                if ((unsigned int )((void const   *)(strCommentTag +
                                                                     1)) - (unsigned int )((void const   *)(strCommentTag)) ==
                                    1U) {
                                  __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                          0)) - (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                                 0)));
                                  if (__s1_len___0 > 0U) {
                                    if (__result___85 == 0) {
                                      __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                              1)) -
                                                             (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                              1)));
                                      if (__s1_len___0 > 1U) {
                                        if (__result___85 == 0) {
                                          __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                                  2)) -
                                                                 (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                  2)));
                                          if (__s1_len___0 > 2U) {
                                            if (__result___85 == 0) {
                                              __result___85 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                                      3)) -
                                                                     (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                      3)));
                                            } else {
                                              goto _L___313;
                                            }
                                          } else {
                                            _L___313: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___314;
                                        }
                                      } else {
                                        _L___314: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___315;
                                    }
                                  } else {
                                    _L___315: /* CIL Label */ ;
                                  }
                                  tmp___96 = __result___85;
                                } else {
                                  goto _L___319;
                                }
                              } else {
                                _L___319: /* CIL Label */ 
                                __s2___14 = (unsigned char const   *)(strCommentTag);
                                __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                        0)) - (int const   )(*(__s2___14 +
                                                                                               0)));
                                if (__s1_len___0 > 0U) {
                                  if (__result___86 == 0) {
                                    __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                            1)) -
                                                           (int const   )(*(__s2___14 +
                                                                            1)));
                                    if (__s1_len___0 > 1U) {
                                      if (__result___86 == 0) {
                                        __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                                2)) -
                                                               (int const   )(*(__s2___14 +
                                                                                2)));
                                        if (__s1_len___0 > 2U) {
                                          if (__result___86 == 0) {
                                            __result___86 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                                    3)) -
                                                                   (int const   )(*(__s2___14 +
                                                                                    3)));
                                          } else {
                                            goto _L___316;
                                          }
                                        } else {
                                          _L___316: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___317;
                                      }
                                    } else {
                                      _L___317: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___318;
                                  }
                                } else {
                                  _L___318: /* CIL Label */ ;
                                }
                                tmp___96 = __result___86;
                              }
                            } else {
                              goto _L___349;
                            }
                          } else {
                            goto _L___349;
                          }
                        } else {
                          _L___349: /* CIL Label */ 
                          tmp___120 = __builtin_constant_p(strCommentTag);
                          if (tmp___120) {
                            if ((unsigned int )((void const   *)(strCommentTag + 1)) -
                                (unsigned int )((void const   *)(strCommentTag)) ==
                                1U) {
                              __s2_len___0 = strlen(strCommentTag);
                              if (__s2_len___0 < 4U) {
                                tmp___119 = __builtin_constant_p(buf___0);
                                if (tmp___119) {
                                  if ((unsigned int )((void const   *)(buf___0 + 1)) -
                                      (unsigned int )((void const   *)buf___0) ==
                                      1U) {
                                    __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                            0)) -
                                                           (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                            0)));
                                    if (__s2_len___0 > 0U) {
                                      if (__result___93 == 0) {
                                        __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                                1)) -
                                                               (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                1)));
                                        if (__s2_len___0 > 1U) {
                                          if (__result___93 == 0) {
                                            __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                                    2)) -
                                                                   (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                    2)));
                                            if (__s2_len___0 > 2U) {
                                              if (__result___93 == 0) {
                                                __result___93 = (int )((int const   )(*((unsigned char const   *)((char const   *)buf___0) +
                                                                                        3)) -
                                                                       (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                        3)));
                                              } else {
                                                goto _L___339;
                                              }
                                            } else {
                                              _L___339: /* CIL Label */ ;
                                            }
                                          } else {
                                            goto _L___340;
                                          }
                                        } else {
                                          _L___340: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___341;
                                      }
                                    } else {
                                      _L___341: /* CIL Label */ ;
                                    }
                                    tmp___96 = __result___93;
                                  } else {
                                    goto _L___345;
                                  }
                                } else {
                                  _L___345: /* CIL Label */ 
                                  __s1___30 = (unsigned char const   *)((char const   *)buf___0);
                                  __result___94 = (int )((int const   )(*(__s1___30 +
                                                                          0)) - (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                                 0)));
                                  if (__s2_len___0 > 0U) {
                                    if (__result___94 == 0) {
                                      __result___94 = (int )((int const   )(*(__s1___30 +
                                                                              1)) -
                                                             (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                              1)));
                                      if (__s2_len___0 > 1U) {
                                        if (__result___94 == 0) {
                                          __result___94 = (int )((int const   )(*(__s1___30 +
                                                                                  2)) -
                                                                 (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                  2)));
                                          if (__s2_len___0 > 2U) {
                                            if (__result___94 == 0) {
                                              __result___94 = (int )((int const   )(*(__s1___30 +
                                                                                      3)) -
                                                                     (int const   )(*((unsigned char const   *)(strCommentTag) +
                                                                                      3)));
                                            } else {
                                              goto _L___342;
                                            }
                                          } else {
                                            _L___342: /* CIL Label */ ;
                                          }
                                        } else {
                                          goto _L___343;
                                        }
                                      } else {
                                        _L___343: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___344;
                                    }
                                  } else {
                                    _L___344: /* CIL Label */ ;
                                  }
                                  tmp___96 = __result___94;
                                }
                              } else {
                                goto _L___347;
                              }
                            } else {
                              goto _L___347;
                            }
                          } else {
                            _L___347: /* CIL Label */ 
                            tmp___96 = strcmp((char const   *)buf___0, strCommentTag);
                          }
                        }
                      }
                      tmp___65 = tmp___96;
                    } else {
                      goto _L___356;
                    }
                  } else {
                    _L___356: /* CIL Label */ 
                    tmp___65 = strncmp((char const   *)buf___0, strCommentTag, 3U);
                  }
                }
                if (tmp___65) {
                  goto _L___358;
                } else {
                  change_state((unsigned char)6);
                }
              } else {
                _L___358: /* CIL Label */ ;
              }
            }
          }
        }
      }
    }
  }
  break;
  case 2: ;
  if ((int )ch == 32) {
    goto _L___365;
  } else {
    if ((int )ch == 9) {
      _L___365: /* CIL Label */ 
      goto _L___364;
    } else {
      if ((int )ch == 10) {
        _L___364: /* CIL Label */ 
        goto _L___363;
      } else {
        if ((int )ch == 13) {
          _L___363: /* CIL Label */ 
          if (bufsize > 0U) {
            change_state((unsigned char)3);
          }
        } else {
          if ((int )ch == 61) {
            change_state((unsigned char)4);
          } else {
            if ((int )ch == 62) {
              change_state((unsigned char)0);
            } else {
              if ((int )ch == 47) {
                tagblock_ends = (unsigned char)1;
              } else {
                attr_name_append: 
                if ((int )ch >= 65) {
                  if ((int )ch <= 90) {
                    tmp___129 = (int )ch + 32;
                  } else {
                    goto _L___362;
                  }
                } else {
                  _L___362: /* CIL Label */ 
                  tmp___129 = (int )ch;
                }
                buf_append((char )tmp___129);
              }
            }
          }
        }
      }
    }
  }
  break;
  case 3: ;
  if ((int )ch == 32) {
    goto _L___368;
  } else {
    if ((int )ch == 9) {
      _L___368: /* CIL Label */ 
      goto _L___367;
    } else {
      if ((int )ch == 10) {
        _L___367: /* CIL Label */ 
        goto _L___366;
      } else {
        if ((int )ch == 13) {
          _L___366: /* CIL Label */ ;
        } else {
          if ((int )ch == 61) {
            change_state((unsigned char)4);
          } else {
            if ((int )ch == 62) {
              change_state((unsigned char)0);
            } else {
              change_state((unsigned char)2);
              goto attr_name_append;
            }
          }
        }
      }
    }
  }
  break;
  case 4: ;
  if ((int )ch == 32) {
    goto _L___374;
  } else {
    if ((int )ch == 9) {
      _L___374: /* CIL Label */ 
      goto _L___373;
    } else {
      if ((int )ch == 10) {
        _L___373: /* CIL Label */ 
        goto _L___372;
      } else {
        if ((int )ch == 13) {
          _L___372: /* CIL Label */ 
          if ((int )attrvalue_quotes != 0) {
            buf_append(ch);
          } else {
            if (bufsize > 0U) {
              change_state((unsigned char)2);
            }
          }
        } else {
          if ((int )ch == 34) {
            if ((int )attrvalue_quotes == 0) {
              if (bufsize == 0U) {
                attrvalue_quotes = (unsigned char)2;
              } else {
                goto _L___369;
              }
            } else {
              _L___369: /* CIL Label */ 
              if ((int )attrvalue_quotes == 2) {
                change_state((unsigned char)2);
              } else {
                buf_append(ch);
              }
            }
          } else {
            if ((int )ch == 39) {
              if ((int )attrvalue_quotes == 0) {
                if (bufsize == 0U) {
                  attrvalue_quotes = (unsigned char)1;
                } else {
                  goto _L___370;
                }
              } else {
                _L___370: /* CIL Label */ 
                if ((int )attrvalue_quotes == 1) {
                  change_state((unsigned char)2);
                } else {
                  buf_append(ch);
                }
              }
            } else {
              if ((int )ch == 62) {
                if ((int )attrvalue_quotes == 0) {
                  change_state((unsigned char)0);
                } else {
                  goto _L___371;
                }
              } else {
                _L___371: /* CIL Label */ 
                buf_append(ch);
              }
            }
          }
        }
      }
    }
  }
  break;
  case 6: ;
  if ((int )ch == 45) {
    state = (unsigned char)7;
  }
  break;
  case 7: ;
  if ((int )ch == 45) {
    state = (unsigned char)8;
  } else {
    state = (unsigned char)6;
  }
  break;
  case 8: ;
  if ((int )ch == 62) {
    change_state((unsigned char)0);
  } else {
    if ((int )ch == 32) {
      goto _L___378;
    } else {
      if ((int )ch == 9) {
        _L___378: /* CIL Label */ 
        goto _L___377;
      } else {
        if ((int )ch == 10) {
          _L___377: /* CIL Label */ 
          goto _L___376;
        } else {
          if ((int )ch == 13) {
            _L___376: /* CIL Label */ ;
          } else {
            if ((int )ch != 45) {
              state = (unsigned char)6;
            } else {
              goto _L___376;
            }
          }
        }
      }
    }
  }
  break;
  }
  current_block_sizeleft --;
  goto loop;
}
}
void parser_html_finish(void) 
{ 

  {
  if (inside_select) {
    deallocate_one_aebase((tActiveElementBase const   *)(& select_aebase));
    if ((unsigned int )select_node != (unsigned int )((void *)0)) {
      deallocate_html_node((tHtmlNode const   *)select_node);
    }
  }
  if ((unsigned int )delayed_node != (unsigned int )((void *)0)) {
    deallocate_html_node((tHtmlNode const   *)delayed_node);
  }
  deallocate_attributes((tAttribute const   *)current_attributes);
  current_cantent->lhpp_content = lhpp_content;
  current_cantent->lhpp_byte = lhpp_byte;
  current_cantent->aebase = aebase;
  current_cantent->aenum = aenum;
  current_cantent->aemax = aemax;
  while (1) {
    if ((unsigned int )buf___0 != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)buf___0);
    }
    break;
  }
  return;
}
}
void parser_initialize(void) 
{ 

  {
  return;
}
}
#pragma merger(0,"/tmp/cil-AKxb6icP.i","-O2")
extern int sscanf(char const   * __restrict  __s , char const   * __restrict  __format 
                  , ...) ;
extern char *strcat(char * __restrict  __dest , char const   * __restrict  __src ) ;
extern ssize_t read(int __fd , void *__buf , size_t __nbytes ) ;
extern ssize_t write(int __fd , void const   *__buf , size_t __n ) ;
extern int pipe(int *__pipedes ) ;
extern int fcntl(int __fd , int __cmd  , ...) ;
char const   strBracedDisabled[11] ;
char const   strCvs[4] ;
char const   strExecextShell[14] ;
extern char const   *curses_version(void) ;
char *my_strnchr(char const   *str , int _ch , int count___2 ) ;
tBoolean is_suffix(char const   *str , char const   *suff ) ;
time_t my_time(void) ;
tBoolean fd_is_observable(int fd ) ;
 __attribute__((__noreturn__)) void fatal_tmofd(int fd ) ;
ssize_t __my_write(int fd , void const   *buf___2 , size_t count___2 ) ;
void my_write_crucial(int fd , void const   *buf___2 , size_t count___2 ) ;
int fd_any2main_read  ;
int fd_any2main_write  ;
char const   strCrlf[3] ;
void resource_preplex(void) ;
void resource_postplex(void) ;
void resource_quit(void) ;
extern int sigfillset(sigset_t *__set ) ;
extern int sigdelset(sigset_t *__set , int __signo ) ;
extern int pthread_sigmask(int __how , __sigset_t const   * __restrict  __newmask ,
                           __sigset_t * __restrict  __oldmask ) ;
extern DIR *opendir(char const   *__name ) ;
extern int closedir(DIR *__dirp ) ;
extern struct dirent *readdir(DIR *__dirp ) ;
extern int socket(int __domain , int __type , int __protocol ) ;
extern int connect(int __fd , struct sockaddr  const  *__addr , socklen_t __len ) ;
extern int getsockopt(int __fd , int __level , int __optname , void * __restrict  __optval ,
                      socklen_t * __restrict  __optlen ) ;
extern void setservent(int __stay_open ) ;
extern void endservent(void) ;
extern struct servent *getservbyname(char const   *__name , char const   *__proto ) ;
extern struct protoent *getprotobyname(char const   *__name ) ;
extern int getaddrinfo(char const   * __restrict  __name , char const   * __restrict  __service ,
                       struct addrinfo  const  * __restrict  __req , struct addrinfo ** __restrict  __pai ) ;
extern void freeaddrinfo(struct addrinfo *__ai ) ;
extern int getnameinfo(struct sockaddr  const  * __restrict  __sa , socklen_t __salen ,
                       char * __restrict  __host , socklen_t __hostlen , char * __restrict  __serv ,
                       socklen_t __servlen , unsigned int __flags ) ;
extern char const   *inet_ntop(int __af , void const   * __restrict  __cp , char * __restrict  __buf ,
                               socklen_t __len ) ;
static char strbuf___1[4096]  ;
static char strbuf2___0[4096]  ;
static char const   strTcp[4]  = {      (char const   )'t',      (char const   )'c',      (char const   )'p',      (char const   )'\000'};
static char const   strPop3[5]  = {      (char const   )'p',      (char const   )'o',      (char const   )'p',      (char const   )'3', 
        (char const   )'\000'};
static char const   strPercsColonPercs[6]  = {      (char const   )'%',      (char const   )'s',      (char const   )':',      (char const   )'%', 
        (char const   )'s',      (char const   )'\000'};
static char const   strNewlineBr[6]  = {      (char const   )'\n',      (char const   )'<',      (char const   )'b',      (char const   )'r', 
        (char const   )'>',      (char const   )'\000'};
static char const   strEndpNewlineEndBodyHtml[20]  = 
  {      (char const   )'<',      (char const   )'/',      (char const   )'p',      (char const   )'>', 
        (char const   )'\n',      (char const   )'<',      (char const   )'/',      (char const   )'b', 
        (char const   )'o',      (char const   )'d',      (char const   )'y',      (char const   )'>', 
        (char const   )'<',      (char const   )'/',      (char const   )'h',      (char const   )'t', 
        (char const   )'m',      (char const   )'l',      (char const   )'>',      (char const   )'\000'};
static char const   strAxwfu[34]  = 
  {      (char const   )'a',      (char const   )'p',      (char const   )'p',      (char const   )'l', 
        (char const   )'i',      (char const   )'c',      (char const   )'a',      (char const   )'t', 
        (char const   )'i',      (char const   )'o',      (char const   )'n',      (char const   )'/', 
        (char const   )'x',      (char const   )'-',      (char const   )'w',      (char const   )'w', 
        (char const   )'w',      (char const   )'-',      (char const   )'f',      (char const   )'o', 
        (char const   )'r',      (char const   )'m',      (char const   )'-',      (char const   )'u', 
        (char const   )'r',      (char const   )'l',      (char const   )'e',      (char const   )'n', 
        (char const   )'c',      (char const   )'o',      (char const   )'d',      (char const   )'e', 
        (char const   )'d',      (char const   )'\000'};
static char const   strHtmlPageTitle[79]  = 
  {      (char const   )'<',      (char const   )'h',      (char const   )'t',      (char const   )'m', 
        (char const   )'l',      (char const   )'>',      (char const   )'<',      (char const   )'h', 
        (char const   )'e',      (char const   )'a',      (char const   )'d',      (char const   )'>', 
        (char const   )'<',      (char const   )'t',      (char const   )'i',      (char const   )'t', 
        (char const   )'l',      (char const   )'e',      (char const   )'>',      (char const   )'%', 
        (char const   )'s',      (char const   )'<',      (char const   )'/',      (char const   )'t', 
        (char const   )'i',      (char const   )'t',      (char const   )'l',      (char const   )'e', 
        (char const   )'>',      (char const   )'<',      (char const   )'/',      (char const   )'h', 
        (char const   )'e',      (char const   )'a',      (char const   )'d',      (char const   )'>', 
        (char const   )'\n',      (char const   )'<',      (char const   )'b',      (char const   )'o', 
        (char const   )'d',      (char const   )'y',      (char const   )'>',      (char const   )'\n', 
        (char const   )'<',      (char const   )'h',      (char const   )'3',      (char const   )' ', 
        (char const   )'a',      (char const   )'l',      (char const   )'i',      (char const   )'g', 
        (char const   )'n',      (char const   )'=',      (char const   )'\"',      (char const   )'c', 
        (char const   )'e',      (char const   )'n',      (char const   )'t',      (char const   )'e', 
        (char const   )'r',      (char const   )'\"',      (char const   )'>',      (char const   )'<', 
        (char const   )'b',      (char const   )'>',      (char const   )'%',      (char const   )'s', 
        (char const   )'<',      (char const   )'/',      (char const   )'b',      (char const   )'>', 
        (char const   )'<',      (char const   )'/',      (char const   )'h',      (char const   )'3', 
        (char const   )'>',      (char const   )'\n',      (char const   )'\000'};
char const   strCrlf[3]  = {      (char const   )'\r',      (char const   )'\n',      (char const   )'\000'};
char const   strList[5]  = {      (char const   )'L',      (char const   )'I',      (char const   )'S',      (char const   )'T', 
        (char const   )'\000'};
char const   strRetr[5]  = {      (char const   )'R',      (char const   )'E',      (char const   )'T',      (char const   )'R', 
        (char const   )'\000'};
static char const   strNetcmdUser[10]  = 
  {      (char const   )'U',      (char const   )'S',      (char const   )'E',      (char const   )'R', 
        (char const   )' ',      (char const   )'%',      (char const   )'s',      (char const   )'\r', 
        (char const   )'\n',      (char const   )'\000'};
static char const   strNetcmdPass[10]  = 
  {      (char const   )'P',      (char const   )'A',      (char const   )'S',      (char const   )'S', 
        (char const   )' ',      (char const   )'%',      (char const   )'s',      (char const   )'\r', 
        (char const   )'\n',      (char const   )'\000'};
static char const   strDomain[7]  = {      (char const   )'d',      (char const   )'o',      (char const   )'m',      (char const   )'a', 
        (char const   )'i',      (char const   )'n',      (char const   )'\000'};
static char const   strStopped[8]  = 
  {      (char const   )'S',      (char const   )'t',      (char const   )'o',      (char const   )'p', 
        (char const   )'p',      (char const   )'e',      (char const   )'d',      (char const   )'\000'};
static char const   strError[6]  = {      (char const   )'e',      (char const   )'r',      (char const   )'r',      (char const   )'o', 
        (char const   )'r',      (char const   )'\000'};
static char const   strNoError[11]  = 
  {      (char const   )'(',      (char const   )'n',      (char const   )'o',      (char const   )' ', 
        (char const   )'e',      (char const   )'r',      (char const   )'r',      (char const   )'o', 
        (char const   )'r',      (char const   )')',      (char const   )'\000'};
static char const   strProxyAuthentReq[30]  = 
  {      (char const   )'P',      (char const   )'r',      (char const   )'o',      (char const   )'x', 
        (char const   )'y',      (char const   )' ',      (char const   )'a',      (char const   )'u', 
        (char const   )'t',      (char const   )'h',      (char const   )'e',      (char const   )'n', 
        (char const   )'t',      (char const   )'i',      (char const   )'c',      (char const   )'a', 
        (char const   )'t',      (char const   )'i',      (char const   )'o',      (char const   )'n', 
        (char const   )' ',      (char const   )'r',      (char const   )'e',      (char const   )'q', 
        (char const   )'u',      (char const   )'i',      (char const   )'r',      (char const   )'e', 
        (char const   )'d',      (char const   )'\000'};
char const   strRedirection[12]  = 
  {      (char const   )'r',      (char const   )'e',      (char const   )'d',      (char const   )'i', 
        (char const   )'r',      (char const   )'e',      (char const   )'c',      (char const   )'t', 
        (char const   )'i',      (char const   )'o',      (char const   )'n',      (char const   )'\000'};
char const   * const  strResourceState[7]  = {      (char const   * const  )"(resource state unknown - internal error)",      (char const   * const  )(strError),      (char const   * const  )"Connecting",      (char const   * const  )"Exchanging messages", 
        (char const   * const  )"Receiving",      (char const   * const  )"Document complete",      (char const   * const  )(strStopped)};
char const   * const  strResourceError[28]  = 
  {      (char const   * const  )(strNoError),      (char const   * const  )"Bad request kind (internal error)",      (char const   * const  )"Can\'t create socket",      (char const   * const  )"Connection failed", 
        (char const   * const  )"Connection refused",      (char const   * const  )"Specific network unreachable",      (char const   * const  )"Can\'t lookup host name",      (char const   * const  )"Can\'t read/write file/directory", 
        (char const   * const  )"Bad URL",      (char const   * const  )"Server closed connection",      (char const   * const  )"Internal handshake bug",      (char const   * const  )"Port number invalid", 
        (char const   * const  )"Unknown scheme/protocol",      (char const   * const  )"Time-out (server busy)",      (char const   * const  )"Server response invalid",      (char const   * const  )(strLoginFailed), 
        (char const   * const  )"Redirection problem",      (char const   * const  )"Can\'t calculate random numbers",      (char const   * const  )"TLS-related error",      (char const   * const  )(strProxyAuthentReq), 
        (char const   * const  )"Can\'t create internal pipe",      (char const   * const  )"Can\'t create new process",      (char const   * const  )"Forbidden by configuration",      (char const   * const  )"Can\'t execute program", 
        (char const   * const  )"Scheme/protocol disabled",      (char const   * const  )"Hostname missing",      (char const   * const  )"Too many open file descriptors",      (char const   * const  )"Connection reset by peer"};
char const   * const  strResourceRequestState[6]  = {      (char const   * const  )"(request state unknown - internal error)",      (char const   * const  )(strError),      (char const   * const  )"Preparing",      (char const   * const  )"(Attached resource)", 
        (char const   * const  )(strStopped),      (char const   * const  )"Looking up host name"};
tRpData const   rp_data[19]  = 
  {      {strUnknown, (tResourceProtocol )0, (tRpFlags )32}, 
        {strBracedDisabled, (tResourceProtocol )1, (tRpFlags )0}, 
        {strHttp, (tResourceProtocol )2, (tRpFlags )226}, 
        {strFtp, (tResourceProtocol )3, (tRpFlags )228}, 
        {strLocal, (tResourceProtocol )4, (tRpFlags )65}, 
        {strAbout, (tResourceProtocol )5, (tRpFlags )0}, 
        {strFinger, (tResourceProtocol )6, (tRpFlags )32}, 
        {strLocalCgi, (tResourceProtocol )1, (tRpFlags )65}, 
        {strNews, (tResourceProtocol )8, (tRpFlags )416}, 
        {strPop, (tResourceProtocol )1, (tRpFlags )424}, 
        {strPops, (tResourceProtocol )1, (tRpFlags )56}, 
        {strCvs, (tResourceProtocol )11, (tRpFlags )224}, 
        {strGopher, (tResourceProtocol )1, (tRpFlags )32}, 
        {strInfo, (tResourceProtocol )13, (tRpFlags )64}, 
        {strMailto, (tResourceProtocol )1, (tRpFlags )0}, 
        {strJavascript, (tResourceProtocol )1, (tRpFlags )0}, 
        {strHttps, (tResourceProtocol )1, (tRpFlags )114}, 
        {strFtps, (tResourceProtocol )1, (tRpFlags )116}, 
        {strExecextShell, (tResourceProtocol )1, (tRpFlags )0}};
static int ipprotocolnumber_tcp  =    6;
static tPortnumber portnumber_http  ;
static tPortnumber portnumber_ftp  ;
static tPortnumber portnumber_finger  ;
static tPortnumber portnumber_cvs  ;
static tPortnumber portnumber_gopher  ;
static tPortnumber portnumber_nntp  ;
static tPortnumber portnumber_pop3  ;
static tPortnumber portnumber_https  ;
static int fd_dns2resource_read  ;
static int fd_dns2resource_write  ;
static int fd_resource2dns_read  ;
static int fd_resource2dns_write  ;
static tSockaddrEntry *sockaddr_entry_head[16]  ;
static tSockaddrEntry **sockaddr2listhead(tSockaddr const   *_s , size_t addrlen ) 
{ unsigned char const   *s ;
  unsigned char sum ;
  unsigned char const   *tmp ;

  {
  s = (unsigned char const   *)_s;
  sum = (unsigned char)0;
  while (addrlen > 0U) {
    tmp = s;
    s ++;
    sum = (unsigned char )((int )sum + (int )(*tmp));
    addrlen --;
  }
  sum = (unsigned char )((int )sum ^ ((int )sum >> 4));
  return (& sockaddr_entry_head[(int )sum & 15]);
}
}
static void sockaddr2uistr(tSockaddrEntry const   *entry , char *buf___2 , size_t size ) 
{ tSockaddr const   *addr ;
  int address_family ;
  struct sockaddr_in  const  *a ;
  char const   *tmp ;
  int tmp___0 ;

  {
  addr = (tSockaddr const   *)(& entry->addr);
  address_family = entry->address_family;
  (*buf___2) = (char )'\000';
  if (address_family == 2) {
    a = (struct sockaddr_in  const  *)addr;
    tmp = inet_ntop(address_family, (void const   * __restrict  )((void const   *)(& a->sin_addr.s_addr)),
                    (char * __restrict  )buf___2, size);
    if ((unsigned int )tmp != (unsigned int )((void *)0)) {
      if ((int )(*buf___2) != 0) {
        while (1) {
          break;
        }
        return;
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ ;
    }
  }
  tmp___0 = getnameinfo((struct sockaddr  const  * __restrict  )addr, entry->addrlen,
                        (char * __restrict  )buf___2, size, (char * __restrict  )((void *)0),
                        0U, 1U);
  if (tmp___0 == 0) {
    if ((int )(*buf___2) != 0) {
      while (1) {
        break;
      }
      return;
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  return;
}
}
static tSockaddrPortProtInfo *sockaddr2sppi(tSockaddrEntry *entry , tPortnumber portnumber ,
                                            tResourceProtocol rp , tBoolean create_if_null ) 
{ tSockaddrPortProtInfo *sppi ;

  {
  sppi = entry->sppi;
  while ((unsigned int )sppi != (unsigned int )((void *)0)) {
    if ((int )sppi->portnumber == (int )portnumber) {
      if ((int )sppi->protocol == (int )rp) {
        break;
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ ;
    }
    sppi = sppi->next;
  }
  if ((unsigned int )sppi == (unsigned int )((void *)0)) {
    if (create_if_null) {
      sppi = (tSockaddrPortProtInfo *)memory_allocate_ll(sizeof(tSockaddrPortProtInfo ));
      sppi->portnumber = portnumber;
      sppi->protocol = rp;
      sppi->next = entry->sppi;
      entry->sppi = sppi;
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  return (sppi);
}
}
static void store_sockaddr(tDnsLookup *dns_lookup___1 , tSockaddr const   *addr ,
                           int address_family , size_t addrlen ) 
{ tSockaddrEntry *entry ;
  size_t num ;

  {
  num = (size_t )dns_lookup___1->num;
  if (num >= 8U) {
    return;
  }
  entry = & dns_lookup___1->sockaddrs[num];
  entry->address_family = address_family;
  entry->addrlen = addrlen;
  memcpy((void * __restrict  )(& entry->addr), (void const   * __restrict  )addr,
         addrlen);
  dns_lookup___1->num = (tSockaddrIndex )((int )dns_lookup___1->num + 1);
  return;
}
}
__inline static void my_getaddrinfo(tDnsLookup *dns_lookup___1 ) ;
static unsigned char did_init_hints  =    (tBoolean )0;
static struct addrinfo hints  ;
__inline static void my_getaddrinfo(tDnsLookup *dns_lookup___1 ) 
{ char const   *hostname ;
  int err ;
  struct addrinfo *orig_result ;
  struct addrinfo *result ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_99 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;
  struct sockaddr  const  *addr ;
  size_t addrlen ;
  int address_family ;

  {
  hostname = dns_lookup___1->hostname;
  if (! did_init_hints) {
    did_init_hints = (unsigned char)1;
    tmp = __builtin_constant_p(sizeof(hints));
    if (tmp) {
      if (sizeof(hints) <= 16U) {
        if (sizeof(hints) == 1U) {
          __s___1 = (void *)(& hints);
          (*((__uint8_t *)__s___1)) = (unsigned char)0;
        } else {
          __s___0 = (void *)(& hints);
          __u = (union __anonunion___u_99 *)__s___0;
          __c = (unsigned char)0;
          switch ((int )sizeof(hints)) {
          case 15: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_99 *)((void *)__u + 4);
          case 11: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_99 *)((void *)__u + 4);
          case 7: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_99 *)((void *)__u + 4);
          case 3: 
          __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
          __u = (union __anonunion___u_99 *)((void *)__u + 2);
          __u->__uc = __c;
          break;
          case 14: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_99 *)((void *)__u + 4);
          case 10: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_99 *)((void *)__u + 4);
          case 6: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_99 *)((void *)__u + 4);
          case 2: 
          __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
          break;
          case 13: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_99 *)((void *)__u + 4);
          case 9: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_99 *)((void *)__u + 4);
          case 5: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_99 *)((void *)__u + 4);
          case 1: 
          __u->__uc = __c;
          break;
          case 16: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_99 *)((void *)__u + 4);
          case 12: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_99 *)((void *)__u + 4);
          case 8: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_99 *)((void *)__u + 4);
          case 4: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          case 0: ;
          break;
          }
        }
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      __s = (void *)(& hints);
      __builtin_memset(__s, '\000', (int )sizeof(hints));
    }
    hints.ai_family = 2;
    hints.ai_socktype = 1;
    hints.ai_protocol = ipprotocolnumber_tcp;
  }
  while (1) {
    break;
  }
  orig_result = (struct addrinfo *)((void *)0);
  err = getaddrinfo((char const   * __restrict  )hostname, (char const   * __restrict  )((void *)0),
                    (struct addrinfo  const  * __restrict  )(& hints), (struct addrinfo ** __restrict  )(& orig_result));
  if (err == 0) {
    result = orig_result;
    if ((unsigned int )result != (unsigned int )((void *)0)) {
      while (1) {
        addr = (struct sockaddr  const  *)result->ai_addr;
        addrlen = result->ai_addrlen;
        if ((unsigned int )addr != (unsigned int )((void *)0)) {
          if (addrlen > 0U) {
            if (addrlen <= sizeof(tSockaddr )) {
              address_family = result->ai_family;
              if (address_family == 2) {
                store_sockaddr(dns_lookup___1, addr, address_family, addrlen);
                if ((int )dns_lookup___1->num >= 8) {
                  break;
                }
              }
            } else {
              goto _L___1;
            }
          } else {
            goto _L___1;
          }
        } else {
          _L___1: /* CIL Label */ ;
        }
        result = result->ai_next;
        if (! ((unsigned int )result != (unsigned int )((void *)0))) {
          break;
        }
      }
    } else {
      goto _L___2;
    }
  } else {
    _L___2: /* CIL Label */ ;
  }
  if ((unsigned int )orig_result != (unsigned int )((void *)0)) {
    freeaddrinfo(orig_result);
  }
  return;
}
}
extern char *ctime(time_t const   *__timer ) ;
extern int pthread_create(pthread_t * __restrict  __threadp , pthread_attr_t const   * __restrict  __attr ,
                          void *(*__start_routine)(void * ) , void * __restrict  __arg ) ;
extern int pthread_attr_init(pthread_attr_t *__attr ) ;
extern int pthread_attr_setdetachstate(pthread_attr_t *__attr , int __detachstate ) ;
static void *dns_handler_thread(void *_data ) ;
static int const   sigs[6]  = {      (int const   )15,      (int const   )8,      (int const   )4,      (int const   )11, 
        (int const   )7,      (int const   )0};
static tDnsLookup *dns_lookup  ;
static unsigned char count___0  =    (unsigned char)0;
static void *dns_handler_thread(void *_data ) 
{ tDnsThreadData const   *data ;
  sigset_t set ;
  unsigned char i ;
  int tmp ;
  unsigned short loopcount ;
  int err ;
  int tmp___1 ;
  int *tmp___2 ;
  int *tmp___3 ;
  int tmp___5 ;
  int *tmp___6 ;
  int *tmp___7 ;

  {
  data = (tDnsThreadData const   *)_data;
  tmp = sigfillset(& set);
  if (tmp == 0) {
    i = (unsigned char)0;
    while ((unsigned int )i < sizeof(sigs) / sizeof(sigs[0]) - 1U) {
      sigdelset(& set, (int )sigs[i]);
      i = (unsigned char )((int )i + 1);
    }
    pthread_sigmask(0, (__sigset_t const   * __restrict  )(& set), (__sigset_t * __restrict  )((void *)0));
  }
  while (1) {
    loopcount = (unsigned short)0;
    loop: 
    err = read(data->reader, (void *)((char *)(& dns_lookup) + (int )count___0), sizeof(dns_lookup) -
                                                                                 (unsigned int )count___0);
    if (err == -1) {
      tmp___3 = __errno_location();
      if ((*tmp___3) == 4) {
        loopcount = (unsigned short )((int )loopcount + 1);
        if (loopcount < 10000) {
          goto loop;
        } else {
          goto _L___0;
        }
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      if (err <= 0) {
        if (err == -1) {
          tmp___2 = __errno_location();
          tmp___1 = (*tmp___2);
        } else {
          tmp___1 = 0;
        }
        fatal_error(tmp___1, "read(DNS) failed");
      }
    }
    count___0 = (unsigned char )((int )count___0 + err);
    if ((unsigned int )count___0 >= sizeof(dns_lookup)) {
      my_getaddrinfo(dns_lookup);
      count___0 = (unsigned char)0;
      writeloop0: 
      loopcount = (unsigned short)0;
      writeloop: 
      err = write(data->writer, (void const   *)((char *)(& dns_lookup) + (int )count___0),
                  sizeof(dns_lookup) - (unsigned int )count___0);
      if (err == -1) {
        tmp___7 = __errno_location();
        if ((*tmp___7) == 4) {
          loopcount = (unsigned short )((int )loopcount + 1);
          if (loopcount < 10000) {
            goto writeloop;
          } else {
            goto _L___2;
          }
        } else {
          goto _L___2;
        }
      } else {
        _L___2: /* CIL Label */ 
        if (err <= 0) {
          if (err == -1) {
            tmp___6 = __errno_location();
            tmp___5 = (*tmp___6);
          } else {
            tmp___5 = 0;
          }
          fatal_error(tmp___5, "write(DNS) failed");
        }
      }
      count___0 = (unsigned char )((int )count___0 + err);
      if ((unsigned int )count___0 < sizeof(dns_lookup)) {
        goto writeloop0;
      }
      count___0 = (unsigned char)0;
    }
  }
  return ((void *)0);
}
}
static tBoolean got_activity  ;
void resource_preplex(void) 
{ 

  {
  got_activity = (unsigned char)0;
  return;
}
}
void resource_postplex(void) 
{ 

  {
  return;
}
}
void uri_put(tUriData *u ) 
{ 

  {
  if ((int )u->refcount > 1) {
    u->refcount = (unsigned char )((int )u->refcount - 1);
  } else {
    while (1) {
      if ((unsigned int )u->uri != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)u->uri);
      }
      break;
    }
    while (1) {
      if ((unsigned int )u->hostname != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)u->hostname);
      }
      break;
    }
    while (1) {
      if ((unsigned int )u->path != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)u->path);
      }
      break;
    }
    while (1) {
      if ((unsigned int )u->query != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)u->query);
      }
      break;
    }
    while (1) {
      if ((unsigned int )u->post != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)u->post);
      }
      break;
    }
    while (1) {
      if ((unsigned int )u->username != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)u->username);
      }
      break;
    }
    while (1) {
      if ((unsigned int )u->password != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)u->password);
      }
      break;
    }
    memory_deallocate_ll((void const   *)u);
  }
  return;
}
}
void sinking_data_cleanup(tSinkingData *sd ) 
{ tTransferData const   *td ;
  tSinkingDataFlags flags ;
  tBoolean is_fd_valid ;
  int tmp ;
  tTransferData const   *next ;

  {
  td = (tTransferData const   *)sd->transfer_data;
  flags = sd->flags;
  if ((int )flags & 1) {
    tmp = 1;
  } else {
    tmp = 0;
  }
  is_fd_valid = (tBoolean )tmp;
  while ((unsigned int )td != (unsigned int )((void *)0)) {
    next = (tTransferData const   *)td->next;
    if (td->need_unmap) {
      munmap((void *)td->data, td->size);
    } else {
      memory_deallocate_ll((void const   *)td->data);
    }
    while (1) {
      if ((unsigned int )td->name != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)td->name);
      }
      break;
    }
    memory_deallocate_ll((void const   *)td);
    td = next;
  }
  if (is_fd_valid) {
    my_close(sd->download_fd);
  }
  return;
}
}
void sinking_data_deallocate(tSinkingData **_sd ) 
{ tSinkingData *sd ;

  {
  sd = (*_sd);
  if ((unsigned int )sd != (unsigned int )((void *)0)) {
    sinking_data_cleanup(sd);
    memory_deallocate_ll((void const   *)sd);
    (*_sd) = (tSinkingData *)((void *)0);
  }
  return;
}
}
__inline static void resource_set_error(tResource *resource , tResourceError error ) 
{ 

  {
  if ((int )resource->state != 1) {
    resource->state = (unsigned char)1;
    resource->error = error;
  }
  return;
}
}
static void resource_request_set_error(tResourceRequest *request , tResourceError error ) 
{ tResource *resource ;

  {
  resource = request->resource;
  if ((int )request->state != 1) {
    request->state = (unsigned char)1;
    request->error = error;
  }
  if ((unsigned int )resource != (unsigned int )((void *)0)) {
    resource_set_error(resource, error);
  }
  return;
}
}
void resource_start_saving(tResource *resource , tCantent const   *cantent , int fd ) 
{ tContentblock const   *content ;
  size_t usedsize ;
  ssize_t tmp ;
  tSaveAs *save_as ;
  tSaveAs *tmp___0 ;

  {
  content = (tContentblock const   *)cantent->content;
  while ((unsigned int )content != (unsigned int )((void *)0)) {
    usedsize = content->used;
    if (usedsize > 0U) {
      tmp = my_write(fd, (void const   *)content->data, usedsize);
      if (tmp < (int )usedsize) {
        goto do_close;
      }
    }
    content = (tContentblock const   *)content->next;
  }
  if ((unsigned int )resource == (unsigned int )((void *)0)) {
    goto do_close;
  } else {
    if (resource->flags & 1U) {
      do_close: 
      my_close(fd);
    } else {
      tmp___0 = (tSaveAs *)__memory_allocate_ll(sizeof(tSaveAs ));
      save_as = tmp___0;
      while (1) {
        break;
      }
      save_as->fd = fd;
      save_as->next = resource->save_as;
      resource->save_as = save_as;
    }
  }
  return;
}
}
__inline static void do_save_as(tResource *resource , char const   *src , size_t size ) 
{ tSaveAs *save_as ;

  {
  save_as = resource->save_as;
  while ((unsigned int )save_as != (unsigned int )((void *)0)) {
    my_write(save_as->fd, (void const   *)src, size);
    save_as = save_as->next;
  }
  return;
}
}
static void stop_save_as(tResource *resource ) 
{ tSaveAs *save_as ;
  tSaveAs *next ;

  {
  save_as = resource->save_as;
  while ((unsigned int )save_as != (unsigned int )((void *)0)) {
    next = save_as->next;
    my_close(save_as->fd);
    memory_deallocate_ll((void const   *)save_as);
    save_as = next;
  }
  resource->save_as = (tSaveAs *)((void *)0);
  return;
}
}
static char *base64_encode(unsigned char const   *src ) ;
static unsigned char const   conv[65]  = 
  {      (unsigned char const   )'A',      (unsigned char const   )'B',      (unsigned char const   )'C',      (unsigned char const   )'D', 
        (unsigned char const   )'E',      (unsigned char const   )'F',      (unsigned char const   )'G',      (unsigned char const   )'H', 
        (unsigned char const   )'I',      (unsigned char const   )'J',      (unsigned char const   )'K',      (unsigned char const   )'L', 
        (unsigned char const   )'M',      (unsigned char const   )'N',      (unsigned char const   )'O',      (unsigned char const   )'P', 
        (unsigned char const   )'Q',      (unsigned char const   )'R',      (unsigned char const   )'S',      (unsigned char const   )'T', 
        (unsigned char const   )'U',      (unsigned char const   )'V',      (unsigned char const   )'W',      (unsigned char const   )'X', 
        (unsigned char const   )'Y',      (unsigned char const   )'Z',      (unsigned char const   )'a',      (unsigned char const   )'b', 
        (unsigned char const   )'c',      (unsigned char const   )'d',      (unsigned char const   )'e',      (unsigned char const   )'f', 
        (unsigned char const   )'g',      (unsigned char const   )'h',      (unsigned char const   )'i',      (unsigned char const   )'j', 
        (unsigned char const   )'k',      (unsigned char const   )'l',      (unsigned char const   )'m',      (unsigned char const   )'n', 
        (unsigned char const   )'o',      (unsigned char const   )'p',      (unsigned char const   )'q',      (unsigned char const   )'r', 
        (unsigned char const   )'s',      (unsigned char const   )'t',      (unsigned char const   )'u',      (unsigned char const   )'v', 
        (unsigned char const   )'w',      (unsigned char const   )'x',      (unsigned char const   )'y',      (unsigned char const   )'z', 
        (unsigned char const   )'0',      (unsigned char const   )'1',      (unsigned char const   )'2',      (unsigned char const   )'3', 
        (unsigned char const   )'4',      (unsigned char const   )'5',      (unsigned char const   )'6',      (unsigned char const   )'7', 
        (unsigned char const   )'8',      (unsigned char const   )'9',      (unsigned char const   )'+',      (unsigned char const   )'/', 
        (unsigned char const   )'\000'};
static char *base64_encode(unsigned char const   *src ) 
{ size_t len ;
  size_t tmp ;
  size_t destlen ;
  unsigned char ch ;
  unsigned char *dest ;
  unsigned char *tmp___0 ;
  unsigned char *ptr___0 ;
  unsigned char count___2 ;
  unsigned int convval ;
  unsigned char *tmp___1 ;
  unsigned char *tmp___2 ;
  unsigned char *tmp___3 ;
  unsigned char *tmp___4 ;
  unsigned char const   *tmp___5 ;
  unsigned char *tmp___6 ;
  unsigned char *tmp___7 ;
  unsigned char *tmp___8 ;
  unsigned char *tmp___9 ;
  unsigned char *tmp___10 ;

  {
  tmp = strlen((char const   *)src);
  len = tmp;
  destlen = ((len + 2U) / 3U) * 4U + 1U;
  tmp___0 = (unsigned char *)__memory_allocate_ll(destlen);
  dest = tmp___0;
  ptr___0 = dest;
  count___2 = (unsigned char)0;
  convval = 0U;
  while (1) {
    tmp___5 = src;
    src ++;
    ch = (unsigned char )(*tmp___5);
    if (! ((int )ch != 0)) {
      break;
    }
    convval |= (unsigned int )ch;
    count___2 = (unsigned char )((int )count___2 + 1);
    if (count___2 < 3) {
      convval <<= 8;
    } else {
      tmp___1 = ptr___0;
      ptr___0 ++;
      (*tmp___1) = (unsigned char )conv[(convval >> 18) & 63U];
      tmp___2 = ptr___0;
      ptr___0 ++;
      (*tmp___2) = (unsigned char )conv[(convval >> 12) & 63U];
      tmp___3 = ptr___0;
      ptr___0 ++;
      (*tmp___3) = (unsigned char )conv[(convval >> 6) & 63U];
      tmp___4 = ptr___0;
      ptr___0 ++;
      (*tmp___4) = (unsigned char )conv[(convval >> 0) & 63U];
      convval = 0U;
      count___2 = (unsigned char)0;
    }
  }
  if ((int )count___2 > 0) {
    if ((int )count___2 == 1) {
      convval <<= 8;
    }
    tmp___6 = ptr___0;
    ptr___0 ++;
    (*tmp___6) = (unsigned char )conv[(convval >> 18) & 63U];
    tmp___7 = ptr___0;
    ptr___0 ++;
    (*tmp___7) = (unsigned char )conv[(convval >> 12) & 63U];
    if ((int )count___2 == 2) {
      tmp___8 = ptr___0;
      ptr___0 ++;
      (*tmp___8) = (unsigned char )conv[(convval >> 6) & 63U];
    } else {
      tmp___9 = ptr___0;
      ptr___0 ++;
      (*tmp___9) = (unsigned char )'=';
    }
    tmp___10 = ptr___0;
    ptr___0 ++;
    (*tmp___10) = (unsigned char )'=';
  }
  (*ptr___0) = (unsigned char )'\000';
  return ((char *)dest);
}
}
static void __custom_conn_print(tResource *resource , char const   *str , size_t len ,
                                tCustomConnPrintingKind ccpk ) 
{ tCustomConnPrintingData data ;

  {
  data.text = str;
  data.len = len;
  data.ccpk = ccpk;
  main_handle_custom_conn(resource, (unsigned char)0, (void *)(& data));
  return;
}
}
__inline static void custom_conn_print(tResource *resource , char const   *str , tCustomConnPrintingKind ccpk ) 
{ tCustomConnPrintingData data ;

  {
  data.text = str;
  if ((int )ccpk == 3) {
    data.len = strlen(str);
  } else {
    data.len = 0U;
  }
  data.ccpk = ccpk;
  main_handle_custom_conn(resource, (unsigned char)0, (void *)(& data));
  return;
}
}
__inline static void custom_conn_unbusify(tResource *resource ) 
{ 

  {
  main_handle_custom_conn(resource, (unsigned char)1, (void *)0);
  return;
}
}
__inline static void custom_conn_tell_msg(tResource *resource ) 
{ 

  {
  main_handle_custom_conn(resource, (unsigned char)2, (void *)0);
  return;
}
}
__inline static void custom_conn_tell_error(tResource *resource , tResourceError re ) 
{ 

  {
  main_handle_custom_conn(resource, (unsigned char)3, (void *)(& re));
  return;
}
}
__inline static void custom_conn_tell_hash(tResource *resource ) 
{ 

  {
  main_handle_custom_conn(resource, (unsigned char)4, (void *)0);
  return;
}
}
static tContentblock *contentblock_create(size_t size , unsigned char flags ) 
{ tContentblock *retval ;
  tContentblock *tmp ;

  {
  tmp = (tContentblock *)memory_allocate_ll(sizeof(tContentblock ));
  retval = tmp;
  if ((int )flags & 1) {
    retval->data = (char *)__memory_allocate_ll(size);
  }
  retval->usable = size;
  return (retval);
}
}
static size_t optimal_contentblocksize(size_t count___2 ) 
{ size_t retval ;

  {
  if (count___2 <= 10000U) {
    retval = 4096U;
  } else {
    if (count___2 <= 40000U) {
      retval = 8192U;
    } else {
      if (count___2 <= 200000U) {
        retval = 32768U;
      } else {
        retval = 131072U;
      }
    }
  }
  return (retval);
}
}
static void cantent_set_firstcontent(tCantent *cantent , tContentblock *content ) 
{ 

  {
  cantent->lhpp_content = content;
  cantent->lastcontent = cantent->lhpp_content;
  cantent->content = cantent->lastcontent;
  cantent->lhpp_byte = 0U;
  return;
}
}
static tContentblock *cantent_append_new_contentblock(tCantent *cantent , size_t usablesize ) 
{ tContentblock *retval ;
  tContentblock *tmp ;

  {
  tmp = contentblock_create(usablesize, (unsigned char)1);
  retval = tmp;
  if ((unsigned int )cantent->content == (unsigned int )((void *)0)) {
    cantent_set_firstcontent(cantent, retval);
  } else {
    if ((unsigned int )cantent->lastcontent != (unsigned int )((void *)0)) {
      (cantent->lastcontent)->next = retval;
    }
    cantent->lastcontent = retval;
  }
  return (retval);
}
}
tCantent *cantent_create(void) 
{ tCantent *retval ;
  tCantent *tmp ;

  {
  tmp = (tCantent *)memory_allocate_ll(sizeof(tCantent ));
  retval = tmp;
  return (retval);
}
}
static void cantent_deallocate_tree(tCantent *cantent ) 
{ tHtmlNode const   *node ;
  tHtmlNode const   *next ;

  {
  node = (tHtmlNode const   *)cantent->tree;
  while ((unsigned int )node != (unsigned int )((void *)0)) {
    next = (tHtmlNode const   *)node->next;
    deallocate_html_node(node);
    node = next;
  }
  cantent->tree = (void *)0;
  return;
}
}
static void contentblocklist_deallocate(tContentblock const   *block ) 
{ tContentblock const   *next ;

  {
  while ((unsigned int )block != (unsigned int )((void *)0)) {
    next = (tContentblock const   *)block->next;
    while (1) {
      if ((unsigned int )block->data != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)block->data);
      }
      break;
    }
    memory_deallocate_ll((void const   *)block);
    block = next;
  }
  return;
}
}
void cantent_put(tCantent *cantent ) 
{ tContentblock *content ;
  tActiveElementBase const   *aebase___0 ;
  tActiveElementNumber _ae ;
  tHtmlForm const   *form ;
  tHtmlFormNumber count___2 ;

  {
  if (cantent->refcount > 1U) {
    cantent->refcount = cantent->refcount - 1U;
    return;
  }
  content = cantent->content;
  if ((int )cantent->caf & 1) {
    munmap((void *)content->data, content->used);
  } else {
    contentblocklist_deallocate((tContentblock const   *)content);
  }
  if (cantent->aenum > 0) {
    aebase___0 = (tActiveElementBase const   *)cantent->aebase;
    _ae = 0;
    while (_ae < cantent->aenum) {
      deallocate_one_aebase(aebase___0 + _ae);
      _ae ++;
    }
    while (1) {
      if ((unsigned int )cantent->aebase != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)cantent->aebase);
      }
      break;
    }
  }
  if (cantent->hfnum > 0) {
    form = (tHtmlForm const   *)cantent->form;
    count___2 = 0;
    while (count___2 < cantent->hfnum) {
      while (1) {
        if ((unsigned int )(form + count___2)->action_uri != (unsigned int )((void *)0)) {
          memory_deallocate_ll((void const   *)(form + count___2)->action_uri);
        }
        break;
      }
      count___2 ++;
    }
    while (1) {
      if ((unsigned int )cantent->form != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)cantent->form);
      }
      break;
    }
  }
  while (1) {
    if ((unsigned int )cantent->redirection != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)cantent->redirection);
    }
    break;
  }
  while (1) {
    if ((unsigned int )cantent->major_html_title != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)cantent->major_html_title);
    }
    break;
  }
  cantent_deallocate_tree(cantent);
  memory_deallocate_ll((void const   *)cantent);
  return;
}
}
static void cantent_provide_room(tCantent *cantent , char **dest , size_t *size ,
                                 size_t desired_size ) 
{ tContentblock *content ;
  size_t usable ;
  size_t used ;
  size_t tmp ;

  {
  content = cantent->lastcontent;
  if ((unsigned int )content != (unsigned int )((void *)0)) {
    usable = content->usable;
    used = content->used;
  } else {
    used = 0U;
    usable = used;
  }
  if (usable <= used) {
    if (desired_size > 4096U) {
      tmp = desired_size;
    } else {
      tmp = 4096U;
    }
    content = cantent_append_new_contentblock(cantent, tmp);
    usable = content->usable;
    used = content->used;
  }
  (*dest) = content->data + used;
  (*size) = usable - used;
  return;
}
}
void cantent_collect_str(tCantent *cantent , char const   *str ) 
{ size_t todo ;
  size_t tmp ;
  size_t available ;
  size_t copysize ;
  char *dest ;

  {
  tmp = strlen(str);
  todo = tmp;
  loop: 
  cantent_provide_room(cantent, & dest, & available, todo);
  if (todo < available) {
    copysize = todo;
  } else {
    copysize = available;
  }
  memcpy((void * __restrict  )dest, (void const   * __restrict  )str, copysize);
  (cantent->lastcontent)->used = (cantent->lastcontent)->used + copysize;
  if (todo > copysize) {
    todo -= copysize;
    str += copysize;
    goto loop;
  }
  return;
}
}
void cantent_collect_title(tCantent *cantent , char const   *title ) 
{ char *spfbuf ;

  {
  my_spf(strbuf___1, 4096U, & spfbuf, strHtmlPageTitle, title, title);
  cantent_collect_str(cantent, (char const   *)spfbuf);
  while (1) {
    if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  return;
}
}
static tHostPortProtInfo *hppi_lookup(tCachedHostInformation *hostinfo , tPortnumber portnumber ,
                                      tResourceProtocol protocol , tBoolean create_if_null ) 
{ tHostPortProtInfo *hppi ;

  {
  hppi = hostinfo->hppi;
  while ((unsigned int )hppi != (unsigned int )((void *)0)) {
    if ((int )hppi->portnumber == (int )portnumber) {
      if ((int )hppi->protocol == (int )protocol) {
        goto out;
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ ;
    }
    hppi = hppi->next;
  }
  if ((unsigned int )hppi == (unsigned int )((void *)0)) {
    if (create_if_null) {
      hppi = (tHostPortProtInfo *)memory_allocate_ll(sizeof(tHostPortProtInfo ));
      hppi->next = hostinfo->hppi;
      hostinfo->hppi = hppi;
      hppi->host = hostinfo;
      hppi->portnumber = portnumber;
      hppi->protocol = protocol;
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  out: 
  return (hppi);
}
}
static void hppi_login_set(tHostPortProtInfo *hppi , char const   *username , char const   *password ) 
{ tLoginData *ld ;
  char const   *u ;
  char const   *p ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___29 ;
  size_t tmp___30 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___45 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___88 ;
  size_t tmp___89 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  int tmp___104 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___111 ;
  int tmp___112 ;
  int tmp___113 ;
  int tmp___114 ;
  int tmp___115 ;
  int tmp___116 ;

  {
  if ((unsigned int )username == (unsigned int )((void *)0)) {
    goto _L;
  } else {
    if ((unsigned int )password == (unsigned int )((void *)0)) {
      _L: /* CIL Label */ 
      return;
    }
  }
  ld = hppi->login_data;
  while ((unsigned int )ld != (unsigned int )((void *)0)) {
    u = ld->username;
    if ((unsigned int )u != (unsigned int )((void *)0)) {
      tmp___114 = __builtin_constant_p(u);
      if (tmp___114) {
        tmp___115 = __builtin_constant_p(username);
        if (tmp___115) {
          __s1_len___0 = strlen(u);
          __s2_len___0 = strlen(username);
          if (! ((unsigned int )((void const   *)(u + 1)) - (unsigned int )((void const   *)u) ==
                 1U)) {
            goto _L___350;
          } else {
            if (__s1_len___0 >= 4U) {
              _L___350: /* CIL Label */ 
              if (! ((unsigned int )((void const   *)(username + 1)) - (unsigned int )((void const   *)username) ==
                     1U)) {
                goto _L___349;
              } else {
                if (__s2_len___0 >= 4U) {
                  _L___349: /* CIL Label */ 
                  tmp___116 = 1;
                } else {
                  goto _L___348;
                }
              }
            } else {
              _L___348: /* CIL Label */ 
              tmp___116 = 0;
            }
          }
          if (tmp___116) {
            if (__s1_len___0 < __s2_len___0) {
              tmp___89 = __s1_len___0;
            } else {
              tmp___89 = __s2_len___0;
            }
            tmp___88 = memcmp((void const   *)u, (void const   *)username, tmp___89 +
                                                                           1U);
          } else {
            goto _L___352;
          }
        } else {
          goto _L___352;
        }
      } else {
        _L___352: /* CIL Label */ 
        tmp___113 = __builtin_constant_p(u);
        if (tmp___113) {
          if ((unsigned int )((void const   *)(u + 1)) - (unsigned int )((void const   *)u) ==
              1U) {
            __s1_len___0 = strlen(u);
            if (__s1_len___0 < 4U) {
              tmp___104 = __builtin_constant_p(username);
              if (tmp___104) {
                if ((unsigned int )((void const   *)(username + 1)) - (unsigned int )((void const   *)username) ==
                    1U) {
                  __result___85 = (int )((int const   )(*((unsigned char const   *)u +
                                                          0)) - (int const   )(*((unsigned char const   *)username +
                                                                                 0)));
                  if (__s1_len___0 > 0U) {
                    if (__result___85 == 0) {
                      __result___85 = (int )((int const   )(*((unsigned char const   *)u +
                                                              1)) - (int const   )(*((unsigned char const   *)username +
                                                                                     1)));
                      if (__s1_len___0 > 1U) {
                        if (__result___85 == 0) {
                          __result___85 = (int )((int const   )(*((unsigned char const   *)u +
                                                                  2)) - (int const   )(*((unsigned char const   *)username +
                                                                                         2)));
                          if (__s1_len___0 > 2U) {
                            if (__result___85 == 0) {
                              __result___85 = (int )((int const   )(*((unsigned char const   *)u +
                                                                      3)) - (int const   )(*((unsigned char const   *)username +
                                                                                             3)));
                            } else {
                              goto _L___311;
                            }
                          } else {
                            _L___311: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___312;
                        }
                      } else {
                        _L___312: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___313;
                    }
                  } else {
                    _L___313: /* CIL Label */ ;
                  }
                  tmp___88 = __result___85;
                } else {
                  goto _L___317;
                }
              } else {
                _L___317: /* CIL Label */ 
                __s2___14 = (unsigned char const   *)username;
                __result___86 = (int )((int const   )(*((unsigned char const   *)u +
                                                        0)) - (int const   )(*(__s2___14 +
                                                                               0)));
                if (__s1_len___0 > 0U) {
                  if (__result___86 == 0) {
                    __result___86 = (int )((int const   )(*((unsigned char const   *)u +
                                                            1)) - (int const   )(*(__s2___14 +
                                                                                   1)));
                    if (__s1_len___0 > 1U) {
                      if (__result___86 == 0) {
                        __result___86 = (int )((int const   )(*((unsigned char const   *)u +
                                                                2)) - (int const   )(*(__s2___14 +
                                                                                       2)));
                        if (__s1_len___0 > 2U) {
                          if (__result___86 == 0) {
                            __result___86 = (int )((int const   )(*((unsigned char const   *)u +
                                                                    3)) - (int const   )(*(__s2___14 +
                                                                                           3)));
                          } else {
                            goto _L___314;
                          }
                        } else {
                          _L___314: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___315;
                      }
                    } else {
                      _L___315: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___316;
                  }
                } else {
                  _L___316: /* CIL Label */ ;
                }
                tmp___88 = __result___86;
              }
            } else {
              goto _L___347;
            }
          } else {
            goto _L___347;
          }
        } else {
          _L___347: /* CIL Label */ 
          tmp___112 = __builtin_constant_p(username);
          if (tmp___112) {
            if ((unsigned int )((void const   *)(username + 1)) - (unsigned int )((void const   *)username) ==
                1U) {
              __s2_len___0 = strlen(username);
              if (__s2_len___0 < 4U) {
                tmp___111 = __builtin_constant_p(u);
                if (tmp___111) {
                  if ((unsigned int )((void const   *)(u + 1)) - (unsigned int )((void const   *)u) ==
                      1U) {
                    __result___93 = (int )((int const   )(*((unsigned char const   *)u +
                                                            0)) - (int const   )(*((unsigned char const   *)username +
                                                                                   0)));
                    if (__s2_len___0 > 0U) {
                      if (__result___93 == 0) {
                        __result___93 = (int )((int const   )(*((unsigned char const   *)u +
                                                                1)) - (int const   )(*((unsigned char const   *)username +
                                                                                       1)));
                        if (__s2_len___0 > 1U) {
                          if (__result___93 == 0) {
                            __result___93 = (int )((int const   )(*((unsigned char const   *)u +
                                                                    2)) - (int const   )(*((unsigned char const   *)username +
                                                                                           2)));
                            if (__s2_len___0 > 2U) {
                              if (__result___93 == 0) {
                                __result___93 = (int )((int const   )(*((unsigned char const   *)u +
                                                                        3)) - (int const   )(*((unsigned char const   *)username +
                                                                                               3)));
                              } else {
                                goto _L___337;
                              }
                            } else {
                              _L___337: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___338;
                          }
                        } else {
                          _L___338: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___339;
                      }
                    } else {
                      _L___339: /* CIL Label */ ;
                    }
                    tmp___88 = __result___93;
                  } else {
                    goto _L___343;
                  }
                } else {
                  _L___343: /* CIL Label */ 
                  __s1___30 = (unsigned char const   *)u;
                  __result___94 = (int )((int const   )(*(__s1___30 + 0)) - (int const   )(*((unsigned char const   *)username +
                                                                                             0)));
                  if (__s2_len___0 > 0U) {
                    if (__result___94 == 0) {
                      __result___94 = (int )((int const   )(*(__s1___30 + 1)) - (int const   )(*((unsigned char const   *)username +
                                                                                                 1)));
                      if (__s2_len___0 > 1U) {
                        if (__result___94 == 0) {
                          __result___94 = (int )((int const   )(*(__s1___30 + 2)) -
                                                 (int const   )(*((unsigned char const   *)username +
                                                                  2)));
                          if (__s2_len___0 > 2U) {
                            if (__result___94 == 0) {
                              __result___94 = (int )((int const   )(*(__s1___30 +
                                                                      3)) - (int const   )(*((unsigned char const   *)username +
                                                                                             3)));
                            } else {
                              goto _L___340;
                            }
                          } else {
                            _L___340: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___341;
                        }
                      } else {
                        _L___341: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___342;
                    }
                  } else {
                    _L___342: /* CIL Label */ ;
                  }
                  tmp___88 = __result___94;
                }
              } else {
                goto _L___345;
              }
            } else {
              goto _L___345;
            }
          } else {
            _L___345: /* CIL Label */ 
            tmp___88 = strcmp(u, username);
          }
        }
      }
      if (tmp___88) {
        goto _L___353;
      } else {
        p = ld->password;
        if ((unsigned int )p == (unsigned int )((void *)0)) {
          goto _L___176;
        } else {
          tmp___55 = __builtin_constant_p(p);
          if (tmp___55) {
            tmp___56 = __builtin_constant_p(password);
            if (tmp___56) {
              __s1_len = strlen(p);
              __s2_len = strlen(password);
              if (! ((unsigned int )((void const   *)(p + 1)) - (unsigned int )((void const   *)p) ==
                     1U)) {
                goto _L___173;
              } else {
                if (__s1_len >= 4U) {
                  _L___173: /* CIL Label */ 
                  if (! ((unsigned int )((void const   *)(password + 1)) - (unsigned int )((void const   *)password) ==
                         1U)) {
                    goto _L___172;
                  } else {
                    if (__s2_len >= 4U) {
                      _L___172: /* CIL Label */ 
                      tmp___57 = 1;
                    } else {
                      goto _L___171;
                    }
                  }
                } else {
                  _L___171: /* CIL Label */ 
                  tmp___57 = 0;
                }
              }
              if (tmp___57) {
                if (__s1_len < __s2_len) {
                  tmp___30 = __s1_len;
                } else {
                  tmp___30 = __s2_len;
                }
                tmp___29 = memcmp((void const   *)p, (void const   *)password, tmp___30 +
                                                                               1U);
              } else {
                goto _L___175;
              }
            } else {
              goto _L___175;
            }
          } else {
            _L___175: /* CIL Label */ 
            tmp___54 = __builtin_constant_p(p);
            if (tmp___54) {
              if ((unsigned int )((void const   *)(p + 1)) - (unsigned int )((void const   *)p) ==
                  1U) {
                __s1_len = strlen(p);
                if (__s1_len < 4U) {
                  tmp___45 = __builtin_constant_p(password);
                  if (tmp___45) {
                    if ((unsigned int )((void const   *)(password + 1)) - (unsigned int )((void const   *)password) ==
                        1U) {
                      __result___37 = (int )((int const   )(*((unsigned char const   *)p +
                                                              0)) - (int const   )(*((unsigned char const   *)password +
                                                                                     0)));
                      if (__s1_len > 0U) {
                        if (__result___37 == 0) {
                          __result___37 = (int )((int const   )(*((unsigned char const   *)p +
                                                                  1)) - (int const   )(*((unsigned char const   *)password +
                                                                                         1)));
                          if (__s1_len > 1U) {
                            if (__result___37 == 0) {
                              __result___37 = (int )((int const   )(*((unsigned char const   *)p +
                                                                      2)) - (int const   )(*((unsigned char const   *)password +
                                                                                             2)));
                              if (__s1_len > 2U) {
                                if (__result___37 == 0) {
                                  __result___37 = (int )((int const   )(*((unsigned char const   *)p +
                                                                          3)) - (int const   )(*((unsigned char const   *)password +
                                                                                                 3)));
                                } else {
                                  goto _L___134;
                                }
                              } else {
                                _L___134: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___135;
                            }
                          } else {
                            _L___135: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___136;
                        }
                      } else {
                        _L___136: /* CIL Label */ ;
                      }
                      tmp___29 = __result___37;
                    } else {
                      goto _L___140;
                    }
                  } else {
                    _L___140: /* CIL Label */ 
                    __s2___6 = (unsigned char const   *)password;
                    __result___38 = (int )((int const   )(*((unsigned char const   *)p +
                                                            0)) - (int const   )(*(__s2___6 +
                                                                                   0)));
                    if (__s1_len > 0U) {
                      if (__result___38 == 0) {
                        __result___38 = (int )((int const   )(*((unsigned char const   *)p +
                                                                1)) - (int const   )(*(__s2___6 +
                                                                                       1)));
                        if (__s1_len > 1U) {
                          if (__result___38 == 0) {
                            __result___38 = (int )((int const   )(*((unsigned char const   *)p +
                                                                    2)) - (int const   )(*(__s2___6 +
                                                                                           2)));
                            if (__s1_len > 2U) {
                              if (__result___38 == 0) {
                                __result___38 = (int )((int const   )(*((unsigned char const   *)p +
                                                                        3)) - (int const   )(*(__s2___6 +
                                                                                               3)));
                              } else {
                                goto _L___137;
                              }
                            } else {
                              _L___137: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___138;
                          }
                        } else {
                          _L___138: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___139;
                      }
                    } else {
                      _L___139: /* CIL Label */ ;
                    }
                    tmp___29 = __result___38;
                  }
                } else {
                  goto _L___170;
                }
              } else {
                goto _L___170;
              }
            } else {
              _L___170: /* CIL Label */ 
              tmp___53 = __builtin_constant_p(password);
              if (tmp___53) {
                if ((unsigned int )((void const   *)(password + 1)) - (unsigned int )((void const   *)password) ==
                    1U) {
                  __s2_len = strlen(password);
                  if (__s2_len < 4U) {
                    tmp___52 = __builtin_constant_p(p);
                    if (tmp___52) {
                      if ((unsigned int )((void const   *)(p + 1)) - (unsigned int )((void const   *)p) ==
                          1U) {
                        __result___45 = (int )((int const   )(*((unsigned char const   *)p +
                                                                0)) - (int const   )(*((unsigned char const   *)password +
                                                                                       0)));
                        if (__s2_len > 0U) {
                          if (__result___45 == 0) {
                            __result___45 = (int )((int const   )(*((unsigned char const   *)p +
                                                                    1)) - (int const   )(*((unsigned char const   *)password +
                                                                                           1)));
                            if (__s2_len > 1U) {
                              if (__result___45 == 0) {
                                __result___45 = (int )((int const   )(*((unsigned char const   *)p +
                                                                        2)) - (int const   )(*((unsigned char const   *)password +
                                                                                               2)));
                                if (__s2_len > 2U) {
                                  if (__result___45 == 0) {
                                    __result___45 = (int )((int const   )(*((unsigned char const   *)p +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)password +
                                                                            3)));
                                  } else {
                                    goto _L___160;
                                  }
                                } else {
                                  _L___160: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___161;
                              }
                            } else {
                              _L___161: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___162;
                          }
                        } else {
                          _L___162: /* CIL Label */ ;
                        }
                        tmp___29 = __result___45;
                      } else {
                        goto _L___166;
                      }
                    } else {
                      _L___166: /* CIL Label */ 
                      __s1___14 = (unsigned char const   *)p;
                      __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)password +
                                                                                                 0)));
                      if (__s2_len > 0U) {
                        if (__result___46 == 0) {
                          __result___46 = (int )((int const   )(*(__s1___14 + 1)) -
                                                 (int const   )(*((unsigned char const   *)password +
                                                                  1)));
                          if (__s2_len > 1U) {
                            if (__result___46 == 0) {
                              __result___46 = (int )((int const   )(*(__s1___14 +
                                                                      2)) - (int const   )(*((unsigned char const   *)password +
                                                                                             2)));
                              if (__s2_len > 2U) {
                                if (__result___46 == 0) {
                                  __result___46 = (int )((int const   )(*(__s1___14 +
                                                                          3)) - (int const   )(*((unsigned char const   *)password +
                                                                                                 3)));
                                } else {
                                  goto _L___163;
                                }
                              } else {
                                _L___163: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___164;
                            }
                          } else {
                            _L___164: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___165;
                        }
                      } else {
                        _L___165: /* CIL Label */ ;
                      }
                      tmp___29 = __result___46;
                    }
                  } else {
                    goto _L___168;
                  }
                } else {
                  goto _L___168;
                }
              } else {
                _L___168: /* CIL Label */ 
                tmp___29 = strcmp(p, password);
              }
            }
          }
          if (tmp___29) {
            _L___176: /* CIL Label */ 
            while (1) {
              while (1) {
                if ((unsigned int )ld->password != (unsigned int )((void *)0)) {
                  memory_deallocate_ll((void const   *)ld->password);
                }
                break;
              }
              ld->password = my_strdup(password);
              break;
            }
          }
        }
        return;
      }
    } else {
      _L___353: /* CIL Label */ ;
    }
    ld = ld->next;
  }
  ld = (tLoginData *)memory_allocate_ll(sizeof(tLoginData ));
  ld->username = my_strdup(username);
  ld->password = my_strdup(password);
  ld->next = hppi->login_data;
  hppi->login_data = ld;
  return;
}
}
static tCachedHostInformation *chi_head[101]  ;
static tHashIndex hostinfo_hostname2hashindex(char const   *hostname ) 
{ tHashIndex retval ;
  unsigned char count___2 ;
  unsigned char ch ;
  unsigned char tmp ;

  {
  retval = (tHashIndex )0;
  count___2 = (unsigned char)10;
  while (1) {
    tmp = count___2;
    count___2 = (unsigned char )((int )count___2 - 1);
    if (! (tmp > 0)) {
      break;
    }
    ch = (unsigned char )(*((unsigned char const   *)hostname));
    if ((int )ch == 0) {
      break;
    }
    retval = (unsigned short )((int )retval + (int )((unsigned short )ch));
    hostname ++;
  }
  return ((unsigned short )((int )retval % 101));
}
}
static tCachedHostInformation *hostinfo_create(char const   *hostname ) 
{ tHashIndex i ;
  tHashIndex tmp ;
  tCachedHostInformation *retval ;
  tCachedHostInformation *tmp___0 ;

  {
  tmp = hostinfo_hostname2hashindex(hostname);
  i = tmp;
  tmp___0 = (tCachedHostInformation *)memory_allocate_ll(sizeof(tCachedHostInformation ));
  retval = tmp___0;
  retval->hostname = my_strdup(hostname);
  retval->next = chi_head[i];
  chi_head[i] = retval;
  return (retval);
}
}
static tCachedHostInformation *hostinfo_lookup(char const   *hostname ) 
{ tHashIndex i ;
  tHashIndex tmp ;
  tCachedHostInformation *retval ;
  int tmp___0 ;

  {
  tmp = hostinfo_hostname2hashindex(hostname);
  i = tmp;
  retval = chi_head[i];
  while ((unsigned int )retval != (unsigned int )((void *)0)) {
    tmp___0 = streqcase3(hostname, retval->hostname);
    if (tmp___0 == 0) {
      break;
    }
    retval = retval->next;
  }
  return (retval);
}
}
__inline static void postprocess_dns_lookup(tDnsLookup *dns_lookup___1 ) 
{ tCachedHostInformation *hostinfo ;
  tSockaddrIndex num ;
  tSockaddrIndex idx ;
  size_t size ;
  tSockaddrEntry **s ;
  tSockaddrEntry const   *entry ;
  size_t addrlen ;
  int address_family ;
  tSockaddr const   *addr ;
  tSockaddrEntry **head ;
  tSockaddrEntry **tmp ;
  tSockaddrEntry *e ;
  tBoolean tmp___0 ;

  {
  hostinfo = dns_lookup___1->hostinfo;
  num = dns_lookup___1->num;
  if (! ((int )num <= 0)) {
    size = (unsigned int )num * sizeof(tSockaddrEntry *);
    hostinfo->sockaddrs = (tSockaddrEntry **)__memory_allocate_ll(size);
    s = hostinfo->sockaddrs;
    hostinfo->num_sockaddrs = num;
    idx = (signed char)0;
    while ((int )idx < (int )num) {
      entry = (tSockaddrEntry const   *)(& dns_lookup___1->sockaddrs[idx]);
      addrlen = entry->addrlen;
      address_family = entry->address_family;
      addr = (tSockaddr const   *)(& entry->addr);
      tmp = sockaddr2listhead(addr, addrlen);
      head = tmp;
      e = (*head);
      while ((unsigned int )e != (unsigned int )((void *)0)) {
        if (e->addrlen == addrlen) {
          if (e->address_family == address_family) {
            tmp___0 = my_memdiff((void const   *)(& e->addr), (void const   *)addr,
                                 sizeof(tSockaddr ));
            if (tmp___0) {
              goto _L___0;
            } else {
              break;
            }
          } else {
            goto _L___0;
          }
        } else {
          _L___0: /* CIL Label */ ;
        }
        e = e->next;
      }
      if ((unsigned int )e == (unsigned int )((void *)0)) {
        e = (tSockaddrEntry *)__memory_allocate_ll(sizeof(tSockaddrEntry ));
        memcpy((void * __restrict  )e, (void const   * __restrict  )entry, sizeof(tSockaddrEntry ));
        e->next = (*head);
        (*head) = e;
      }
      (*(s + idx)) = e;
      idx = (tSockaddrIndex )((int )idx + 1);
    }
  }
  memory_deallocate_ll((void const   *)dns_lookup___1->hostname);
  memory_deallocate_ll((void const   *)dns_lookup___1);
  return;
}
}
static void check_proxies(tResourceRequest *request , tConfigProxy const   *proxy ,
                          char const   **_hostname ) 
{ tPortnumber reqport ;
  char const   *hostname ;
  tPortnumber hp ;
  char const   *h___0 ;
  tBoolean tmp ;

  {
  reqport = (request->uri_data)->portnumber;
  hostname = (*_hostname);
  while ((unsigned int )proxy != (unsigned int )((void *)0)) {
    hp = proxy->hosts_portnumber;
    if ((int )hp == 0) {
      goto _L___0;
    } else {
      if ((int )hp == (int )reqport) {
        _L___0: /* CIL Label */ 
        tmp = my_pattern_matcher((char const   *)proxy->hosts_pattern, hostname);
        if (tmp) {
          h___0 = (char const   *)proxy->proxy_hostname;
          if ((unsigned int )h___0 != (unsigned int )((void *)0)) {
            (*_hostname) = h___0;
            request->proxy = proxy;
          }
          break;
        } else {
          goto _L;
        }
      } else {
        _L: /* CIL Label */ ;
      }
    }
    proxy = (tConfigProxy const   *)proxy->next;
  }
  return;
}
}
static tHostAddressLookupResult lookup_hostaddress(tResourceRequest *request , tCachedHostInformation **hostinforet ,
                                                   tHostAddressLookupFlags half ) 
{ char const   *hostname ;
  tResourceProtocol protocol ;
  tBoolean in_cache_only ;
  int tmp ;
  tBoolean enforced_reload ;
  int tmp___0 ;
  tCachedHostInformation *hostinfo ;
  tDnsLookup *dns_lookup___1 ;

  {
  hostname = (char const   *)(request->uri_data)->hostname;
  protocol = (request->uri_data)->rp;
  if ((int )half & 1) {
    tmp = 1;
  } else {
    tmp = 0;
  }
  in_cache_only = (tBoolean )tmp;
  if ((int )half & 2) {
    tmp___0 = 1;
  } else {
    tmp___0 = 0;
  }
  enforced_reload = (tBoolean )tmp___0;
  if ((int )protocol == 2) {
    check_proxies(request, (tConfigProxy const   *)config.http_proxies, & hostname);
  }
  hostinfo = hostinfo_lookup(hostname);
  (*hostinforet) = hostinfo;
  if ((unsigned int )hostinfo != (unsigned int )((void *)0)) {
    if ((int )hostinfo->flags & 1) {
      return ((unsigned char)3);
    } else {
      if ((unsigned int )hostinfo->sockaddrs != (unsigned int )((void *)0)) {
        return ((unsigned char)0);
      } else {
        if (enforced_reload) {
          goto start_dns_lookup;
        }
      }
    }
    return ((unsigned char)1);
  }
  if (in_cache_only) {
    return ((unsigned char)2);
  }
  start_dns_lookup: 
  if ((unsigned int )hostinfo == (unsigned int )((void *)0)) {
    hostinfo = hostinfo_create(hostname);
    (*hostinforet) = hostinfo;
  }
  dns_lookup___1 = (tDnsLookup *)memory_allocate_ll(sizeof(tDnsLookup ));
  dns_lookup___1->hostinfo = hostinfo;
  dns_lookup___1->hostname = my_strdup(hostname);
  if ((int )(request->uri_data)->udf & 1) {
    dns_lookup___1->flags = (unsigned char )((int )dns_lookup___1->flags | 1);
  }
  hostinfo->flags = (unsigned char )((int )hostinfo->flags | 1);
  while (1) {
    dhm_generic_handler(& hostinfo->dhm_data, (void const   *)hostinfo, (unsigned char)0);
    while (1) {
      break;
    }
    (hostinfo->dhm_data)->control_handler = (void (*)(void * , void * , tDhmControlCode  ))((void *)0);
    break;
  }
  my_write_crucial(fd_resource2dns_write, (void const   *)(& dns_lookup___1), sizeof(dns_lookup___1));
  return ((unsigned char)3);
}
}
static tBoolean make_fd_nonblocking(int fd ) 
{ tBoolean retval ;
  int flags ;
  int tmp ;
  int tmp___0 ;

  {
  tmp = fcntl(fd, 3, 0);
  flags = tmp;
  if (flags == -1) {
    goto _L;
  } else {
    tmp___0 = fcntl(fd, 4, flags | 2048);
    if (tmp___0 == -1) {
      _L: /* CIL Label */ 
      retval = (unsigned char)0;
    } else {
      retval = (unsigned char)1;
    }
  }
  return (retval);
}
}
static int create_socket(int address_family ) 
{ int retval ;
  tBoolean tmp ;
  tBoolean tmp___0 ;

  {
  retval = socket(address_family, 1, ipprotocolnumber_tcp);
  if (retval >= 0) {
    while (1) {
      break;
    }
    tmp___0 = fd_is_observable(retval);
    if (tmp___0) {
      tmp = make_fd_nonblocking(retval);
      if (tmp) {
        while (1) {
          break;
        }
      } else {
        my_close(retval);
        retval = -1;
      }
    } else {
      my_close(retval);
      retval = -2;
    }
  }
  return (retval);
}
}
static void set_portnumber(tSockaddr *addr , int address_family , tPortnumber portnumber ) 
{ 

  {
  if (address_family == 2) {
    ((struct sockaddr_in *)addr)->sin_port = portnumber;
  }
  return;
}
}
static int my_do_connect(int fd , tSockaddr const   *addr , size_t addrlen ) 
{ int err ;
  unsigned char loopcount ;
  int *tmp ;
  int e ;
  int *tmp___0 ;
  int *tmp___1 ;
  int *tmp___2 ;
  int *tmp___3 ;
  int *tmp___4 ;

  {
  loopcount = (unsigned char)0;
  loop: 
  err = connect(fd, addr, addrlen);
  if (err != 0) {
    tmp___4 = __errno_location();
    if ((*tmp___4) == 4) {
      loopcount = (unsigned char )((int )loopcount + 1);
      if (loopcount < 100) {
        goto loop;
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      tmp___3 = __errno_location();
      if ((*tmp___3) == 114) {
        if ((int )loopcount > 0) {
          tmp = __errno_location();
          (*tmp) = 115;
        } else {
          goto _L;
        }
      } else {
        _L: /* CIL Label */ 
        tmp___2 = __errno_location();
        if ((*tmp___2) != 115) {
          tmp___0 = __errno_location();
          e = (*tmp___0);
          my_close(fd);
          tmp___1 = __errno_location();
          (*tmp___1) = e;
        }
      }
    }
  }
  return (err);
}
}
static int my_connect(int fd , tSockaddrEntry const   *entry , tPortnumber portnumber ) 
{ tSockaddr addr ;
  int tmp ;

  {
  addr = entry->addr;
  set_portnumber(& addr, entry->address_family, portnumber);
  tmp = my_do_connect(fd, (tSockaddr const   *)(& addr), entry->addrlen);
  return (tmp);
}
}
static int conn_err  ;
static tResourceError conn_err2error(int err ) 
{ tResourceError re ;

  {
  switch (err) {
  case 111: 
  re = (unsigned char)4;
  break;
  case 99: 
  re = (unsigned char)5;
  break;
  case 101: 
  re = (unsigned char)5;
  break;
  case 110: 
  re = (unsigned char)13;
  break;
  case 32: ;
  case 11: 
  re = (unsigned char)9;
  break;
  case 104: 
  re = (unsigned char)27;
  break;
  default: 
  re = (unsigned char)3;
  break;
  }
  return (re);
}
}
static tResourceError conn_get_failre(tConnection *conn ) 
{ tResourceError re ;

  {
  re = conn->prelire;
  if ((int )re == 0) {
    re = conn_err2error(conn_err);
  }
  return (re);
}
}
__inline static void conn_set_prelire(tConnection *conn , tResourceError re ) 
{ 

  {
  conn->prelire = re;
  return;
}
}
static tBoolean conn_connect(tConnection *conn ) 
{ tConnectAttemptData *cad ;
  tSockaddrEntry **list ;
  tSockaddrEntry *entry ;
  tSockaddrIndex idx ;
  tSockaddrIndex best ;
  tSockaddrRating rating ;
  tSockaddrRating best_rating ;
  int fd ;
  tSockaddrPortProtInfo const   *sppi ;
  int err ;
  int tmp ;
  int *tmp___0 ;
  tResourceError tmp___1 ;
  int *tmp___2 ;

  {
  cad = & conn->cad;
  list = cad->sockaddrs;
  conn->flags = (unsigned short )((int )conn->flags & -2);
  conn->fd = -1;
  cad->current = (signed char)-1;
  if ((unsigned int )list == (unsigned int )((void *)0)) {
    failed: 
    return ((unsigned char)0);
  }
  bestloop: 
  best = (signed char)-1;
  best_rating = (signed char)-1;
  idx = (signed char)0;
  while ((int )idx < (int )cad->num) {
    if ((int )(*(& cad->tried + (int )idx / 8)) & (1 << (int )idx % 8)) {
      goto __Cont;
    }
    entry = (*(list + idx));
    sppi = sockaddr2sppi(entry, cad->portnumber, conn->protocol, (unsigned char)0);
    if ((unsigned int )sppi != (unsigned int )((void *)0)) {
      rating = sppi->rating;
    } else {
      rating = (signed char)1;
    }
    if ((int )best_rating < (int )rating) {
      best_rating = rating;
      best = idx;
    }
    __Cont: /* CIL Label */ 
    idx = (tSockaddrIndex )((int )idx + 1);
  }
  if ((int )best == -1) {
    goto failed;
  }
  idx = best;
  (*(& cad->tried + (int )idx / 8)) = (unsigned char )((int )(*(& cad->tried + (int )idx /
                                                                               8)) |
                                                       (1 << (int )idx % 8));
  cad->current = idx;
  entry = (*(list + idx));
  fd = create_socket(entry->address_family);
  if (fd == -2) {
    conn_set_prelire(conn, (unsigned char)26);
    goto failed;
  } else {
    if (fd == -1) {
      conn_set_prelire(conn, (unsigned char)2);
    } else {
      if (fd >= 0) {
        tmp = my_connect(fd, (tSockaddrEntry const   *)entry, cad->portnumber);
        err = tmp;
        if (err == 0) {
          goto _L;
        } else {
          if (err == -1) {
            tmp___2 = __errno_location();
            if ((*tmp___2) == 115) {
              _L: /* CIL Label */ 
              if (err == 0) {
                conn->flags = (unsigned short )((int )conn->flags | 1);
              }
              conn->fd = fd;
              return ((unsigned char)1);
            } else {
              goto _L___0;
            }
          } else {
            _L___0: /* CIL Label */ 
            tmp___0 = __errno_location();
            tmp___1 = conn_err2error((*tmp___0));
            conn_set_prelire(conn, tmp___1);
          }
        }
      }
    }
  }
  goto bestloop;
}
}
static tSockaddrEntry *conn2sockaddr(tConnection const   *conn ) 
{ tSockaddrEntry *retval ;
  tConnectAttemptData const   *cad ;
  tSockaddrIndex idx ;

  {
  cad = (tConnectAttemptData const   *)(& conn->cad);
  idx = cad->current;
  if ((int )idx != -1) {
    retval = (*(cad->sockaddrs + idx));
  } else {
    retval = (tSockaddrEntry *)((void *)0);
  }
  return (retval);
}
}
static tSockaddrPortProtInfo *conn2sppi(tConnection const   *conn , tBoolean create_if_null ) 
{ tSockaddrPortProtInfo *retval ;
  tSockaddrEntry *entry ;
  tSockaddrEntry *tmp ;

  {
  tmp = conn2sockaddr(conn);
  entry = tmp;
  if ((unsigned int )entry != (unsigned int )((void *)0)) {
    retval = sockaddr2sppi(entry, conn->cad.portnumber, conn->protocol, create_if_null);
  } else {
    retval = (tSockaddrPortProtInfo *)((void *)0);
  }
  return (retval);
}
}
static tConnection *connlist_head  =    (tConnection *)((void *)0);
static tConnection *conn_create(int fd , void (*callback)(struct tConnection * , tConnCbEventKind  ) ,
                                void *data , tBoolean data_is_resource , tHostPortProtInfo const   *hppi ,
                                tResourceProtocol protocol ) 
{ tConnection *retval ;
  tConnection *tmp ;
  tConnectAttemptData *cad ;
  tCachedHostInformation const   *hostinfo ;
  tSockaddrIndex num ;
  size_t size ;
  tSockaddrEntry **e ;

  {
  tmp = (tConnection *)memory_allocate_ll(sizeof(tConnection ));
  retval = tmp;
  cad = & retval->cad;
  retval->next = connlist_head;
  connlist_head = retval;
  retval->fd = fd;
  retval->callback = callback;
  retval->data = data;
  if (data_is_resource) {
    retval->flags = (unsigned short )((int )retval->flags | 16);
  }
  retval->hppi = hppi;
  retval->protocol = protocol;
  cad->current = (signed char)-1;
  if ((unsigned int )hppi != (unsigned int )((void *)0)) {
    hostinfo = (tCachedHostInformation const   *)hppi->host;
    num = hostinfo->num_sockaddrs;
    if ((int )num > 0) {
      size = (unsigned int )num * sizeof(tSockaddrEntry *);
      cad->sockaddrs = (tSockaddrEntry **)__memory_allocate_ll(size);
      e = cad->sockaddrs;
      memcpy((void * __restrict  )e, (void const   * __restrict  )hostinfo->sockaddrs,
             size);
      cad->num = num;
    }
    cad->portnumber = hppi->portnumber;
  }
  return (retval);
}
}
__inline static void conn_change_data(tConnection *conn , void *data , tBoolean data_is_resource ) 
{ 

  {
  conn->data = data;
  if (data_is_resource) {
    conn->flags = (unsigned short )((int )conn->flags | 16);
  } else {
    conn->flags = (unsigned short )((int )conn->flags & -17);
  }
  return;
}
}
__inline static void conn_change_callback(tConnection *conn , void (*callback)(struct tConnection * ,
                                                                               tConnCbEventKind  ) ,
                                          void *data , tBoolean data_is_resource ) 
{ 

  {
  conn->callback = callback;
  conn_change_data(conn, data, data_is_resource);
  return;
}
}
static void conn_cleanup_fd(tConnection *conn ) 
{ int fd ;

  {
  fd = conn->fd;
  if (fd >= 0) {
    my_close(fd);
    conn->fd = -1;
  }
  conn->flags = (unsigned short )((int )conn->flags & -16);
  return;
}
}
static void conn_remove(tConnection **_conn ) 
{ tConnection *conn ;
  tBoolean (*dissolver)(struct tConnection * ) ;
  tBoolean did_dissolve_now ;
  tBoolean tmp ;
  tConnection **headaddr0 ;
  tConnection *head0 ;
  tConnection *entry ;
  tConnectAttemptData const   *cad ;
  tSockaddrEntry **e ;

  {
  conn = (*_conn);
  dissolver = conn->dissolver;
  if ((unsigned int )dissolver != (unsigned int )((void *)0)) {
    tmp = ((*dissolver))(conn);
    did_dissolve_now = tmp;
    if (! did_dissolve_now) {
      (*_conn) = (tConnection *)((void *)0);
      return;
    }
  }
  while (1) {
    headaddr0 = & connlist_head;
    head0 = (*headaddr0);
    entry = conn;
    if ((unsigned int )head0 == (unsigned int )((void *)0)) {
      goto _L;
    } else {
      if ((unsigned int )entry == (unsigned int )((void *)0)) {
        _L: /* CIL Label */ ;
      } else {
        if ((unsigned int )head0 == (unsigned int )entry) {
          (*headaddr0) = head0->next;
        } else {
          while ((unsigned int )head0->next != (unsigned int )((void *)0)) {
            if ((unsigned int )head0->next == (unsigned int )entry) {
              head0->next = entry->next;
              break;
            }
            head0 = head0->next;
          }
        }
      }
    }
    break;
  }
  cad = (tConnectAttemptData const   *)(& conn->cad);
  e = cad->sockaddrs;
  while (1) {
    if ((unsigned int )e != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)e);
    }
    break;
  }
  conn_cleanup_fd(conn);
  while (1) {
    if ((unsigned int )conn->writedata != (unsigned int )((void *)0)) {
      memory_deallocate_ll(conn->writedata);
    }
    break;
  }
  memory_deallocate_ll((void const   *)conn);
  (*_conn) = (tConnection *)((void *)0);
  return;
}
}
__inline static void conn_set_dissolver(tConnection *conn , tBoolean (*dissolver)(struct tConnection * ) ) 
{ 

  {
  conn->dissolver = dissolver;
  return;
}
}
__inline static void conn_do_dissolve(tConnection *conn ) 
{ 

  {
  conn_set_dissolver(conn, (tBoolean (*)(struct tConnection * ))((void *)0));
  conn_remove(& conn);
  return;
}
}
__inline static void check_connect(tConnection *conn ) 
{ int fd ;
  int sockerr ;
  socklen_t dummy ;
  tSockaddrPortProtInfo *sppi ;
  tSockaddrPortProtInfo *tmp ;
  int *tmp___0 ;
  tResource *resource ;
  tResource *tmp___1 ;
  tResourceError tmp___2 ;
  tBoolean tmp___3 ;
  int tmp___4 ;

  {
  fd = conn->fd;
  sockerr = 0;
  dummy = sizeof(sockerr);
  tmp = conn2sppi((tConnection const   *)conn, (unsigned char)1);
  sppi = tmp;
  tmp___4 = getsockopt(fd, 1, 4, (void * __restrict  )(& sockerr), (socklen_t * __restrict  )(& dummy));
  if (tmp___4 != 0) {
    tmp___0 = __errno_location();
    conn_err = (*tmp___0);
    failed: 
    if ((int )conn->flags & 16) {
      tmp___1 = (tResource *)conn->data;
    } else {
      tmp___1 = (tResource *)((void *)0);
    }
    resource = tmp___1;
    if ((unsigned int )resource != (unsigned int )((void *)0)) {
      if (resource->flags & 2048U) {
        tmp___2 = conn_err2error(conn_err);
        custom_conn_tell_error(resource, tmp___2);
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ ;
    }
    if ((unsigned int )sppi != (unsigned int )((void *)0)) {
      sppi->rating = (signed char )((int )sppi->rating >> 1);
    }
    conn_cleanup_fd(conn);
    tmp___3 = conn_connect(conn);
    if (tmp___3) {
      while (1) {
        while (1) {
          break;
        }
        ((*(conn->callback)))(conn, (unsigned char)0);
        break;
      }
    } else {
      while (1) {
        while (1) {
          break;
        }
        ((*(conn->callback)))(conn, (unsigned char)2);
        break;
      }
    }
    return;
  }
  if (sockerr != 0) {
    conn_err = sockerr;
    goto failed;
  }
  if ((unsigned int )sppi != (unsigned int )((void *)0)) {
    if ((int )sppi->rating + 2 < 8) {
      sppi->rating = (signed char )((int )sppi->rating + 2);
    } else {
      sppi->rating = (signed char)8;
    }
  }
  conn_set_prelire(conn, (unsigned char)0);
  conn->flags = (unsigned short )((int )conn->flags | 1);
  while (1) {
    while (1) {
      break;
    }
    ((*(conn->callback)))(conn, (unsigned char)1);
    break;
  }
  return;
}
}
static void conn_io_handler(void *data , tFdObservationFlags flags ) 
{ tConnection *conn ;

  {
  conn = (tConnection *)data;
  if ((int )flags & 1) {
    while (1) {
      while (1) {
        break;
      }
      ((*(conn->callback)))(conn, (unsigned char)3);
      break;
    }
  } else {
    if ((int )flags & 2) {
      if ((int )conn->flags & 1) {
        while (1) {
          while (1) {
            break;
          }
          ((*(conn->callback)))(conn, (unsigned char)4);
          break;
        }
      } else {
        check_connect(conn);
      }
    }
  }
  return;
}
}
static void conn_set_readwrite(tConnection *conn , tFdObservationFlags flags ) 
{ 

  {
  fd_observe(conn->fd, & conn_io_handler, (void *)conn, flags);
  if ((int )flags & 1) {
    conn->flags = (unsigned short )((int )conn->flags | 2);
  } else {
    conn->flags = (unsigned short )((int )conn->flags & -3);
  }
  if ((int )flags & 2) {
    conn->flags = (unsigned short )((int )conn->flags | 4);
  } else {
    conn->flags = (unsigned short )((int )conn->flags & -5);
  }
  return;
}
}
static void conn_set_suspend(tConnection *conn , tBoolean do_suspend ) 
{ tConnectionFlags flags ;
  tBoolean is_suspended ;
  int tmp ;
  int tmp___0 ;

  {
  flags = conn->flags;
  if ((int )flags & 8) {
    tmp = 1;
  } else {
    tmp = 0;
  }
  is_suspended = (tBoolean )tmp;
  if ((int )do_suspend != (int )is_suspended) {
    if (do_suspend) {
      fd_observe(conn->fd, & conn_io_handler, (void *)conn, (unsigned char)0);
      conn->flags = (unsigned short )((int )conn->flags | 8);
    } else {
      if ((int )flags & 4) {
        tmp___0 = 2;
      } else {
        tmp___0 = 1;
      }
      fd_observe(conn->fd, & conn_io_handler, (void *)conn, (unsigned char )tmp___0);
      conn->flags = (unsigned short )((int )conn->flags & -9);
    }
  }
  return;
}
}
static void conn_set_software_id(tConnection *conn , char const   *text ) 
{ tSockaddrPortProtInfo *sppi ;
  tSockaddrPortProtInfo *tmp ;
  char const   *r ;
  char const   *result ;
  char *tmp___4 ;

  {
  tmp = conn2sppi((tConnection const   *)conn, (unsigned char)1);
  sppi = tmp;
  if ((unsigned int )sppi != (unsigned int )((void *)0)) {
    r = strchr(text, '\r');
    if ((unsigned int )r != (unsigned int )((void *)0)) {
      tmp___4 = my_strndup(text, (unsigned int )(r - text));
    } else {
      tmp___4 = my_strdup(text);
    }
    result = (char const   *)tmp___4;
    while (1) {
      if ((unsigned int )sppi->software_id != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)sppi->software_id);
      }
      break;
    }
    sppi->software_id = result;
  }
  return;
}
}
static void resource_finalize(tResource *resource ) 
{ 

  {
  resource->flags = resource->flags | 1U;
  stop_save_as(resource);
  return;
}
}
static void push_to_main_res(tResource *resource , unsigned char flags ) 
{ tDhmNotificationFlags _df ;

  {
  if (! ((int )flags & 1)) {
    resource_finalize(resource);
  }
  while (1) {
    _df = (tDhmNotificationFlags )4;
    dhm_generic_handler(& resource->dhm_data, (void const   *)(& _df), (unsigned char)4);
    break;
  }
  return;
}
}
static void push_to_main_req(tResourceRequest *request , unsigned char flags ) 
{ tResource *resource ;
  tDhmNotificationFlags _df ;

  {
  if (! ((int )flags & 1)) {
    resource = request->resource;
    if ((unsigned int )resource != (unsigned int )((void *)0)) {
      resource_finalize(resource);
    }
  }
  while (1) {
    _df = (tDhmNotificationFlags )4;
    dhm_generic_handler(& request->dhm_data, (void const   *)(& _df), (unsigned char)4);
    break;
  }
  return;
}
}
static void resource_suspend(tResource const   *resource ) 
{ tConnection *conn ;

  {
  conn = resource->cconn;
  if ((unsigned int )conn != (unsigned int )((void *)0)) {
    conn_set_suspend(conn, (unsigned char)1);
  }
  return;
}
}
static void resource_unsuspend(tResource const   *resource ) 
{ tConnection *conn ;

  {
  conn = resource->cconn;
  if ((unsigned int )conn != (unsigned int )((void *)0)) {
    conn_set_suspend(conn, (unsigned char)0);
  }
  return;
}
}
__inline static void user_query_deallocate(tUserQuery const   *query ) 
{ 

  {
  memory_deallocate_ll((void const   *)query);
  return;
}
}
static tBoolean resource_ask_anything(tResource *resource , void (*callback)(struct tUserQuery * ) ,
                                      tMissingInformationFlags mif , unsigned char flags ) 
{ tBoolean retval ;
  tHostPortProtInfo *hppi ;
  tUserQuery *query ;
  tUserQuery *tmp ;

  {
  retval = (tBoolean )0;
  if ((int )program_mode == 0) {
    goto _L___0;
  } else {
    if ((int )program_mode == 3) {
      _L___0: /* CIL Label */ 
      if ((int )program_mode == 3) {
        _L: /* CIL Label */ 
        goto out;
      }
    } else {
      goto _L;
    }
  }
  if ((int )flags & 1) {
    mif = (unsigned short )((int )mif | 16);
  }
  if ((int )mif & 8) {
    hppi = resource->actual_hppi;
  } else {
    hppi = resource->textual_hppi;
  }
  if (! ((int )hppi->flags & 1)) {
    tmp = (tUserQuery *)memory_allocate_ll(sizeof(tUserQuery ));
    query = tmp;
    query->callback = callback;
    query->resource = resource;
    query->hppi = hppi;
    query->mif = mif;
    query->hostname = (hppi->host)->hostname;
    query->portnumber = hppi->portnumber;
    user_query_queue(query);
    if ((int )query->mif & 1) {
      user_query_deallocate((tUserQuery const   *)query);
      goto out;
    }
    resource_suspend((tResource const   *)resource);
    hppi->flags = (unsigned char )((int )hppi->flags | 1);
    retval = (unsigned char)1;
  }
  out: 
  return (retval);
}
}
static void resource_ask_finish(tUserQuery *query ) 
{ tHostPortProtInfo *hppi ;

  {
  hppi = query->hppi;
  hppi->flags = (unsigned char )((int )hppi->flags & -2);
  user_query_deallocate((tUserQuery const   *)query);
  return;
}
}
tPortnumber rp2portnumber(tResourceProtocol rp ) 
{ tPortnumber retval ;

  {
  switch ((int )rp) {
  case 2: 
  retval = portnumber_http;
  break;
  case 3: ;
  case 17: 
  retval = portnumber_ftp;
  break;
  case 6: 
  retval = portnumber_finger;
  break;
  case 11: 
  retval = portnumber_cvs;
  break;
  case 12: 
  retval = portnumber_gopher;
  break;
  case 8: 
  retval = portnumber_nntp;
  break;
  case 9: ;
  case 10: 
  retval = portnumber_pop3;
  break;
  case 16: 
  retval = portnumber_https;
  break;
  default: 
  retval = (unsigned short)0;
  break;
  }
  return (retval);
}
}
void rp2scheme(tResourceProtocol rp , char *dest ) 
{ char const   *str ;
  tBoolean use_uc ;
  int tmp ;
  tBoolean use_alt ;
  int tmp___0 ;
  char const   *_src ;
  char ch ;
  char *_dest ;
  char const   *tmp___1 ;
  char *tmp___2 ;

  {
  str = (char const   *)((void *)0);
  if ((int )rp_data[rp].flags & 128) {
    tmp = 1;
  } else {
    tmp = 0;
  }
  use_uc = (tBoolean )tmp;
  if ((int )rp_data[rp].flags & 256) {
    tmp___0 = 1;
  } else {
    tmp___0 = 0;
  }
  use_alt = (tBoolean )tmp___0;
  if (use_alt) {
    if ((int )rp == 8) {
      str = strNntp;
    } else {
      if ((int )rp == 9) {
        str = strPop3;
      }
    }
  }
  if ((unsigned int )str == (unsigned int )((void *)0)) {
    str = rp_data[rp].scheme;
  }
  if (use_uc) {
    while (1) {
      _src = str;
      _dest = dest;
      while (1) {
        tmp___1 = _src;
        _src ++;
        ch = (char )(*tmp___1);
        tmp___2 = _dest;
        _dest ++;
        if ((int )ch >= 97) {
          if ((int )ch <= 122) {
            (*tmp___2) = (char )((int )ch - 32);
          } else {
            goto _L;
          }
        } else {
          _L: /* CIL Label */ 
          (*tmp___2) = ch;
        }
        if (! ((int )ch != 0)) {
          break;
        }
      }
      break;
    }
  } else {
    strcpy((char * __restrict  )dest, (char const   * __restrict  )str);
  }
  return;
}
}
static char const   strIntermediary[13]  = 
  {      (char const   )'i',      (char const   )'n',      (char const   )'t',      (char const   )'e', 
        (char const   )'r',      (char const   )'m',      (char const   )'e',      (char const   )'d', 
        (char const   )'i',      (char const   )'a',      (char const   )'r',      (char const   )'y', 
        (char const   )'\000'};
static char const   strServerError[13]  = 
  {      (char const   )'s',      (char const   )'e',      (char const   )'r',      (char const   )'v', 
        (char const   )'e',      (char const   )'r',      (char const   )' ',      (char const   )'e', 
        (char const   )'r',      (char const   )'r',      (char const   )'o',      (char const   )'r', 
        (char const   )'\000'};
static char const   strOkay[5]  = {      (char const   )'o',      (char const   )'k',      (char const   )'a',      (char const   )'y', 
        (char const   )'\000'};
static char const   strAuthentReq[24]  = 
  {      (char const   )'a',      (char const   )'u',      (char const   )'t',      (char const   )'h', 
        (char const   )'e',      (char const   )'n',      (char const   )'t',      (char const   )'i', 
        (char const   )'c',      (char const   )'a',      (char const   )'t',      (char const   )'i', 
        (char const   )'o',      (char const   )'n',      (char const   )' ',      (char const   )'r', 
        (char const   )'e',      (char const   )'q',      (char const   )'u',      (char const   )'i', 
        (char const   )'r',      (char const   )'e',      (char const   )'d',      (char const   )'\000'};
static char const   strServerReady[13]  = 
  {      (char const   )'s',      (char const   )'e',      (char const   )'r',      (char const   )'v', 
        (char const   )'e',      (char const   )'r',      (char const   )' ',      (char const   )'r', 
        (char const   )'e',      (char const   )'a',      (char const   )'d',      (char const   )'y', 
        (char const   )'\000'};
static char const   strAccountRequired[17]  = 
  {      (char const   )'a',      (char const   )'c',      (char const   )'c',      (char const   )'o', 
        (char const   )'u',      (char const   )'n',      (char const   )'t',      (char const   )' ', 
        (char const   )'r',      (char const   )'e',      (char const   )'q',      (char const   )'u', 
        (char const   )'i',      (char const   )'r',      (char const   )'e',      (char const   )'d', 
        (char const   )'\000'};
char const   *ssc2info(tResourceProtocol rp , tServerStatusCode ssc ) 
{ char const   *retval ;

  {
  retval = strEmpty;
  if ((int )rp_data[rp].flags & 2) {
    switch ((int )ssc / 100) {
    case 1: 
    retval = strIntermediary;
    break;
    case 2: 
    retval = strOkay;
    break;
    case 3: 
    retval = strRedirection;
    break;
    case 4: ;
    if ((int )ssc == 401) {
      retval = strAuthentReq;
    } else {
      if ((int )ssc == 407) {
        retval = strProxyAuthentReq;
      } else {
        retval = "request error";
      }
    }
    break;
    case 5: 
    retval = strServerError;
    break;
    }
  } else {
    if ((int )rp_data[rp].flags & 4) {
      switch ((int )ssc / 100) {
      case 1: 
      retval = strIntermediary;
      break;
      case 2: ;
      if ((int )ssc == 200) {
        retval = strOkay;
      } else {
        if ((int )ssc == 220) {
          retval = strServerReady;
        } else {
          if ((int )ssc == 221) {
            retval = "server closed";
          } else {
            if ((int )ssc == 226) {
              retval = "transfer successful";
            } else {
              if ((int )ssc == 227) {
                goto _L;
              } else {
                if ((int )ssc == 229) {
                  _L: /* CIL Label */ 
                  retval = "entering passive mode";
                } else {
                  if ((int )ssc == 230) {
                    retval = "logged in";
                  }
                }
              }
            }
          }
        }
      }
      break;
      case 3: ;
      if ((int )ssc == 331) {
        retval = "password required";
      } else {
        if ((int )ssc == 332) {
          retval = strAccountRequired;
        } else {
          if ((int )ssc == 350) {
            retval = strIntermediary;
          }
        }
      }
      break;
      case 4: ;
      if ((int )ssc == 421) {
        retval = "service not available";
      } else {
        retval = "transient server problem";
      }
      break;
      case 5: ;
      if ((int )ssc == 530) {
        retval = (char const   *)strResourceError[15];
      } else {
        if ((int )ssc == 532) {
          retval = strAccountRequired;
        } else {
          if ((int )ssc == 550) {
            retval = "file/directory not found";
          } else {
            retval = strServerError;
          }
        }
      }
      break;
      case 6: 
      retval = "protected reply";
      break;
      }
    } else {
      if ((int )rp == 8) {
        switch ((int )ssc / 100) {
        case 2: ;
        if ((int )ssc == 200) {
          goto _L___2;
        } else {
          if ((int )ssc == 201) {
            _L___2: /* CIL Label */ 
            retval = strServerReady;
          } else {
            if ((int )ssc == 211) {
              retval = "group selected";
            } else {
              if ((int )ssc == 215) {
                goto _L___1;
              } else {
                if ((int )ssc == 231) {
                  _L___1: /* CIL Label */ 
                  retval = "news groups follow";
                } else {
                  if ((int )ssc >= 220) {
                    if ((int )ssc <= 222) {
                      retval = "content follows";
                    } else {
                      goto _L___0;
                    }
                  } else {
                    _L___0: /* CIL Label */ ;
                  }
                }
              }
            }
          }
        }
        break;
        case 4: ;
        if ((int )ssc == 411) {
          retval = "no such news group";
        } else {
          if ((int )ssc >= 421) {
            if ((int )ssc <= 423) {
              goto _L___3;
            } else {
              goto _L___4;
            }
          } else {
            _L___4: /* CIL Label */ 
            if ((int )ssc == 430) {
              _L___3: /* CIL Label */ 
              retval = "no such article";
            } else {
              if ((int )ssc == 480) {
                retval = strAuthentReq;
              }
            }
          }
        }
        break;
        }
      }
    }
  }
  return (retval);
}
}
static tBoolean is_filesuffix(char const   *filename , char const   *suff ) 
{ size_t filenamelen ;
  size_t tmp ;
  size_t sufflen ;
  size_t tmp___0 ;
  char const   *temp ;
  int tmp___1 ;

  {
  tmp = strlen(filename);
  filenamelen = tmp;
  tmp___0 = strlen(suff);
  sufflen = tmp___0;
  if (filenamelen < (sufflen + 1U) + 1U) {
    return ((unsigned char)0);
  }
  temp = (filename + filenamelen) - sufflen;
  if ((int const   )(*(temp - 1)) != 46) {
    return ((unsigned char)0);
  }
  tmp___1 = streqcase3(temp, suff);
  if (! (tmp___1 == 0)) {
    return ((unsigned char)0);
  }
  return ((unsigned char)1);
}
}
static tResourceContentKind filesuffix2rck(char const   *name ) 
{ tBoolean tmp ;
  tBoolean tmp___0 ;
  tBoolean tmp___1 ;
  tBoolean tmp___2 ;

  {
  tmp = is_filesuffix(name, strShtml + 1);
  if (tmp) {
    goto _L___1;
  } else {
    tmp___0 = is_filesuffix(name, "htm");
    if (tmp___0) {
      _L___1: /* CIL Label */ 
      goto _L___0;
    } else {
      tmp___1 = is_filesuffix(name, strShtml);
      if (tmp___1) {
        _L___0: /* CIL Label */ 
        goto _L;
      } else {
        tmp___2 = is_filesuffix(name, "phtml");
        if (tmp___2) {
          _L: /* CIL Label */ 
          return ((unsigned char)2);
        }
      }
    }
  }
  return ((unsigned char)0);
}
}
static tBoolean calc_parentpath(char const   *path , char *staticbuf , size_t size ) 
{ tBoolean retval ;
  size_t pathlen ;
  size_t tmp ;
  char const   *p ;
  size_t len ;

  {
  retval = (tBoolean )0;
  tmp = strlen(path);
  pathlen = tmp;
  if (pathlen > 1U) {
    p = (path + pathlen) - 1;
    if ((int const   )(*p) == 47) {
      p --;
    }
    while ((unsigned int )p >= (unsigned int )path) {
      if ((int const   )(*p) == 47) {
        len = (size_t )((p - path) + 1);
        if (len + 3U < size) {
          memcpy((void * __restrict  )staticbuf, (void const   * __restrict  )path,
                 len);
          (*(staticbuf + len)) = (char )'\000';
          retval = (unsigned char)1;
        }
        break;
      }
      p --;
    }
  }
  return (retval);
}
}
static struct __anonstruct_conv_117  const  conv___0[3]  = {      {"&amp;", (unsigned short)5, (char )'&'}, 
        {"&lt;", (unsigned short)4, (char )'<'}, 
        {"&gt;", (unsigned short)4, (char )'>'}};
char const   *htmlify(char const   *src ) 
{ size_t destlen ;
  char const   *srctmp ;
  char ch ;
  char *retval ;
  char *desttmp ;
  unsigned short count___2 ;
  tBoolean need_conversion ;
  char const   *tmp ;
  char const   *tmp___0 ;
  char *tmp___1 ;
  char const   *tmp___2 ;
  char *tmp___3 ;
  char const   *tmp___4 ;

  {
  need_conversion = (tBoolean )0;
  destlen = 1U;
  srctmp = src;
  while (1) {
    tmp = srctmp;
    srctmp ++;
    ch = (char )(*tmp);
    if (! ((int )ch != 0)) {
      break;
    }
    count___2 = (unsigned short)0;
    while ((int )count___2 < 3) {
      if ((int )ch == (int )conv___0[count___2].ch) {
        destlen += (size_t )conv___0[count___2].len;
        need_conversion = (unsigned char)1;
        goto next_char_1;
      }
      count___2 = (unsigned short )((int )count___2 + 1);
    }
    destlen ++;
    next_char_1: ;
  }
  if (! need_conversion) {
    return (src);
  }
  desttmp = (char *)__memory_allocate_ll(destlen);
  retval = desttmp;
  srctmp = src;
  while (1) {
    tmp___4 = srctmp;
    srctmp ++;
    ch = (char )(*tmp___4);
    if (! ((int )ch != 0)) {
      break;
    }
    count___2 = (unsigned short)0;
    while ((int )count___2 < 3) {
      if ((int )ch == (int )conv___0[count___2].ch) {
        tmp___0 = conv___0[count___2].replacement;
        while (1) {
          tmp___2 = tmp___0;
          tmp___0 ++;
          ch = (char )(*tmp___2);
          if (! ((int )ch != 0)) {
            break;
          }
          tmp___1 = desttmp;
          desttmp ++;
          (*tmp___1) = ch;
        }
        goto next_char_2;
      }
      count___2 = (unsigned short )((int )count___2 + 1);
    }
    tmp___3 = desttmp;
    desttmp ++;
    (*tmp___3) = ch;
    next_char_2: ;
  }
  (*desttmp) = (char )'\000';
  return ((char const   *)retval);
}
}
static void conn_set_writedata(tConnection *conn , void const   *data , size_t size ) 
{ 

  {
  while (1) {
    if ((unsigned int )conn->writedata != (unsigned int )((void *)0)) {
      memory_deallocate_ll(conn->writedata);
    }
    break;
  }
  conn->writedata = data;
  conn->writedata_todo = size;
  conn->writedata_done = 0U;
  conn->flags = (unsigned short )((int )conn->flags | 32);
  return;
}
}
__inline static void conn_set_writestr(tConnection *conn , char const   *str ) 
{ size_t tmp ;

  {
  tmp = strlen(str);
  conn_set_writedata(conn, (void const   *)str, tmp);
  return;
}
}
static unsigned char conn_write_writedata(tConnection *conn ) 
{ char const   *data ;
  char const   *src ;
  size_t todo ;
  size_t done ;
  size_t writelen ;
  ssize_t write_err ;
  int fd ;

  {
  data = (char const   *)conn->writedata;
  if ((unsigned int )data == (unsigned int )((void *)0)) {
    failed: 
    conn->flags = (unsigned short )((int )conn->flags & -33);
    return ((unsigned char)0);
  }
  todo = conn->writedata_todo;
  done = conn->writedata_done;
  src = data + done;
  writelen = todo - done;
  fd = conn->fd;
  write_err = __my_write(fd, (void const   *)src, writelen);
  if (write_err <= 0) {
    goto failed;
  }
  done += (size_t )write_err;
  conn->writedata_done = done;
  if (done >= todo) {
    conn->flags = (unsigned short )((int )conn->flags & -33);
    while (1) {
      if ((unsigned int )conn->writedata != (unsigned int )((void *)0)) {
        memory_deallocate_ll(conn->writedata);
        conn->writedata = (void const   *)((void *)0);
      }
      break;
    }
    return ((unsigned char)2);
  } else {
    return ((unsigned char)1);
  }
}
}
static void quitcmd_dissolver_callback(tConnection *conn , tConnCbEventKind ccek ) 
{ int tmp ;

  {
  switch ((int )ccek) {
  case 4: 
  tmp = (int )conn_write_writedata(conn);
  switch (tmp) {
  case 0: ;
  do_dissolve: 
  conn_do_dissolve(conn);
  break;
  case 1: ;
  break;
  case 2: ;
  goto do_dissolve;
  break;
  }
  break;
  default: ;
  while (1) {
    break;
  }
  goto do_dissolve;
  break;
  }
}
}
static tBoolean quitcmd_dissolver(tConnection *conn ) ;
static char const   strNetcmdQuit[7]  = {      (char const   )'Q',      (char const   )'U',      (char const   )'I',      (char const   )'T', 
        (char const   )'\r',      (char const   )'\n',      (char const   )'\000'};
static tBoolean quitcmd_dissolver(tConnection *conn ) 
{ tBoolean retval ;
  char const   *tmp ;

  {
  if (conn->writedata_done <= 0U) {
    goto _L;
  } else {
    if (! ((int )conn->flags & 32)) {
      _L: /* CIL Label */ 
      conn_set_dissolver(conn, (tBoolean (*)(struct tConnection * ))((void *)0));
      conn->flags = (unsigned short )((int )conn->flags | 512);
      conn_change_callback(conn, & quitcmd_dissolver_callback, (void *)0, (unsigned char)0);
      tmp = my_strdup(strNetcmdQuit);
      conn_set_writestr(conn, tmp);
      conn_set_readwrite(conn, (unsigned char)2);
      retval = (unsigned char)0;
    } else {
      retval = (unsigned char)1;
    }
  }
  return (retval);
}
}
static tResource *rc_head[101]  ;
static tHashIndex resource_uri2hashindex(char const   *_uri ) 
{ tHashIndex retval ;
  unsigned char const   *uri ;
  unsigned char count___2 ;
  unsigned char ch ;
  unsigned char const   *tmp ;
  unsigned char tmp___0 ;

  {
  retval = (tHashIndex )0;
  uri = (unsigned char const   *)_uri;
  count___2 = (unsigned char)50;
  while (1) {
    tmp___0 = count___2;
    count___2 = (unsigned char )((int )count___2 - 1);
    if (! (tmp___0 > 0)) {
      break;
    }
    tmp = uri;
    uri ++;
    ch = (unsigned char )(*tmp);
    if ((int )ch == 0) {
      break;
    }
    retval = (unsigned short )((int )retval + (int )((unsigned short )ch));
  }
  return ((unsigned short )((int )retval % 101));
}
}
static void attach_resource_to_request(tResourceRequest *request , tResource *resource ) 
{ tDhmNotificationFlags _df ;

  {
  while (1) {
    dhm_generic_handler(& resource->dhm_data, (void const   *)((void *)0), (unsigned char)1);
    request->resource = resource;
    break;
  }
  request->state = (unsigned char)3;
  request->flags = (unsigned char )((int )request->flags | 1);
  while (1) {
    _df = (tDhmNotificationFlags )16;
    dhm_generic_handler(& request->dhm_data, (void const   *)(& _df), (unsigned char)4);
    break;
  }
  return;
}
}
static void resource_stop(tResource *resource ) 
{ tBoolean did ;

  {
  did = (tBoolean )0;
  if ((unsigned int )resource->cconn != (unsigned int )((void *)0)) {
    conn_remove(& resource->cconn);
    did = (unsigned char)1;
  }
  if ((unsigned int )resource->dconn != (unsigned int )((void *)0)) {
    conn_remove(& resource->dconn);
    did = (unsigned char)1;
  }
  if ((unsigned int )resource->save_as != (unsigned int )((void *)0)) {
    stop_save_as(resource);
    did = (unsigned char)1;
  }
  if (did) {
    if ((int )resource->state != 1) {
      resource->state = (unsigned char)6;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  return;
}
}
static void rpsd_remove(tResource *resource ) 
{ tRpsdGeneric *rpsd ;
  void (*remover)(struct tRpsdGeneric * ) ;

  {
  rpsd = resource->rpsd;
  if ((unsigned int )rpsd != (unsigned int )((void *)0)) {
    remover = rpsd->remover;
    if ((unsigned int )remover != (unsigned int )((void *)0)) {
      ((*remover))(rpsd);
    }
    memory_deallocate_ll((void const   *)rpsd);
    resource->rpsd = (struct tRpsdGeneric *)((void *)0);
  }
  return;
}
}
__inline static void resource_deallocate(tResource *resource ) 
{ char const   *uri ;
  tHashIndex i ;
  tHashIndex tmp ;
  tDhmNotificationFlags _df ;

  {
  uri = (char const   *)(resource->uri_data)->uri;
  tmp = resource_uri2hashindex(uri);
  i = tmp;
  while (1) {
    _df = (tDhmNotificationFlags )1;
    dhm_generic_handler(& resource->dhm_data, (void const   *)(& _df), (unsigned char)4);
    break;
  }
  if ((unsigned int )rc_head[i] == (unsigned int )resource) {
    rc_head[i] = resource->next;
  }
  if ((unsigned int )resource->prev != (unsigned int )((void *)0)) {
    (resource->prev)->next = resource->next;
  }
  if ((unsigned int )resource->next != (unsigned int )((void *)0)) {
    (resource->next)->prev = resource->prev;
  }
  resource_stop(resource);
  while (1) {
    break;
  }
  sinking_data_deallocate(& resource->sinking_data);
  while (1) {
    uri_put(resource->uri_data);
    resource->uri_data = (tUriData *)((void *)0);
    break;
  }
  cantent_put(resource->cantent);
  rpsd_remove(resource);
  memory_deallocate_ll((void const   *)resource);
  return;
}
}
static void resource_dhm_control(void *_resource , void *data  __attribute__((__unused__)) ,
                                 tDhmControlCode dcc ) 
{ tResource *resource ;

  {
  resource = (tResource *)_resource;
  switch ((int )dcc) {
  case 0: 
  resource_deallocate(resource);
  break;
  }
  return;
}
}
static tResource *resource_create(tResourceRequest *request , tContentblock *content ,
                                  size_t nominal_contentlength , tResourceContentKind kind ,
                                  tResourceState state___0 ) 
{ tUriData const   *uri_data ;
  char const   *uri ;
  tResourceProtocol protocol ;
  tHashIndex i ;
  tHashIndex tmp ;
  tResource *retval ;
  tResource *tmp___0 ;
  tCantent *cantent ;
  tCantent *tmp___1 ;

  {
  uri_data = (tUriData const   *)request->uri_data;
  uri = (char const   *)uri_data->uri;
  protocol = uri_data->rp;
  tmp = resource_uri2hashindex(uri);
  i = tmp;
  tmp___0 = (tResource *)memory_allocate_ll(sizeof(tResource ));
  retval = tmp___0;
  tmp___1 = cantent_create();
  cantent = tmp___1;
  while (1) {
    dhm_generic_handler(& retval->dhm_data, (void const   *)retval, (unsigned char)0);
    while (1) {
      break;
    }
    (retval->dhm_data)->control_handler = & resource_dhm_control;
    break;
  }
  while (1) {
    (request->uri_data)->refcount = (unsigned char )((int )(request->uri_data)->refcount +
                                                     1);
    retval->uri_data = request->uri_data;
    break;
  }
  while (1) {
    cantent->refcount = cantent->refcount + 1U;
    retval->cantent = cantent;
    break;
  }
  cantent->kind = kind;
  attach_resource_to_request(request, retval);
  if ((unsigned int )rc_head[i] != (unsigned int )((void *)0)) {
    retval->next = rc_head[i];
    (rc_head[i])->prev = retval;
  }
  rc_head[i] = retval;
  if ((int )request->flags & 16) {
    retval->flags = retval->flags | 160U;
  }
  retval->protocol = protocol;
  retval->state = state___0;
  retval->sinking_data = request->sinking_data;
  request->sinking_data = (tSinkingData *)((void *)0);
  cantent_set_firstcontent(cantent, content);
  retval->nominal_contentlength = nominal_contentlength;
  return (retval);
}
}
static tResource *resource_lookup(tResourceRequest *request ) 
{ char const   *uri ;
  char const   *post1 ;
  tHashIndex i ;
  tResource *resource ;
  tResourceProtocol protocol ;
  tResourceRequestFlags rrf ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___29 ;
  size_t tmp___30 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___45 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___209 ;
  size_t tmp___210 ;
  char const   *tmp___211 ;
  register int __result___85 ;
  char const   *tmp___292 ;
  char const   *tmp___293 ;
  char const   *tmp___294 ;
  char const   *tmp___295 ;
  unsigned char const   *__s2___14 ;
  char const   *tmp___296 ;
  register int __result___86 ;
  char const   *tmp___297 ;
  int tmp___298 ;
  char const   *tmp___299 ;
  char const   *tmp___300 ;
  register int __result___93 ;
  char const   *tmp___336 ;
  char const   *tmp___337 ;
  char const   *tmp___338 ;
  char const   *tmp___339 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  char const   *tmp___340 ;
  char const   *tmp___341 ;
  char const   *tmp___342 ;
  char const   *tmp___343 ;
  int tmp___344 ;
  char const   *tmp___345 ;
  char const   *tmp___346 ;
  int tmp___347 ;
  char const   *tmp___348 ;
  char const   *tmp___349 ;
  char const   *tmp___350 ;
  int tmp___351 ;
  int tmp___352 ;
  char const   *tmp___353 ;
  int tmp___354 ;
  char const   *tmp___355 ;
  char const   *tmp___356 ;
  char const   *tmp___357 ;
  int tmp___358 ;

  {
  if ((int )request->action != 0) {
    goto _L;
  } else {
    if ((int )request->flags & 16) {
      _L: /* CIL Label */ 
      goto out;
    }
  }
  if ((int )request->flags & 4) {
    if ((int )rp_data[(request->uri_data)->rp].flags & 2) {
      goto out;
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  uri = (char const   *)(request->uri_data)->uri;
  i = resource_uri2hashindex(uri);
  resource = rc_head[i];
  if ((unsigned int )resource == (unsigned int )((void *)0)) {
    goto try_disk;
  }
  protocol = (request->uri_data)->rp;
  rrf = request->flags;
  if ((unsigned int )(request->uri_data)->post == (unsigned int )((void *)0)) {
    post1 = strEmpty;
  } else {
    post1 = (char const   *)(request->uri_data)->post;
  }
  while ((unsigned int )resource != (unsigned int )((void *)0)) {
    if ((int )resource->protocol != (int )protocol) {
      goto do_next;
    }
    if ((((int )rrf & 2) != 0) != ((resource->flags & 2U) != 0U)) {
      goto do_next;
    }
    tmp___55 = __builtin_constant_p((resource->uri_data)->uri);
    if (tmp___55) {
      tmp___56 = __builtin_constant_p(uri);
      if (tmp___56) {
        __s1_len = strlen((char const   *)(resource->uri_data)->uri);
        __s2_len = strlen(uri);
        if (! ((unsigned int )((void const   *)((resource->uri_data)->uri + 1)) -
               (unsigned int )((void const   *)(resource->uri_data)->uri) == 1U)) {
          goto _L___174;
        } else {
          if (__s1_len >= 4U) {
            _L___174: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)(uri + 1)) - (unsigned int )((void const   *)uri) ==
                   1U)) {
              goto _L___173;
            } else {
              if (__s2_len >= 4U) {
                _L___173: /* CIL Label */ 
                tmp___57 = 1;
              } else {
                goto _L___172;
              }
            }
          } else {
            _L___172: /* CIL Label */ 
            tmp___57 = 0;
          }
        }
        if (tmp___57) {
          if (__s1_len < __s2_len) {
            tmp___30 = __s1_len;
          } else {
            tmp___30 = __s2_len;
          }
          tmp___29 = memcmp((void const   *)((char const   *)(resource->uri_data)->uri),
                            (void const   *)uri, tmp___30 + 1U);
        } else {
          goto _L___176;
        }
      } else {
        goto _L___176;
      }
    } else {
      _L___176: /* CIL Label */ 
      tmp___54 = __builtin_constant_p((resource->uri_data)->uri);
      if (tmp___54) {
        if ((unsigned int )((void const   *)((resource->uri_data)->uri + 1)) - (unsigned int )((void const   *)(resource->uri_data)->uri) ==
            1U) {
          __s1_len = strlen((char const   *)(resource->uri_data)->uri);
          if (__s1_len < 4U) {
            tmp___45 = __builtin_constant_p(uri);
            if (tmp___45) {
              if ((unsigned int )((void const   *)(uri + 1)) - (unsigned int )((void const   *)uri) ==
                  1U) {
                __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)(resource->uri_data)->uri) +
                                                        0)) - (int const   )(*((unsigned char const   *)uri +
                                                                               0)));
                if (__s1_len > 0U) {
                  if (__result___37 == 0) {
                    __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)(resource->uri_data)->uri) +
                                                            1)) - (int const   )(*((unsigned char const   *)uri +
                                                                                   1)));
                    if (__s1_len > 1U) {
                      if (__result___37 == 0) {
                        __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)(resource->uri_data)->uri) +
                                                                2)) - (int const   )(*((unsigned char const   *)uri +
                                                                                       2)));
                        if (__s1_len > 2U) {
                          if (__result___37 == 0) {
                            __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)(resource->uri_data)->uri) +
                                                                    3)) - (int const   )(*((unsigned char const   *)uri +
                                                                                           3)));
                          } else {
                            goto _L___135;
                          }
                        } else {
                          _L___135: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___136;
                      }
                    } else {
                      _L___136: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___137;
                  }
                } else {
                  _L___137: /* CIL Label */ ;
                }
                tmp___29 = __result___37;
              } else {
                goto _L___141;
              }
            } else {
              _L___141: /* CIL Label */ 
              __s2___6 = (unsigned char const   *)uri;
              __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)(resource->uri_data)->uri) +
                                                      0)) - (int const   )(*(__s2___6 +
                                                                             0)));
              if (__s1_len > 0U) {
                if (__result___38 == 0) {
                  __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)(resource->uri_data)->uri) +
                                                          1)) - (int const   )(*(__s2___6 +
                                                                                 1)));
                  if (__s1_len > 1U) {
                    if (__result___38 == 0) {
                      __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)(resource->uri_data)->uri) +
                                                              2)) - (int const   )(*(__s2___6 +
                                                                                     2)));
                      if (__s1_len > 2U) {
                        if (__result___38 == 0) {
                          __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)(resource->uri_data)->uri) +
                                                                  3)) - (int const   )(*(__s2___6 +
                                                                                         3)));
                        } else {
                          goto _L___138;
                        }
                      } else {
                        _L___138: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___139;
                    }
                  } else {
                    _L___139: /* CIL Label */ ;
                  }
                } else {
                  goto _L___140;
                }
              } else {
                _L___140: /* CIL Label */ ;
              }
              tmp___29 = __result___38;
            }
          } else {
            goto _L___171;
          }
        } else {
          goto _L___171;
        }
      } else {
        _L___171: /* CIL Label */ 
        tmp___53 = __builtin_constant_p(uri);
        if (tmp___53) {
          if ((unsigned int )((void const   *)(uri + 1)) - (unsigned int )((void const   *)uri) ==
              1U) {
            __s2_len = strlen(uri);
            if (__s2_len < 4U) {
              tmp___52 = __builtin_constant_p((resource->uri_data)->uri);
              if (tmp___52) {
                if ((unsigned int )((void const   *)((resource->uri_data)->uri + 1)) -
                    (unsigned int )((void const   *)(resource->uri_data)->uri) ==
                    1U) {
                  __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)(resource->uri_data)->uri) +
                                                          0)) - (int const   )(*((unsigned char const   *)uri +
                                                                                 0)));
                  if (__s2_len > 0U) {
                    if (__result___45 == 0) {
                      __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)(resource->uri_data)->uri) +
                                                              1)) - (int const   )(*((unsigned char const   *)uri +
                                                                                     1)));
                      if (__s2_len > 1U) {
                        if (__result___45 == 0) {
                          __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)(resource->uri_data)->uri) +
                                                                  2)) - (int const   )(*((unsigned char const   *)uri +
                                                                                         2)));
                          if (__s2_len > 2U) {
                            if (__result___45 == 0) {
                              __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)(resource->uri_data)->uri) +
                                                                      3)) - (int const   )(*((unsigned char const   *)uri +
                                                                                             3)));
                            } else {
                              goto _L___161;
                            }
                          } else {
                            _L___161: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___162;
                        }
                      } else {
                        _L___162: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___163;
                    }
                  } else {
                    _L___163: /* CIL Label */ ;
                  }
                  tmp___29 = __result___45;
                } else {
                  goto _L___167;
                }
              } else {
                _L___167: /* CIL Label */ 
                __s1___14 = (unsigned char const   *)((char const   *)(resource->uri_data)->uri);
                __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)uri +
                                                                                           0)));
                if (__s2_len > 0U) {
                  if (__result___46 == 0) {
                    __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)uri +
                                                                                               1)));
                    if (__s2_len > 1U) {
                      if (__result___46 == 0) {
                        __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                               (int const   )(*((unsigned char const   *)uri +
                                                                2)));
                        if (__s2_len > 2U) {
                          if (__result___46 == 0) {
                            __result___46 = (int )((int const   )(*(__s1___14 + 3)) -
                                                   (int const   )(*((unsigned char const   *)uri +
                                                                    3)));
                          } else {
                            goto _L___164;
                          }
                        } else {
                          _L___164: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___165;
                      }
                    } else {
                      _L___165: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___166;
                  }
                } else {
                  _L___166: /* CIL Label */ ;
                }
                tmp___29 = __result___46;
              }
            } else {
              goto _L___169;
            }
          } else {
            goto _L___169;
          }
        } else {
          _L___169: /* CIL Label */ 
          tmp___29 = strcmp((char const   *)(resource->uri_data)->uri, uri);
        }
      }
    }
    if (tmp___29) {
      goto do_next;
    }
    tmp___352 = __builtin_constant_p(post1);
    if (tmp___352) {
      if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
        tmp___353 = strEmpty;
      } else {
        tmp___353 = (char const   *)(resource->uri_data)->post;
      }
      tmp___354 = __builtin_constant_p(tmp___353);
      if (tmp___354) {
        __s1_len___0 = strlen(post1);
        if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
          tmp___355 = strEmpty;
        } else {
          tmp___355 = (char const   *)(resource->uri_data)->post;
        }
        __s2_len___0 = strlen(tmp___355);
        if (! ((unsigned int )((void const   *)(post1 + 1)) - (unsigned int )((void const   *)post1) ==
               1U)) {
          goto _L___350;
        } else {
          if (__s1_len___0 >= 4U) {
            _L___350: /* CIL Label */ 
            if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
              tmp___356 = strEmpty;
            } else {
              tmp___356 = (char const   *)(resource->uri_data)->post;
            }
            if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
              tmp___357 = strEmpty;
            } else {
              tmp___357 = (char const   *)(resource->uri_data)->post;
            }
            if ((unsigned int )((void const   *)(tmp___356 + 1)) - (unsigned int )((void const   *)tmp___357) ==
                1U) {
              if (__s2_len___0 >= 4U) {
                _L___349: /* CIL Label */ 
                tmp___358 = 1;
              } else {
                goto _L___348;
              }
            } else {
              goto _L___349;
            }
          } else {
            _L___348: /* CIL Label */ 
            tmp___358 = 0;
          }
        }
        if (tmp___358) {
          if (__s1_len___0 < __s2_len___0) {
            tmp___210 = __s1_len___0;
          } else {
            tmp___210 = __s2_len___0;
          }
          if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
            tmp___211 = strEmpty;
          } else {
            tmp___211 = (char const   *)(resource->uri_data)->post;
          }
          tmp___209 = memcmp((void const   *)post1, (void const   *)tmp___211, tmp___210 +
                                                                               1U);
        } else {
          goto _L___352;
        }
      } else {
        goto _L___352;
      }
    } else {
      _L___352: /* CIL Label */ 
      tmp___351 = __builtin_constant_p(post1);
      if (tmp___351) {
        if ((unsigned int )((void const   *)(post1 + 1)) - (unsigned int )((void const   *)post1) ==
            1U) {
          __s1_len___0 = strlen(post1);
          if (__s1_len___0 < 4U) {
            if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
              tmp___297 = strEmpty;
            } else {
              tmp___297 = (char const   *)(resource->uri_data)->post;
            }
            tmp___298 = __builtin_constant_p(tmp___297);
            if (tmp___298) {
              if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                tmp___299 = strEmpty;
              } else {
                tmp___299 = (char const   *)(resource->uri_data)->post;
              }
              if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                tmp___300 = strEmpty;
              } else {
                tmp___300 = (char const   *)(resource->uri_data)->post;
              }
              if ((unsigned int )((void const   *)(tmp___299 + 1)) - (unsigned int )((void const   *)tmp___300) ==
                  1U) {
                if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                  tmp___292 = strEmpty;
                } else {
                  tmp___292 = (char const   *)(resource->uri_data)->post;
                }
                __result___85 = (int )((int const   )(*((unsigned char const   *)post1 +
                                                        0)) - (int const   )(*((unsigned char const   *)tmp___292 +
                                                                               0)));
                if (__s1_len___0 > 0U) {
                  if (__result___85 == 0) {
                    if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                      tmp___293 = strEmpty;
                    } else {
                      tmp___293 = (char const   *)(resource->uri_data)->post;
                    }
                    __result___85 = (int )((int const   )(*((unsigned char const   *)post1 +
                                                            1)) - (int const   )(*((unsigned char const   *)tmp___293 +
                                                                                   1)));
                    if (__s1_len___0 > 1U) {
                      if (__result___85 == 0) {
                        if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                          tmp___294 = strEmpty;
                        } else {
                          tmp___294 = (char const   *)(resource->uri_data)->post;
                        }
                        __result___85 = (int )((int const   )(*((unsigned char const   *)post1 +
                                                                2)) - (int const   )(*((unsigned char const   *)tmp___294 +
                                                                                       2)));
                        if (__s1_len___0 > 2U) {
                          if (__result___85 == 0) {
                            if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                              tmp___295 = strEmpty;
                            } else {
                              tmp___295 = (char const   *)(resource->uri_data)->post;
                            }
                            __result___85 = (int )((int const   )(*((unsigned char const   *)post1 +
                                                                    3)) - (int const   )(*((unsigned char const   *)tmp___295 +
                                                                                           3)));
                          } else {
                            goto _L___311;
                          }
                        } else {
                          _L___311: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___312;
                      }
                    } else {
                      _L___312: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___313;
                  }
                } else {
                  _L___313: /* CIL Label */ ;
                }
                tmp___209 = __result___85;
              } else {
                goto _L___317;
              }
            } else {
              _L___317: /* CIL Label */ 
              if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                tmp___296 = strEmpty;
              } else {
                tmp___296 = (char const   *)(resource->uri_data)->post;
              }
              __s2___14 = (unsigned char const   *)tmp___296;
              __result___86 = (int )((int const   )(*((unsigned char const   *)post1 +
                                                      0)) - (int const   )(*(__s2___14 +
                                                                             0)));
              if (__s1_len___0 > 0U) {
                if (__result___86 == 0) {
                  __result___86 = (int )((int const   )(*((unsigned char const   *)post1 +
                                                          1)) - (int const   )(*(__s2___14 +
                                                                                 1)));
                  if (__s1_len___0 > 1U) {
                    if (__result___86 == 0) {
                      __result___86 = (int )((int const   )(*((unsigned char const   *)post1 +
                                                              2)) - (int const   )(*(__s2___14 +
                                                                                     2)));
                      if (__s1_len___0 > 2U) {
                        if (__result___86 == 0) {
                          __result___86 = (int )((int const   )(*((unsigned char const   *)post1 +
                                                                  3)) - (int const   )(*(__s2___14 +
                                                                                         3)));
                        } else {
                          goto _L___314;
                        }
                      } else {
                        _L___314: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___315;
                    }
                  } else {
                    _L___315: /* CIL Label */ ;
                  }
                } else {
                  goto _L___316;
                }
              } else {
                _L___316: /* CIL Label */ ;
              }
              tmp___209 = __result___86;
            }
          } else {
            goto _L___347;
          }
        } else {
          goto _L___347;
        }
      } else {
        _L___347: /* CIL Label */ 
        if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
          tmp___346 = strEmpty;
        } else {
          tmp___346 = (char const   *)(resource->uri_data)->post;
        }
        tmp___347 = __builtin_constant_p(tmp___346);
        if (tmp___347) {
          if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
            tmp___348 = strEmpty;
          } else {
            tmp___348 = (char const   *)(resource->uri_data)->post;
          }
          if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
            tmp___349 = strEmpty;
          } else {
            tmp___349 = (char const   *)(resource->uri_data)->post;
          }
          if ((unsigned int )((void const   *)(tmp___348 + 1)) - (unsigned int )((void const   *)tmp___349) ==
              1U) {
            if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
              tmp___350 = strEmpty;
            } else {
              tmp___350 = (char const   *)(resource->uri_data)->post;
            }
            __s2_len___0 = strlen(tmp___350);
            if (__s2_len___0 < 4U) {
              tmp___344 = __builtin_constant_p(post1);
              if (tmp___344) {
                if ((unsigned int )((void const   *)(post1 + 1)) - (unsigned int )((void const   *)post1) ==
                    1U) {
                  if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                    tmp___336 = strEmpty;
                  } else {
                    tmp___336 = (char const   *)(resource->uri_data)->post;
                  }
                  __result___93 = (int )((int const   )(*((unsigned char const   *)post1 +
                                                          0)) - (int const   )(*((unsigned char const   *)tmp___336 +
                                                                                 0)));
                  if (__s2_len___0 > 0U) {
                    if (__result___93 == 0) {
                      if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                        tmp___337 = strEmpty;
                      } else {
                        tmp___337 = (char const   *)(resource->uri_data)->post;
                      }
                      __result___93 = (int )((int const   )(*((unsigned char const   *)post1 +
                                                              1)) - (int const   )(*((unsigned char const   *)tmp___337 +
                                                                                     1)));
                      if (__s2_len___0 > 1U) {
                        if (__result___93 == 0) {
                          if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                            tmp___338 = strEmpty;
                          } else {
                            tmp___338 = (char const   *)(resource->uri_data)->post;
                          }
                          __result___93 = (int )((int const   )(*((unsigned char const   *)post1 +
                                                                  2)) - (int const   )(*((unsigned char const   *)tmp___338 +
                                                                                         2)));
                          if (__s2_len___0 > 2U) {
                            if (__result___93 == 0) {
                              if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                                tmp___339 = strEmpty;
                              } else {
                                tmp___339 = (char const   *)(resource->uri_data)->post;
                              }
                              __result___93 = (int )((int const   )(*((unsigned char const   *)post1 +
                                                                      3)) - (int const   )(*((unsigned char const   *)tmp___339 +
                                                                                             3)));
                            } else {
                              goto _L___337;
                            }
                          } else {
                            _L___337: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___338;
                        }
                      } else {
                        _L___338: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___339;
                    }
                  } else {
                    _L___339: /* CIL Label */ ;
                  }
                  tmp___209 = __result___93;
                } else {
                  goto _L___343;
                }
              } else {
                _L___343: /* CIL Label */ 
                __s1___30 = (unsigned char const   *)post1;
                if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                  tmp___340 = strEmpty;
                } else {
                  tmp___340 = (char const   *)(resource->uri_data)->post;
                }
                __result___94 = (int )((int const   )(*(__s1___30 + 0)) - (int const   )(*((unsigned char const   *)tmp___340 +
                                                                                           0)));
                if (__s2_len___0 > 0U) {
                  if (__result___94 == 0) {
                    if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                      tmp___341 = strEmpty;
                    } else {
                      tmp___341 = (char const   *)(resource->uri_data)->post;
                    }
                    __result___94 = (int )((int const   )(*(__s1___30 + 1)) - (int const   )(*((unsigned char const   *)tmp___341 +
                                                                                               1)));
                    if (__s2_len___0 > 1U) {
                      if (__result___94 == 0) {
                        if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                          tmp___342 = strEmpty;
                        } else {
                          tmp___342 = (char const   *)(resource->uri_data)->post;
                        }
                        __result___94 = (int )((int const   )(*(__s1___30 + 2)) -
                                               (int const   )(*((unsigned char const   *)tmp___342 +
                                                                2)));
                        if (__s2_len___0 > 2U) {
                          if (__result___94 == 0) {
                            if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
                              tmp___343 = strEmpty;
                            } else {
                              tmp___343 = (char const   *)(resource->uri_data)->post;
                            }
                            __result___94 = (int )((int const   )(*(__s1___30 + 3)) -
                                                   (int const   )(*((unsigned char const   *)tmp___343 +
                                                                    3)));
                          } else {
                            goto _L___340;
                          }
                        } else {
                          _L___340: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___341;
                      }
                    } else {
                      _L___341: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___342;
                  }
                } else {
                  _L___342: /* CIL Label */ ;
                }
                tmp___209 = __result___94;
              }
            } else {
              goto _L___345;
            }
          } else {
            goto _L___345;
          }
        } else {
          _L___345: /* CIL Label */ 
          if ((unsigned int )(resource->uri_data)->post == (unsigned int )((void *)0)) {
            tmp___345 = strEmpty;
          } else {
            tmp___345 = (char const   *)(resource->uri_data)->post;
          }
          tmp___209 = strcmp(post1, tmp___345);
        }
      }
    }
    if (tmp___209) {
      goto do_next;
    }
    attach_resource_to_request(request, resource);
    return (resource);
    do_next: 
    resource = resource->next;
  }
  try_disk: ;
  out: 
  return ((tResource *)((void *)0));
}
}
static char *download_buf  =    (char *)((void *)0);
static size_t download_buf_size  ;
static void resource_provide_room(tResource *resource , char **dest , size_t *size ,
                                  size_t desired_size , unsigned char flags ) 
{ tCantent *cantent ;
  tContentblock *lastcontent ;
  size_t s ;
  tBoolean is_download ;
  int tmp ;
  size_t usable ;
  size_t used ;
  size_t ocbs ;
  size_t tmp___0 ;
  tContentblock const   *block ;
  tContentblock const   *tmp___1 ;

  {
  cantent = resource->cantent;
  if (resource->flags & 128U) {
    tmp = 1;
  } else {
    tmp = 0;
  }
  is_download = (tBoolean )tmp;
  if (! is_download) {
    lastcontent = cantent->lastcontent;
    if ((unsigned int )lastcontent != (unsigned int )((void *)0)) {
      usable = lastcontent->usable;
      used = lastcontent->used;
      if (used < usable) {
        (*dest) = lastcontent->data + used;
        (*size) = usable - used;
        return;
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  if ((int )flags & 1) {
    if (desired_size > 0U) {
      s = desired_size;
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ 
    if ((int )flags & 2) {
      s = optimal_contentblocksize(desired_size);
    } else {
      tmp___0 = optimal_contentblocksize(0U);
      ocbs = tmp___0;
      if (desired_size > ocbs) {
        s = desired_size;
      } else {
        s = ocbs;
      }
    }
  }
  if (is_download) {
    if ((unsigned int )download_buf == (unsigned int )((void *)0)) {
      download_buf_size = 4096U;
    }
    if (download_buf_size < s) {
      if (download_buf_size < 131072U) {
        while (1) {
          if (download_buf_size < s) {
            if (! (download_buf_size < 131072U)) {
              goto _L___1;
            }
          } else {
            _L___1: /* CIL Label */ 
            break;
          }
          download_buf_size <<= 1;
        }
        while (1) {
          if ((unsigned int )download_buf != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)download_buf);
            download_buf = (char *)((void *)0);
          }
          break;
        }
      } else {
        goto _L___2;
      }
    } else {
      _L___2: /* CIL Label */ ;
    }
    if ((unsigned int )download_buf == (unsigned int )((void *)0)) {
      download_buf = (char *)__memory_allocate_ll(download_buf_size);
    }
    (*dest) = download_buf;
    (*size) = download_buf_size;
  } else {
    tmp___1 = cantent_append_new_contentblock(cantent, s);
    block = tmp___1;
    (*dest) = block->data;
    (*size) = block->usable;
  }
  return;
}
}
static void resource_record(tResource *resource , char const   *data , size_t size ) 
{ int fd ;
  ssize_t err ;
  ssize_t tmp ;
  int *tmp___0 ;
  tResourceError tmp___1 ;

  {
  if (resource->flags & 128U) {
    fd = (resource->sinking_data)->download_fd;
    tmp = my_write(fd, (void const   *)data, size);
    err = tmp;
    if (err < 0) {
      tmp___0 = __errno_location();
      tmp___1 = conn_err2error((*tmp___0));
      resource_set_error(resource, tmp___1);
    }
    if ((unsigned int )data == (unsigned int )download_buf) {
      if (size >= download_buf_size) {
        if (download_buf_size < 131072U) {
          download_buf_size <<= 1;
          memory_deallocate_ll((void const   *)download_buf);
          download_buf = (char *)__memory_allocate_ll(download_buf_size);
        }
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ ;
    }
  } else {
    ((resource->cantent)->lastcontent)->used = ((resource->cantent)->lastcontent)->used +
                                               size;
    do_save_as(resource, data, size);
  }
  resource->bytecount = resource->bytecount + size;
  if (resource->flags & 32U) {
    got_activity = (unsigned char)1;
  }
  return;
}
}
static void resource_collect(tResource *resource , char const   *src , size_t size ) 
{ size_t available_size ;
  size_t copy_size ;
  tBoolean did_loop ;
  char *dest ;

  {
  if (resource->flags & 128U) {
    resource_record(resource, src, size);
  } else {
    did_loop = (tBoolean )0;
    loop: 
    resource_provide_room(resource, & dest, & available_size, size, (unsigned char)0);
    if (size < available_size) {
      copy_size = size;
    } else {
      copy_size = available_size;
    }
    memcpy((void * __restrict  )dest, (void const   * __restrict  )src, copy_size);
    src += copy_size;
    size -= copy_size;
    resource_record(resource, (char const   *)dest, copy_size);
    if (size > 0U) {
      if (! did_loop) {
        did_loop = (unsigned char)1;
        goto loop;
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ ;
    }
  }
  return;
}
}
__inline static void resource_collect_str(tResource *resource , char const   *str ) 
{ size_t tmp ;

  {
  tmp = strlen(str);
  resource_collect(resource, str, tmp);
  return;
}
}
static void resource_collect_title2(tResource *resource , char const   *h___0 , char const   *b ) 
{ char buf___2[4096] ;
  char *spfbuf ;

  {
  my_spf(buf___2, 4096U, & spfbuf, strHtmlPageTitle, h___0, b);
  resource_collect_str(resource, (char const   *)spfbuf);
  while (1) {
    if ((unsigned int )(buf___2) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  return;
}
}
__inline static void resource_collect_title(tResource *resource , char const   *title ) 
{ 

  {
  resource_collect_title2(resource, title, title);
  return;
}
}
__inline static tCookie *cookie_allocate(void) 
{ tCookie *tmp ;

  {
  tmp = (tCookie *)__memory_allocate_ll(sizeof(tCookie ));
  return (tmp);
}
}
static void __cookie_deallocate(tCookie const   *cookie ) 
{ 

  {
  while (1) {
    if ((unsigned int )cookie->name != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)cookie->name);
    }
    break;
  }
  while (1) {
    if ((unsigned int )cookie->value != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)cookie->value);
    }
    break;
  }
  while (1) {
    if ((unsigned int )cookie->domain != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)cookie->domain);
    }
    break;
  }
  while (1) {
    if ((unsigned int )cookie->path != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)cookie->path);
    }
    break;
  }
  while (1) {
    if ((unsigned int )cookie->portstr != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)cookie->portstr);
    }
    break;
  }
  while (1) {
    if ((unsigned int )cookie->comment != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)cookie->comment);
    }
    break;
  }
  while (1) {
    if ((unsigned int )cookie->portlist != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)cookie->portlist);
    }
    break;
  }
  return;
}
}
__inline static void cookie_deallocate(tCookie const   *cookie ) 
{ 

  {
  __cookie_deallocate(cookie);
  memory_deallocate_ll((void const   *)cookie);
  return;
}
}
static tBoolean has_embedded_dots(char const   *str ) 
{ size_t len ;
  size_t tmp ;
  int tmp___1 ;
  char *tmp___2 ;

  {
  tmp = strlen(str);
  len = tmp;
  if (len < 3U) {
    return ((unsigned char)0);
  }
  tmp___2 = my_strnchr(str + 1, '.', (int )(len - 2U));
  if ((unsigned int )tmp___2 != (unsigned int )((void *)0)) {
    tmp___1 = 1;
  } else {
    tmp___1 = 0;
  }
  return ((unsigned char )tmp___1);
}
}
static char const   *effective_hostname(char const   *hostname , tBoolean want_copy ) 
{ char const   *tmp ;
  char *spfbuf ;
  char *tmp___1 ;

  {
  tmp___1 = strchr(hostname, '.');
  if ((unsigned int )tmp___1 != (unsigned int )((void *)0)) {
    if (want_copy) {
      tmp = my_strdup(hostname);
      return (tmp);
    } else {
      return (hostname);
    }
  } else {
    my_spf((char *)((void *)0), 0U, & spfbuf, "%s.local", hostname);
    return ((char const   *)spfbuf);
  }
}
}
static tBoolean is_hostname_numerical(char const   *hostname ) 
{ size_t len ;
  size_t tmp ;
  char a ;
  char z ;
  int tmp___0 ;

  {
  tmp = strlen(hostname);
  len = tmp;
  if (len > 0U) {
    a = (char )(*hostname);
    if ((int )a >= 48) {
      if ((int )a <= 57) {
        z = (char )(*(hostname + (len - 1U)));
        if ((int )z >= 48) {
          if ((int )z <= 57) {
            tmp___0 = 1;
          } else {
            goto _L___2;
          }
        } else {
          goto _L___2;
        }
      } else {
        goto _L___2;
      }
    } else {
      goto _L___2;
    }
  } else {
    _L___2: /* CIL Label */ 
    tmp___0 = 0;
  }
  return ((unsigned char )tmp___0);
}
}
static tBoolean cookie_domainmatch(char const   *A , char const   *B ) 
{ size_t __s1_len ;
  size_t __s2_len ;
  int tmp___29 ;
  size_t tmp___30 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___45 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;
  tBoolean tmp___58 ;
  tBoolean tmp___59 ;
  tBoolean tmp___60 ;

  {
  tmp___55 = __builtin_constant_p(A);
  if (tmp___55) {
    tmp___56 = __builtin_constant_p(B);
    if (tmp___56) {
      __s1_len = strlen(A);
      __s2_len = strlen(B);
      if (! ((unsigned int )((void const   *)(A + 1)) - (unsigned int )((void const   *)A) ==
             1U)) {
        goto _L___172;
      } else {
        if (__s1_len >= 4U) {
          _L___172: /* CIL Label */ 
          if (! ((unsigned int )((void const   *)(B + 1)) - (unsigned int )((void const   *)B) ==
                 1U)) {
            goto _L___171;
          } else {
            if (__s2_len >= 4U) {
              _L___171: /* CIL Label */ 
              tmp___57 = 1;
            } else {
              goto _L___170;
            }
          }
        } else {
          _L___170: /* CIL Label */ 
          tmp___57 = 0;
        }
      }
      if (tmp___57) {
        if (__s1_len < __s2_len) {
          tmp___30 = __s1_len;
        } else {
          tmp___30 = __s2_len;
        }
        tmp___29 = memcmp((void const   *)A, (void const   *)B, tmp___30 + 1U);
      } else {
        goto _L___174;
      }
    } else {
      goto _L___174;
    }
  } else {
    _L___174: /* CIL Label */ 
    tmp___54 = __builtin_constant_p(A);
    if (tmp___54) {
      if ((unsigned int )((void const   *)(A + 1)) - (unsigned int )((void const   *)A) ==
          1U) {
        __s1_len = strlen(A);
        if (__s1_len < 4U) {
          tmp___45 = __builtin_constant_p(B);
          if (tmp___45) {
            if ((unsigned int )((void const   *)(B + 1)) - (unsigned int )((void const   *)B) ==
                1U) {
              __result___37 = (int )((int const   )(*((unsigned char const   *)A +
                                                      0)) - (int const   )(*((unsigned char const   *)B +
                                                                             0)));
              if (__s1_len > 0U) {
                if (__result___37 == 0) {
                  __result___37 = (int )((int const   )(*((unsigned char const   *)A +
                                                          1)) - (int const   )(*((unsigned char const   *)B +
                                                                                 1)));
                  if (__s1_len > 1U) {
                    if (__result___37 == 0) {
                      __result___37 = (int )((int const   )(*((unsigned char const   *)A +
                                                              2)) - (int const   )(*((unsigned char const   *)B +
                                                                                     2)));
                      if (__s1_len > 2U) {
                        if (__result___37 == 0) {
                          __result___37 = (int )((int const   )(*((unsigned char const   *)A +
                                                                  3)) - (int const   )(*((unsigned char const   *)B +
                                                                                         3)));
                        } else {
                          goto _L___133;
                        }
                      } else {
                        _L___133: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___134;
                    }
                  } else {
                    _L___134: /* CIL Label */ ;
                  }
                } else {
                  goto _L___135;
                }
              } else {
                _L___135: /* CIL Label */ ;
              }
              tmp___29 = __result___37;
            } else {
              goto _L___139;
            }
          } else {
            _L___139: /* CIL Label */ 
            __s2___6 = (unsigned char const   *)B;
            __result___38 = (int )((int const   )(*((unsigned char const   *)A + 0)) -
                                   (int const   )(*(__s2___6 + 0)));
            if (__s1_len > 0U) {
              if (__result___38 == 0) {
                __result___38 = (int )((int const   )(*((unsigned char const   *)A +
                                                        1)) - (int const   )(*(__s2___6 +
                                                                               1)));
                if (__s1_len > 1U) {
                  if (__result___38 == 0) {
                    __result___38 = (int )((int const   )(*((unsigned char const   *)A +
                                                            2)) - (int const   )(*(__s2___6 +
                                                                                   2)));
                    if (__s1_len > 2U) {
                      if (__result___38 == 0) {
                        __result___38 = (int )((int const   )(*((unsigned char const   *)A +
                                                                3)) - (int const   )(*(__s2___6 +
                                                                                       3)));
                      } else {
                        goto _L___136;
                      }
                    } else {
                      _L___136: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___137;
                  }
                } else {
                  _L___137: /* CIL Label */ ;
                }
              } else {
                goto _L___138;
              }
            } else {
              _L___138: /* CIL Label */ ;
            }
            tmp___29 = __result___38;
          }
        } else {
          goto _L___169;
        }
      } else {
        goto _L___169;
      }
    } else {
      _L___169: /* CIL Label */ 
      tmp___53 = __builtin_constant_p(B);
      if (tmp___53) {
        if ((unsigned int )((void const   *)(B + 1)) - (unsigned int )((void const   *)B) ==
            1U) {
          __s2_len = strlen(B);
          if (__s2_len < 4U) {
            tmp___52 = __builtin_constant_p(A);
            if (tmp___52) {
              if ((unsigned int )((void const   *)(A + 1)) - (unsigned int )((void const   *)A) ==
                  1U) {
                __result___45 = (int )((int const   )(*((unsigned char const   *)A +
                                                        0)) - (int const   )(*((unsigned char const   *)B +
                                                                               0)));
                if (__s2_len > 0U) {
                  if (__result___45 == 0) {
                    __result___45 = (int )((int const   )(*((unsigned char const   *)A +
                                                            1)) - (int const   )(*((unsigned char const   *)B +
                                                                                   1)));
                    if (__s2_len > 1U) {
                      if (__result___45 == 0) {
                        __result___45 = (int )((int const   )(*((unsigned char const   *)A +
                                                                2)) - (int const   )(*((unsigned char const   *)B +
                                                                                       2)));
                        if (__s2_len > 2U) {
                          if (__result___45 == 0) {
                            __result___45 = (int )((int const   )(*((unsigned char const   *)A +
                                                                    3)) - (int const   )(*((unsigned char const   *)B +
                                                                                           3)));
                          } else {
                            goto _L___159;
                          }
                        } else {
                          _L___159: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___160;
                      }
                    } else {
                      _L___160: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___161;
                  }
                } else {
                  _L___161: /* CIL Label */ ;
                }
                tmp___29 = __result___45;
              } else {
                goto _L___165;
              }
            } else {
              _L___165: /* CIL Label */ 
              __s1___14 = (unsigned char const   *)A;
              __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)B +
                                                                                         0)));
              if (__s2_len > 0U) {
                if (__result___46 == 0) {
                  __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)B +
                                                                                             1)));
                  if (__s2_len > 1U) {
                    if (__result___46 == 0) {
                      __result___46 = (int )((int const   )(*(__s1___14 + 2)) - (int const   )(*((unsigned char const   *)B +
                                                                                                 2)));
                      if (__s2_len > 2U) {
                        if (__result___46 == 0) {
                          __result___46 = (int )((int const   )(*(__s1___14 + 3)) -
                                                 (int const   )(*((unsigned char const   *)B +
                                                                  3)));
                        } else {
                          goto _L___162;
                        }
                      } else {
                        _L___162: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___163;
                    }
                  } else {
                    _L___163: /* CIL Label */ ;
                  }
                } else {
                  goto _L___164;
                }
              } else {
                _L___164: /* CIL Label */ ;
              }
              tmp___29 = __result___46;
            }
          } else {
            goto _L___167;
          }
        } else {
          goto _L___167;
        }
      } else {
        _L___167: /* CIL Label */ 
        tmp___29 = strcmp(A, B);
      }
    }
  }
  if (! tmp___29) {
    return ((unsigned char)1);
  }
  if ((int const   )(*B) == 46) {
    tmp___58 = is_suffix(A, B);
    if (tmp___58) {
      tmp___59 = is_hostname_numerical(B + 1);
      if (tmp___59) {
        goto _L___177;
      } else {
        tmp___60 = is_hostname_numerical(A);
        if (tmp___60) {
          goto _L___177;
        } else {
          return ((unsigned char)1);
        }
      }
    } else {
      goto _L___177;
    }
  } else {
    _L___177: /* CIL Label */ ;
  }
  return ((unsigned char)0);
}
}
__inline static tBoolean cookie_pathmatch(char const   *P1 , char const   *P2 ) 
{ size_t len2 ;
  size_t tmp ;
  int tmp___131 ;
  size_t tmp___132 ;
  int tmp___198 ;
  size_t __s1_len___2 ;
  size_t __s2_len___2 ;
  int tmp___229 ;
  size_t tmp___230 ;
  register int __result___181 ;
  unsigned char const   *__s2___30 ;
  register int __result___182 ;
  int tmp___245 ;
  register int __result___189 ;
  unsigned char const   *__s1___62 ;
  register int __result___190 ;
  int tmp___252 ;
  int tmp___253 ;
  int tmp___254 ;
  int tmp___255 ;
  int tmp___256 ;
  int tmp___257 ;
  int tmp___258 ;
  int tmp___259 ;
  size_t tmp___260 ;
  int tmp___261 ;
  size_t tmp___262 ;

  {
  tmp = strlen(P2);
  len2 = tmp;
  tmp___132 = strlen(P1);
  if (len2 <= tmp___132) {
    tmp___258 = __builtin_constant_p(len2);
    if (tmp___258) {
      tmp___259 = __builtin_constant_p(P1);
      if (tmp___259) {
        tmp___260 = strlen(P1);
        if (tmp___260 < len2) {
          goto _L___708;
        } else {
          goto _L___710;
        }
      } else {
        _L___710: /* CIL Label */ 
        tmp___261 = __builtin_constant_p(P2);
        if (tmp___261) {
          tmp___262 = strlen(P2);
          if (tmp___262 < len2) {
            _L___708: /* CIL Label */ 
            tmp___255 = __builtin_constant_p(P1);
            if (tmp___255) {
              tmp___256 = __builtin_constant_p(P2);
              if (tmp___256) {
                __s1_len___2 = strlen(P1);
                __s2_len___2 = strlen(P2);
                if (! ((unsigned int )((void const   *)(P1 + 1)) - (unsigned int )((void const   *)P1) ==
                       1U)) {
                  goto _L___704;
                } else {
                  if (__s1_len___2 >= 4U) {
                    _L___704: /* CIL Label */ 
                    if (! ((unsigned int )((void const   *)(P2 + 1)) - (unsigned int )((void const   *)P2) ==
                           1U)) {
                      goto _L___703;
                    } else {
                      if (__s2_len___2 >= 4U) {
                        _L___703: /* CIL Label */ 
                        tmp___257 = 1;
                      } else {
                        goto _L___702;
                      }
                    }
                  } else {
                    _L___702: /* CIL Label */ 
                    tmp___257 = 0;
                  }
                }
                if (tmp___257) {
                  if (__s1_len___2 < __s2_len___2) {
                    tmp___230 = __s1_len___2;
                  } else {
                    tmp___230 = __s2_len___2;
                  }
                  tmp___229 = memcmp((void const   *)P1, (void const   *)P2, tmp___230 +
                                                                             1U);
                } else {
                  goto _L___706;
                }
              } else {
                goto _L___706;
              }
            } else {
              _L___706: /* CIL Label */ 
              tmp___254 = __builtin_constant_p(P1);
              if (tmp___254) {
                if ((unsigned int )((void const   *)(P1 + 1)) - (unsigned int )((void const   *)P1) ==
                    1U) {
                  __s1_len___2 = strlen(P1);
                  if (__s1_len___2 < 4U) {
                    tmp___245 = __builtin_constant_p(P2);
                    if (tmp___245) {
                      if ((unsigned int )((void const   *)(P2 + 1)) - (unsigned int )((void const   *)P2) ==
                          1U) {
                        __result___181 = (int )((int const   )(*((unsigned char const   *)P1 +
                                                                 0)) - (int const   )(*((unsigned char const   *)P2 +
                                                                                        0)));
                        if (__s1_len___2 > 0U) {
                          if (__result___181 == 0) {
                            __result___181 = (int )((int const   )(*((unsigned char const   *)P1 +
                                                                     1)) - (int const   )(*((unsigned char const   *)P2 +
                                                                                            1)));
                            if (__s1_len___2 > 1U) {
                              if (__result___181 == 0) {
                                __result___181 = (int )((int const   )(*((unsigned char const   *)P1 +
                                                                         2)) - (int const   )(*((unsigned char const   *)P2 +
                                                                                                2)));
                                if (__s1_len___2 > 2U) {
                                  if (__result___181 == 0) {
                                    __result___181 = (int )((int const   )(*((unsigned char const   *)P1 +
                                                                             3)) -
                                                            (int const   )(*((unsigned char const   *)P2 +
                                                                             3)));
                                  } else {
                                    goto _L___665;
                                  }
                                } else {
                                  _L___665: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___666;
                              }
                            } else {
                              _L___666: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___667;
                          }
                        } else {
                          _L___667: /* CIL Label */ ;
                        }
                        tmp___229 = __result___181;
                      } else {
                        goto _L___671;
                      }
                    } else {
                      _L___671: /* CIL Label */ 
                      __s2___30 = (unsigned char const   *)P2;
                      __result___182 = (int )((int const   )(*((unsigned char const   *)P1 +
                                                               0)) - (int const   )(*(__s2___30 +
                                                                                      0)));
                      if (__s1_len___2 > 0U) {
                        if (__result___182 == 0) {
                          __result___182 = (int )((int const   )(*((unsigned char const   *)P1 +
                                                                   1)) - (int const   )(*(__s2___30 +
                                                                                          1)));
                          if (__s1_len___2 > 1U) {
                            if (__result___182 == 0) {
                              __result___182 = (int )((int const   )(*((unsigned char const   *)P1 +
                                                                       2)) - (int const   )(*(__s2___30 +
                                                                                              2)));
                              if (__s1_len___2 > 2U) {
                                if (__result___182 == 0) {
                                  __result___182 = (int )((int const   )(*((unsigned char const   *)P1 +
                                                                           3)) - (int const   )(*(__s2___30 +
                                                                                                  3)));
                                } else {
                                  goto _L___668;
                                }
                              } else {
                                _L___668: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___669;
                            }
                          } else {
                            _L___669: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___670;
                        }
                      } else {
                        _L___670: /* CIL Label */ ;
                      }
                      tmp___229 = __result___182;
                    }
                  } else {
                    goto _L___701;
                  }
                } else {
                  goto _L___701;
                }
              } else {
                _L___701: /* CIL Label */ 
                tmp___253 = __builtin_constant_p(P2);
                if (tmp___253) {
                  if ((unsigned int )((void const   *)(P2 + 1)) - (unsigned int )((void const   *)P2) ==
                      1U) {
                    __s2_len___2 = strlen(P2);
                    if (__s2_len___2 < 4U) {
                      tmp___252 = __builtin_constant_p(P1);
                      if (tmp___252) {
                        if ((unsigned int )((void const   *)(P1 + 1)) - (unsigned int )((void const   *)P1) ==
                            1U) {
                          __result___189 = (int )((int const   )(*((unsigned char const   *)P1 +
                                                                   0)) - (int const   )(*((unsigned char const   *)P2 +
                                                                                          0)));
                          if (__s2_len___2 > 0U) {
                            if (__result___189 == 0) {
                              __result___189 = (int )((int const   )(*((unsigned char const   *)P1 +
                                                                       1)) - (int const   )(*((unsigned char const   *)P2 +
                                                                                              1)));
                              if (__s2_len___2 > 1U) {
                                if (__result___189 == 0) {
                                  __result___189 = (int )((int const   )(*((unsigned char const   *)P1 +
                                                                           2)) - (int const   )(*((unsigned char const   *)P2 +
                                                                                                  2)));
                                  if (__s2_len___2 > 2U) {
                                    if (__result___189 == 0) {
                                      __result___189 = (int )((int const   )(*((unsigned char const   *)P1 +
                                                                               3)) -
                                                              (int const   )(*((unsigned char const   *)P2 +
                                                                               3)));
                                    } else {
                                      goto _L___691;
                                    }
                                  } else {
                                    _L___691: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___692;
                                }
                              } else {
                                _L___692: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___693;
                            }
                          } else {
                            _L___693: /* CIL Label */ ;
                          }
                          tmp___229 = __result___189;
                        } else {
                          goto _L___697;
                        }
                      } else {
                        _L___697: /* CIL Label */ 
                        __s1___62 = (unsigned char const   *)P1;
                        __result___190 = (int )((int const   )(*(__s1___62 + 0)) -
                                                (int const   )(*((unsigned char const   *)P2 +
                                                                 0)));
                        if (__s2_len___2 > 0U) {
                          if (__result___190 == 0) {
                            __result___190 = (int )((int const   )(*(__s1___62 + 1)) -
                                                    (int const   )(*((unsigned char const   *)P2 +
                                                                     1)));
                            if (__s2_len___2 > 1U) {
                              if (__result___190 == 0) {
                                __result___190 = (int )((int const   )(*(__s1___62 +
                                                                         2)) - (int const   )(*((unsigned char const   *)P2 +
                                                                                                2)));
                                if (__s2_len___2 > 2U) {
                                  if (__result___190 == 0) {
                                    __result___190 = (int )((int const   )(*(__s1___62 +
                                                                             3)) -
                                                            (int const   )(*((unsigned char const   *)P2 +
                                                                             3)));
                                  } else {
                                    goto _L___694;
                                  }
                                } else {
                                  _L___694: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___695;
                              }
                            } else {
                              _L___695: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___696;
                          }
                        } else {
                          _L___696: /* CIL Label */ ;
                        }
                        tmp___229 = __result___190;
                      }
                    } else {
                      goto _L___699;
                    }
                  } else {
                    goto _L___699;
                  }
                } else {
                  _L___699: /* CIL Label */ 
                  tmp___229 = strcmp(P1, P2);
                }
              }
            }
            tmp___198 = tmp___229;
          } else {
            goto _L___709;
          }
        } else {
          _L___709: /* CIL Label */ 
          goto _L___707;
        }
      }
    } else {
      _L___707: /* CIL Label */ 
      tmp___198 = strncmp(P1, P2, len2);
    }
    if (tmp___198) {
      goto _L___711;
    } else {
      tmp___131 = 1;
    }
  } else {
    _L___711: /* CIL Label */ 
    tmp___131 = 0;
  }
  return ((unsigned char )tmp___131);
}
}
static tBoolean cookie_expired(tCookie *cookie ) 
{ tCookieFlags flags ;
  time_t tmp ;
  int tmp___0 ;

  {
  flags = cookie->flags;
  if (! ((int )flags & 2)) {
    if ((int )flags & 1) {
      tmp = my_time();
      if (cookie->expiry <= tmp) {
        cookie->flags = (unsigned char )((int )cookie->flags | 2);
        flags = cookie->flags;
      } else {
        goto _L___0;
      }
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  if ((int )flags & 2) {
    tmp___0 = 1;
  } else {
    tmp___0 = 0;
  }
  return ((unsigned char )tmp___0);
}
}
static void cookie_remove(tCachedHostInformation *hostinfo , tCookie const   *cookie ) 
{ tCookie *c ;
  tCookie *next ;

  {
  c = hostinfo->cookies;
  if (! ((unsigned int )c == (unsigned int )((void *)0))) {
    if ((unsigned int )c == (unsigned int )cookie) {
      hostinfo->cookies = cookie->next;
    } else {
      while (1) {
        next = c->next;
        if (! ((unsigned int )next != (unsigned int )((void *)0))) {
          break;
        }
        if ((unsigned int )next == (unsigned int )cookie) {
          c->next = cookie->next;
          break;
        }
        c = next;
      }
    }
  }
  cookie_deallocate(cookie);
  if ((int )hostinfo->cookiecount > 0) {
    hostinfo->cookiecount = (unsigned char )((int )hostinfo->cookiecount - 1);
  }
  return;
}
}
__inline static void cookie_remove_expired(tCachedHostInformation *hostinfo ) 
{ tCookie *cookie ;
  tCookie *next ;
  tBoolean tmp ;

  {
  cookie = hostinfo->cookies;
  while ((unsigned int )cookie != (unsigned int )((void *)0)) {
    next = cookie->next;
    tmp = cookie_expired(cookie);
    if (tmp) {
      cookie_remove(hostinfo, (tCookie const   *)cookie);
    }
    cookie = next;
  }
  return;
}
}
__inline static tCookie *cookie_lookup(tCachedHostInformation const   *hostinfo ,
                                       tCookie const   *cookie ) 
{ tCookie *c ;
  char const   *name ;
  char const   *domain ;
  char const   *tmp ;
  char const   *path ;
  char const   *tmp___0 ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___31 ;
  size_t tmp___32 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___47 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;
  int tmp___58 ;
  int tmp___59 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___203 ;
  size_t tmp___204 ;
  char const   *tmp___205 ;
  register int __result___85 ;
  char const   *tmp___282 ;
  char const   *tmp___283 ;
  char const   *tmp___284 ;
  char const   *tmp___285 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  char const   *tmp___286 ;
  char const   *tmp___287 ;
  char const   *tmp___288 ;
  char const   *tmp___289 ;
  int tmp___290 ;
  register int __result___93 ;
  char const   *tmp___322 ;
  char const   *tmp___323 ;
  char const   *tmp___324 ;
  char const   *tmp___325 ;
  unsigned char const   *__s1___30 ;
  char const   *tmp___326 ;
  register int __result___94 ;
  char const   *tmp___327 ;
  int tmp___328 ;
  char const   *tmp___329 ;
  char const   *tmp___330 ;
  char const   *tmp___331 ;
  int tmp___332 ;
  char const   *tmp___333 ;
  int tmp___334 ;
  char const   *tmp___335 ;
  char const   *tmp___336 ;
  char const   *tmp___337 ;
  char const   *tmp___338 ;
  int tmp___339 ;
  int tmp___340 ;
  char const   *tmp___341 ;
  char const   *tmp___342 ;
  char const   *tmp___343 ;
  int tmp___344 ;
  size_t __s1_len___1 ;
  size_t __s2_len___1 ;
  int tmp___488 ;
  size_t tmp___489 ;
  char const   *tmp___490 ;
  register int __result___133 ;
  char const   *tmp___567 ;
  char const   *tmp___568 ;
  char const   *tmp___569 ;
  char const   *tmp___570 ;
  unsigned char const   *__s2___22 ;
  register int __result___134 ;
  char const   *tmp___571 ;
  char const   *tmp___572 ;
  char const   *tmp___573 ;
  char const   *tmp___574 ;
  int tmp___575 ;
  register int __result___141 ;
  char const   *tmp___607 ;
  char const   *tmp___608 ;
  char const   *tmp___609 ;
  char const   *tmp___610 ;
  unsigned char const   *__s1___46 ;
  char const   *tmp___611 ;
  register int __result___142 ;
  char const   *tmp___612 ;
  int tmp___613 ;
  char const   *tmp___614 ;
  char const   *tmp___615 ;
  char const   *tmp___616 ;
  int tmp___617 ;
  char const   *tmp___618 ;
  int tmp___619 ;
  char const   *tmp___620 ;
  char const   *tmp___621 ;
  char const   *tmp___622 ;
  char const   *tmp___623 ;
  int tmp___624 ;
  int tmp___625 ;
  char const   *tmp___626 ;
  char const   *tmp___627 ;
  char const   *tmp___628 ;
  int tmp___629 ;

  {
  c = hostinfo->cookies;
  if ((unsigned int )c != (unsigned int )((void *)0)) {
    name = (char const   *)cookie->name;
    if ((unsigned int )cookie->domain == (unsigned int )((void *)0)) {
      tmp = strEmpty;
    } else {
      tmp = cookie->domain;
    }
    domain = tmp;
    if ((unsigned int )cookie->path == (unsigned int )((void *)0)) {
      tmp___0 = strEmpty;
    } else {
      tmp___0 = (char const   *)cookie->path;
    }
    path = tmp___0;
    while ((unsigned int )c != (unsigned int )((void *)0)) {
      tmp___57 = __builtin_constant_p(c->name);
      if (tmp___57) {
        tmp___58 = __builtin_constant_p(name);
        if (tmp___58) {
          __s1_len = strlen((char const   *)c->name);
          __s2_len = strlen(name);
          if (! ((unsigned int )((void const   *)(c->name + 1)) - (unsigned int )((void const   *)c->name) ==
                 1U)) {
            goto _L___172;
          } else {
            if (__s1_len >= 4U) {
              _L___172: /* CIL Label */ 
              if (! ((unsigned int )((void const   *)(name + 1)) - (unsigned int )((void const   *)name) ==
                     1U)) {
                goto _L___171;
              } else {
                if (__s2_len >= 4U) {
                  _L___171: /* CIL Label */ 
                  tmp___59 = 1;
                } else {
                  goto _L___170;
                }
              }
            } else {
              _L___170: /* CIL Label */ 
              tmp___59 = 0;
            }
          }
          if (tmp___59) {
            if (__s1_len < __s2_len) {
              tmp___32 = __s1_len;
            } else {
              tmp___32 = __s2_len;
            }
            tmp___31 = memcmp((void const   *)((char const   *)c->name), (void const   *)name,
                              tmp___32 + 1U);
          } else {
            goto _L___174;
          }
        } else {
          goto _L___174;
        }
      } else {
        _L___174: /* CIL Label */ 
        tmp___56 = __builtin_constant_p(c->name);
        if (tmp___56) {
          if ((unsigned int )((void const   *)(c->name + 1)) - (unsigned int )((void const   *)c->name) ==
              1U) {
            __s1_len = strlen((char const   *)c->name);
            if (__s1_len < 4U) {
              tmp___47 = __builtin_constant_p(name);
              if (tmp___47) {
                if ((unsigned int )((void const   *)(name + 1)) - (unsigned int )((void const   *)name) ==
                    1U) {
                  __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)c->name) +
                                                          0)) - (int const   )(*((unsigned char const   *)name +
                                                                                 0)));
                  if (__s1_len > 0U) {
                    if (__result___37 == 0) {
                      __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)c->name) +
                                                              1)) - (int const   )(*((unsigned char const   *)name +
                                                                                     1)));
                      if (__s1_len > 1U) {
                        if (__result___37 == 0) {
                          __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)c->name) +
                                                                  2)) - (int const   )(*((unsigned char const   *)name +
                                                                                         2)));
                          if (__s1_len > 2U) {
                            if (__result___37 == 0) {
                              __result___37 = (int )((int const   )(*((unsigned char const   *)((char const   *)c->name) +
                                                                      3)) - (int const   )(*((unsigned char const   *)name +
                                                                                             3)));
                            } else {
                              goto _L___133;
                            }
                          } else {
                            _L___133: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___134;
                        }
                      } else {
                        _L___134: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___135;
                    }
                  } else {
                    _L___135: /* CIL Label */ ;
                  }
                  tmp___31 = __result___37;
                } else {
                  goto _L___139;
                }
              } else {
                _L___139: /* CIL Label */ 
                __s2___6 = (unsigned char const   *)name;
                __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)c->name) +
                                                        0)) - (int const   )(*(__s2___6 +
                                                                               0)));
                if (__s1_len > 0U) {
                  if (__result___38 == 0) {
                    __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)c->name) +
                                                            1)) - (int const   )(*(__s2___6 +
                                                                                   1)));
                    if (__s1_len > 1U) {
                      if (__result___38 == 0) {
                        __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)c->name) +
                                                                2)) - (int const   )(*(__s2___6 +
                                                                                       2)));
                        if (__s1_len > 2U) {
                          if (__result___38 == 0) {
                            __result___38 = (int )((int const   )(*((unsigned char const   *)((char const   *)c->name) +
                                                                    3)) - (int const   )(*(__s2___6 +
                                                                                           3)));
                          } else {
                            goto _L___136;
                          }
                        } else {
                          _L___136: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___137;
                      }
                    } else {
                      _L___137: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___138;
                  }
                } else {
                  _L___138: /* CIL Label */ ;
                }
                tmp___31 = __result___38;
              }
            } else {
              goto _L___169;
            }
          } else {
            goto _L___169;
          }
        } else {
          _L___169: /* CIL Label */ 
          tmp___55 = __builtin_constant_p(name);
          if (tmp___55) {
            if ((unsigned int )((void const   *)(name + 1)) - (unsigned int )((void const   *)name) ==
                1U) {
              __s2_len = strlen(name);
              if (__s2_len < 4U) {
                tmp___54 = __builtin_constant_p(c->name);
                if (tmp___54) {
                  if ((unsigned int )((void const   *)(c->name + 1)) - (unsigned int )((void const   *)c->name) ==
                      1U) {
                    __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)c->name) +
                                                            0)) - (int const   )(*((unsigned char const   *)name +
                                                                                   0)));
                    if (__s2_len > 0U) {
                      if (__result___45 == 0) {
                        __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)c->name) +
                                                                1)) - (int const   )(*((unsigned char const   *)name +
                                                                                       1)));
                        if (__s2_len > 1U) {
                          if (__result___45 == 0) {
                            __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)c->name) +
                                                                    2)) - (int const   )(*((unsigned char const   *)name +
                                                                                           2)));
                            if (__s2_len > 2U) {
                              if (__result___45 == 0) {
                                __result___45 = (int )((int const   )(*((unsigned char const   *)((char const   *)c->name) +
                                                                        3)) - (int const   )(*((unsigned char const   *)name +
                                                                                               3)));
                              } else {
                                goto _L___159;
                              }
                            } else {
                              _L___159: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___160;
                          }
                        } else {
                          _L___160: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___161;
                      }
                    } else {
                      _L___161: /* CIL Label */ ;
                    }
                    tmp___31 = __result___45;
                  } else {
                    goto _L___165;
                  }
                } else {
                  _L___165: /* CIL Label */ 
                  __s1___14 = (unsigned char const   *)((char const   *)c->name);
                  __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)name +
                                                                                             0)));
                  if (__s2_len > 0U) {
                    if (__result___46 == 0) {
                      __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)name +
                                                                                                 1)));
                      if (__s2_len > 1U) {
                        if (__result___46 == 0) {
                          __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                                 (int const   )(*((unsigned char const   *)name +
                                                                  2)));
                          if (__s2_len > 2U) {
                            if (__result___46 == 0) {
                              __result___46 = (int )((int const   )(*(__s1___14 +
                                                                      3)) - (int const   )(*((unsigned char const   *)name +
                                                                                             3)));
                            } else {
                              goto _L___162;
                            }
                          } else {
                            _L___162: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___163;
                        }
                      } else {
                        _L___163: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___164;
                    }
                  } else {
                    _L___164: /* CIL Label */ ;
                  }
                  tmp___31 = __result___46;
                }
              } else {
                goto _L___167;
              }
            } else {
              goto _L___167;
            }
          } else {
            _L___167: /* CIL Label */ 
            tmp___31 = strcmp((char const   *)c->name, name);
          }
        }
      }
      if (tmp___31) {
        _L___528: /* CIL Label */ ;
      } else {
        if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
          tmp___338 = strEmpty;
        } else {
          tmp___338 = c->domain;
        }
        tmp___339 = __builtin_constant_p(tmp___338);
        if (tmp___339) {
          tmp___340 = __builtin_constant_p(domain);
          if (tmp___340) {
            if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
              tmp___341 = strEmpty;
            } else {
              tmp___341 = c->domain;
            }
            __s1_len___0 = strlen(tmp___341);
            __s2_len___0 = strlen(domain);
            if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
              tmp___342 = strEmpty;
            } else {
              tmp___342 = c->domain;
            }
            if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
              tmp___343 = strEmpty;
            } else {
              tmp___343 = c->domain;
            }
            if ((unsigned int )((void const   *)(tmp___342 + 1)) - (unsigned int )((void const   *)tmp___343) ==
                1U) {
              if (__s1_len___0 >= 4U) {
                _L___348: /* CIL Label */ 
                if (! ((unsigned int )((void const   *)(domain + 1)) - (unsigned int )((void const   *)domain) ==
                       1U)) {
                  goto _L___347;
                } else {
                  if (__s2_len___0 >= 4U) {
                    _L___347: /* CIL Label */ 
                    tmp___344 = 1;
                  } else {
                    goto _L___346;
                  }
                }
              } else {
                _L___346: /* CIL Label */ 
                tmp___344 = 0;
              }
            } else {
              goto _L___348;
            }
            if (tmp___344) {
              if (__s1_len___0 < __s2_len___0) {
                tmp___204 = __s1_len___0;
              } else {
                tmp___204 = __s2_len___0;
              }
              if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                tmp___205 = strEmpty;
              } else {
                tmp___205 = c->domain;
              }
              tmp___203 = memcmp((void const   *)tmp___205, (void const   *)domain,
                                 tmp___204 + 1U);
            } else {
              goto _L___350;
            }
          } else {
            goto _L___350;
          }
        } else {
          _L___350: /* CIL Label */ 
          if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
            tmp___333 = strEmpty;
          } else {
            tmp___333 = c->domain;
          }
          tmp___334 = __builtin_constant_p(tmp___333);
          if (tmp___334) {
            if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
              tmp___335 = strEmpty;
            } else {
              tmp___335 = c->domain;
            }
            if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
              tmp___336 = strEmpty;
            } else {
              tmp___336 = c->domain;
            }
            if ((unsigned int )((void const   *)(tmp___335 + 1)) - (unsigned int )((void const   *)tmp___336) ==
                1U) {
              if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                tmp___337 = strEmpty;
              } else {
                tmp___337 = c->domain;
              }
              __s1_len___0 = strlen(tmp___337);
              if (__s1_len___0 < 4U) {
                tmp___290 = __builtin_constant_p(domain);
                if (tmp___290) {
                  if ((unsigned int )((void const   *)(domain + 1)) - (unsigned int )((void const   *)domain) ==
                      1U) {
                    if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                      tmp___282 = strEmpty;
                    } else {
                      tmp___282 = c->domain;
                    }
                    __result___85 = (int )((int const   )(*((unsigned char const   *)tmp___282 +
                                                            0)) - (int const   )(*((unsigned char const   *)domain +
                                                                                   0)));
                    if (__s1_len___0 > 0U) {
                      if (__result___85 == 0) {
                        if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                          tmp___283 = strEmpty;
                        } else {
                          tmp___283 = c->domain;
                        }
                        __result___85 = (int )((int const   )(*((unsigned char const   *)tmp___283 +
                                                                1)) - (int const   )(*((unsigned char const   *)domain +
                                                                                       1)));
                        if (__s1_len___0 > 1U) {
                          if (__result___85 == 0) {
                            if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                              tmp___284 = strEmpty;
                            } else {
                              tmp___284 = c->domain;
                            }
                            __result___85 = (int )((int const   )(*((unsigned char const   *)tmp___284 +
                                                                    2)) - (int const   )(*((unsigned char const   *)domain +
                                                                                           2)));
                            if (__s1_len___0 > 2U) {
                              if (__result___85 == 0) {
                                if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                                  tmp___285 = strEmpty;
                                } else {
                                  tmp___285 = c->domain;
                                }
                                __result___85 = (int )((int const   )(*((unsigned char const   *)tmp___285 +
                                                                        3)) - (int const   )(*((unsigned char const   *)domain +
                                                                                               3)));
                              } else {
                                goto _L___309;
                              }
                            } else {
                              _L___309: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___310;
                          }
                        } else {
                          _L___310: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___311;
                      }
                    } else {
                      _L___311: /* CIL Label */ ;
                    }
                    tmp___203 = __result___85;
                  } else {
                    goto _L___315;
                  }
                } else {
                  _L___315: /* CIL Label */ 
                  __s2___14 = (unsigned char const   *)domain;
                  if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                    tmp___286 = strEmpty;
                  } else {
                    tmp___286 = c->domain;
                  }
                  __result___86 = (int )((int const   )(*((unsigned char const   *)tmp___286 +
                                                          0)) - (int const   )(*(__s2___14 +
                                                                                 0)));
                  if (__s1_len___0 > 0U) {
                    if (__result___86 == 0) {
                      if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                        tmp___287 = strEmpty;
                      } else {
                        tmp___287 = c->domain;
                      }
                      __result___86 = (int )((int const   )(*((unsigned char const   *)tmp___287 +
                                                              1)) - (int const   )(*(__s2___14 +
                                                                                     1)));
                      if (__s1_len___0 > 1U) {
                        if (__result___86 == 0) {
                          if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                            tmp___288 = strEmpty;
                          } else {
                            tmp___288 = c->domain;
                          }
                          __result___86 = (int )((int const   )(*((unsigned char const   *)tmp___288 +
                                                                  2)) - (int const   )(*(__s2___14 +
                                                                                         2)));
                          if (__s1_len___0 > 2U) {
                            if (__result___86 == 0) {
                              if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                                tmp___289 = strEmpty;
                              } else {
                                tmp___289 = c->domain;
                              }
                              __result___86 = (int )((int const   )(*((unsigned char const   *)tmp___289 +
                                                                      3)) - (int const   )(*(__s2___14 +
                                                                                             3)));
                            } else {
                              goto _L___312;
                            }
                          } else {
                            _L___312: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___313;
                        }
                      } else {
                        _L___313: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___314;
                    }
                  } else {
                    _L___314: /* CIL Label */ ;
                  }
                  tmp___203 = __result___86;
                }
              } else {
                goto _L___345;
              }
            } else {
              goto _L___345;
            }
          } else {
            _L___345: /* CIL Label */ 
            tmp___332 = __builtin_constant_p(domain);
            if (tmp___332) {
              if ((unsigned int )((void const   *)(domain + 1)) - (unsigned int )((void const   *)domain) ==
                  1U) {
                __s2_len___0 = strlen(domain);
                if (__s2_len___0 < 4U) {
                  if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                    tmp___327 = strEmpty;
                  } else {
                    tmp___327 = c->domain;
                  }
                  tmp___328 = __builtin_constant_p(tmp___327);
                  if (tmp___328) {
                    if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                      tmp___329 = strEmpty;
                    } else {
                      tmp___329 = c->domain;
                    }
                    if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                      tmp___330 = strEmpty;
                    } else {
                      tmp___330 = c->domain;
                    }
                    if ((unsigned int )((void const   *)(tmp___329 + 1)) - (unsigned int )((void const   *)tmp___330) ==
                        1U) {
                      if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                        tmp___322 = strEmpty;
                      } else {
                        tmp___322 = c->domain;
                      }
                      __result___93 = (int )((int const   )(*((unsigned char const   *)tmp___322 +
                                                              0)) - (int const   )(*((unsigned char const   *)domain +
                                                                                     0)));
                      if (__s2_len___0 > 0U) {
                        if (__result___93 == 0) {
                          if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                            tmp___323 = strEmpty;
                          } else {
                            tmp___323 = c->domain;
                          }
                          __result___93 = (int )((int const   )(*((unsigned char const   *)tmp___323 +
                                                                  1)) - (int const   )(*((unsigned char const   *)domain +
                                                                                         1)));
                          if (__s2_len___0 > 1U) {
                            if (__result___93 == 0) {
                              if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                                tmp___324 = strEmpty;
                              } else {
                                tmp___324 = c->domain;
                              }
                              __result___93 = (int )((int const   )(*((unsigned char const   *)tmp___324 +
                                                                      2)) - (int const   )(*((unsigned char const   *)domain +
                                                                                             2)));
                              if (__s2_len___0 > 2U) {
                                if (__result___93 == 0) {
                                  if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                                    tmp___325 = strEmpty;
                                  } else {
                                    tmp___325 = c->domain;
                                  }
                                  __result___93 = (int )((int const   )(*((unsigned char const   *)tmp___325 +
                                                                          3)) - (int const   )(*((unsigned char const   *)domain +
                                                                                                 3)));
                                } else {
                                  goto _L___335;
                                }
                              } else {
                                _L___335: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___336;
                            }
                          } else {
                            _L___336: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___337;
                        }
                      } else {
                        _L___337: /* CIL Label */ ;
                      }
                      tmp___203 = __result___93;
                    } else {
                      goto _L___341;
                    }
                  } else {
                    _L___341: /* CIL Label */ 
                    if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                      tmp___326 = strEmpty;
                    } else {
                      tmp___326 = c->domain;
                    }
                    __s1___30 = (unsigned char const   *)tmp___326;
                    __result___94 = (int )((int const   )(*(__s1___30 + 0)) - (int const   )(*((unsigned char const   *)domain +
                                                                                               0)));
                    if (__s2_len___0 > 0U) {
                      if (__result___94 == 0) {
                        __result___94 = (int )((int const   )(*(__s1___30 + 1)) -
                                               (int const   )(*((unsigned char const   *)domain +
                                                                1)));
                        if (__s2_len___0 > 1U) {
                          if (__result___94 == 0) {
                            __result___94 = (int )((int const   )(*(__s1___30 + 2)) -
                                                   (int const   )(*((unsigned char const   *)domain +
                                                                    2)));
                            if (__s2_len___0 > 2U) {
                              if (__result___94 == 0) {
                                __result___94 = (int )((int const   )(*(__s1___30 +
                                                                        3)) - (int const   )(*((unsigned char const   *)domain +
                                                                                               3)));
                              } else {
                                goto _L___338;
                              }
                            } else {
                              _L___338: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___339;
                          }
                        } else {
                          _L___339: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___340;
                      }
                    } else {
                      _L___340: /* CIL Label */ ;
                    }
                    tmp___203 = __result___94;
                  }
                } else {
                  goto _L___343;
                }
              } else {
                goto _L___343;
              }
            } else {
              _L___343: /* CIL Label */ 
              if ((unsigned int )c->domain == (unsigned int )((void *)0)) {
                tmp___331 = strEmpty;
              } else {
                tmp___331 = c->domain;
              }
              tmp___203 = strcmp(tmp___331, domain);
            }
          }
        }
        if (tmp___203) {
          goto _L___528;
        } else {
          if ((unsigned int )c->path == (unsigned int )((void *)0)) {
            tmp___623 = strEmpty;
          } else {
            tmp___623 = (char const   *)c->path;
          }
          tmp___624 = __builtin_constant_p(tmp___623);
          if (tmp___624) {
            tmp___625 = __builtin_constant_p(path);
            if (tmp___625) {
              if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                tmp___626 = strEmpty;
              } else {
                tmp___626 = (char const   *)c->path;
              }
              __s1_len___1 = strlen(tmp___626);
              __s2_len___1 = strlen(path);
              if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                tmp___627 = strEmpty;
              } else {
                tmp___627 = (char const   *)c->path;
              }
              if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                tmp___628 = strEmpty;
              } else {
                tmp___628 = (char const   *)c->path;
              }
              if ((unsigned int )((void const   *)(tmp___627 + 1)) - (unsigned int )((void const   *)tmp___628) ==
                  1U) {
                if (__s1_len___1 >= 4U) {
                  _L___524: /* CIL Label */ 
                  if (! ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                         1U)) {
                    goto _L___523;
                  } else {
                    if (__s2_len___1 >= 4U) {
                      _L___523: /* CIL Label */ 
                      tmp___629 = 1;
                    } else {
                      goto _L___522;
                    }
                  }
                } else {
                  _L___522: /* CIL Label */ 
                  tmp___629 = 0;
                }
              } else {
                goto _L___524;
              }
              if (tmp___629) {
                if (__s1_len___1 < __s2_len___1) {
                  tmp___489 = __s1_len___1;
                } else {
                  tmp___489 = __s2_len___1;
                }
                if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                  tmp___490 = strEmpty;
                } else {
                  tmp___490 = (char const   *)c->path;
                }
                tmp___488 = memcmp((void const   *)tmp___490, (void const   *)path,
                                   tmp___489 + 1U);
              } else {
                goto _L___526;
              }
            } else {
              goto _L___526;
            }
          } else {
            _L___526: /* CIL Label */ 
            if ((unsigned int )c->path == (unsigned int )((void *)0)) {
              tmp___618 = strEmpty;
            } else {
              tmp___618 = (char const   *)c->path;
            }
            tmp___619 = __builtin_constant_p(tmp___618);
            if (tmp___619) {
              if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                tmp___620 = strEmpty;
              } else {
                tmp___620 = (char const   *)c->path;
              }
              if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                tmp___621 = strEmpty;
              } else {
                tmp___621 = (char const   *)c->path;
              }
              if ((unsigned int )((void const   *)(tmp___620 + 1)) - (unsigned int )((void const   *)tmp___621) ==
                  1U) {
                if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                  tmp___622 = strEmpty;
                } else {
                  tmp___622 = (char const   *)c->path;
                }
                __s1_len___1 = strlen(tmp___622);
                if (__s1_len___1 < 4U) {
                  tmp___575 = __builtin_constant_p(path);
                  if (tmp___575) {
                    if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                        1U) {
                      if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                        tmp___567 = strEmpty;
                      } else {
                        tmp___567 = (char const   *)c->path;
                      }
                      __result___133 = (int )((int const   )(*((unsigned char const   *)tmp___567 +
                                                               0)) - (int const   )(*((unsigned char const   *)path +
                                                                                      0)));
                      if (__s1_len___1 > 0U) {
                        if (__result___133 == 0) {
                          if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                            tmp___568 = strEmpty;
                          } else {
                            tmp___568 = (char const   *)c->path;
                          }
                          __result___133 = (int )((int const   )(*((unsigned char const   *)tmp___568 +
                                                                   1)) - (int const   )(*((unsigned char const   *)path +
                                                                                          1)));
                          if (__s1_len___1 > 1U) {
                            if (__result___133 == 0) {
                              if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                                tmp___569 = strEmpty;
                              } else {
                                tmp___569 = (char const   *)c->path;
                              }
                              __result___133 = (int )((int const   )(*((unsigned char const   *)tmp___569 +
                                                                       2)) - (int const   )(*((unsigned char const   *)path +
                                                                                              2)));
                              if (__s1_len___1 > 2U) {
                                if (__result___133 == 0) {
                                  if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                                    tmp___570 = strEmpty;
                                  } else {
                                    tmp___570 = (char const   *)c->path;
                                  }
                                  __result___133 = (int )((int const   )(*((unsigned char const   *)tmp___570 +
                                                                           3)) - (int const   )(*((unsigned char const   *)path +
                                                                                                  3)));
                                } else {
                                  goto _L___485;
                                }
                              } else {
                                _L___485: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___486;
                            }
                          } else {
                            _L___486: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___487;
                        }
                      } else {
                        _L___487: /* CIL Label */ ;
                      }
                      tmp___488 = __result___133;
                    } else {
                      goto _L___491;
                    }
                  } else {
                    _L___491: /* CIL Label */ 
                    __s2___22 = (unsigned char const   *)path;
                    if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                      tmp___571 = strEmpty;
                    } else {
                      tmp___571 = (char const   *)c->path;
                    }
                    __result___134 = (int )((int const   )(*((unsigned char const   *)tmp___571 +
                                                             0)) - (int const   )(*(__s2___22 +
                                                                                    0)));
                    if (__s1_len___1 > 0U) {
                      if (__result___134 == 0) {
                        if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                          tmp___572 = strEmpty;
                        } else {
                          tmp___572 = (char const   *)c->path;
                        }
                        __result___134 = (int )((int const   )(*((unsigned char const   *)tmp___572 +
                                                                 1)) - (int const   )(*(__s2___22 +
                                                                                        1)));
                        if (__s1_len___1 > 1U) {
                          if (__result___134 == 0) {
                            if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                              tmp___573 = strEmpty;
                            } else {
                              tmp___573 = (char const   *)c->path;
                            }
                            __result___134 = (int )((int const   )(*((unsigned char const   *)tmp___573 +
                                                                     2)) - (int const   )(*(__s2___22 +
                                                                                            2)));
                            if (__s1_len___1 > 2U) {
                              if (__result___134 == 0) {
                                if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                                  tmp___574 = strEmpty;
                                } else {
                                  tmp___574 = (char const   *)c->path;
                                }
                                __result___134 = (int )((int const   )(*((unsigned char const   *)tmp___574 +
                                                                         3)) - (int const   )(*(__s2___22 +
                                                                                                3)));
                              } else {
                                goto _L___488;
                              }
                            } else {
                              _L___488: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___489;
                          }
                        } else {
                          _L___489: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___490;
                      }
                    } else {
                      _L___490: /* CIL Label */ ;
                    }
                    tmp___488 = __result___134;
                  }
                } else {
                  goto _L___521;
                }
              } else {
                goto _L___521;
              }
            } else {
              _L___521: /* CIL Label */ 
              tmp___617 = __builtin_constant_p(path);
              if (tmp___617) {
                if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                    1U) {
                  __s2_len___1 = strlen(path);
                  if (__s2_len___1 < 4U) {
                    if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                      tmp___612 = strEmpty;
                    } else {
                      tmp___612 = (char const   *)c->path;
                    }
                    tmp___613 = __builtin_constant_p(tmp___612);
                    if (tmp___613) {
                      if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                        tmp___614 = strEmpty;
                      } else {
                        tmp___614 = (char const   *)c->path;
                      }
                      if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                        tmp___615 = strEmpty;
                      } else {
                        tmp___615 = (char const   *)c->path;
                      }
                      if ((unsigned int )((void const   *)(tmp___614 + 1)) - (unsigned int )((void const   *)tmp___615) ==
                          1U) {
                        if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                          tmp___607 = strEmpty;
                        } else {
                          tmp___607 = (char const   *)c->path;
                        }
                        __result___141 = (int )((int const   )(*((unsigned char const   *)tmp___607 +
                                                                 0)) - (int const   )(*((unsigned char const   *)path +
                                                                                        0)));
                        if (__s2_len___1 > 0U) {
                          if (__result___141 == 0) {
                            if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                              tmp___608 = strEmpty;
                            } else {
                              tmp___608 = (char const   *)c->path;
                            }
                            __result___141 = (int )((int const   )(*((unsigned char const   *)tmp___608 +
                                                                     1)) - (int const   )(*((unsigned char const   *)path +
                                                                                            1)));
                            if (__s2_len___1 > 1U) {
                              if (__result___141 == 0) {
                                if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                                  tmp___609 = strEmpty;
                                } else {
                                  tmp___609 = (char const   *)c->path;
                                }
                                __result___141 = (int )((int const   )(*((unsigned char const   *)tmp___609 +
                                                                         2)) - (int const   )(*((unsigned char const   *)path +
                                                                                                2)));
                                if (__s2_len___1 > 2U) {
                                  if (__result___141 == 0) {
                                    if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                                      tmp___610 = strEmpty;
                                    } else {
                                      tmp___610 = (char const   *)c->path;
                                    }
                                    __result___141 = (int )((int const   )(*((unsigned char const   *)tmp___610 +
                                                                             3)) -
                                                            (int const   )(*((unsigned char const   *)path +
                                                                             3)));
                                  } else {
                                    goto _L___511;
                                  }
                                } else {
                                  _L___511: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___512;
                              }
                            } else {
                              _L___512: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___513;
                          }
                        } else {
                          _L___513: /* CIL Label */ ;
                        }
                        tmp___488 = __result___141;
                      } else {
                        goto _L___517;
                      }
                    } else {
                      _L___517: /* CIL Label */ 
                      if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                        tmp___611 = strEmpty;
                      } else {
                        tmp___611 = (char const   *)c->path;
                      }
                      __s1___46 = (unsigned char const   *)tmp___611;
                      __result___142 = (int )((int const   )(*(__s1___46 + 0)) - (int const   )(*((unsigned char const   *)path +
                                                                                                  0)));
                      if (__s2_len___1 > 0U) {
                        if (__result___142 == 0) {
                          __result___142 = (int )((int const   )(*(__s1___46 + 1)) -
                                                  (int const   )(*((unsigned char const   *)path +
                                                                   1)));
                          if (__s2_len___1 > 1U) {
                            if (__result___142 == 0) {
                              __result___142 = (int )((int const   )(*(__s1___46 +
                                                                       2)) - (int const   )(*((unsigned char const   *)path +
                                                                                              2)));
                              if (__s2_len___1 > 2U) {
                                if (__result___142 == 0) {
                                  __result___142 = (int )((int const   )(*(__s1___46 +
                                                                           3)) - (int const   )(*((unsigned char const   *)path +
                                                                                                  3)));
                                } else {
                                  goto _L___514;
                                }
                              } else {
                                _L___514: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___515;
                            }
                          } else {
                            _L___515: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___516;
                        }
                      } else {
                        _L___516: /* CIL Label */ ;
                      }
                      tmp___488 = __result___142;
                    }
                  } else {
                    goto _L___519;
                  }
                } else {
                  goto _L___519;
                }
              } else {
                _L___519: /* CIL Label */ 
                if ((unsigned int )c->path == (unsigned int )((void *)0)) {
                  tmp___616 = strEmpty;
                } else {
                  tmp___616 = (char const   *)c->path;
                }
                tmp___488 = strcmp(tmp___616, path);
              }
            }
          }
          if (tmp___488) {
            goto _L___528;
          } else {
            break;
          }
        }
      }
      c = c->next;
    }
  }
  return (c);
}
}
static tBoolean cookie_config_allows(tResource const   *resource ) 
{ tBoolean retval ;
  tConfigCookie const   *cc ;
  tCachedHostInformation const   *hostinfo ;
  char const   *hostname ;
  char const   *pattern___0 ;
  tBoolean tmp ;

  {
  retval = (tBoolean )0;
  switch ((int )resource->protocol) {
  case 2: 
  cc = (tConfigCookie const   *)config.http_cookies;
  break;
  default: 
  cc = (tConfigCookie const   *)((void *)0);
  break;
  }
  if ((unsigned int )cc == (unsigned int )((void *)0)) {
    goto out;
  }
  hostinfo = (tCachedHostInformation const   *)(resource->textual_hppi)->host;
  if ((unsigned int )hostinfo == (unsigned int )((void *)0)) {
    goto out;
  }
  hostname = hostinfo->hostname;
  if ((unsigned int )hostname == (unsigned int )((void *)0)) {
    goto _L;
  } else {
    if ((int const   )(*hostname) == 0) {
      _L: /* CIL Label */ 
      goto out;
    }
  }
  while ((unsigned int )cc != (unsigned int )((void *)0)) {
    pattern___0 = cc->hosts_pattern;
    if ((unsigned int )pattern___0 != (unsigned int )((void *)0)) {
      tmp = my_pattern_matcher(pattern___0, hostname);
      if (tmp) {
        if ((int )cc->flags & 1) {
          retval = (unsigned char)1;
        }
        break;
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ ;
    }
    cc = (tConfigCookie const   *)cc->next;
  }
  out: 
  return (retval);
}
}
static struct __anonstruct_month_table_119  const  month_table[12]  = 
  {      {"april", (unsigned char)4, (unsigned char)5, (unsigned char)31}, 
        {"august", (unsigned char)8, (unsigned char)6, (unsigned char)28}, 
        {"december", (unsigned char)12, (unsigned char)8, (unsigned char)31}, 
        {"february", (unsigned char)2, (unsigned char)8, (unsigned char)30}, 
        {"january", (unsigned char)1, (unsigned char)7, (unsigned char)31}, 
        {"july", (unsigned char)7, (unsigned char)4, (unsigned char)30}, 
        {"june", (unsigned char)6, (unsigned char)4, (unsigned char)31}, 
        {"march", (unsigned char)3, (unsigned char)5, (unsigned char)31}, 
        {"may", (unsigned char)5, (unsigned char)3, (unsigned char)30}, 
        {"november", (unsigned char)11, (unsigned char)8, (unsigned char)31}, 
        {"october", (unsigned char)10, (unsigned char)7, (unsigned char)30}, 
        {"september", (unsigned char)9, (unsigned char)9, (unsigned char)31}};
__inline static unsigned char month_maxday(unsigned char month , unsigned short year ) 
{ unsigned char maxday ;

  {
  maxday = month_table[(int )month - 1].monthlength;
  if ((int )month == 2) {
    if ((int )year % 4 == 0) {
      if ((int )year % 400 == 0) {
        goto _L___1;
      } else {
        if (! ((int )year % 100 == 0)) {
          _L___1: /* CIL Label */ 
          maxday = (unsigned char )((int )maxday + 1);
        } else {
          goto _L___0;
        }
      }
    } else {
      _L___0: /* CIL Label */ 
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  return (maxday);
}
}
__inline static unsigned short dmy2yday(unsigned char day , unsigned char month ,
                                        unsigned short year ) ;
static unsigned short const   daysum[12]  = 
  {      (unsigned short const   )0,      (unsigned short const   )31,      (unsigned short const   )59,      (unsigned short const   )90, 
        (unsigned short const   )120,      (unsigned short const   )151,      (unsigned short const   )181,      (unsigned short const   )212, 
        (unsigned short const   )243,      (unsigned short const   )273,      (unsigned short const   )304,      (unsigned short const   )334};
__inline static unsigned short dmy2yday(unsigned char day , unsigned char month ,
                                        unsigned short year ) 
{ unsigned short yday ;

  {
  yday = (unsigned short )daysum[(int )month - 1];
  if ((int )month > 2) {
    if ((int )year % 4 == 0) {
      if ((int )year % 400 == 0) {
        goto _L___1;
      } else {
        if (! ((int )year % 100 == 0)) {
          _L___1: /* CIL Label */ 
          yday = (unsigned short )((int )yday + 1);
        } else {
          goto _L___0;
        }
      }
    } else {
      _L___0: /* CIL Label */ 
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  yday = (unsigned short )((int )yday + (int )day);
  yday = (unsigned short )((int )yday - 1);
  return (yday);
}
}
__inline static tMbsIndex parse_month_long(char const   *str ) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )11;
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    res = streqcase3(str, month_table[idx].name);
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
__inline static tMbsIndex parse_month_short(char const   *str ) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )11;
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    res = strneqcase3(str, month_table[idx].name, 3U);
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
static long localtime_offset  =    (time_t )0;
__inline static tBoolean do_parse_datetime(char const   *str , char const   *pattern___0 ,
                                           time_t *_t ) 
{ char const   *s ;
  char const   *p ;
  time_t t ;
  time_t tm_year ;
  char ch ;
  unsigned short year ;
  unsigned short yday ;
  unsigned char day ;
  unsigned char month ;
  unsigned char timepart[3] ;
  unsigned char hour ;
  unsigned char minute ;
  unsigned char second ;
  char const   *tmp ;
  char const   *tmp___0 ;
  char const   *tmp___1 ;
  tMbsIndex idx ;
  unsigned char i ;
  char const   *tmp___2 ;
  unsigned short i___0 ;
  char const   *tmp___3 ;
  char const   *tmp___4 ;
  char const   *tmp___5 ;
  char const   *tmp___6 ;
  unsigned char maxday ;
  unsigned char tmp___7 ;

  {
  s = str;
  p = pattern___0;
  yday = (unsigned short)0;
  year = yday;
  second = (unsigned char)0;
  minute = second;
  hour = minute;
  timepart[2] = hour;
  timepart[1] = timepart[2];
  timepart[0] = timepart[1];
  month = timepart[0];
  day = month;
  while (1) {
    tmp___6 = p;
    p ++;
    ch = (char )(*tmp___6);
    if (! ((int )ch != 0)) {
      break;
    }
    if ((int )ch == 119) {
      if ((int const   )(*s) >= 97) {
        if ((int const   )(*s) <= 122) {
          goto _L___2;
        } else {
          goto _L___4;
        }
      } else {
        _L___4: /* CIL Label */ 
        if ((int const   )(*s) >= 65) {
          if ((int const   )(*s) <= 90) {
            _L___2: /* CIL Label */ 
            while (1) {
              s ++;
              if ((int const   )(*s) >= 97) {
                if ((int const   )(*s) <= 122) {
                  goto _L;
                } else {
                  goto _L___1;
                }
              } else {
                _L___1: /* CIL Label */ 
                if ((int const   )(*s) >= 65) {
                  if ((int const   )(*s) <= 90) {
                    _L: /* CIL Label */ ;
                  } else {
                    goto _L___0;
                  }
                } else {
                  _L___0: /* CIL Label */ 
                  break;
                }
              }
            }
          } else {
            goto _L___3;
          }
        } else {
          _L___3: /* CIL Label */ 
          goto failed;
        }
      }
    } else {
      if ((int )ch == 87) {
        if ((int const   )(*s) >= 97) {
          if ((int const   )(*s) <= 122) {
            goto _L___11;
          } else {
            goto _L___13;
          }
        } else {
          _L___13: /* CIL Label */ 
          if ((int const   )(*s) >= 65) {
            if ((int const   )(*s) <= 90) {
              _L___11: /* CIL Label */ 
              while (1) {
                s ++;
                if ((int const   )(*s) >= 97) {
                  if ((int const   )(*s) <= 122) {
                    goto _L___5;
                  } else {
                    goto _L___7;
                  }
                } else {
                  _L___7: /* CIL Label */ 
                  if ((int const   )(*s) >= 65) {
                    if ((int const   )(*s) <= 90) {
                      _L___5: /* CIL Label */ ;
                    } else {
                      goto _L___6;
                    }
                  } else {
                    _L___6: /* CIL Label */ 
                    break;
                  }
                }
              }
              tmp = s;
              s ++;
              if ((int const   )(*tmp) != 44) {
                goto failed;
              }
              while (1) {
                if ((int const   )(*s) == 32) {
                  goto _L___10;
                } else {
                  if ((int const   )(*s) == 9) {
                    _L___10: /* CIL Label */ 
                    goto _L___9;
                  } else {
                    if ((int const   )(*s) == 13) {
                      _L___9: /* CIL Label */ 
                      goto _L___8;
                    } else {
                      if ((int const   )(*s) == 10) {
                        _L___8: /* CIL Label */ ;
                      } else {
                        break;
                      }
                    }
                  }
                }
                s ++;
              }
            } else {
              goto _L___12;
            }
          } else {
            _L___12: /* CIL Label */ ;
          }
        }
      } else {
        if ((int )ch == 100) {
          if ((int const   )(*s) >= 48) {
            if (! ((int const   )(*s) <= 57)) {
              goto _L___14;
            }
          } else {
            _L___14: /* CIL Label */ 
            goto failed;
          }
          tmp___0 = s;
          s ++;
          day = (unsigned char )((int const   )(*tmp___0) - 48);
          if ((int const   )(*s) >= 48) {
            if ((int const   )(*s) <= 57) {
              tmp___1 = s;
              s ++;
              day = (unsigned char )(10 * (int )day + (int )((int const   )(*tmp___1) -
                                                             48));
            } else {
              goto _L___15;
            }
          } else {
            _L___15: /* CIL Label */ ;
          }
        } else {
          if ((int )ch == 109) {
            if ((int const   )(*s) >= 97) {
              if ((int const   )(*s) <= 122) {
                goto _L___16;
              } else {
                goto _L___18;
              }
            } else {
              _L___18: /* CIL Label */ 
              if ((int const   )(*s) >= 65) {
                if ((int const   )(*s) <= 90) {
                  _L___16: /* CIL Label */ ;
                } else {
                  goto _L___17;
                }
              } else {
                _L___17: /* CIL Label */ 
                goto failed;
              }
            }
            idx = parse_month_long(s);
            if ((int )idx >= 0) {
              s += (int )month_table[idx].namelen;
            } else {
              idx = parse_month_short(s);
              if ((int )idx < 0) {
                goto failed;
              }
              s += 3;
            }
            month = month_table[idx].monthnumber;
          } else {
            if ((int )ch == 121) {
              if ((int const   )(*s) >= 48) {
                if (! ((int const   )(*s) <= 57)) {
                  goto _L___19;
                }
              } else {
                _L___19: /* CIL Label */ 
                goto failed;
              }
              i = (unsigned char)0;
              yearloop: 
              tmp___2 = s;
              s ++;
              year = (unsigned short )(10 * (int )year + (int )((int const   )(*tmp___2) -
                                                                48));
              if ((int )i < 3) {
                if ((int const   )(*s) >= 48) {
                  if ((int const   )(*s) <= 57) {
                    i = (unsigned char )((int )i + 1);
                    goto yearloop;
                  } else {
                    goto _L___21;
                  }
                } else {
                  _L___21: /* CIL Label */ 
                  goto _L___20;
                }
              } else {
                _L___20: /* CIL Label */ ;
              }
              if ((int )year <= 49) {
                year = (unsigned short )((int )year + 2000);
              } else {
                if ((int )year <= 999) {
                  year = (unsigned short )((int )year + 1900);
                }
              }
            } else {
              if ((int )ch == 116) {
                handle_time: 
                i___0 = (unsigned short)0;
                timeloop: 
                if ((int const   )(*s) >= 48) {
                  if (! ((int const   )(*s) <= 57)) {
                    goto _L___22;
                  }
                } else {
                  _L___22: /* CIL Label */ 
                  goto failed;
                }
                tmp___3 = s;
                s ++;
                timepart[i___0] = (unsigned char )((int const   )(*tmp___3) - 48);
                if ((int const   )(*s) >= 48) {
                  if ((int const   )(*s) <= 57) {
                    tmp___4 = s;
                    s ++;
                    timepart[i___0] = (unsigned char )(10 * (int )timepart[i___0] +
                                                       (int )((int const   )(*tmp___4) -
                                                              48));
                  } else {
                    goto _L___23;
                  }
                } else {
                  _L___23: /* CIL Label */ ;
                }
                if ((int )i___0 < 2) {
                  if ((int const   )(*s) == 58) {
                    i___0 = (unsigned short )((int )i___0 + 1);
                    s ++;
                    goto timeloop;
                  } else {
                    goto _L___24;
                  }
                } else {
                  _L___24: /* CIL Label */ ;
                }
              } else {
                if ((int )ch == 84) {
                  while (1) {
                    if ((int const   )(*s) == 32) {
                      goto _L___27;
                    } else {
                      if ((int const   )(*s) == 9) {
                        _L___27: /* CIL Label */ 
                        goto _L___26;
                      } else {
                        if ((int const   )(*s) == 13) {
                          _L___26: /* CIL Label */ 
                          goto _L___25;
                        } else {
                          if ((int const   )(*s) == 10) {
                            _L___25: /* CIL Label */ ;
                          } else {
                            break;
                          }
                        }
                      }
                    }
                    s ++;
                  }
                  if ((int const   )(*s) >= 48) {
                    if ((int const   )(*s) <= 57) {
                      goto handle_time;
                    } else {
                      goto _L___28;
                    }
                  } else {
                    _L___28: /* CIL Label */ ;
                  }
                } else {
                  if ((int )ch == 32) {
                    if ((int const   )(*s) == 32) {
                      goto _L___34;
                    } else {
                      if ((int const   )(*s) == 9) {
                        _L___34: /* CIL Label */ 
                        goto _L___33;
                      } else {
                        if ((int const   )(*s) == 13) {
                          _L___33: /* CIL Label */ 
                          goto _L___32;
                        } else {
                          if ((int const   )(*s) == 10) {
                            _L___32: /* CIL Label */ 
                            while (1) {
                              s ++;
                              if ((int const   )(*s) == 32) {
                                goto _L___31;
                              } else {
                                if ((int const   )(*s) == 9) {
                                  _L___31: /* CIL Label */ 
                                  goto _L___30;
                                } else {
                                  if ((int const   )(*s) == 13) {
                                    _L___30: /* CIL Label */ 
                                    goto _L___29;
                                  } else {
                                    if ((int const   )(*s) == 10) {
                                      _L___29: /* CIL Label */ ;
                                    } else {
                                      break;
                                    }
                                  }
                                }
                              }
                            }
                          } else {
                            goto failed;
                          }
                        }
                      }
                    }
                  } else {
                    tmp___5 = s;
                    s ++;
                    if ((int const   )(*tmp___5) != (int const   )ch) {
                      goto failed;
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  if ((int )year < 2005) {
    t = 0L;
    goto done;
  } else {
    if ((int )year > 2020) {
      year = (unsigned short)2020;
    }
  }
  hour = timepart[0];
  minute = timepart[1];
  second = timepart[2];
  if ((int )hour > 23) {
    hour = (unsigned char)23;
  }
  if ((int )minute > 59) {
    minute = (unsigned char)59;
  }
  if ((int )second > 59) {
    second = (unsigned char)59;
  }
  if ((int )month <= 0) {
    month = (unsigned char)1;
  } else {
    if ((int )month > 12) {
      month = (unsigned char)12;
    }
  }
  if ((int )day <= 0) {
    day = (unsigned char)1;
  } else {
    tmp___7 = month_maxday(month, year);
    maxday = tmp___7;
    if ((int )day > (int )maxday) {
      day = maxday;
    }
  }
  yday = dmy2yday(day, month, year);
  tm_year = (long )((int )year - 1900);
  t = (((((((long )second + (long )minute * 60L) + (long )hour * 3600L) + (long )yday *
                                                                          86400L) +
         (tm_year - 70L) * 31536000L) + ((tm_year - 69L) / 4L) * 86400L) - ((tm_year -
                                                                             1L) /
                                                                            100L) *
                                                                           86400L) +
      ((tm_year + 299L) / 400L) * 86400L;
  t += localtime_offset;
  done: 
  (*_t) = t;
  return ((unsigned char)1);
  failed: 
  return ((unsigned char)0);
}
}
static tBoolean parse_datetime(char const   *str , time_t *t ) ;
static char const   * const  pattern[3]  = {      (char const   * const  )"Wd m yT",      (char const   * const  )"Wd-m-yT",      (char const   * const  )"w m d t y"};
static tBoolean parse_datetime(char const   *str , time_t *t ) 
{ unsigned char i ;
  tBoolean tmp ;

  {
  i = (unsigned char)0;
  while ((int )i < 3) {
    tmp = do_parse_datetime(str, (char const   *)pattern[i], t);
    if (tmp) {
      return ((unsigned char)1);
    }
    i = (unsigned char )((int )i + 1);
  }
  return ((unsigned char)0);
}
}
__inline static tBoolean cookie_accept_any(tResource const   *resource ) 
{ int tmp___0 ;
  tBoolean tmp___1 ;

  {
  tmp___1 = cookie_config_allows(resource);
  if (tmp___1) {
    if (! (resource->flags & 12U)) {
      tmp___0 = 1;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    tmp___0 = 0;
  }
  return ((unsigned char )tmp___0);
}
}
__inline static tBoolean cookie_storable_c(tCookie const   *cookie ) 
{ char const   *name ;
  char const   *value ;
  char const   *domain ;
  char const   *path ;
  char const   *portstr ;
  char const   *comment ;
  size_t tmp ;
  size_t tmp___0 ;
  size_t tmp___1 ;
  size_t tmp___2 ;
  size_t tmp___3 ;
  size_t tmp___4 ;

  {
  name = (char const   *)cookie->name;
  value = (char const   *)cookie->value;
  domain = cookie->domain;
  path = (char const   *)cookie->path;
  portstr = (char const   *)cookie->portstr;
  comment = (char const   *)cookie->comment;
  tmp = strlen(name);
  if (tmp > 10240U) {
    goto _L___7;
  } else {
    if ((unsigned int )value != (unsigned int )((void *)0)) {
      tmp___0 = strlen(value);
      if (tmp___0 > 10240U) {
        _L___7: /* CIL Label */ 
        goto _L___5;
      } else {
        goto _L___8;
      }
    } else {
      _L___8: /* CIL Label */ 
      if ((unsigned int )domain != (unsigned int )((void *)0)) {
        tmp___1 = strlen(domain);
        if (tmp___1 > 10240U) {
          _L___5: /* CIL Label */ 
          goto _L___3;
        } else {
          goto _L___6;
        }
      } else {
        _L___6: /* CIL Label */ 
        if ((unsigned int )path != (unsigned int )((void *)0)) {
          tmp___2 = strlen(path);
          if (tmp___2 > 10240U) {
            _L___3: /* CIL Label */ 
            goto _L___1;
          } else {
            goto _L___4;
          }
        } else {
          _L___4: /* CIL Label */ 
          if ((unsigned int )portstr != (unsigned int )((void *)0)) {
            tmp___3 = strlen(portstr);
            if (tmp___3 > 10240U) {
              _L___1: /* CIL Label */ 
              goto _L;
            } else {
              goto _L___2;
            }
          } else {
            _L___2: /* CIL Label */ 
            if ((unsigned int )comment != (unsigned int )((void *)0)) {
              tmp___4 = strlen(comment);
              if (tmp___4 > 10240U) {
                _L: /* CIL Label */ 
                return ((unsigned char)0);
              } else {
                goto _L___0;
              }
            } else {
              _L___0: /* CIL Label */ ;
            }
          }
        }
      }
    }
  }
  return ((unsigned char)1);
}
}
__inline static tBoolean cookie_storable_h(tCachedHostInformation *hostinfo ) 
{ tCookie *c ;
  tBoolean removed_one ;
  tBoolean tmp ;

  {
  if ((int )hostinfo->cookiecount <= 40) {
    return ((unsigned char)1);
  } else {
    c = hostinfo->cookies;
    removed_one = (tBoolean )0;
    while ((unsigned int )c != (unsigned int )((void *)0)) {
      tmp = cookie_expired(c);
      if (tmp) {
        cookie_remove(hostinfo, (tCookie const   *)c);
        removed_one = (unsigned char)1;
        break;
      }
      c = c->next;
    }
    return (removed_one);
  }
}
}
static void cookie_skip_whitespace(char const   **_ptr ) 
{ char const   *ptr___0 ;
  char ch ;

  {
  ptr___0 = (*_ptr);
  while (1) {
    ch = (char )(*ptr___0);
    if ((int )ch == 32) {
      goto _L___1;
    } else {
      if ((int )ch == 9) {
        _L___1: /* CIL Label */ 
        goto _L___0;
      } else {
        if ((int )ch == 13) {
          _L___0: /* CIL Label */ 
          goto _L;
        } else {
          if ((int )ch == 10) {
            _L: /* CIL Label */ ;
          } else {
            break;
          }
        }
      }
    }
    ptr___0 ++;
  }
  (*_ptr) = ptr___0;
  return;
}
}
static char const   * const  strCan[11]  = 
  {      (char const   * const  )(strA),      (char const   * const  )"comment",      (char const   * const  )"commenturl",      (char const   * const  )"discard", 
        (char const   * const  )(strDomain),      (char const   * const  )"expires",      (char const   * const  )"max-age",      (char const   * const  )"path", 
        (char const   * const  )"port",      (char const   * const  )"secure",      (char const   * const  )(strOptVersion + 2)};
__inline static tMbsIndex cookie_do_lookup_attrname(char const   *str ) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )10;
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    res = streqcase3(str, (char const   *)strCan[idx]);
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
__inline static tCookieAttributeName cookie_lookup_attrname(char const   *str ) 
{ tMbsIndex idx ;
  tMbsIndex tmp ;

  {
  tmp = cookie_do_lookup_attrname(str);
  idx = tmp;
  if ((int )idx < 0) {
    idx = (short)0;
  }
  return ((unsigned char )idx);
}
}
static char *cookie_token(char const   **_ptr , tBoolean is_value , tBoolean is_expires_value ) 
{ char const   *ptr___0 ;
  char const   *start ;
  char const   *ptr_wss ;
  char ch ;
  char *retval ;
  unsigned char *utemp ;
  unsigned char uch ;

  {
  ptr___0 = (*_ptr);
  ptr_wss = (char const   *)((void *)0);
  if (is_value) {
    if ((int const   )(*ptr___0) == 34) {
      ptr___0 ++;
      start = ptr___0;
      while (1) {
        ch = (char )(*ptr___0);
        if ((int )ch == 0) {
          goto _L;
        } else {
          if ((int )ch == 34) {
            _L: /* CIL Label */ 
            break;
          }
        }
        ptr___0 ++;
      }
      if ((int )ch == 34) {
        ptr_wss = ptr___0 + 1;
      }
    } else {
      goto _L___12;
    }
  } else {
    _L___12: /* CIL Label */ 
    start = ptr___0;
    while (1) {
      ch = (char )(*ptr___0);
      if ((int )ch == 0) {
        goto _L___6;
      } else {
        if ((int )ch == 59) {
          _L___6: /* CIL Label */ 
          goto _L___3;
        } else {
          if (! is_value) {
            if ((int )ch == 61) {
              goto _L___3;
            } else {
              if ((int )ch == 32) {
                goto _L___5;
              } else {
                if ((int )ch == 9) {
                  _L___5: /* CIL Label */ 
                  goto _L___4;
                } else {
                  if ((int )ch == 13) {
                    _L___4: /* CIL Label */ 
                    goto _L___3;
                  } else {
                    if ((int )ch == 10) {
                      _L___3: /* CIL Label */ 
                      break;
                    } else {
                      goto _L___1;
                    }
                  }
                }
              }
            }
          } else {
            _L___1: /* CIL Label */ ;
          }
        }
      }
      if ((int )ch == 44) {
        if (! is_expires_value) {
          break;
        } else {
          goto _L___7;
        }
      } else {
        _L___7: /* CIL Label */ ;
      }
      ptr___0 ++;
    }
    if (is_value) {
      if ((unsigned int )ptr___0 > (unsigned int )start) {
        ptr___0 --;
        while ((unsigned int )ptr___0 > (unsigned int )start) {
          ch = (char )(*ptr___0);
          if ((int )ch == 32) {
            goto _L___10;
          } else {
            if ((int )ch == 9) {
              _L___10: /* CIL Label */ 
              goto _L___9;
            } else {
              if ((int )ch == 13) {
                _L___9: /* CIL Label */ 
                goto _L___8;
              } else {
                if ((int )ch == 10) {
                  _L___8: /* CIL Label */ ;
                } else {
                  break;
                }
              }
            }
          }
          ptr___0 --;
        }
        ptr___0 ++;
      } else {
        goto _L___11;
      }
    } else {
      _L___11: /* CIL Label */ ;
    }
  }
  retval = my_strndup(start, (unsigned int )(ptr___0 - start));
  utemp = (unsigned char *)retval;
  while (1) {
    uch = (*utemp);
    if ((int )uch == 0) {
      break;
    } else {
      if ((int )uch < 32) {
        goto _L___13;
      } else {
        if ((int )uch == 127) {
          _L___13: /* CIL Label */ 
          (*utemp) = (unsigned char )'?';
        }
      }
    }
    utemp ++;
  }
  if ((unsigned int )ptr_wss != (unsigned int )((void *)0)) {
    ptr___0 = ptr_wss;
  }
  cookie_skip_whitespace(& ptr___0);
  (*_ptr) = ptr___0;
  return (retval);
}
}
__inline static void cookie_handle_text(tResource *resource , char const   *text ,
                                        tBoolean used_setcookie2 ) 
{ unsigned char canbits[2] ;
  tCachedHostInformation *hostinfo ;
  tCookie cookie ;
  tCookie *lcookie ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_123 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;
  void *__s___2 ;
  void *__s___3 ;
  union __anonunion___u_124___0 *__u___0 ;
  __uint8_t __c___0 ;
  void *__s___4 ;
  int tmp___0 ;
  char *attrname ;
  char *attrvalue ;
  tCookieAttributeName can ;
  int tmp___1 ;
  tBoolean is_uri ;
  int tmp___2 ;
  char const   *comment ;
  char *spfbuf ;
  char const   *tmp___3 ;
  char *d ;
  size_t tmp___4 ;
  char *tmp___5 ;
  char const   *_src ;
  char ch ;
  char *_dest ;
  char const   *tmp___6 ;
  char *tmp___7 ;
  time_t t ;
  tBoolean tmp___8 ;
  int i ;
  time_t tmp___9 ;
  char *s ;
  char *p ;
  tPortnumber portnum[100] ;
  unsigned short portcount ;
  char ch___0 ;
  int i___0 ;
  tPortnumber port ;
  register unsigned short __v ;
  register unsigned short __x ;
  int tmp___10 ;
  tBoolean found ;
  unsigned short count___2 ;
  unsigned short tmp___11 ;
  size_t size ;
  tPortnumber *pn ;
  tPortnumber *tmp___12 ;
  tPortnumber *p___0 ;
  int i___1 ;
  char const   *domain ;
  char const   *reshn ;
  tBoolean tmp___14 ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___36 ;
  size_t tmp___37 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  tBoolean tmp___56 ;
  char const   *eff ;
  char const   *tmp___57 ;
  tBoolean is_good ;
  tBoolean tmp___58 ;
  ssize_t pos ;
  size_t tmp___59 ;
  size_t tmp___60 ;
  tBoolean tmp___61 ;
  tBoolean tmp___62 ;
  char const   *uri_path ;
  char const   *tmp___63 ;
  size_t plen ;
  size_t tmp___64 ;
  size_t uri_plen ;
  size_t tmp___65 ;
  int tmp___131 ;
  size_t __s1_len___1 ;
  size_t __s2_len___1 ;
  int tmp___162 ;
  size_t tmp___163 ;
  register int __result___133 ;
  unsigned char const   *__s2___22 ;
  register int __result___134 ;
  int tmp___178 ;
  register int __result___141 ;
  unsigned char const   *__s1___46 ;
  register int __result___142 ;
  int tmp___185 ;
  int tmp___186 ;
  int tmp___187 ;
  int tmp___188 ;
  int tmp___189 ;
  int tmp___190 ;
  int tmp___191 ;
  int tmp___192 ;
  size_t tmp___193 ;
  int tmp___194 ;
  size_t tmp___195 ;
  tPortnumber resport ;
  tPortnumber const   *p___1 ;
  unsigned short i___2 ;
  tBoolean found___0 ;
  char const   *hostname ;
  char const   *tmp___196 ;
  char const   *path ;
  char const   *slash ;
  tBoolean tmp___197 ;
  tBoolean tmp___198 ;
  tBoolean tmp___199 ;
  tBoolean tmp___200 ;

  {
  hostinfo = (resource->textual_hppi)->host;
  if ((unsigned int )hostinfo == (unsigned int )((void *)0)) {
    return;
  }
  loop: 
  tmp = __builtin_constant_p(sizeof(cookie));
  if (tmp) {
    if (sizeof(cookie) <= 16U) {
      if (sizeof(cookie) == 1U) {
        __s___1 = (void *)(& cookie);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(& cookie);
        __u = (union __anonunion___u_123 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(cookie)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_123 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_123 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_123 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_123 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_123 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_123 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_123 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_123 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_123 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_123 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_123 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_123 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_123 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = (void *)(& cookie);
    __builtin_memset(__s, '\000', (int )sizeof(cookie));
  }
  tmp___0 = __builtin_constant_p(sizeof(canbits));
  if (tmp___0) {
    if (sizeof(canbits) <= 16U) {
      if (sizeof(canbits) == 1U) {
        __s___4 = (void *)(canbits);
        (*((__uint8_t *)__s___4)) = (unsigned char)0;
      } else {
        __s___3 = (void *)(canbits);
        __u___0 = (union __anonunion___u_124___0 *)__s___3;
        __c___0 = (unsigned char)0;
        switch ((int )sizeof(canbits)) {
        case 15: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_124___0 *)((void *)__u___0 + 4);
        case 11: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_124___0 *)((void *)__u___0 + 4);
        case 7: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_124___0 *)((void *)__u___0 + 4);
        case 3: 
        __u___0->__usi = (unsigned short )((int )((unsigned short )__c___0) * 257);
        __u___0 = (union __anonunion___u_124___0 *)((void *)__u___0 + 2);
        __u___0->__uc = __c___0;
        break;
        case 14: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_124___0 *)((void *)__u___0 + 4);
        case 10: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_124___0 *)((void *)__u___0 + 4);
        case 6: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_124___0 *)((void *)__u___0 + 4);
        case 2: 
        __u___0->__usi = (unsigned short )((int )((unsigned short )__c___0) * 257);
        break;
        case 13: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_124___0 *)((void *)__u___0 + 4);
        case 9: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_124___0 *)((void *)__u___0 + 4);
        case 5: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_124___0 *)((void *)__u___0 + 4);
        case 1: 
        __u___0->__uc = __c___0;
        break;
        case 16: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_124___0 *)((void *)__u___0 + 4);
        case 12: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_124___0 *)((void *)__u___0 + 4);
        case 8: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_124___0 *)((void *)__u___0 + 4);
        case 4: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ 
    __s___2 = (void *)(canbits);
    __builtin_memset(__s___2, '\000', (int )sizeof(canbits));
  }
  cookie.name = cookie_token(& text, (unsigned char)0, (unsigned char)0);
  if ((int )(*(cookie.name + 0)) == 0) {
    goto _L___1;
  } else {
    if ((int const   )(*text) != 61) {
      _L___1: /* CIL Label */ 
      memory_deallocate_ll((void const   *)cookie.name);
      return;
    }
  }
  text ++;
  cookie_skip_whitespace(& text);
  cookie.value = cookie_token(& text, (unsigned char)1, (unsigned char)0);
  while ((int const   )(*text) == 59) {
    text ++;
    cookie_skip_whitespace(& text);
    attrname = cookie_token(& text, (unsigned char)0, (unsigned char)0);
    can = cookie_lookup_attrname((char const   *)attrname);
    memory_deallocate_ll((void const   *)attrname);
    if ((int const   )(*text) != 61) {
      attrvalue = (char *)((void *)0);
    } else {
      text ++;
      cookie_skip_whitespace(& text);
      if ((int )can == 5) {
        tmp___1 = 1;
      } else {
        tmp___1 = 0;
      }
      attrvalue = cookie_token(& text, (unsigned char)1, (unsigned char )tmp___1);
    }
    if ((int )(*(canbits + (int )can / 8)) & (1 << (int )can % 8)) {
      goto skip_attribute;
    }
    (*(canbits + (int )can / 8)) = (unsigned char )((int )(*(canbits + (int )can /
                                                                       8)) | (1 <<
                                                                              (int )can %
                                                                              8));
    switch ((int )can) {
    case 1: ;
    case 2: ;
    if ((unsigned int )attrvalue != (unsigned int )((void *)0)) {
      if ((int )(*attrvalue) != 0) {
        if ((int )can == 2) {
          tmp___2 = 1;
        } else {
          tmp___2 = 0;
        }
        is_uri = (tBoolean )tmp___2;
        comment = (char const   *)cookie.comment;
        if ((unsigned int )comment != (unsigned int )((void *)0)) {
          if (is_uri) {
            tmp___3 = "%s <%s>";
          } else {
            tmp___3 = "%s %s";
          }
          my_spf((char *)((void *)0), 0U, & spfbuf, tmp___3, comment, attrvalue);
          memory_deallocate_ll((void const   *)comment);
          cookie.comment = spfbuf;
        } else {
          if (is_uri) {
            my_spf((char *)((void *)0), 0U, & spfbuf, "<%s>", attrvalue);
            cookie.comment = spfbuf;
          } else {
            cookie.comment = attrvalue;
            attrvalue = (char *)((void *)0);
          }
        }
      } else {
        goto _L___2;
      }
    } else {
      _L___2: /* CIL Label */ ;
    }
    break;
    case 3: 
    cookie.flags = (unsigned char )((int )cookie.flags | 4);
    break;
    case 4: ;
    if ((unsigned int )attrvalue != (unsigned int )((void *)0)) {
      if ((int )(*attrvalue) != 0) {
        if (used_setcookie2) {
          if ((int )(*attrvalue) != 46) {
            tmp___4 = strlen((char const   *)attrvalue);
            tmp___5 = (char *)__memory_allocate_ll((tmp___4 + 1U) + 1U);
            d = tmp___5;
            (*d) = (char )'.';
            while (1) {
              _src = (char const   *)attrvalue;
              _dest = d + 1;
              while (1) {
                tmp___6 = _src;
                _src ++;
                ch = (char )(*tmp___6);
                tmp___7 = _dest;
                _dest ++;
                if ((int )ch >= 65) {
                  if ((int )ch <= 90) {
                    (*tmp___7) = (char )((int )ch + 32);
                  } else {
                    goto _L___3;
                  }
                } else {
                  _L___3: /* CIL Label */ 
                  (*tmp___7) = ch;
                }
                if (! ((int )ch != 0)) {
                  break;
                }
              }
              break;
            }
            cookie.domain = (char const   *)d;
          } else {
            goto _L___4;
          }
        } else {
          _L___4: /* CIL Label */ 
          cookie.domain = my_strdup_tolower((char const   *)attrvalue);
        }
      } else {
        goto _L___5;
      }
    } else {
      _L___5: /* CIL Label */ ;
    }
    break;
    case 5: ;
    if ((unsigned int )attrvalue != (unsigned int )((void *)0)) {
      if ((int )(*attrvalue) != 0) {
        if (! ((int )(*(canbits + 0)) & 64)) {
          if (! used_setcookie2) {
            tmp___8 = parse_datetime((char const   *)attrvalue, & t);
            if (tmp___8) {
              cookie.expiry = t;
              cookie.flags = (unsigned char )((int )cookie.flags | 1);
            }
          } else {
            goto _L___8;
          }
        } else {
          goto _L___8;
        }
      } else {
        goto _L___8;
      }
    } else {
      _L___8: /* CIL Label */ ;
    }
    break;
    case 6: ;
    if ((unsigned int )attrvalue != (unsigned int )((void *)0)) {
      if ((int )(*attrvalue) >= 48) {
        if ((int )(*attrvalue) <= 57) {
          my_atoi((char const   *)attrvalue, & i, (char const   **)((void *)0), 195225786);
          tmp___9 = my_time();
          cookie.expiry = tmp___9 + (long )i;
          cookie.flags = (unsigned char )((int )cookie.flags | 1);
        } else {
          goto _L___10;
        }
      } else {
        _L___10: /* CIL Label */ 
        goto _L___9;
      }
    } else {
      _L___9: /* CIL Label */ ;
    }
    break;
    case 7: 
    cookie.path = attrvalue;
    attrvalue = (char *)((void *)0);
    break;
    case 8: 
    cookie.flags = (unsigned char )((int )cookie.flags | 16);
    if ((unsigned int )attrvalue != (unsigned int )((void *)0)) {
      cookie.portstr = my_strdup((char const   *)attrvalue);
    }
    if ((unsigned int )attrvalue != (unsigned int )((void *)0)) {
      if ((int )(*attrvalue) >= 48) {
        if ((int )(*attrvalue) <= 57) {
          s = attrvalue;
          portcount = (unsigned short)0;
          next_port: 
          p = s;
          while (1) {
            ch___0 = (*p);
            if ((int )ch___0 == 0) {
              break;
            } else {
              if ((int )ch___0 == 44) {
                (*p) = (char )'\000';
                break;
              }
            }
            p ++;
          }
          my_atoi((char const   *)s, & i___0, (char const   **)((void *)0), 99999);
          if (i___0 >= 0) {
            if (i___0 <= 65535) {
              __x = (unsigned short )i___0;
              tmp___10 = __builtin_constant_p(__x);
              if (tmp___10) {
                __v = (unsigned short )((((int )__x >> 8) & 255) | (((int )__x & 255) <<
                                                                    8));
              } else {
                __asm__  ("rorw $8, %w0": "=r" (__v): "0" (__x): "cc");
              }
              port = __v;
              found = (tBoolean )0;
              count___2 = (unsigned short)0;
              while ((int )count___2 < (int )portcount) {
                if ((int )portnum[count___2] == (int )port) {
                  found = (unsigned char)1;
                  break;
                }
                count___2 = (unsigned short )((int )count___2 + 1);
              }
              if (! found) {
                tmp___11 = portcount;
                portcount = (unsigned short )((int )portcount + 1);
                portnum[tmp___11] = port;
              }
            } else {
              goto _L___11;
            }
          } else {
            _L___11: /* CIL Label */ ;
          }
          if ((int )ch___0 != 0) {
            if ((int )portcount < 100) {
              s = p + 1;
              goto next_port;
            } else {
              goto _L___12;
            }
          } else {
            _L___12: /* CIL Label */ ;
          }
          if ((int )portcount > 0) {
            size = (unsigned int )portcount * sizeof(tPortnumber );
            tmp___12 = (tPortnumber *)__memory_allocate_ll(size);
            pn = tmp___12;
            memcpy((void * __restrict  )pn, (void const   * __restrict  )(portnum),
                   size);
            cookie.portlist = pn;
            cookie.portlistlen = (unsigned char )portcount;
            cookie.flags = (unsigned char )((int )cookie.flags | 32);
          }
        } else {
          goto _L___14;
        }
      } else {
        _L___14: /* CIL Label */ 
        goto _L___13;
      }
    } else {
      _L___13: /* CIL Label */ 
      if (used_setcookie2) {
        cookie.portlist = (tPortnumber *)__memory_allocate_ll(sizeof(tPortnumber ));
        p___0 = cookie.portlist;
        (*p___0) = (resource->uri_data)->portnumber;
        cookie.portlistlen = (unsigned char)1;
      }
    }
    break;
    case 10: ;
    if ((unsigned int )attrvalue != (unsigned int )((void *)0)) {
      my_atoi((char const   *)attrvalue, & i___1, (char const   **)((void *)0), 99);
      cookie.version = (unsigned char )i___1;
    }
    break;
    }
    skip_attribute: 
    while (1) {
      if ((unsigned int )attrvalue != (unsigned int )((void *)0)) {
        memory_deallocate_ll((void const   *)attrvalue);
      }
      break;
    }
  }
  if ((int )(*(cookie.name + 0)) == 36) {
    goto ignore_cookie;
  }
  if (used_setcookie2) {
    if (! ((int )(*(canbits + 1)) & 4)) {
      goto ignore_cookie;
    } else {
      goto _L___15;
    }
  } else {
    _L___15: /* CIL Label */ ;
  }
  if ((unsigned int )cookie.domain != (unsigned int )((void *)0)) {
    domain = cookie.domain;
    if (used_setcookie2) {
      tmp___14 = has_embedded_dots(domain);
      if (tmp___14) {
        _L___184: /* CIL Label */ ;
      } else {
        tmp___54 = __builtin_constant_p(domain);
        if (tmp___54) {
          __s1_len = strlen(domain);
          __s2_len = strlen(".local");
          if (! ((unsigned int )((void const   *)(domain + 1)) - (unsigned int )((void const   *)domain) ==
                 1U)) {
            goto _L___181;
          } else {
            if (__s1_len >= 4U) {
              _L___181: /* CIL Label */ 
              if (! ((unsigned int )((void const   *)(".local" + 1)) - (unsigned int )((void const   *)".local") ==
                     1U)) {
                goto _L___180;
              } else {
                if (__s2_len >= 4U) {
                  _L___180: /* CIL Label */ 
                  tmp___55 = 1;
                } else {
                  goto _L___179;
                }
              }
            } else {
              _L___179: /* CIL Label */ 
              tmp___55 = 0;
            }
          }
          if (tmp___55) {
            if (__s1_len < __s2_len) {
              tmp___37 = __s1_len;
            } else {
              tmp___37 = __s2_len;
            }
            tmp___36 = memcmp((void const   *)domain, (void const   *)".local", tmp___37 +
                                                                                1U);
          } else {
            goto _L___183;
          }
        } else {
          _L___183: /* CIL Label */ 
          tmp___53 = __builtin_constant_p(domain);
          if (tmp___53) {
            if ((unsigned int )((void const   *)(domain + 1)) - (unsigned int )((void const   *)domain) ==
                1U) {
              __s1_len = strlen(domain);
              if (__s1_len < 4U) {
                if ((unsigned int )((void const   *)(".local" + 1)) - (unsigned int )((void const   *)".local") ==
                    1U) {
                  __result___37 = (int )((int const   )(*((unsigned char const   *)domain +
                                                          0)) - (int const   )(*((unsigned char const   *)".local" +
                                                                                 0)));
                  if (__s1_len > 0U) {
                    if (__result___37 == 0) {
                      __result___37 = (int )((int const   )(*((unsigned char const   *)domain +
                                                              1)) - (int const   )(*((unsigned char const   *)".local" +
                                                                                     1)));
                      if (__s1_len > 1U) {
                        if (__result___37 == 0) {
                          __result___37 = (int )((int const   )(*((unsigned char const   *)domain +
                                                                  2)) - (int const   )(*((unsigned char const   *)".local" +
                                                                                         2)));
                          if (__s1_len > 2U) {
                            if (__result___37 == 0) {
                              __result___37 = (int )((int const   )(*((unsigned char const   *)domain +
                                                                      3)) - (int const   )(*((unsigned char const   *)".local" +
                                                                                             3)));
                            } else {
                              goto _L___144;
                            }
                          } else {
                            _L___144: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___145;
                        }
                      } else {
                        _L___145: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___146;
                    }
                  } else {
                    _L___146: /* CIL Label */ ;
                  }
                  tmp___36 = __result___37;
                } else {
                  __s2___6 = (unsigned char const   *)".local";
                  __result___38 = (int )((int const   )(*((unsigned char const   *)domain +
                                                          0)) - (int const   )(*(__s2___6 +
                                                                                 0)));
                  if (__s1_len > 0U) {
                    if (__result___38 == 0) {
                      __result___38 = (int )((int const   )(*((unsigned char const   *)domain +
                                                              1)) - (int const   )(*(__s2___6 +
                                                                                     1)));
                      if (__s1_len > 1U) {
                        if (__result___38 == 0) {
                          __result___38 = (int )((int const   )(*((unsigned char const   *)domain +
                                                                  2)) - (int const   )(*(__s2___6 +
                                                                                         2)));
                          if (__s1_len > 2U) {
                            if (__result___38 == 0) {
                              __result___38 = (int )((int const   )(*((unsigned char const   *)domain +
                                                                      3)) - (int const   )(*(__s2___6 +
                                                                                             3)));
                            } else {
                              goto _L___147;
                            }
                          } else {
                            _L___147: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___148;
                        }
                      } else {
                        _L___148: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___149;
                    }
                  } else {
                    _L___149: /* CIL Label */ ;
                  }
                  tmp___36 = __result___38;
                }
              } else {
                goto _L___178;
              }
            } else {
              goto _L___178;
            }
          } else {
            _L___178: /* CIL Label */ 
            if ((unsigned int )((void const   *)(".local" + 1)) - (unsigned int )((void const   *)".local") ==
                1U) {
              __s2_len = strlen(".local");
              if (__s2_len < 4U) {
                tmp___52 = __builtin_constant_p(domain);
                if (tmp___52) {
                  if ((unsigned int )((void const   *)(domain + 1)) - (unsigned int )((void const   *)domain) ==
                      1U) {
                    __result___45 = (int )((int const   )(*((unsigned char const   *)domain +
                                                            0)) - (int const   )(*((unsigned char const   *)".local" +
                                                                                   0)));
                    if (__s2_len > 0U) {
                      if (__result___45 == 0) {
                        __result___45 = (int )((int const   )(*((unsigned char const   *)domain +
                                                                1)) - (int const   )(*((unsigned char const   *)".local" +
                                                                                       1)));
                        if (__s2_len > 1U) {
                          if (__result___45 == 0) {
                            __result___45 = (int )((int const   )(*((unsigned char const   *)domain +
                                                                    2)) - (int const   )(*((unsigned char const   *)".local" +
                                                                                           2)));
                            if (__s2_len > 2U) {
                              if (__result___45 == 0) {
                                __result___45 = (int )((int const   )(*((unsigned char const   *)domain +
                                                                        3)) - (int const   )(*((unsigned char const   *)".local" +
                                                                                               3)));
                              } else {
                                goto _L___169;
                              }
                            } else {
                              _L___169: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___170;
                          }
                        } else {
                          _L___170: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___171;
                      }
                    } else {
                      _L___171: /* CIL Label */ ;
                    }
                    tmp___36 = __result___45;
                  } else {
                    goto _L___175;
                  }
                } else {
                  _L___175: /* CIL Label */ 
                  __s1___14 = (unsigned char const   *)domain;
                  __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)".local" +
                                                                                             0)));
                  if (__s2_len > 0U) {
                    if (__result___46 == 0) {
                      __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)".local" +
                                                                                                 1)));
                      if (__s2_len > 1U) {
                        if (__result___46 == 0) {
                          __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                                 (int const   )(*((unsigned char const   *)".local" +
                                                                  2)));
                          if (__s2_len > 2U) {
                            if (__result___46 == 0) {
                              __result___46 = (int )((int const   )(*(__s1___14 +
                                                                      3)) - (int const   )(*((unsigned char const   *)".local" +
                                                                                             3)));
                            } else {
                              goto _L___172;
                            }
                          } else {
                            _L___172: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___173;
                        }
                      } else {
                        _L___173: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___174;
                    }
                  } else {
                    _L___174: /* CIL Label */ ;
                  }
                  tmp___36 = __result___46;
                }
              } else {
                goto _L___176;
              }
            } else {
              _L___176: /* CIL Label */ 
              tmp___36 = strcmp(domain, ".local");
            }
          }
        }
        if (tmp___36) {
          goto _L___184;
        } else {
          goto ignore_cookie;
        }
      }
    } else {
      tmp___56 = has_embedded_dots(domain);
      if (tmp___56) {
        if ((int const   )(*domain) != 46) {
          _L___185: /* CIL Label */ 
          goto ignore_cookie;
        }
      } else {
        goto _L___185;
      }
    }
    reshn = ((resource->textual_hppi)->host)->hostname;
    if ((unsigned int )reshn != (unsigned int )((void *)0)) {
      tmp___57 = effective_hostname(reshn, (unsigned char)0);
      eff = tmp___57;
      tmp___58 = cookie_domainmatch(eff, domain);
      is_good = tmp___58;
      while (1) {
        if ((unsigned int )eff != (unsigned int )reshn) {
          memory_deallocate_ll((void const   *)eff);
        }
        break;
      }
      if (! is_good) {
        goto ignore_cookie;
      }
      tmp___61 = is_hostname_numerical(reshn);
      if (tmp___61) {
        _L___186: /* CIL Label */ ;
      } else {
        tmp___62 = is_suffix(reshn, domain);
        if (tmp___62) {
          tmp___59 = strlen(reshn);
          tmp___60 = strlen(domain);
          pos = (int )(tmp___59 - tmp___60);
          while (1) {
            pos --;
            if (! (pos >= 0)) {
              break;
            }
            if ((int const   )(*(reshn + pos)) == 46) {
              goto ignore_cookie;
            }
          }
        } else {
          goto _L___186;
        }
      }
    }
  }
  if ((unsigned int )cookie.path != (unsigned int )((void *)0)) {
    if ((unsigned int )(resource->uri_data)->path == (unsigned int )((void *)0)) {
      tmp___63 = strEmpty;
    } else {
      tmp___63 = (char const   *)(resource->uri_data)->path;
    }
    uri_path = tmp___63;
    tmp___64 = strlen((char const   *)cookie.path);
    plen = tmp___64;
    tmp___65 = strlen(uri_path);
    uri_plen = tmp___65;
    if (plen > uri_plen) {
      goto _L___543;
    } else {
      tmp___191 = __builtin_constant_p(plen);
      if (tmp___191) {
        tmp___192 = __builtin_constant_p(cookie.path);
        if (tmp___192) {
          tmp___193 = strlen((char const   *)cookie.path);
          if (tmp___193 < plen) {
            goto _L___540;
          } else {
            goto _L___542;
          }
        } else {
          _L___542: /* CIL Label */ 
          tmp___194 = __builtin_constant_p(uri_path);
          if (tmp___194) {
            tmp___195 = strlen(uri_path);
            if (tmp___195 < plen) {
              _L___540: /* CIL Label */ 
              tmp___188 = __builtin_constant_p(cookie.path);
              if (tmp___188) {
                tmp___189 = __builtin_constant_p(uri_path);
                if (tmp___189) {
                  __s1_len___1 = strlen((char const   *)cookie.path);
                  __s2_len___1 = strlen(uri_path);
                  if (! ((unsigned int )((void const   *)(cookie.path + 1)) - (unsigned int )((void const   *)cookie.path) ==
                         1U)) {
                    goto _L___536;
                  } else {
                    if (__s1_len___1 >= 4U) {
                      _L___536: /* CIL Label */ 
                      if (! ((unsigned int )((void const   *)(uri_path + 1)) - (unsigned int )((void const   *)uri_path) ==
                             1U)) {
                        goto _L___535;
                      } else {
                        if (__s2_len___1 >= 4U) {
                          _L___535: /* CIL Label */ 
                          tmp___190 = 1;
                        } else {
                          goto _L___534;
                        }
                      }
                    } else {
                      _L___534: /* CIL Label */ 
                      tmp___190 = 0;
                    }
                  }
                  if (tmp___190) {
                    if (__s1_len___1 < __s2_len___1) {
                      tmp___163 = __s1_len___1;
                    } else {
                      tmp___163 = __s2_len___1;
                    }
                    tmp___162 = memcmp((void const   *)((char const   *)cookie.path),
                                       (void const   *)uri_path, tmp___163 + 1U);
                  } else {
                    goto _L___538;
                  }
                } else {
                  goto _L___538;
                }
              } else {
                _L___538: /* CIL Label */ 
                tmp___187 = __builtin_constant_p(cookie.path);
                if (tmp___187) {
                  if ((unsigned int )((void const   *)(cookie.path + 1)) - (unsigned int )((void const   *)cookie.path) ==
                      1U) {
                    __s1_len___1 = strlen((char const   *)cookie.path);
                    if (__s1_len___1 < 4U) {
                      tmp___178 = __builtin_constant_p(uri_path);
                      if (tmp___178) {
                        if ((unsigned int )((void const   *)(uri_path + 1)) - (unsigned int )((void const   *)uri_path) ==
                            1U) {
                          __result___133 = (int )((int const   )(*((unsigned char const   *)((char const   *)cookie.path) +
                                                                   0)) - (int const   )(*((unsigned char const   *)uri_path +
                                                                                          0)));
                          if (__s1_len___1 > 0U) {
                            if (__result___133 == 0) {
                              __result___133 = (int )((int const   )(*((unsigned char const   *)((char const   *)cookie.path) +
                                                                       1)) - (int const   )(*((unsigned char const   *)uri_path +
                                                                                              1)));
                              if (__s1_len___1 > 1U) {
                                if (__result___133 == 0) {
                                  __result___133 = (int )((int const   )(*((unsigned char const   *)((char const   *)cookie.path) +
                                                                           2)) - (int const   )(*((unsigned char const   *)uri_path +
                                                                                                  2)));
                                  if (__s1_len___1 > 2U) {
                                    if (__result___133 == 0) {
                                      __result___133 = (int )((int const   )(*((unsigned char const   *)((char const   *)cookie.path) +
                                                                               3)) -
                                                              (int const   )(*((unsigned char const   *)uri_path +
                                                                               3)));
                                    } else {
                                      goto _L___497;
                                    }
                                  } else {
                                    _L___497: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___498;
                                }
                              } else {
                                _L___498: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___499;
                            }
                          } else {
                            _L___499: /* CIL Label */ ;
                          }
                          tmp___162 = __result___133;
                        } else {
                          goto _L___503;
                        }
                      } else {
                        _L___503: /* CIL Label */ 
                        __s2___22 = (unsigned char const   *)uri_path;
                        __result___134 = (int )((int const   )(*((unsigned char const   *)((char const   *)cookie.path) +
                                                                 0)) - (int const   )(*(__s2___22 +
                                                                                        0)));
                        if (__s1_len___1 > 0U) {
                          if (__result___134 == 0) {
                            __result___134 = (int )((int const   )(*((unsigned char const   *)((char const   *)cookie.path) +
                                                                     1)) - (int const   )(*(__s2___22 +
                                                                                            1)));
                            if (__s1_len___1 > 1U) {
                              if (__result___134 == 0) {
                                __result___134 = (int )((int const   )(*((unsigned char const   *)((char const   *)cookie.path) +
                                                                         2)) - (int const   )(*(__s2___22 +
                                                                                                2)));
                                if (__s1_len___1 > 2U) {
                                  if (__result___134 == 0) {
                                    __result___134 = (int )((int const   )(*((unsigned char const   *)((char const   *)cookie.path) +
                                                                             3)) -
                                                            (int const   )(*(__s2___22 +
                                                                             3)));
                                  } else {
                                    goto _L___500;
                                  }
                                } else {
                                  _L___500: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___501;
                              }
                            } else {
                              _L___501: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___502;
                          }
                        } else {
                          _L___502: /* CIL Label */ ;
                        }
                        tmp___162 = __result___134;
                      }
                    } else {
                      goto _L___533;
                    }
                  } else {
                    goto _L___533;
                  }
                } else {
                  _L___533: /* CIL Label */ 
                  tmp___186 = __builtin_constant_p(uri_path);
                  if (tmp___186) {
                    if ((unsigned int )((void const   *)(uri_path + 1)) - (unsigned int )((void const   *)uri_path) ==
                        1U) {
                      __s2_len___1 = strlen(uri_path);
                      if (__s2_len___1 < 4U) {
                        tmp___185 = __builtin_constant_p(cookie.path);
                        if (tmp___185) {
                          if ((unsigned int )((void const   *)(cookie.path + 1)) -
                              (unsigned int )((void const   *)cookie.path) == 1U) {
                            __result___141 = (int )((int const   )(*((unsigned char const   *)((char const   *)cookie.path) +
                                                                     0)) - (int const   )(*((unsigned char const   *)uri_path +
                                                                                            0)));
                            if (__s2_len___1 > 0U) {
                              if (__result___141 == 0) {
                                __result___141 = (int )((int const   )(*((unsigned char const   *)((char const   *)cookie.path) +
                                                                         1)) - (int const   )(*((unsigned char const   *)uri_path +
                                                                                                1)));
                                if (__s2_len___1 > 1U) {
                                  if (__result___141 == 0) {
                                    __result___141 = (int )((int const   )(*((unsigned char const   *)((char const   *)cookie.path) +
                                                                             2)) -
                                                            (int const   )(*((unsigned char const   *)uri_path +
                                                                             2)));
                                    if (__s2_len___1 > 2U) {
                                      if (__result___141 == 0) {
                                        __result___141 = (int )((int const   )(*((unsigned char const   *)((char const   *)cookie.path) +
                                                                                 3)) -
                                                                (int const   )(*((unsigned char const   *)uri_path +
                                                                                 3)));
                                      } else {
                                        goto _L___523;
                                      }
                                    } else {
                                      _L___523: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___524;
                                  }
                                } else {
                                  _L___524: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___525;
                              }
                            } else {
                              _L___525: /* CIL Label */ ;
                            }
                            tmp___162 = __result___141;
                          } else {
                            goto _L___529;
                          }
                        } else {
                          _L___529: /* CIL Label */ 
                          __s1___46 = (unsigned char const   *)((char const   *)cookie.path);
                          __result___142 = (int )((int const   )(*(__s1___46 + 0)) -
                                                  (int const   )(*((unsigned char const   *)uri_path +
                                                                   0)));
                          if (__s2_len___1 > 0U) {
                            if (__result___142 == 0) {
                              __result___142 = (int )((int const   )(*(__s1___46 +
                                                                       1)) - (int const   )(*((unsigned char const   *)uri_path +
                                                                                              1)));
                              if (__s2_len___1 > 1U) {
                                if (__result___142 == 0) {
                                  __result___142 = (int )((int const   )(*(__s1___46 +
                                                                           2)) - (int const   )(*((unsigned char const   *)uri_path +
                                                                                                  2)));
                                  if (__s2_len___1 > 2U) {
                                    if (__result___142 == 0) {
                                      __result___142 = (int )((int const   )(*(__s1___46 +
                                                                               3)) -
                                                              (int const   )(*((unsigned char const   *)uri_path +
                                                                               3)));
                                    } else {
                                      goto _L___526;
                                    }
                                  } else {
                                    _L___526: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___527;
                                }
                              } else {
                                _L___527: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___528;
                            }
                          } else {
                            _L___528: /* CIL Label */ ;
                          }
                          tmp___162 = __result___142;
                        }
                      } else {
                        goto _L___531;
                      }
                    } else {
                      goto _L___531;
                    }
                  } else {
                    _L___531: /* CIL Label */ 
                    tmp___162 = strcmp((char const   *)cookie.path, uri_path);
                  }
                }
              }
              tmp___131 = tmp___162;
            } else {
              goto _L___541;
            }
          } else {
            _L___541: /* CIL Label */ 
            goto _L___539;
          }
        }
      } else {
        _L___539: /* CIL Label */ 
        tmp___131 = strncmp((char const   *)cookie.path, uri_path, plen);
      }
      if (tmp___131) {
        _L___543: /* CIL Label */ 
        goto ignore_cookie;
      }
    }
  }
  if ((unsigned int )cookie.portlist != (unsigned int )((void *)0)) {
    resport = (resource->uri_data)->portnumber;
    p___1 = (tPortnumber const   *)cookie.portlist;
    found___0 = (tBoolean )0;
    i___2 = (unsigned short)0;
    while ((int )i___2 < (int )cookie.portlistlen) {
      if ((int const   )(*(p___1 + i___2)) == (int const   )resport) {
        found___0 = (unsigned char)1;
        break;
      }
      i___2 = (unsigned short )((int )i___2 + 1);
    }
    if (! found___0) {
      goto ignore_cookie;
    }
  }
  if ((unsigned int )cookie.domain == (unsigned int )((void *)0)) {
    hostname = ((resource->textual_hppi)->host)->hostname;
    if ((unsigned int )hostname == (unsigned int )((void *)0)) {
      tmp___196 = strEmpty;
    } else {
      tmp___196 = hostname;
    }
    cookie.domain = effective_hostname(tmp___196, (unsigned char)1);
  }
  if ((unsigned int )cookie.path == (unsigned int )((void *)0)) {
    path = (char const   *)(resource->uri_data)->path;
    if ((unsigned int )path != (unsigned int )((void *)0)) {
      slash = strrchr(path, '/');
      if ((unsigned int )slash != (unsigned int )((void *)0)) {
        cookie.path = my_strndup(path, (unsigned int )((slash - path) + 1));
      } else {
        goto _L___544;
      }
    } else {
      _L___544: /* CIL Label */ 
      cookie.path = my_strdup(strSlash);
    }
  }
  if (used_setcookie2) {
    cookie.flags = (unsigned char )((int )cookie.flags | 8);
  }
  tmp___197 = cookie_storable_c((tCookie const   *)(& cookie));
  if (! tmp___197) {
    goto ignore_cookie;
  }
  lcookie = cookie_lookup((tCachedHostInformation const   *)hostinfo, (tCookie const   *)(& cookie));
  if ((unsigned int )lcookie != (unsigned int )((void *)0)) {
    if ((int )cookie.flags & 8) {
      goto _L___546;
    } else {
      if (! ((int )lcookie->flags & 8)) {
        _L___546: /* CIL Label */ 
        if ((int )cookie.version >= (int )lcookie->version) {
          resource->flags = resource->flags | 1024U;
          tmp___198 = cookie_expired(& cookie);
          if (tmp___198) {
            cookie_remove(hostinfo, (tCookie const   *)lcookie);
          } else {
            __cookie_deallocate((tCookie const   *)lcookie);
            (*lcookie) = cookie;
            goto next_cookie;
          }
        } else {
          goto _L___545;
        }
      } else {
        _L___545: /* CIL Label */ ;
      }
    }
  } else {
    tmp___199 = cookie_expired(& cookie);
    if (tmp___199) {
      _L___547: /* CIL Label */ ;
    } else {
      tmp___200 = cookie_storable_h(hostinfo);
      if (tmp___200) {
        resource->flags = resource->flags | 1024U;
        lcookie = cookie_allocate();
        (*lcookie) = cookie;
        lcookie->next = hostinfo->cookies;
        hostinfo->cookies = lcookie;
        hostinfo->cookiecount = (unsigned char )((int )hostinfo->cookiecount + 1);
        goto next_cookie;
      } else {
        goto _L___547;
      }
    }
  }
  ignore_cookie: 
  __cookie_deallocate((tCookie const   *)(& cookie));
  next_cookie: 
  if ((int const   )(*text) == 44) {
    text ++;
    cookie_skip_whitespace(& text);
    goto loop;
  }
  return;
}
}
static int cookie_sorter(void const   *_a , void const   *_b ) 
{ tCookieSorterElement const   *a ;
  tCookieSorterElement const   *b ;
  unsigned short alen ;
  unsigned short blen ;

  {
  a = (tCookieSorterElement const   *)_a;
  b = (tCookieSorterElement const   *)_b;
  alen = a->pathlen;
  blen = b->pathlen;
  if ((int )alen != (int )blen) {
    return ((int )blen - (int )alen);
  }
  return ((int )b->domainlen - (int )a->domainlen);
}
}
__inline static char const   *cookie_collect(tResource *resource ) ;
static char const   strAttrPort[8]  = 
  {      (char const   )';',      (char const   )' ',      (char const   )'$',      (char const   )'P', 
        (char const   )'o',      (char const   )'r',      (char const   )'t',      (char const   )'\000'};
__inline static char const   *cookie_collect(tResource *resource ) 
{ char const   *retval ;
  char const   *reshn ;
  char const   *reseff ;
  char const   *respath ;
  tHashIndex bucket ;
  unsigned short count___2 ;
  unsigned short maxcount ;
  tCookieSorterElement *sorter_base ;
  tCookieVersion highest_version ;
  tBoolean tmp ;
  tCachedHostInformation *hostinfo ;
  tCookie *cookie ;
  tBoolean found_expired ;
  char const   *domain ;
  char const   *path ;
  char const   *quote ;
  char const   *spfdomain ;
  char const   *spfpath ;
  char const   *spfport ;
  char *spfbuf ;
  char *temp ;
  unsigned char portlistlen ;
  tCookieFlags flags ;
  tCookieVersion version ;
  tBoolean tmp___0 ;
  char const   *tmp___1 ;
  tBoolean tmp___2 ;
  char const   *tmp___3 ;
  tBoolean tmp___4 ;
  tPortnumber resport ;
  tPortnumber *p ;
  unsigned short i ;
  tBoolean allowed___0 ;
  char const   *portstr ;
  char const   *tmp___5 ;
  char const   *tmp___6 ;
  char *spfbuf___0 ;
  char *cookies ;
  char *dest ;
  unsigned short cnt ;
  size_t len ;
  size_t tmp___7 ;
  char const   *text ;
  char const   *src ;
  char ch ;
  char *tmp___8 ;
  char *tmp___9 ;
  char *tmp___10 ;
  char const   *tmp___11 ;
  char const   *tmp___12 ;

  {
  retval = strEmpty;
  tmp = cookie_config_allows((tResource const   *)resource);
  if (! tmp) {
    goto out0;
  }
  if (resource->flags & 12U) {
    goto out0;
  }
  reshn = ((resource->textual_hppi)->host)->hostname;
  if ((unsigned int )reshn == (unsigned int )((void *)0)) {
    goto out0;
  }
  reseff = effective_hostname(reshn, (unsigned char)0);
  retval = my_strdup("Cookie2: $Version=\"1\"\r\n");
  sorter_base = (tCookieSorterElement *)((void *)0);
  maxcount = (unsigned short)0;
  count___2 = maxcount;
  highest_version = (unsigned char)0;
  if ((unsigned int )(resource->uri_data)->path == (unsigned int )((void *)0)) {
    respath = strEmpty;
  } else {
    respath = (char const   *)(resource->uri_data)->path;
  }
  bucket = (unsigned short)0;
  while ((int )bucket < 101) {
    hostinfo = chi_head[bucket];
    while ((unsigned int )hostinfo != (unsigned int )((void *)0)) {
      cookie = hostinfo->cookies;
      found_expired = (tBoolean )0;
      while ((unsigned int )cookie != (unsigned int )((void *)0)) {
        tmp___0 = cookie_expired(cookie);
        if (tmp___0) {
          found_expired = (unsigned char)1;
          goto cont;
        }
        flags = cookie->flags;
        if ((int )flags & 64) {
          goto cont;
        }
        domain = cookie->domain;
        if ((unsigned int )domain == (unsigned int )((void *)0)) {
          tmp___1 = strEmpty;
        } else {
          tmp___1 = domain;
        }
        tmp___2 = cookie_domainmatch(reseff, tmp___1);
        if (! tmp___2) {
          goto cont;
        }
        path = (char const   *)cookie->path;
        if ((unsigned int )path == (unsigned int )((void *)0)) {
          tmp___3 = strEmpty;
        } else {
          tmp___3 = path;
        }
        tmp___4 = cookie_pathmatch(respath, tmp___3);
        if (! tmp___4) {
          goto cont;
        }
        portlistlen = cookie->portlistlen;
        if ((int )portlistlen > 0) {
          resport = (resource->uri_data)->portnumber;
          p = cookie->portlist;
          allowed___0 = (tBoolean )0;
          i = (unsigned short)0;
          while ((int )i < (int )portlistlen) {
            if ((int )(*(p + i)) == (int )resport) {
              allowed___0 = (unsigned char)1;
              break;
            }
            i = (unsigned short )((int )i + 1);
          }
          if (! allowed___0) {
            goto cont;
          }
        }
        if ((int )count___2 >= (int )maxcount) {
          if ((int )maxcount >= 1000) {
            goto out;
          }
          maxcount = (unsigned short )((int )maxcount + 20);
          sorter_base = (tCookieSorterElement *)memory_reallocate_ll((void *)sorter_base,
                                                                     (unsigned int )maxcount *
                                                                     sizeof(tCookieSorterElement ));
        }
        version = cookie->version;
        if ((int )version > 0) {
          quote = strDoubleQuote;
        } else {
          quote = strEmpty;
        }
        if ((unsigned int )domain == (unsigned int )((void *)0)) {
          goto _L;
        } else {
          if ((int )version == 0) {
            _L: /* CIL Label */ 
            spfdomain = strEmpty;
          } else {
            my_spf((char *)((void *)0), 0U, & temp, "; $Domain=\"%s\"", domain);
            spfdomain = (char const   *)temp;
          }
        }
        if ((unsigned int )path == (unsigned int )((void *)0)) {
          goto _L___0;
        } else {
          if ((int )version == 0) {
            _L___0: /* CIL Label */ 
            spfpath = strEmpty;
          } else {
            my_spf((char *)((void *)0), 0U, & temp, "; $Path=\"%s\"", path);
            spfpath = (char const   *)temp;
          }
        }
        if ((int )flags & 16) {
          portstr = (char const   *)cookie->portstr;
          if ((unsigned int )portstr == (unsigned int )((void *)0)) {
            spfport = strAttrPort;
          } else {
            my_spf((char *)((void *)0), 0U, & temp, "%s=\"%s\"", strAttrPort, portstr);
            spfport = (char const   *)temp;
          }
        } else {
          spfport = strEmpty;
        }
        my_spf((char *)((void *)0), 0U, & spfbuf, "%s=%s%s%s%s%s%s", cookie->name,
               quote, cookie->value, quote, spfpath, spfdomain, spfport);
        while (1) {
          if ((unsigned int )(strEmpty) != (unsigned int )spfdomain) {
            memory_deallocate_ll((void const   *)spfdomain);
          }
          break;
        }
        while (1) {
          if ((unsigned int )(strEmpty) != (unsigned int )spfpath) {
            memory_deallocate_ll((void const   *)spfpath);
          }
          break;
        }
        if ((unsigned int )spfport != (unsigned int )(strEmpty)) {
          if ((unsigned int )spfport != (unsigned int )(strAttrPort)) {
            memory_deallocate_ll((void const   *)spfport);
          } else {
            goto _L___1;
          }
        } else {
          _L___1: /* CIL Label */ ;
        }
        (sorter_base + count___2)->text = (char const   *)spfbuf;
        if ((unsigned int )domain == (unsigned int )((void *)0)) {
          tmp___5 = strEmpty;
        } else {
          tmp___5 = domain;
        }
        (sorter_base + count___2)->domainlen = (unsigned short )strlen(tmp___5);
        if ((unsigned int )path == (unsigned int )((void *)0)) {
          tmp___6 = strEmpty;
        } else {
          tmp___6 = path;
        }
        (sorter_base + count___2)->pathlen = (unsigned short )strlen(tmp___6);
        count___2 = (unsigned short )((int )count___2 + 1);
        if ((int )highest_version < (int )version) {
          highest_version = version;
        }
        cont: 
        cookie = cookie->next;
      }
      if (found_expired) {
        cookie_remove_expired(hostinfo);
      }
      hostinfo = hostinfo->next;
    }
    bucket = (tHashIndex )((int )bucket + 1);
  }
  out: 
  if ((int )count___2 > 0) {
    len = (size_t )0;
    resource->flags = resource->flags | 512U;
    qsort((void *)sorter_base, (unsigned int )count___2, sizeof(tCookieSorterElement ),
          & cookie_sorter);
    cnt = (unsigned short)0;
    while ((int )cnt < (int )count___2) {
      tmp___7 = strlen((sorter_base + cnt)->text);
      len += tmp___7;
      cnt = (unsigned short )((int )cnt + 1);
    }
    len += (size_t )(2 * ((int )count___2 - 1) + 1);
    dest = (char *)__memory_allocate_ll(len);
    cookies = dest;
    cnt = (unsigned short)0;
    while ((int )cnt < (int )count___2) {
      text = (sorter_base + cnt)->text;
      src = text;
      if ((int )cnt > 0) {
        tmp___8 = dest;
        dest ++;
        (*tmp___8) = (char )';';
        tmp___9 = dest;
        dest ++;
        (*tmp___9) = (char )' ';
      }
      while (1) {
        tmp___11 = src;
        src ++;
        ch = (char )(*tmp___11);
        if (! ((int )ch != 0)) {
          break;
        }
        tmp___10 = dest;
        dest ++;
        (*tmp___10) = ch;
      }
      memory_deallocate_ll((void const   *)text);
      cnt = (unsigned short )((int )cnt + 1);
    }
    memory_deallocate_ll((void const   *)sorter_base);
    (*dest) = (char )'\000';
    if ((int )highest_version > 0) {
      tmp___12 = "$Version=\"1\"; ";
    } else {
      tmp___12 = strEmpty;
    }
    my_spf((char *)((void *)0), 0U, & spfbuf___0, "%sCookie: %s%s\r\n", retval, tmp___12,
           cookies);
    memory_deallocate_ll((void const   *)retval);
    memory_deallocate_ll((void const   *)cookies);
    retval = (char const   *)spfbuf___0;
  }
  while (1) {
    if ((unsigned int )reseff != (unsigned int )reshn) {
      memory_deallocate_ll((void const   *)reseff);
    }
    break;
  }
  out0: 
  return (retval);
}
}
__inline static char *cookie_reviewlist(tCachedHostInformation const   *hostinfo ) 
{ char *retval ;
  tCookie *cookie ;
  char const   *portstr ;
  char const   *expiry ;
  char const   *cn ;
  char const   *cv ;
  char const   *cd ;
  char const   *tmp ;
  char const   *cp ;
  char const   *tmp___0 ;
  char const   *cc ;
  char const   *tmp___1 ;
  char const   *hn ;
  char const   *tmp___2 ;
  char const   *hv ;
  char const   *tmp___3 ;
  char const   *hd ;
  char const   *tmp___4 ;
  char const   *hp ;
  char const   *tmp___5 ;
  char const   *hc ;
  char const   *tmp___6 ;
  char *spfbuf ;
  tCookieFlags flags ;
  char *p ;
  tPortnumber *portlist ;
  tBoolean is_first ;
  unsigned short i ;
  int tmp___7 ;
  int tmp___8 ;
  register unsigned short __v ;
  register unsigned short __x ;
  int tmp___9 ;
  int tmp___10 ;
  char const   *tmp___11 ;
  char const   *tmp___12 ;

  {
  cookie = hostinfo->cookies;
  if ((unsigned int )cookie == (unsigned int )((void *)0)) {
    return ((char *)((void *)0));
  }
  retval = my_strdup("\n<br>cookies:");
  while ((unsigned int )cookie != (unsigned int )((void *)0)) {
    cn = (char const   *)cookie->name;
    cv = (char const   *)cookie->value;
    if ((unsigned int )cookie->domain == (unsigned int )((void *)0)) {
      tmp = strEmpty;
    } else {
      tmp = cookie->domain;
    }
    cd = tmp;
    if ((unsigned int )cookie->path == (unsigned int )((void *)0)) {
      tmp___0 = strEmpty;
    } else {
      tmp___0 = (char const   *)cookie->path;
    }
    cp = tmp___0;
    if ((unsigned int )cookie->comment == (unsigned int )((void *)0)) {
      tmp___1 = strEmpty;
    } else {
      tmp___1 = (char const   *)cookie->comment;
    }
    cc = tmp___1;
    tmp___2 = htmlify(cn);
    hn = tmp___2;
    tmp___3 = htmlify(cv);
    hv = tmp___3;
    tmp___4 = htmlify(cd);
    hd = tmp___4;
    tmp___5 = htmlify(cp);
    hp = tmp___5;
    tmp___6 = htmlify(cc);
    hc = tmp___6;
    flags = cookie->flags;
    if ((int )cookie->portlistlen <= 0) {
      portstr = strEmpty;
    } else {
      p = strbuf___1;
      portlist = cookie->portlist;
      is_first = (tBoolean )1;
      tmp___7 = sprintf((char * __restrict  )p, (char const   * __restrict  )", ports=");
      p += tmp___7;
      i = (unsigned short)0;
      while ((int )i < (int )cookie->portlistlen) {
        if (is_first) {
          is_first = (unsigned char)0;
        } else {
          tmp___8 = sprintf((char * __restrict  )p, (char const   * __restrict  )",");
          p += tmp___8;
        }
        __x = (*(portlist + i));
        tmp___9 = __builtin_constant_p(__x);
        if (tmp___9) {
          __v = (unsigned short )((((int )__x >> 8) & 255) | (((int )__x & 255) <<
                                                              8));
        } else {
          __asm__  ("rorw $8, %w0": "=r" (__v): "0" (__x): "cc");
        }
        tmp___10 = sprintf((char * __restrict  )p, (char const   * __restrict  )(strPercd),
                           __v);
        p += tmp___10;
        i = (unsigned short )((int )i + 1);
      }
      portstr = (char const   *)(strbuf___1);
    }
    if ((int )flags & 1) {
      sprintf((char * __restrict  )(strbuf2___0), (char const   * __restrict  )"expiry=%ld, ",
              cookie->expiry);
      expiry = (char const   *)(strbuf2___0);
    } else {
      expiry = strEmpty;
    }
    if ((int )flags & 64) {
      tmp___11 = " (secure)";
    } else {
      tmp___11 = strEmpty;
    }
    if ((int )flags & 2) {
      tmp___12 = " (expired)";
    } else {
      tmp___12 = strEmpty;
    }
    my_spf((char *)((void *)0), 0U, & spfbuf, "%s\n<br>%s=%s, domain=%s, path=%s, comment=%s, %sflags=%d%s%s%s",
           retval, hn, hv, hd, hp, hc, expiry, cookie->flags, portstr, tmp___12, tmp___11);
    memory_deallocate_ll((void const   *)retval);
    retval = spfbuf;
    while (1) {
      if ((unsigned int )hn != (unsigned int )cn) {
        memory_deallocate_ll((void const   *)hn);
      }
      break;
    }
    while (1) {
      if ((unsigned int )hv != (unsigned int )cv) {
        memory_deallocate_ll((void const   *)hv);
      }
      break;
    }
    while (1) {
      if ((unsigned int )hd != (unsigned int )cd) {
        memory_deallocate_ll((void const   *)hd);
      }
      break;
    }
    while (1) {
      if ((unsigned int )hp != (unsigned int )cp) {
        memory_deallocate_ll((void const   *)hp);
      }
      break;
    }
    while (1) {
      if ((unsigned int )hc != (unsigned int )cc) {
        memory_deallocate_ll((void const   *)hc);
      }
      break;
    }
    cookie = cookie->next;
  }
  return (retval);
}
}
__inline static void cookie_initialize(void) 
{ time_t now ;
  time_t tmp ;
  time_t test ;
  char const   *str ;
  char const   *tmp___0 ;
  tBoolean tmp___1 ;

  {
  tmp = my_time();
  now = tmp;
  tmp___0 = ctime((time_t const   *)(& now));
  str = tmp___0;
  if ((unsigned int )str != (unsigned int )((void *)0)) {
    tmp___1 = parse_datetime(str, & test);
    if (tmp___1) {
      localtime_offset = test - now;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  return;
}
}
static char const   * const  strHhps[11]  = 
  {      (char const   * const  )(strA),      (char const   * const  )"connection:",      (char const   * const  )"content-length:",      (char const   * const  )"content-type:", 
        (char const   * const  )"location:",      (char const   * const  )"server:",      (char const   * const  )"set-cookie2:",      (char const   * const  )"set-cookie:", 
        (char const   * const  )"status:",      (char const   * const  )"transfer-encoding:",      (char const   * const  )"www-authenticate:"};
static unsigned char const   hhpslen[11]  = 
  {      (unsigned char const   )1,      (unsigned char const   )11,      (unsigned char const   )15,      (unsigned char const   )13, 
        (unsigned char const   )9,      (unsigned char const   )7,      (unsigned char const   )12,      (unsigned char const   )11, 
        (unsigned char const   )7,      (unsigned char const   )18,      (unsigned char const   )17};
__inline static void prepare_about_ctconfig(void) 
{ 

  {
  sprintf((char * __restrict  )(strbuf___1), (char const   * __restrict  )"OPTION_TEXTMODEMOUSE = %d\n<br>OPTION_I18N = %d\n<br>OPTION_CED = %d\n<br>OPTION_COOKIES = %d\n<br>OPTION_NEWS = %d\n<br>OPTION_LOCAL_CGI = %d\n<br>OPTION_EXECEXT = %d\n<br>OPTION_TLS = %d\n<br>OPTION_IPV6 = %d\n<br>OPTION_THREADING = %d\n<br>OPTION_BIRTCFG = %d",
          1, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0);
  return;
}
}
tBoolean resource_ui_conn_ip(tResource const   *resource , char *buf___2 , size_t size ) 
{ tBoolean retval ;
  tConnection const   *conn ;
  tSockaddrEntry const   *entry ;

  {
  retval = (tBoolean )0;
  if ((int )resource->state == 2) {
    conn = (tConnection const   *)resource->cconn;
    if ((unsigned int )conn != (unsigned int )((void *)0)) {
      entry = conn2sockaddr(conn);
      if ((unsigned int )entry != (unsigned int )((void *)0)) {
        sockaddr2uistr(entry, buf___2, size);
        if ((int )(*buf___2) != 0) {
          retval = (unsigned char)1;
        }
      } else {
        goto _L___0;
      }
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  return (retval);
}
}
__inline static void fetch_about(tResourceRequest *request ) ;
static char const   strNewlineEndp[6]  = {      (char const   )'\n',      (char const   )'<',      (char const   )'/',      (char const   )'p', 
        (char const   )'>',      (char const   )'\000'};
__inline static void fetch_about(tResourceRequest *request ) 
{ char const   *path ;
  tResource *tmp ;
  tResource *resource ;
  tResource *tmp___0 ;
  char *spfbuf ;
  char const   *tmp___1 ;
  tResource *resource___0 ;
  tResource *tmp___2 ;
  tConnection const   *conn ;
  tBoolean is_first ;
  char schemebuf[101] ;
  tHostPortProtInfo const   *hppi ;
  tResource const   *res ;
  char const   *info ;
  char *spfbuf___0 ;
  tBoolean must_cleanup_info ;
  size_t bytecount ;
  char bytecountbuf[200] ;
  char const   *tmp___3 ;
  char const   *tmp___4 ;
  tResource *resource___1 ;
  tResource *tmp___5 ;
  tBoolean did_something1 ;
  tBoolean did_something2 ;
  char *spfbuf___1 ;
  tHashIndex i ;
  tSockaddrIndex si ;
  char schemebuf___0[101] ;
  tCachedHostInformation const   *hostinfo ;
  tHostPortProtInfo const   *hppi___0 ;
  tResourceProtocol protocol ;
  register unsigned short __v ;
  register unsigned short __x ;
  int tmp___6 ;
  char const   *buf___2 ;
  char const   *tmp___7 ;
  tSockaddrEntry *entry ;
  tSockaddrPortProtInfo *sppi ;
  char const   *swid ;
  char const   *swid2 ;
  char const   *tmp___9 ;
  tBoolean do_swid ;
  int tmp___10 ;
  tSockaddrPortProtInfoFlags sppif ;
  char const   *tmp___11 ;
  char const   *tmp___12 ;
  char const   *tmp___13 ;
  char const   *tmp___14 ;
  register unsigned short __v___0 ;
  register unsigned short __x___0 ;
  int tmp___15 ;
  tResource *resource___2 ;
  tResource *tmp___16 ;
  tResource *resource___3 ;
  tResource *tmp___17 ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___48 ;
  size_t tmp___49 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___64 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___71 ;
  int tmp___72 ;
  int tmp___73 ;
  int tmp___74 ;
  int tmp___75 ;
  int tmp___76 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___98 ;
  size_t tmp___99 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___114 ;
  int tmp___115 ;
  int tmp___116 ;
  int tmp___117 ;
  size_t __s1_len___1 ;
  size_t __s2_len___1 ;
  int tmp___139 ;
  size_t tmp___140 ;
  register int __result___133 ;
  unsigned char const   *__s2___22 ;
  register int __result___134 ;
  register int __result___141 ;
  unsigned char const   *__s1___46 ;
  register int __result___142 ;
  int tmp___155 ;
  int tmp___156 ;
  int tmp___157 ;
  int tmp___158 ;
  size_t __s1_len___2 ;
  size_t __s2_len___2 ;
  int tmp___180 ;
  size_t tmp___181 ;
  register int __result___181 ;
  unsigned char const   *__s2___30 ;
  register int __result___182 ;
  register int __result___189 ;
  unsigned char const   *__s1___62 ;
  register int __result___190 ;
  int tmp___196 ;
  int tmp___197 ;
  int tmp___198 ;
  int tmp___199 ;
  size_t __s1_len___3 ;
  size_t __s2_len___3 ;
  int tmp___230 ;
  size_t tmp___231 ;
  register int __result___229 ;
  unsigned char const   *__s2___38 ;
  register int __result___230 ;
  int tmp___246 ;
  register int __result___237 ;
  unsigned char const   *__s1___78 ;
  register int __result___238 ;
  int tmp___253 ;
  int tmp___254 ;
  int tmp___255 ;
  int tmp___256 ;
  int tmp___257 ;
  int tmp___258 ;

  {
  tmp = resource_lookup(request);
  if ((unsigned int )tmp != (unsigned int )((void *)0)) {
    return;
  }
  path = (char const   *)(request->uri_data)->path;
  tmp___256 = __builtin_constant_p(path);
  if (tmp___256) {
    tmp___257 = __builtin_constant_p(strRetawq);
    if (tmp___257) {
      __s1_len___3 = strlen(path);
      __s2_len___3 = strlen(strRetawq);
      if (! ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
             1U)) {
        goto _L___854;
      } else {
        if (__s1_len___3 >= 4U) {
          _L___854: /* CIL Label */ 
          if (! ((unsigned int )((void const   *)(strRetawq + 1)) - (unsigned int )((void const   *)(strRetawq)) ==
                 1U)) {
            goto _L___853;
          } else {
            if (__s2_len___3 >= 4U) {
              _L___853: /* CIL Label */ 
              tmp___258 = 1;
            } else {
              goto _L___852;
            }
          }
        } else {
          _L___852: /* CIL Label */ 
          tmp___258 = 0;
        }
      }
      if (tmp___258) {
        if (__s1_len___3 < __s2_len___3) {
          tmp___231 = __s1_len___3;
        } else {
          tmp___231 = __s2_len___3;
        }
        tmp___230 = memcmp((void const   *)path, (void const   *)(strRetawq), tmp___231 +
                                                                              1U);
      } else {
        goto _L___856;
      }
    } else {
      goto _L___856;
    }
  } else {
    _L___856: /* CIL Label */ 
    tmp___255 = __builtin_constant_p(path);
    if (tmp___255) {
      if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
          1U) {
        __s1_len___3 = strlen(path);
        if (__s1_len___3 < 4U) {
          tmp___246 = __builtin_constant_p(strRetawq);
          if (tmp___246) {
            if ((unsigned int )((void const   *)(strRetawq + 1)) - (unsigned int )((void const   *)(strRetawq)) ==
                1U) {
              __result___229 = (int )((int const   )(*((unsigned char const   *)path +
                                                       0)) - (int const   )(*((unsigned char const   *)(strRetawq) +
                                                                              0)));
              if (__s1_len___3 > 0U) {
                if (__result___229 == 0) {
                  __result___229 = (int )((int const   )(*((unsigned char const   *)path +
                                                           1)) - (int const   )(*((unsigned char const   *)(strRetawq) +
                                                                                  1)));
                  if (__s1_len___3 > 1U) {
                    if (__result___229 == 0) {
                      __result___229 = (int )((int const   )(*((unsigned char const   *)path +
                                                               2)) - (int const   )(*((unsigned char const   *)(strRetawq) +
                                                                                      2)));
                      if (__s1_len___3 > 2U) {
                        if (__result___229 == 0) {
                          __result___229 = (int )((int const   )(*((unsigned char const   *)path +
                                                                   3)) - (int const   )(*((unsigned char const   *)(strRetawq) +
                                                                                          3)));
                        } else {
                          goto _L___815;
                        }
                      } else {
                        _L___815: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___816;
                    }
                  } else {
                    _L___816: /* CIL Label */ ;
                  }
                } else {
                  goto _L___817;
                }
              } else {
                _L___817: /* CIL Label */ ;
              }
              tmp___230 = __result___229;
            } else {
              goto _L___821;
            }
          } else {
            _L___821: /* CIL Label */ 
            __s2___38 = (unsigned char const   *)(strRetawq);
            __result___230 = (int )((int const   )(*((unsigned char const   *)path +
                                                     0)) - (int const   )(*(__s2___38 +
                                                                            0)));
            if (__s1_len___3 > 0U) {
              if (__result___230 == 0) {
                __result___230 = (int )((int const   )(*((unsigned char const   *)path +
                                                         1)) - (int const   )(*(__s2___38 +
                                                                                1)));
                if (__s1_len___3 > 1U) {
                  if (__result___230 == 0) {
                    __result___230 = (int )((int const   )(*((unsigned char const   *)path +
                                                             2)) - (int const   )(*(__s2___38 +
                                                                                    2)));
                    if (__s1_len___3 > 2U) {
                      if (__result___230 == 0) {
                        __result___230 = (int )((int const   )(*((unsigned char const   *)path +
                                                                 3)) - (int const   )(*(__s2___38 +
                                                                                        3)));
                      } else {
                        goto _L___818;
                      }
                    } else {
                      _L___818: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___819;
                  }
                } else {
                  _L___819: /* CIL Label */ ;
                }
              } else {
                goto _L___820;
              }
            } else {
              _L___820: /* CIL Label */ ;
            }
            tmp___230 = __result___230;
          }
        } else {
          goto _L___851;
        }
      } else {
        goto _L___851;
      }
    } else {
      _L___851: /* CIL Label */ 
      tmp___254 = __builtin_constant_p(strRetawq);
      if (tmp___254) {
        if ((unsigned int )((void const   *)(strRetawq + 1)) - (unsigned int )((void const   *)(strRetawq)) ==
            1U) {
          __s2_len___3 = strlen(strRetawq);
          if (__s2_len___3 < 4U) {
            tmp___253 = __builtin_constant_p(path);
            if (tmp___253) {
              if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                  1U) {
                __result___237 = (int )((int const   )(*((unsigned char const   *)path +
                                                         0)) - (int const   )(*((unsigned char const   *)(strRetawq) +
                                                                                0)));
                if (__s2_len___3 > 0U) {
                  if (__result___237 == 0) {
                    __result___237 = (int )((int const   )(*((unsigned char const   *)path +
                                                             1)) - (int const   )(*((unsigned char const   *)(strRetawq) +
                                                                                    1)));
                    if (__s2_len___3 > 1U) {
                      if (__result___237 == 0) {
                        __result___237 = (int )((int const   )(*((unsigned char const   *)path +
                                                                 2)) - (int const   )(*((unsigned char const   *)(strRetawq) +
                                                                                        2)));
                        if (__s2_len___3 > 2U) {
                          if (__result___237 == 0) {
                            __result___237 = (int )((int const   )(*((unsigned char const   *)path +
                                                                     3)) - (int const   )(*((unsigned char const   *)(strRetawq) +
                                                                                            3)));
                          } else {
                            goto _L___841;
                          }
                        } else {
                          _L___841: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___842;
                      }
                    } else {
                      _L___842: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___843;
                  }
                } else {
                  _L___843: /* CIL Label */ ;
                }
                tmp___230 = __result___237;
              } else {
                goto _L___847;
              }
            } else {
              _L___847: /* CIL Label */ 
              __s1___78 = (unsigned char const   *)path;
              __result___238 = (int )((int const   )(*(__s1___78 + 0)) - (int const   )(*((unsigned char const   *)(strRetawq) +
                                                                                          0)));
              if (__s2_len___3 > 0U) {
                if (__result___238 == 0) {
                  __result___238 = (int )((int const   )(*(__s1___78 + 1)) - (int const   )(*((unsigned char const   *)(strRetawq) +
                                                                                              1)));
                  if (__s2_len___3 > 1U) {
                    if (__result___238 == 0) {
                      __result___238 = (int )((int const   )(*(__s1___78 + 2)) - (int const   )(*((unsigned char const   *)(strRetawq) +
                                                                                                  2)));
                      if (__s2_len___3 > 2U) {
                        if (__result___238 == 0) {
                          __result___238 = (int )((int const   )(*(__s1___78 + 3)) -
                                                  (int const   )(*((unsigned char const   *)(strRetawq) +
                                                                   3)));
                        } else {
                          goto _L___844;
                        }
                      } else {
                        _L___844: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___845;
                    }
                  } else {
                    _L___845: /* CIL Label */ ;
                  }
                } else {
                  goto _L___846;
                }
              } else {
                _L___846: /* CIL Label */ ;
              }
              tmp___230 = __result___238;
            }
          } else {
            goto _L___849;
          }
        } else {
          goto _L___849;
        }
      } else {
        _L___849: /* CIL Label */ 
        tmp___230 = strcmp(path, strRetawq);
      }
    }
  }
  if (tmp___230) {
    tmp___198 = __builtin_constant_p(path);
    if (tmp___198) {
      __s1_len___2 = strlen(path);
      __s2_len___2 = strlen("activity");
      if (! ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
             1U)) {
        goto _L___678;
      } else {
        if (__s1_len___2 >= 4U) {
          _L___678: /* CIL Label */ 
          if (! ((unsigned int )((void const   *)("activity" + 1)) - (unsigned int )((void const   *)"activity") ==
                 1U)) {
            goto _L___677;
          } else {
            if (__s2_len___2 >= 4U) {
              _L___677: /* CIL Label */ 
              tmp___199 = 1;
            } else {
              goto _L___676;
            }
          }
        } else {
          _L___676: /* CIL Label */ 
          tmp___199 = 0;
        }
      }
      if (tmp___199) {
        if (__s1_len___2 < __s2_len___2) {
          tmp___181 = __s1_len___2;
        } else {
          tmp___181 = __s2_len___2;
        }
        tmp___180 = memcmp((void const   *)path, (void const   *)"activity", tmp___181 +
                                                                             1U);
      } else {
        goto _L___680;
      }
    } else {
      _L___680: /* CIL Label */ 
      tmp___197 = __builtin_constant_p(path);
      if (tmp___197) {
        if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
            1U) {
          __s1_len___2 = strlen(path);
          if (__s1_len___2 < 4U) {
            if ((unsigned int )((void const   *)("activity" + 1)) - (unsigned int )((void const   *)"activity") ==
                1U) {
              __result___181 = (int )((int const   )(*((unsigned char const   *)path +
                                                       0)) - (int const   )(*((unsigned char const   *)"activity" +
                                                                              0)));
              if (__s1_len___2 > 0U) {
                if (__result___181 == 0) {
                  __result___181 = (int )((int const   )(*((unsigned char const   *)path +
                                                           1)) - (int const   )(*((unsigned char const   *)"activity" +
                                                                                  1)));
                  if (__s1_len___2 > 1U) {
                    if (__result___181 == 0) {
                      __result___181 = (int )((int const   )(*((unsigned char const   *)path +
                                                               2)) - (int const   )(*((unsigned char const   *)"activity" +
                                                                                      2)));
                      if (__s1_len___2 > 2U) {
                        if (__result___181 == 0) {
                          __result___181 = (int )((int const   )(*((unsigned char const   *)path +
                                                                   3)) - (int const   )(*((unsigned char const   *)"activity" +
                                                                                          3)));
                        } else {
                          goto _L___641;
                        }
                      } else {
                        _L___641: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___642;
                    }
                  } else {
                    _L___642: /* CIL Label */ ;
                  }
                } else {
                  goto _L___643;
                }
              } else {
                _L___643: /* CIL Label */ ;
              }
              tmp___180 = __result___181;
            } else {
              __s2___30 = (unsigned char const   *)"activity";
              __result___182 = (int )((int const   )(*((unsigned char const   *)path +
                                                       0)) - (int const   )(*(__s2___30 +
                                                                              0)));
              if (__s1_len___2 > 0U) {
                if (__result___182 == 0) {
                  __result___182 = (int )((int const   )(*((unsigned char const   *)path +
                                                           1)) - (int const   )(*(__s2___30 +
                                                                                  1)));
                  if (__s1_len___2 > 1U) {
                    if (__result___182 == 0) {
                      __result___182 = (int )((int const   )(*((unsigned char const   *)path +
                                                               2)) - (int const   )(*(__s2___30 +
                                                                                      2)));
                      if (__s1_len___2 > 2U) {
                        if (__result___182 == 0) {
                          __result___182 = (int )((int const   )(*((unsigned char const   *)path +
                                                                   3)) - (int const   )(*(__s2___30 +
                                                                                          3)));
                        } else {
                          goto _L___644;
                        }
                      } else {
                        _L___644: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___645;
                    }
                  } else {
                    _L___645: /* CIL Label */ ;
                  }
                } else {
                  goto _L___646;
                }
              } else {
                _L___646: /* CIL Label */ ;
              }
              tmp___180 = __result___182;
            }
          } else {
            goto _L___675;
          }
        } else {
          goto _L___675;
        }
      } else {
        _L___675: /* CIL Label */ 
        if ((unsigned int )((void const   *)("activity" + 1)) - (unsigned int )((void const   *)"activity") ==
            1U) {
          __s2_len___2 = strlen("activity");
          if (__s2_len___2 < 4U) {
            tmp___196 = __builtin_constant_p(path);
            if (tmp___196) {
              if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                  1U) {
                __result___189 = (int )((int const   )(*((unsigned char const   *)path +
                                                         0)) - (int const   )(*((unsigned char const   *)"activity" +
                                                                                0)));
                if (__s2_len___2 > 0U) {
                  if (__result___189 == 0) {
                    __result___189 = (int )((int const   )(*((unsigned char const   *)path +
                                                             1)) - (int const   )(*((unsigned char const   *)"activity" +
                                                                                    1)));
                    if (__s2_len___2 > 1U) {
                      if (__result___189 == 0) {
                        __result___189 = (int )((int const   )(*((unsigned char const   *)path +
                                                                 2)) - (int const   )(*((unsigned char const   *)"activity" +
                                                                                        2)));
                        if (__s2_len___2 > 2U) {
                          if (__result___189 == 0) {
                            __result___189 = (int )((int const   )(*((unsigned char const   *)path +
                                                                     3)) - (int const   )(*((unsigned char const   *)"activity" +
                                                                                            3)));
                          } else {
                            goto _L___666;
                          }
                        } else {
                          _L___666: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___667;
                      }
                    } else {
                      _L___667: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___668;
                  }
                } else {
                  _L___668: /* CIL Label */ ;
                }
                tmp___180 = __result___189;
              } else {
                goto _L___672;
              }
            } else {
              _L___672: /* CIL Label */ 
              __s1___62 = (unsigned char const   *)path;
              __result___190 = (int )((int const   )(*(__s1___62 + 0)) - (int const   )(*((unsigned char const   *)"activity" +
                                                                                          0)));
              if (__s2_len___2 > 0U) {
                if (__result___190 == 0) {
                  __result___190 = (int )((int const   )(*(__s1___62 + 1)) - (int const   )(*((unsigned char const   *)"activity" +
                                                                                              1)));
                  if (__s2_len___2 > 1U) {
                    if (__result___190 == 0) {
                      __result___190 = (int )((int const   )(*(__s1___62 + 2)) - (int const   )(*((unsigned char const   *)"activity" +
                                                                                                  2)));
                      if (__s2_len___2 > 2U) {
                        if (__result___190 == 0) {
                          __result___190 = (int )((int const   )(*(__s1___62 + 3)) -
                                                  (int const   )(*((unsigned char const   *)"activity" +
                                                                   3)));
                        } else {
                          goto _L___669;
                        }
                      } else {
                        _L___669: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___670;
                    }
                  } else {
                    _L___670: /* CIL Label */ ;
                  }
                } else {
                  goto _L___671;
                }
              } else {
                _L___671: /* CIL Label */ ;
              }
              tmp___180 = __result___190;
            }
          } else {
            goto _L___673;
          }
        } else {
          _L___673: /* CIL Label */ 
          tmp___180 = strcmp(path, "activity");
        }
      }
    }
    if (tmp___180) {
      tmp___157 = __builtin_constant_p(path);
      if (tmp___157) {
        __s1_len___1 = strlen(path);
        __s2_len___1 = strlen("hostinfo");
        if (! ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
               1U)) {
          goto _L___510;
        } else {
          if (__s1_len___1 >= 4U) {
            _L___510: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)("hostinfo" + 1)) - (unsigned int )((void const   *)"hostinfo") ==
                   1U)) {
              goto _L___509;
            } else {
              if (__s2_len___1 >= 4U) {
                _L___509: /* CIL Label */ 
                tmp___158 = 1;
              } else {
                goto _L___508;
              }
            }
          } else {
            _L___508: /* CIL Label */ 
            tmp___158 = 0;
          }
        }
        if (tmp___158) {
          if (__s1_len___1 < __s2_len___1) {
            tmp___140 = __s1_len___1;
          } else {
            tmp___140 = __s2_len___1;
          }
          tmp___139 = memcmp((void const   *)path, (void const   *)"hostinfo", tmp___140 +
                                                                               1U);
        } else {
          goto _L___512;
        }
      } else {
        _L___512: /* CIL Label */ 
        tmp___156 = __builtin_constant_p(path);
        if (tmp___156) {
          if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
              1U) {
            __s1_len___1 = strlen(path);
            if (__s1_len___1 < 4U) {
              if ((unsigned int )((void const   *)("hostinfo" + 1)) - (unsigned int )((void const   *)"hostinfo") ==
                  1U) {
                __result___133 = (int )((int const   )(*((unsigned char const   *)path +
                                                         0)) - (int const   )(*((unsigned char const   *)"hostinfo" +
                                                                                0)));
                if (__s1_len___1 > 0U) {
                  if (__result___133 == 0) {
                    __result___133 = (int )((int const   )(*((unsigned char const   *)path +
                                                             1)) - (int const   )(*((unsigned char const   *)"hostinfo" +
                                                                                    1)));
                    if (__s1_len___1 > 1U) {
                      if (__result___133 == 0) {
                        __result___133 = (int )((int const   )(*((unsigned char const   *)path +
                                                                 2)) - (int const   )(*((unsigned char const   *)"hostinfo" +
                                                                                        2)));
                        if (__s1_len___1 > 2U) {
                          if (__result___133 == 0) {
                            __result___133 = (int )((int const   )(*((unsigned char const   *)path +
                                                                     3)) - (int const   )(*((unsigned char const   *)"hostinfo" +
                                                                                            3)));
                          } else {
                            goto _L___473;
                          }
                        } else {
                          _L___473: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___474;
                      }
                    } else {
                      _L___474: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___475;
                  }
                } else {
                  _L___475: /* CIL Label */ ;
                }
                tmp___139 = __result___133;
              } else {
                __s2___22 = (unsigned char const   *)"hostinfo";
                __result___134 = (int )((int const   )(*((unsigned char const   *)path +
                                                         0)) - (int const   )(*(__s2___22 +
                                                                                0)));
                if (__s1_len___1 > 0U) {
                  if (__result___134 == 0) {
                    __result___134 = (int )((int const   )(*((unsigned char const   *)path +
                                                             1)) - (int const   )(*(__s2___22 +
                                                                                    1)));
                    if (__s1_len___1 > 1U) {
                      if (__result___134 == 0) {
                        __result___134 = (int )((int const   )(*((unsigned char const   *)path +
                                                                 2)) - (int const   )(*(__s2___22 +
                                                                                        2)));
                        if (__s1_len___1 > 2U) {
                          if (__result___134 == 0) {
                            __result___134 = (int )((int const   )(*((unsigned char const   *)path +
                                                                     3)) - (int const   )(*(__s2___22 +
                                                                                            3)));
                          } else {
                            goto _L___476;
                          }
                        } else {
                          _L___476: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___477;
                      }
                    } else {
                      _L___477: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___478;
                  }
                } else {
                  _L___478: /* CIL Label */ ;
                }
                tmp___139 = __result___134;
              }
            } else {
              goto _L___507;
            }
          } else {
            goto _L___507;
          }
        } else {
          _L___507: /* CIL Label */ 
          if ((unsigned int )((void const   *)("hostinfo" + 1)) - (unsigned int )((void const   *)"hostinfo") ==
              1U) {
            __s2_len___1 = strlen("hostinfo");
            if (__s2_len___1 < 4U) {
              tmp___155 = __builtin_constant_p(path);
              if (tmp___155) {
                if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                    1U) {
                  __result___141 = (int )((int const   )(*((unsigned char const   *)path +
                                                           0)) - (int const   )(*((unsigned char const   *)"hostinfo" +
                                                                                  0)));
                  if (__s2_len___1 > 0U) {
                    if (__result___141 == 0) {
                      __result___141 = (int )((int const   )(*((unsigned char const   *)path +
                                                               1)) - (int const   )(*((unsigned char const   *)"hostinfo" +
                                                                                      1)));
                      if (__s2_len___1 > 1U) {
                        if (__result___141 == 0) {
                          __result___141 = (int )((int const   )(*((unsigned char const   *)path +
                                                                   2)) - (int const   )(*((unsigned char const   *)"hostinfo" +
                                                                                          2)));
                          if (__s2_len___1 > 2U) {
                            if (__result___141 == 0) {
                              __result___141 = (int )((int const   )(*((unsigned char const   *)path +
                                                                       3)) - (int const   )(*((unsigned char const   *)"hostinfo" +
                                                                                              3)));
                            } else {
                              goto _L___498;
                            }
                          } else {
                            _L___498: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___499;
                        }
                      } else {
                        _L___499: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___500;
                    }
                  } else {
                    _L___500: /* CIL Label */ ;
                  }
                  tmp___139 = __result___141;
                } else {
                  goto _L___504;
                }
              } else {
                _L___504: /* CIL Label */ 
                __s1___46 = (unsigned char const   *)path;
                __result___142 = (int )((int const   )(*(__s1___46 + 0)) - (int const   )(*((unsigned char const   *)"hostinfo" +
                                                                                            0)));
                if (__s2_len___1 > 0U) {
                  if (__result___142 == 0) {
                    __result___142 = (int )((int const   )(*(__s1___46 + 1)) - (int const   )(*((unsigned char const   *)"hostinfo" +
                                                                                                1)));
                    if (__s2_len___1 > 1U) {
                      if (__result___142 == 0) {
                        __result___142 = (int )((int const   )(*(__s1___46 + 2)) -
                                                (int const   )(*((unsigned char const   *)"hostinfo" +
                                                                 2)));
                        if (__s2_len___1 > 2U) {
                          if (__result___142 == 0) {
                            __result___142 = (int )((int const   )(*(__s1___46 + 3)) -
                                                    (int const   )(*((unsigned char const   *)"hostinfo" +
                                                                     3)));
                          } else {
                            goto _L___501;
                          }
                        } else {
                          _L___501: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___502;
                      }
                    } else {
                      _L___502: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___503;
                  }
                } else {
                  _L___503: /* CIL Label */ ;
                }
                tmp___139 = __result___142;
              }
            } else {
              goto _L___505;
            }
          } else {
            _L___505: /* CIL Label */ 
            tmp___139 = strcmp(path, "hostinfo");
          }
        }
      }
      if (tmp___139) {
        tmp___116 = __builtin_constant_p(path);
        if (tmp___116) {
          __s1_len___0 = strlen(path);
          __s2_len___0 = strlen("ctconfig");
          if (! ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                 1U)) {
            goto _L___342;
          } else {
            if (__s1_len___0 >= 4U) {
              _L___342: /* CIL Label */ 
              if (! ((unsigned int )((void const   *)("ctconfig" + 1)) - (unsigned int )((void const   *)"ctconfig") ==
                     1U)) {
                goto _L___341;
              } else {
                if (__s2_len___0 >= 4U) {
                  _L___341: /* CIL Label */ 
                  tmp___117 = 1;
                } else {
                  goto _L___340;
                }
              }
            } else {
              _L___340: /* CIL Label */ 
              tmp___117 = 0;
            }
          }
          if (tmp___117) {
            if (__s1_len___0 < __s2_len___0) {
              tmp___99 = __s1_len___0;
            } else {
              tmp___99 = __s2_len___0;
            }
            tmp___98 = memcmp((void const   *)path, (void const   *)"ctconfig", tmp___99 +
                                                                                1U);
          } else {
            goto _L___344;
          }
        } else {
          _L___344: /* CIL Label */ 
          tmp___115 = __builtin_constant_p(path);
          if (tmp___115) {
            if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                1U) {
              __s1_len___0 = strlen(path);
              if (__s1_len___0 < 4U) {
                if ((unsigned int )((void const   *)("ctconfig" + 1)) - (unsigned int )((void const   *)"ctconfig") ==
                    1U) {
                  __result___85 = (int )((int const   )(*((unsigned char const   *)path +
                                                          0)) - (int const   )(*((unsigned char const   *)"ctconfig" +
                                                                                 0)));
                  if (__s1_len___0 > 0U) {
                    if (__result___85 == 0) {
                      __result___85 = (int )((int const   )(*((unsigned char const   *)path +
                                                              1)) - (int const   )(*((unsigned char const   *)"ctconfig" +
                                                                                     1)));
                      if (__s1_len___0 > 1U) {
                        if (__result___85 == 0) {
                          __result___85 = (int )((int const   )(*((unsigned char const   *)path +
                                                                  2)) - (int const   )(*((unsigned char const   *)"ctconfig" +
                                                                                         2)));
                          if (__s1_len___0 > 2U) {
                            if (__result___85 == 0) {
                              __result___85 = (int )((int const   )(*((unsigned char const   *)path +
                                                                      3)) - (int const   )(*((unsigned char const   *)"ctconfig" +
                                                                                             3)));
                            } else {
                              goto _L___305;
                            }
                          } else {
                            _L___305: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___306;
                        }
                      } else {
                        _L___306: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___307;
                    }
                  } else {
                    _L___307: /* CIL Label */ ;
                  }
                  tmp___98 = __result___85;
                } else {
                  __s2___14 = (unsigned char const   *)"ctconfig";
                  __result___86 = (int )((int const   )(*((unsigned char const   *)path +
                                                          0)) - (int const   )(*(__s2___14 +
                                                                                 0)));
                  if (__s1_len___0 > 0U) {
                    if (__result___86 == 0) {
                      __result___86 = (int )((int const   )(*((unsigned char const   *)path +
                                                              1)) - (int const   )(*(__s2___14 +
                                                                                     1)));
                      if (__s1_len___0 > 1U) {
                        if (__result___86 == 0) {
                          __result___86 = (int )((int const   )(*((unsigned char const   *)path +
                                                                  2)) - (int const   )(*(__s2___14 +
                                                                                         2)));
                          if (__s1_len___0 > 2U) {
                            if (__result___86 == 0) {
                              __result___86 = (int )((int const   )(*((unsigned char const   *)path +
                                                                      3)) - (int const   )(*(__s2___14 +
                                                                                             3)));
                            } else {
                              goto _L___308;
                            }
                          } else {
                            _L___308: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___309;
                        }
                      } else {
                        _L___309: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___310;
                    }
                  } else {
                    _L___310: /* CIL Label */ ;
                  }
                  tmp___98 = __result___86;
                }
              } else {
                goto _L___339;
              }
            } else {
              goto _L___339;
            }
          } else {
            _L___339: /* CIL Label */ 
            if ((unsigned int )((void const   *)("ctconfig" + 1)) - (unsigned int )((void const   *)"ctconfig") ==
                1U) {
              __s2_len___0 = strlen("ctconfig");
              if (__s2_len___0 < 4U) {
                tmp___114 = __builtin_constant_p(path);
                if (tmp___114) {
                  if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                      1U) {
                    __result___93 = (int )((int const   )(*((unsigned char const   *)path +
                                                            0)) - (int const   )(*((unsigned char const   *)"ctconfig" +
                                                                                   0)));
                    if (__s2_len___0 > 0U) {
                      if (__result___93 == 0) {
                        __result___93 = (int )((int const   )(*((unsigned char const   *)path +
                                                                1)) - (int const   )(*((unsigned char const   *)"ctconfig" +
                                                                                       1)));
                        if (__s2_len___0 > 1U) {
                          if (__result___93 == 0) {
                            __result___93 = (int )((int const   )(*((unsigned char const   *)path +
                                                                    2)) - (int const   )(*((unsigned char const   *)"ctconfig" +
                                                                                           2)));
                            if (__s2_len___0 > 2U) {
                              if (__result___93 == 0) {
                                __result___93 = (int )((int const   )(*((unsigned char const   *)path +
                                                                        3)) - (int const   )(*((unsigned char const   *)"ctconfig" +
                                                                                               3)));
                              } else {
                                goto _L___330;
                              }
                            } else {
                              _L___330: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___331;
                          }
                        } else {
                          _L___331: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___332;
                      }
                    } else {
                      _L___332: /* CIL Label */ ;
                    }
                    tmp___98 = __result___93;
                  } else {
                    goto _L___336;
                  }
                } else {
                  _L___336: /* CIL Label */ 
                  __s1___30 = (unsigned char const   *)path;
                  __result___94 = (int )((int const   )(*(__s1___30 + 0)) - (int const   )(*((unsigned char const   *)"ctconfig" +
                                                                                             0)));
                  if (__s2_len___0 > 0U) {
                    if (__result___94 == 0) {
                      __result___94 = (int )((int const   )(*(__s1___30 + 1)) - (int const   )(*((unsigned char const   *)"ctconfig" +
                                                                                                 1)));
                      if (__s2_len___0 > 1U) {
                        if (__result___94 == 0) {
                          __result___94 = (int )((int const   )(*(__s1___30 + 2)) -
                                                 (int const   )(*((unsigned char const   *)"ctconfig" +
                                                                  2)));
                          if (__s2_len___0 > 2U) {
                            if (__result___94 == 0) {
                              __result___94 = (int )((int const   )(*(__s1___30 +
                                                                      3)) - (int const   )(*((unsigned char const   *)"ctconfig" +
                                                                                             3)));
                            } else {
                              goto _L___333;
                            }
                          } else {
                            _L___333: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___334;
                        }
                      } else {
                        _L___334: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___335;
                    }
                  } else {
                    _L___335: /* CIL Label */ ;
                  }
                  tmp___98 = __result___94;
                }
              } else {
                goto _L___337;
              }
            } else {
              _L___337: /* CIL Label */ 
              tmp___98 = strcmp(path, "ctconfig");
            }
          }
        }
        if (tmp___98) {
          tmp___74 = __builtin_constant_p(path);
          if (tmp___74) {
            tmp___75 = __builtin_constant_p(strOptHelp + 2);
            if (tmp___75) {
              __s1_len = strlen(path);
              __s2_len = strlen(strOptHelp + 2);
              if (! ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                     1U)) {
                goto _L___174;
              } else {
                if (__s1_len >= 4U) {
                  _L___174: /* CIL Label */ 
                  if (! ((unsigned int )((void const   *)((strOptHelp + 2) + 1)) -
                         (unsigned int )((void const   *)(strOptHelp + 2)) == 1U)) {
                    goto _L___173;
                  } else {
                    if (__s2_len >= 4U) {
                      _L___173: /* CIL Label */ 
                      tmp___76 = 1;
                    } else {
                      goto _L___172;
                    }
                  }
                } else {
                  _L___172: /* CIL Label */ 
                  tmp___76 = 0;
                }
              }
              if (tmp___76) {
                if (__s1_len < __s2_len) {
                  tmp___49 = __s1_len;
                } else {
                  tmp___49 = __s2_len;
                }
                tmp___48 = memcmp((void const   *)path, (void const   *)(strOptHelp +
                                                                         2), tmp___49 +
                                                                             1U);
              } else {
                goto _L___176;
              }
            } else {
              goto _L___176;
            }
          } else {
            _L___176: /* CIL Label */ 
            tmp___73 = __builtin_constant_p(path);
            if (tmp___73) {
              if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                  1U) {
                __s1_len = strlen(path);
                if (__s1_len < 4U) {
                  tmp___64 = __builtin_constant_p(strOptHelp + 2);
                  if (tmp___64) {
                    if ((unsigned int )((void const   *)((strOptHelp + 2) + 1)) -
                        (unsigned int )((void const   *)(strOptHelp + 2)) == 1U) {
                      __result___37 = (int )((int const   )(*((unsigned char const   *)path +
                                                              0)) - (int const   )(*((unsigned char const   *)(strOptHelp +
                                                                                                               2) +
                                                                                     0)));
                      if (__s1_len > 0U) {
                        if (__result___37 == 0) {
                          __result___37 = (int )((int const   )(*((unsigned char const   *)path +
                                                                  1)) - (int const   )(*((unsigned char const   *)(strOptHelp +
                                                                                                                   2) +
                                                                                         1)));
                          if (__s1_len > 1U) {
                            if (__result___37 == 0) {
                              __result___37 = (int )((int const   )(*((unsigned char const   *)path +
                                                                      2)) - (int const   )(*((unsigned char const   *)(strOptHelp +
                                                                                                                       2) +
                                                                                             2)));
                              if (__s1_len > 2U) {
                                if (__result___37 == 0) {
                                  __result___37 = (int )((int const   )(*((unsigned char const   *)path +
                                                                          3)) - (int const   )(*((unsigned char const   *)(strOptHelp +
                                                                                                                           2) +
                                                                                                 3)));
                                } else {
                                  goto _L___135;
                                }
                              } else {
                                _L___135: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___136;
                            }
                          } else {
                            _L___136: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___137;
                        }
                      } else {
                        _L___137: /* CIL Label */ ;
                      }
                      tmp___48 = __result___37;
                    } else {
                      goto _L___141;
                    }
                  } else {
                    _L___141: /* CIL Label */ 
                    __s2___6 = (unsigned char const   *)(strOptHelp + 2);
                    __result___38 = (int )((int const   )(*((unsigned char const   *)path +
                                                            0)) - (int const   )(*(__s2___6 +
                                                                                   0)));
                    if (__s1_len > 0U) {
                      if (__result___38 == 0) {
                        __result___38 = (int )((int const   )(*((unsigned char const   *)path +
                                                                1)) - (int const   )(*(__s2___6 +
                                                                                       1)));
                        if (__s1_len > 1U) {
                          if (__result___38 == 0) {
                            __result___38 = (int )((int const   )(*((unsigned char const   *)path +
                                                                    2)) - (int const   )(*(__s2___6 +
                                                                                           2)));
                            if (__s1_len > 2U) {
                              if (__result___38 == 0) {
                                __result___38 = (int )((int const   )(*((unsigned char const   *)path +
                                                                        3)) - (int const   )(*(__s2___6 +
                                                                                               3)));
                              } else {
                                goto _L___138;
                              }
                            } else {
                              _L___138: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___139;
                          }
                        } else {
                          _L___139: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___140;
                      }
                    } else {
                      _L___140: /* CIL Label */ ;
                    }
                    tmp___48 = __result___38;
                  }
                } else {
                  goto _L___171;
                }
              } else {
                goto _L___171;
              }
            } else {
              _L___171: /* CIL Label */ 
              tmp___72 = __builtin_constant_p(strOptHelp + 2);
              if (tmp___72) {
                if ((unsigned int )((void const   *)((strOptHelp + 2) + 1)) - (unsigned int )((void const   *)(strOptHelp +
                                                                                                               2)) ==
                    1U) {
                  __s2_len = strlen(strOptHelp + 2);
                  if (__s2_len < 4U) {
                    tmp___71 = __builtin_constant_p(path);
                    if (tmp___71) {
                      if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                          1U) {
                        __result___45 = (int )((int const   )(*((unsigned char const   *)path +
                                                                0)) - (int const   )(*((unsigned char const   *)(strOptHelp +
                                                                                                                 2) +
                                                                                       0)));
                        if (__s2_len > 0U) {
                          if (__result___45 == 0) {
                            __result___45 = (int )((int const   )(*((unsigned char const   *)path +
                                                                    1)) - (int const   )(*((unsigned char const   *)(strOptHelp +
                                                                                                                     2) +
                                                                                           1)));
                            if (__s2_len > 1U) {
                              if (__result___45 == 0) {
                                __result___45 = (int )((int const   )(*((unsigned char const   *)path +
                                                                        2)) - (int const   )(*((unsigned char const   *)(strOptHelp +
                                                                                                                         2) +
                                                                                               2)));
                                if (__s2_len > 2U) {
                                  if (__result___45 == 0) {
                                    __result___45 = (int )((int const   )(*((unsigned char const   *)path +
                                                                            3)) -
                                                           (int const   )(*((unsigned char const   *)(strOptHelp +
                                                                                                      2) +
                                                                            3)));
                                  } else {
                                    goto _L___161;
                                  }
                                } else {
                                  _L___161: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___162;
                              }
                            } else {
                              _L___162: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___163;
                          }
                        } else {
                          _L___163: /* CIL Label */ ;
                        }
                        tmp___48 = __result___45;
                      } else {
                        goto _L___167;
                      }
                    } else {
                      _L___167: /* CIL Label */ 
                      __s1___14 = (unsigned char const   *)path;
                      __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)(strOptHelp +
                                                                                                                           2) +
                                                                                                 0)));
                      if (__s2_len > 0U) {
                        if (__result___46 == 0) {
                          __result___46 = (int )((int const   )(*(__s1___14 + 1)) -
                                                 (int const   )(*((unsigned char const   *)(strOptHelp +
                                                                                            2) +
                                                                  1)));
                          if (__s2_len > 1U) {
                            if (__result___46 == 0) {
                              __result___46 = (int )((int const   )(*(__s1___14 +
                                                                      2)) - (int const   )(*((unsigned char const   *)(strOptHelp +
                                                                                                                       2) +
                                                                                             2)));
                              if (__s2_len > 2U) {
                                if (__result___46 == 0) {
                                  __result___46 = (int )((int const   )(*(__s1___14 +
                                                                          3)) - (int const   )(*((unsigned char const   *)(strOptHelp +
                                                                                                                           2) +
                                                                                                 3)));
                                } else {
                                  goto _L___164;
                                }
                              } else {
                                _L___164: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___165;
                            }
                          } else {
                            _L___165: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___166;
                        }
                      } else {
                        _L___166: /* CIL Label */ ;
                      }
                      tmp___48 = __result___46;
                    }
                  } else {
                    goto _L___169;
                  }
                } else {
                  goto _L___169;
                }
              } else {
                _L___169: /* CIL Label */ 
                tmp___48 = strcmp(path, strOptHelp + 2);
              }
            }
          }
          if (tmp___48) {
            resource_request_set_error(request, (unsigned char)8);
          } else {
            tmp___17 = resource_create(request, (tContentblock *)((void *)0), ~ 0U,
                                       (unsigned char)2, (unsigned char)5);
            resource___3 = tmp___17;
            resource_collect_title(resource___3, "Help");
            resource_collect_str(resource___3, "<p><a href=\"local:/usr/local/doc/retawq/index.html\">/usr/local/doc/retawq/index.html</a>\n<br><a href=\"http://retawq.sourceforge.net/docu/\">http://retawq.sourceforge.net/docu/</a></p>");
            resource_collect_str(resource___3, strEndpNewlineEndBodyHtml + 4);
          }
        } else {
          tmp___16 = resource_create(request, (tContentblock *)((void *)0), ~ 0U,
                                     (unsigned char)2, (unsigned char)5);
          resource___2 = tmp___16;
          resource_collect_title(resource___2, "retawq Compile-Time Configuration Options");
          prepare_about_ctconfig();
          resource_collect_str(resource___2, (char const   *)(strbuf___1));
          resource_collect_str(resource___2, strEndpNewlineEndBodyHtml + 4);
        }
      } else {
        tmp___5 = resource_create(request, (tContentblock *)((void *)0), ~ 0U, (unsigned char)2,
                                  (unsigned char)5);
        resource___1 = tmp___5;
        did_something1 = (tBoolean )0;
        did_something2 = (tBoolean )0;
        resource_collect_title(resource___1, "Contents of the host information cache");
        i = (unsigned short)0;
        while ((int )i < 101) {
          hostinfo = (tCachedHostInformation const   *)chi_head[i];
          if ((unsigned int )hostinfo == (unsigned int )((void *)0)) {
            goto __Cont;
          }
          did_something1 = (unsigned char)1;
          while ((unsigned int )hostinfo != (unsigned int )((void *)0)) {
            hppi___0 = (tHostPortProtInfo const   *)hostinfo->hppi;
            my_spf(strbuf___1, 4096U, & spfbuf___1, "\n<p>name: \"%s\"; flags: %d",
                   hostinfo->hostname, hostinfo->flags);
            resource_collect_str(resource___1, (char const   *)spfbuf___1);
            while (1) {
              if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf___1) {
                memory_deallocate_ll((void const   *)spfbuf___1);
              }
              break;
            }
            si = (signed char)0;
            while ((int )si < (int )hostinfo->num_sockaddrs) {
              sockaddr2uistr((tSockaddrEntry const   *)(*(hostinfo->sockaddrs + si)),
                             strbuf___1, 4096U);
              if ((int )strbuf___1[0] != 0) {
                resource_collect_str(resource___1, "; IP address: ");
                resource_collect_str(resource___1, (char const   *)(strbuf___1));
              }
              si = (tSockaddrIndex )((int )si + 1);
            }
            while ((unsigned int )hppi___0 != (unsigned int )((void *)0)) {
              protocol = hppi___0->protocol;
              rp2scheme(protocol, schemebuf___0);
              __x = hppi___0->portnumber;
              tmp___6 = __builtin_constant_p(__x);
              if (tmp___6) {
                __v = (unsigned short )((((int )__x >> 8) & 255) | (((int )__x & 255) <<
                                                                    8));
              } else {
                __asm__  ("rorw $8, %w0": "=r" (__v): "0" (__x): "cc");
              }
              my_spf(strbuf___1, 4096U, & spfbuf___1, "\n<br>port %d: scheme %s; flags: %d",
                     __v, schemebuf___0, hppi___0->flags);
              resource_collect_str(resource___1, (char const   *)spfbuf___1);
              while (1) {
                if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf___1) {
                  memory_deallocate_ll((void const   *)spfbuf___1);
                }
                break;
              }
              hppi___0 = (tHostPortProtInfo const   *)hppi___0->next;
            }
            if ((unsigned int )hostinfo->cookies != (unsigned int )((void *)0)) {
              tmp___7 = cookie_reviewlist(hostinfo);
              buf___2 = tmp___7;
              if ((unsigned int )buf___2 != (unsigned int )((void *)0)) {
                resource_collect_str(resource___1, buf___2);
                memory_deallocate_ll((void const   *)buf___2);
              }
            }
            resource_collect_str(resource___1, strNewlineEndp);
            hostinfo = (tCachedHostInformation const   *)hostinfo->next;
          }
          __Cont: /* CIL Label */ 
          i = (tHashIndex )((int )i + 1);
        }
        i = (unsigned short)0;
        while ((int )i < 16) {
          entry = sockaddr_entry_head[i];
          if ((unsigned int )entry == (unsigned int )((void *)0)) {
            goto __Cont___0;
          }
          if (did_something1) {
            if (! did_something2) {
              resource_collect_str(resource___1, "\n<p><hr width=\"60%\" align=\"center\"><p>");
            } else {
              goto _L;
            }
          } else {
            _L: /* CIL Label */ ;
          }
          did_something2 = (unsigned char)1;
          while ((unsigned int )entry != (unsigned int )((void *)0)) {
            sockaddr2uistr((tSockaddrEntry const   *)entry, strbuf___1, 4096U);
            if ((int )strbuf___1[0] != 0) {
              resource_collect_str(resource___1, "\n<p>IP address: ");
              resource_collect_str(resource___1, (char const   *)(strbuf___1));
              sppi = entry->sppi;
              while ((unsigned int )sppi != (unsigned int )((void *)0)) {
                swid = sppi->software_id;
                if ((unsigned int )swid != (unsigned int )((void *)0)) {
                  tmp___9 = htmlify(swid);
                } else {
                  tmp___9 = (char const   *)((void *)0);
                }
                swid2 = tmp___9;
                if ((unsigned int )swid2 != (unsigned int )((void *)0)) {
                  tmp___10 = 1;
                } else {
                  tmp___10 = 0;
                }
                do_swid = (tBoolean )tmp___10;
                sppif = sppi->sppif;
                rp2scheme(sppi->protocol, schemebuf___0);
                if (do_swid) {
                  tmp___11 = strDoubleQuote;
                } else {
                  tmp___11 = strEmpty;
                }
                if (do_swid) {
                  tmp___12 = swid2;
                } else {
                  tmp___12 = strEmpty;
                }
                if (do_swid) {
                  tmp___13 = "; server: \"";
                } else {
                  tmp___13 = strEmpty;
                }
                if ((int )sppif & 1) {
                  tmp___14 = "; not HTTP/1.1";
                } else {
                  tmp___14 = strEmpty;
                }
                __x___0 = sppi->portnumber;
                tmp___15 = __builtin_constant_p(__x___0);
                if (tmp___15) {
                  __v___0 = (unsigned short )((((int )__x___0 >> 8) & 255) | (((int )__x___0 &
                                                                               255) <<
                                                                              8));
                } else {
                  __asm__  ("rorw $8, %w0": "=r" (__v___0): "0" (__x___0): "cc");
                }
                my_spf(strbuf___1, 4096U, & spfbuf___1, "\n<br>port %d: scheme %s; flags: %d; rating: %d%s%s%s%s",
                       __v___0, schemebuf___0, sppif, sppi->rating, tmp___14, tmp___13,
                       tmp___12, tmp___11);
                if (do_swid) {
                  while (1) {
                    if ((unsigned int )swid2 != (unsigned int )swid) {
                      memory_deallocate_ll((void const   *)swid2);
                    }
                    break;
                  }
                }
                resource_collect_str(resource___1, (char const   *)spfbuf___1);
                while (1) {
                  if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf___1) {
                    memory_deallocate_ll((void const   *)spfbuf___1);
                  }
                  break;
                }
                sppi = sppi->next;
              }
              resource_collect_str(resource___1, strNewlineEndp);
            }
            entry = entry->next;
          }
          __Cont___0: /* CIL Label */ 
          i = (tHashIndex )((int )i + 1);
        }
        if (! did_something1) {
          if (! did_something2) {
            resource_collect_str(resource___1, "<p>No information known yet.</p>\n");
          } else {
            goto _L___0;
          }
        } else {
          _L___0: /* CIL Label */ ;
        }
        resource_collect_str(resource___1, strEndpNewlineEndBodyHtml + 4);
      }
    } else {
      tmp___2 = resource_create(request, (tContentblock *)((void *)0), ~ 0U, (unsigned char)2,
                                (unsigned char)5);
      resource___0 = tmp___2;
      conn = (tConnection const   *)connlist_head;
      is_first = (tBoolean )1;
      resource___0->flags = resource___0->flags | 64U;
      resource_collect_title(resource___0, "Activity");
      while ((unsigned int )conn != (unsigned int )((void *)0)) {
        hppi = conn->hppi;
        info = (char const   *)((void *)0);
        must_cleanup_info = (unsigned char)0;
        is_first = must_cleanup_info;
        if ((int )conn->flags & 512) {
          info = (char const   *)((char *)"disconnecting");
          goto finish;
        }
        if ((int )conn->flags & 16) {
          res = (tResource const   *)((tResource *)conn->data);
        } else {
          res = (tResource const   *)((void *)0);
        }
        if ((unsigned int )res != (unsigned int )((void *)0)) {
          bytecount = res->bytecount;
          if (bytecount < 2U) {
            bytecountbuf[0] = (char )'\000';
          } else {
            sprintf((char * __restrict  )(bytecountbuf), (char const   * __restrict  )"%s%d %s",
                    strSpacedDash, bytecount, strBytes);
          }
          my_spf(strbuf2___0, 4096U, & spfbuf___0, strPercsPercs, (res->uri_data)->uri,
                 bytecountbuf);
          info = (char const   *)spfbuf___0;
          must_cleanup_info = (unsigned char)1;
        }
        if ((unsigned int )hppi != (unsigned int )((void *)0)) {

        }
        finish: 
        rp2scheme(conn->protocol, schemebuf);
        if ((unsigned int )info == (unsigned int )((void *)0)) {
          tmp___3 = strEmpty;
        } else {
          tmp___3 = info;
        }
        if ((unsigned int )info != (unsigned int )((void *)0)) {
          tmp___4 = strSpacedDash;
        } else {
          tmp___4 = strEmpty;
        }
        my_spf(strbuf___1, 4096U, & spfbuf___0, "<p>fd #%d, scheme %s%s%s</p>", conn->fd,
               schemebuf, tmp___4, tmp___3);
        resource_collect_str(resource___0, (char const   *)spfbuf___0);
        if (must_cleanup_info) {
          while (1) {
            if ((unsigned int )(strbuf2___0) != (unsigned int )info) {
              memory_deallocate_ll((void const   *)info);
            }
            break;
          }
        }
        while (1) {
          if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf___0) {
            memory_deallocate_ll((void const   *)spfbuf___0);
          }
          break;
        }
        conn = (tConnection const   *)conn->next;
      }
      if (is_first) {
        resource_collect_str(resource___0, "<p>none</p>");
      }
      resource_collect_str(resource___0, strEndpNewlineEndBodyHtml + 4);
    }
  } else {
    tmp___0 = resource_create(request, (tContentblock *)((void *)0), ~ 0U, (unsigned char)2,
                              (unsigned char)5);
    resource = tmp___0;
    my_spf(strbuf___1, 4096U, & spfbuf, "<html><head><title>About retawq</title></head>\n<body>\n<h3 align=\"center\"><b>retawq %s (%s mode%s)</b></h3>\n<p>The web browser <b>retawq</b> is released <b>without any warranty</b>. The project home page is <a href=\"http://retawq.sourceforge.net/\">retawq.sourceforge.net</a>.</p>\n",
           "0.2.6b", strText, ", ncurses");
    resource_collect_str(resource, (char const   *)spfbuf);
    while (1) {
      if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf) {
        memory_deallocate_ll((void const   *)spfbuf);
      }
      break;
    }
    spfbuf = (char *)((void *)0);
    tmp___1 = curses_version();
    my_spf(strbuf___1, 4096U, & spfbuf, "<p>Currently using <a href=\"http://directory.fsf.org/ncurses.html\">ncurses</a> library version \"%s\".</p>\n",
           tmp___1);
    if ((unsigned int )spfbuf != (unsigned int )((void *)0)) {
      resource_collect_str(resource, (char const   *)spfbuf);
      while (1) {
        if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf) {
          memory_deallocate_ll((void const   *)spfbuf);
        }
        break;
      }
    }
    if ((unsigned int )initial_messages != (unsigned int )((void *)0)) {
      resource_collect_str(resource, "<p>Start messages:");
      resource_collect_str(resource, initial_messages);
      resource_collect_str(resource, "</p>\n");
    }
    resource_collect_str(resource, (strEndpNewlineEndBodyHtml + 4) + 1);
  }
  return;
}
}
static char const   strQuerySort[7]  = {      (char const   )'?',      (char const   )'s',      (char const   )'o',      (char const   )'r', 
        (char const   )'t',      (char const   )'=',      (char const   )'\000'};
static char const   *current_localdirsort  ;
static char buf___1[20]  ;
__inline static char *local_query2sorting(char const   *query ) 
{ char *retval ;
  size_t len ;
  size_t tmp ;
  size_t slen ;
  char const   *sorting ;
  char const   *end ;
  char const   *end_max ;
  size_t tmp___2 ;
  char *tmp___3 ;

  {
  retval = (char *)((void *)0);
  if ((unsigned int )query != (unsigned int )((void *)0)) {
    tmp = strlen(strQuerySort);
    len = tmp - 1U;
    tmp___3 = strstr(query, strQuerySort + 1);
    if (tmp___3) {
      sorting = query + len;
      if ((int const   )(*sorting) == 0) {
        goto out;
      }
      end = strchr(sorting, '&');
      if ((unsigned int )end == (unsigned int )((void *)0)) {
        tmp___2 = strlen(sorting);
        end = sorting + tmp___2;
      }
      end_max = (sorting + 20) - 5;
      if ((unsigned int )end > (unsigned int )end_max) {
        end = end_max;
      }
      slen = (unsigned int )(end - sorting);
      memcpy((void * __restrict  )(buf___1), (void const   * __restrict  )sorting,
             slen);
      buf___1[slen] = (char )'\000';
      check_localdirsort(buf___1);
      if ((int )buf___1[0] != 0) {
        retval = buf___1;
      }
    }
  }
  out: 
  return (retval);
}
}
static int mode2num(mode_t mode ) 
{ int retval ;

  {
  if ((mode & 61440U) == 16384U) {
    retval = 1;
  } else {
    if ((mode & 61440U) == 32768U) {
      retval = 2;
    } else {
      retval = 3;
    }
  }
  return (retval);
}
}
__inline static char const   *path2format(char const   *path ) 
{ char const   *retval ;
  tConfigLocaldirformat const   *ldf ;
  char const   *pattern___0 ;
  size_t len ;
  int tmp___64 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___95 ;
  size_t tmp___96 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  int tmp___111 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___118 ;
  int tmp___119 ;
  int tmp___120 ;
  int tmp___121 ;
  int tmp___122 ;
  int tmp___123 ;
  int tmp___124 ;
  int tmp___125 ;
  size_t tmp___126 ;
  int tmp___127 ;
  size_t tmp___128 ;
  size_t __s1_len___1 ;
  size_t __s2_len___1 ;
  int tmp___159 ;
  size_t tmp___160 ;
  register int __result___133 ;
  unsigned char const   *__s2___22 ;
  register int __result___134 ;
  int tmp___175 ;
  register int __result___141 ;
  unsigned char const   *__s1___46 ;
  register int __result___142 ;
  int tmp___182 ;
  int tmp___183 ;
  int tmp___184 ;
  int tmp___185 ;
  int tmp___186 ;
  int tmp___187 ;

  {
  retval = (char const   *)((void *)0);
  ldf = (tConfigLocaldirformat const   *)config.ldf;
  while ((unsigned int )ldf != (unsigned int )((void *)0)) {
    pattern___0 = ldf->path_pattern;
    if ((unsigned int )pattern___0 == (unsigned int )((void *)0)) {
      goto _L;
    } else {
      if ((int const   )(*pattern___0) == 0) {
        _L: /* CIL Label */ 
        goto nxt;
      }
    }
    len = strlen(pattern___0);
    if ((int const   )(*(pattern___0 + (len - 1U))) == 42) {
      tmp___124 = __builtin_constant_p(len - 1U);
      if (tmp___124) {
        tmp___125 = __builtin_constant_p(pattern___0);
        if (tmp___125) {
          tmp___126 = strlen(pattern___0);
          if (tmp___126 < len - 1U) {
            goto _L___354;
          } else {
            goto _L___356;
          }
        } else {
          _L___356: /* CIL Label */ 
          tmp___127 = __builtin_constant_p(path);
          if (tmp___127) {
            tmp___128 = strlen(path);
            if (tmp___128 < len - 1U) {
              _L___354: /* CIL Label */ 
              tmp___121 = __builtin_constant_p(pattern___0);
              if (tmp___121) {
                tmp___122 = __builtin_constant_p(path);
                if (tmp___122) {
                  __s1_len___0 = strlen(pattern___0);
                  __s2_len___0 = strlen(path);
                  if (! ((unsigned int )((void const   *)(pattern___0 + 1)) - (unsigned int )((void const   *)pattern___0) ==
                         1U)) {
                    goto _L___350;
                  } else {
                    if (__s1_len___0 >= 4U) {
                      _L___350: /* CIL Label */ 
                      if (! ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                             1U)) {
                        goto _L___349;
                      } else {
                        if (__s2_len___0 >= 4U) {
                          _L___349: /* CIL Label */ 
                          tmp___123 = 1;
                        } else {
                          goto _L___348;
                        }
                      }
                    } else {
                      _L___348: /* CIL Label */ 
                      tmp___123 = 0;
                    }
                  }
                  if (tmp___123) {
                    if (__s1_len___0 < __s2_len___0) {
                      tmp___96 = __s1_len___0;
                    } else {
                      tmp___96 = __s2_len___0;
                    }
                    tmp___95 = memcmp((void const   *)pattern___0, (void const   *)path,
                                      tmp___96 + 1U);
                  } else {
                    goto _L___352;
                  }
                } else {
                  goto _L___352;
                }
              } else {
                _L___352: /* CIL Label */ 
                tmp___120 = __builtin_constant_p(pattern___0);
                if (tmp___120) {
                  if ((unsigned int )((void const   *)(pattern___0 + 1)) - (unsigned int )((void const   *)pattern___0) ==
                      1U) {
                    __s1_len___0 = strlen(pattern___0);
                    if (__s1_len___0 < 4U) {
                      tmp___111 = __builtin_constant_p(path);
                      if (tmp___111) {
                        if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                            1U) {
                          __result___85 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                  0)) - (int const   )(*((unsigned char const   *)path +
                                                                                         0)));
                          if (__s1_len___0 > 0U) {
                            if (__result___85 == 0) {
                              __result___85 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                      1)) - (int const   )(*((unsigned char const   *)path +
                                                                                             1)));
                              if (__s1_len___0 > 1U) {
                                if (__result___85 == 0) {
                                  __result___85 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                          2)) - (int const   )(*((unsigned char const   *)path +
                                                                                                 2)));
                                  if (__s1_len___0 > 2U) {
                                    if (__result___85 == 0) {
                                      __result___85 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                              3)) -
                                                             (int const   )(*((unsigned char const   *)path +
                                                                              3)));
                                    } else {
                                      goto _L___311;
                                    }
                                  } else {
                                    _L___311: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___312;
                                }
                              } else {
                                _L___312: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___313;
                            }
                          } else {
                            _L___313: /* CIL Label */ ;
                          }
                          tmp___95 = __result___85;
                        } else {
                          goto _L___317;
                        }
                      } else {
                        _L___317: /* CIL Label */ 
                        __s2___14 = (unsigned char const   *)path;
                        __result___86 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                0)) - (int const   )(*(__s2___14 +
                                                                                       0)));
                        if (__s1_len___0 > 0U) {
                          if (__result___86 == 0) {
                            __result___86 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                    1)) - (int const   )(*(__s2___14 +
                                                                                           1)));
                            if (__s1_len___0 > 1U) {
                              if (__result___86 == 0) {
                                __result___86 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                        2)) - (int const   )(*(__s2___14 +
                                                                                               2)));
                                if (__s1_len___0 > 2U) {
                                  if (__result___86 == 0) {
                                    __result___86 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                            3)) -
                                                           (int const   )(*(__s2___14 +
                                                                            3)));
                                  } else {
                                    goto _L___314;
                                  }
                                } else {
                                  _L___314: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___315;
                              }
                            } else {
                              _L___315: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___316;
                          }
                        } else {
                          _L___316: /* CIL Label */ ;
                        }
                        tmp___95 = __result___86;
                      }
                    } else {
                      goto _L___347;
                    }
                  } else {
                    goto _L___347;
                  }
                } else {
                  _L___347: /* CIL Label */ 
                  tmp___119 = __builtin_constant_p(path);
                  if (tmp___119) {
                    if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                        1U) {
                      __s2_len___0 = strlen(path);
                      if (__s2_len___0 < 4U) {
                        tmp___118 = __builtin_constant_p(pattern___0);
                        if (tmp___118) {
                          if ((unsigned int )((void const   *)(pattern___0 + 1)) -
                              (unsigned int )((void const   *)pattern___0) == 1U) {
                            __result___93 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                    0)) - (int const   )(*((unsigned char const   *)path +
                                                                                           0)));
                            if (__s2_len___0 > 0U) {
                              if (__result___93 == 0) {
                                __result___93 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                        1)) - (int const   )(*((unsigned char const   *)path +
                                                                                               1)));
                                if (__s2_len___0 > 1U) {
                                  if (__result___93 == 0) {
                                    __result___93 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                            2)) -
                                                           (int const   )(*((unsigned char const   *)path +
                                                                            2)));
                                    if (__s2_len___0 > 2U) {
                                      if (__result___93 == 0) {
                                        __result___93 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                                3)) -
                                                               (int const   )(*((unsigned char const   *)path +
                                                                                3)));
                                      } else {
                                        goto _L___337;
                                      }
                                    } else {
                                      _L___337: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___338;
                                  }
                                } else {
                                  _L___338: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___339;
                              }
                            } else {
                              _L___339: /* CIL Label */ ;
                            }
                            tmp___95 = __result___93;
                          } else {
                            goto _L___343;
                          }
                        } else {
                          _L___343: /* CIL Label */ 
                          __s1___30 = (unsigned char const   *)pattern___0;
                          __result___94 = (int )((int const   )(*(__s1___30 + 0)) -
                                                 (int const   )(*((unsigned char const   *)path +
                                                                  0)));
                          if (__s2_len___0 > 0U) {
                            if (__result___94 == 0) {
                              __result___94 = (int )((int const   )(*(__s1___30 +
                                                                      1)) - (int const   )(*((unsigned char const   *)path +
                                                                                             1)));
                              if (__s2_len___0 > 1U) {
                                if (__result___94 == 0) {
                                  __result___94 = (int )((int const   )(*(__s1___30 +
                                                                          2)) - (int const   )(*((unsigned char const   *)path +
                                                                                                 2)));
                                  if (__s2_len___0 > 2U) {
                                    if (__result___94 == 0) {
                                      __result___94 = (int )((int const   )(*(__s1___30 +
                                                                              3)) -
                                                             (int const   )(*((unsigned char const   *)path +
                                                                              3)));
                                    } else {
                                      goto _L___340;
                                    }
                                  } else {
                                    _L___340: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___341;
                                }
                              } else {
                                _L___341: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___342;
                            }
                          } else {
                            _L___342: /* CIL Label */ ;
                          }
                          tmp___95 = __result___94;
                        }
                      } else {
                        goto _L___345;
                      }
                    } else {
                      goto _L___345;
                    }
                  } else {
                    _L___345: /* CIL Label */ 
                    tmp___95 = strcmp(pattern___0, path);
                  }
                }
              }
              tmp___64 = tmp___95;
            } else {
              goto _L___355;
            }
          } else {
            _L___355: /* CIL Label */ 
            goto _L___353;
          }
        }
      } else {
        _L___353: /* CIL Label */ 
        tmp___64 = strncmp(pattern___0, path, len - 1U);
      }
      if (tmp___64) {
        goto _L___534;
      } else {
        goto _L___533;
      }
    } else {
      _L___534: /* CIL Label */ 
      tmp___185 = __builtin_constant_p(pattern___0);
      if (tmp___185) {
        tmp___186 = __builtin_constant_p(path);
        if (tmp___186) {
          __s1_len___1 = strlen(pattern___0);
          __s2_len___1 = strlen(path);
          if (! ((unsigned int )((void const   *)(pattern___0 + 1)) - (unsigned int )((void const   *)pattern___0) ==
                 1U)) {
            goto _L___530;
          } else {
            if (__s1_len___1 >= 4U) {
              _L___530: /* CIL Label */ 
              if (! ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                     1U)) {
                goto _L___529;
              } else {
                if (__s2_len___1 >= 4U) {
                  _L___529: /* CIL Label */ 
                  tmp___187 = 1;
                } else {
                  goto _L___528;
                }
              }
            } else {
              _L___528: /* CIL Label */ 
              tmp___187 = 0;
            }
          }
          if (tmp___187) {
            if (__s1_len___1 < __s2_len___1) {
              tmp___160 = __s1_len___1;
            } else {
              tmp___160 = __s2_len___1;
            }
            tmp___159 = memcmp((void const   *)pattern___0, (void const   *)path,
                               tmp___160 + 1U);
          } else {
            goto _L___532;
          }
        } else {
          goto _L___532;
        }
      } else {
        _L___532: /* CIL Label */ 
        tmp___184 = __builtin_constant_p(pattern___0);
        if (tmp___184) {
          if ((unsigned int )((void const   *)(pattern___0 + 1)) - (unsigned int )((void const   *)pattern___0) ==
              1U) {
            __s1_len___1 = strlen(pattern___0);
            if (__s1_len___1 < 4U) {
              tmp___175 = __builtin_constant_p(path);
              if (tmp___175) {
                if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                    1U) {
                  __result___133 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                           0)) - (int const   )(*((unsigned char const   *)path +
                                                                                  0)));
                  if (__s1_len___1 > 0U) {
                    if (__result___133 == 0) {
                      __result___133 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                               1)) - (int const   )(*((unsigned char const   *)path +
                                                                                      1)));
                      if (__s1_len___1 > 1U) {
                        if (__result___133 == 0) {
                          __result___133 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                   2)) - (int const   )(*((unsigned char const   *)path +
                                                                                          2)));
                          if (__s1_len___1 > 2U) {
                            if (__result___133 == 0) {
                              __result___133 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                       3)) - (int const   )(*((unsigned char const   *)path +
                                                                                              3)));
                            } else {
                              goto _L___491;
                            }
                          } else {
                            _L___491: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___492;
                        }
                      } else {
                        _L___492: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___493;
                    }
                  } else {
                    _L___493: /* CIL Label */ ;
                  }
                  tmp___159 = __result___133;
                } else {
                  goto _L___497;
                }
              } else {
                _L___497: /* CIL Label */ 
                __s2___22 = (unsigned char const   *)path;
                __result___134 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                         0)) - (int const   )(*(__s2___22 +
                                                                                0)));
                if (__s1_len___1 > 0U) {
                  if (__result___134 == 0) {
                    __result___134 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                             1)) - (int const   )(*(__s2___22 +
                                                                                    1)));
                    if (__s1_len___1 > 1U) {
                      if (__result___134 == 0) {
                        __result___134 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                 2)) - (int const   )(*(__s2___22 +
                                                                                        2)));
                        if (__s1_len___1 > 2U) {
                          if (__result___134 == 0) {
                            __result___134 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                     3)) - (int const   )(*(__s2___22 +
                                                                                            3)));
                          } else {
                            goto _L___494;
                          }
                        } else {
                          _L___494: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___495;
                      }
                    } else {
                      _L___495: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___496;
                  }
                } else {
                  _L___496: /* CIL Label */ ;
                }
                tmp___159 = __result___134;
              }
            } else {
              goto _L___527;
            }
          } else {
            goto _L___527;
          }
        } else {
          _L___527: /* CIL Label */ 
          tmp___183 = __builtin_constant_p(path);
          if (tmp___183) {
            if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                1U) {
              __s2_len___1 = strlen(path);
              if (__s2_len___1 < 4U) {
                tmp___182 = __builtin_constant_p(pattern___0);
                if (tmp___182) {
                  if ((unsigned int )((void const   *)(pattern___0 + 1)) - (unsigned int )((void const   *)pattern___0) ==
                      1U) {
                    __result___141 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                             0)) - (int const   )(*((unsigned char const   *)path +
                                                                                    0)));
                    if (__s2_len___1 > 0U) {
                      if (__result___141 == 0) {
                        __result___141 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                 1)) - (int const   )(*((unsigned char const   *)path +
                                                                                        1)));
                        if (__s2_len___1 > 1U) {
                          if (__result___141 == 0) {
                            __result___141 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                     2)) - (int const   )(*((unsigned char const   *)path +
                                                                                            2)));
                            if (__s2_len___1 > 2U) {
                              if (__result___141 == 0) {
                                __result___141 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                         3)) - (int const   )(*((unsigned char const   *)path +
                                                                                                3)));
                              } else {
                                goto _L___517;
                              }
                            } else {
                              _L___517: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___518;
                          }
                        } else {
                          _L___518: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___519;
                      }
                    } else {
                      _L___519: /* CIL Label */ ;
                    }
                    tmp___159 = __result___141;
                  } else {
                    goto _L___523;
                  }
                } else {
                  _L___523: /* CIL Label */ 
                  __s1___46 = (unsigned char const   *)pattern___0;
                  __result___142 = (int )((int const   )(*(__s1___46 + 0)) - (int const   )(*((unsigned char const   *)path +
                                                                                              0)));
                  if (__s2_len___1 > 0U) {
                    if (__result___142 == 0) {
                      __result___142 = (int )((int const   )(*(__s1___46 + 1)) - (int const   )(*((unsigned char const   *)path +
                                                                                                  1)));
                      if (__s2_len___1 > 1U) {
                        if (__result___142 == 0) {
                          __result___142 = (int )((int const   )(*(__s1___46 + 2)) -
                                                  (int const   )(*((unsigned char const   *)path +
                                                                   2)));
                          if (__s2_len___1 > 2U) {
                            if (__result___142 == 0) {
                              __result___142 = (int )((int const   )(*(__s1___46 +
                                                                       3)) - (int const   )(*((unsigned char const   *)path +
                                                                                              3)));
                            } else {
                              goto _L___520;
                            }
                          } else {
                            _L___520: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___521;
                        }
                      } else {
                        _L___521: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___522;
                    }
                  } else {
                    _L___522: /* CIL Label */ ;
                  }
                  tmp___159 = __result___142;
                }
              } else {
                goto _L___525;
              }
            } else {
              goto _L___525;
            }
          } else {
            _L___525: /* CIL Label */ 
            tmp___159 = strcmp(pattern___0, path);
          }
        }
      }
      if (! tmp___159) {
        _L___533: /* CIL Label */ 
        retval = ldf->format;
        if ((unsigned int )retval != (unsigned int )((void *)0)) {
          if ((int const   )(*retval) == 0) {
            retval = (char const   *)((void *)0);
          } else {
            goto _L___0;
          }
        } else {
          _L___0: /* CIL Label */ ;
        }
        break;
      }
    }
    nxt: 
    ldf = (tConfigLocaldirformat const   *)ldf->next;
  }
  return (retval);
}
}
static int directory_sorter(void const   *_a , void const   *_b ) 
{ tDirSorterElement const   *a ;
  tDirSorterElement const   *b ;
  struct stat  const  *as ;
  struct stat  const  *bs ;
  char const   *sorting ;
  char sortcrit ;
  int val ;
  tBoolean reverse ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___31 ;
  size_t tmp___32 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___47 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;
  int tmp___58 ;
  int tmp___59 ;
  int tmp___61 ;
  int tmp___62 ;
  char const   *tmp___64 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___95 ;
  size_t tmp___96 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  int tmp___111 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___118 ;
  int tmp___119 ;
  int tmp___120 ;
  int tmp___121 ;
  int tmp___122 ;
  int tmp___123 ;

  {
  a = (tDirSorterElement const   *)_a;
  b = (tDirSorterElement const   *)_b;
  if ((int const   )(*current_localdirsort) == 0) {
    goto out;
  }
  if (! a->statbuf_is_good) {
    goto _L;
  } else {
    if (! b->statbuf_is_good) {
      _L: /* CIL Label */ 
      goto out;
    }
  }
  as = (struct stat  const  *)(& a->statbuf);
  bs = (struct stat  const  *)(& b->statbuf);
  sorting = current_localdirsort;
  while (1) {
    tmp___64 = sorting;
    sorting ++;
    sortcrit = (char )(*tmp___64);
    if (! ((int )sortcrit != 0)) {
      break;
    }
    if ((int )sortcrit >= 97) {
      if ((int )sortcrit <= 122) {
        reverse = (unsigned char)0;
      } else {
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
      if ((int )sortcrit >= 65) {
        if ((int )sortcrit <= 90) {
          sortcrit = (char )((int )sortcrit + 32);
        } else {
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
        sortcrit = sortcrit;
      }
      reverse = (unsigned char)1;
    }
    switch ((int )sortcrit) {
    case 103: ;
    if (as->st_gid > bs->st_gid) {
      val = 1;
    } else {
      if (as->st_gid < bs->st_gid) {
        val = -1;
      } else {
        val = 0;
      }
    }
    break;
    case 105: 
    val = strcasecmp(a->key, b->key);
    break;
    case 109: ;
    if (as->st_mtim.tv_sec > bs->st_mtim.tv_sec) {
      val = 1;
    } else {
      if (as->st_mtim.tv_sec < bs->st_mtim.tv_sec) {
        val = -1;
      } else {
        val = 0;
      }
    }
    break;
    case 110: 
    tmp___57 = __builtin_constant_p(a->key);
    if (tmp___57) {
      tmp___58 = __builtin_constant_p(b->key);
      if (tmp___58) {
        __s1_len = strlen(a->key);
        __s2_len = strlen(b->key);
        if (! ((unsigned int )((void const   *)(a->key + 1)) - (unsigned int )((void const   *)a->key) ==
               1U)) {
          goto _L___175;
        } else {
          if (__s1_len >= 4U) {
            _L___175: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)(b->key + 1)) - (unsigned int )((void const   *)b->key) ==
                   1U)) {
              goto _L___174;
            } else {
              if (__s2_len >= 4U) {
                _L___174: /* CIL Label */ 
                tmp___59 = 1;
              } else {
                goto _L___173;
              }
            }
          } else {
            _L___173: /* CIL Label */ 
            tmp___59 = 0;
          }
        }
        if (tmp___59) {
          if (__s1_len < __s2_len) {
            tmp___32 = __s1_len;
          } else {
            tmp___32 = __s2_len;
          }
          tmp___31 = memcmp((void const   *)a->key, (void const   *)b->key, tmp___32 +
                                                                            1U);
        } else {
          goto _L___177;
        }
      } else {
        goto _L___177;
      }
    } else {
      _L___177: /* CIL Label */ 
      tmp___56 = __builtin_constant_p(a->key);
      if (tmp___56) {
        if ((unsigned int )((void const   *)(a->key + 1)) - (unsigned int )((void const   *)a->key) ==
            1U) {
          __s1_len = strlen(a->key);
          if (__s1_len < 4U) {
            tmp___47 = __builtin_constant_p(b->key);
            if (tmp___47) {
              if ((unsigned int )((void const   *)(b->key + 1)) - (unsigned int )((void const   *)b->key) ==
                  1U) {
                __result___37 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                        0)) - (int const   )(*((unsigned char const   *)b->key +
                                                                               0)));
                if (__s1_len > 0U) {
                  if (__result___37 == 0) {
                    __result___37 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                            1)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                   1)));
                    if (__s1_len > 1U) {
                      if (__result___37 == 0) {
                        __result___37 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                                2)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                       2)));
                        if (__s1_len > 2U) {
                          if (__result___37 == 0) {
                            __result___37 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                                    3)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                           3)));
                          } else {
                            goto _L___136;
                          }
                        } else {
                          _L___136: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___137;
                      }
                    } else {
                      _L___137: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___138;
                  }
                } else {
                  _L___138: /* CIL Label */ ;
                }
                tmp___31 = __result___37;
              } else {
                goto _L___142;
              }
            } else {
              _L___142: /* CIL Label */ 
              __s2___6 = (unsigned char const   *)b->key;
              __result___38 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                      0)) - (int const   )(*(__s2___6 +
                                                                             0)));
              if (__s1_len > 0U) {
                if (__result___38 == 0) {
                  __result___38 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                          1)) - (int const   )(*(__s2___6 +
                                                                                 1)));
                  if (__s1_len > 1U) {
                    if (__result___38 == 0) {
                      __result___38 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                              2)) - (int const   )(*(__s2___6 +
                                                                                     2)));
                      if (__s1_len > 2U) {
                        if (__result___38 == 0) {
                          __result___38 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                                  3)) - (int const   )(*(__s2___6 +
                                                                                         3)));
                        } else {
                          goto _L___139;
                        }
                      } else {
                        _L___139: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___140;
                    }
                  } else {
                    _L___140: /* CIL Label */ ;
                  }
                } else {
                  goto _L___141;
                }
              } else {
                _L___141: /* CIL Label */ ;
              }
              tmp___31 = __result___38;
            }
          } else {
            goto _L___172;
          }
        } else {
          goto _L___172;
        }
      } else {
        _L___172: /* CIL Label */ 
        tmp___55 = __builtin_constant_p(b->key);
        if (tmp___55) {
          if ((unsigned int )((void const   *)(b->key + 1)) - (unsigned int )((void const   *)b->key) ==
              1U) {
            __s2_len = strlen(b->key);
            if (__s2_len < 4U) {
              tmp___54 = __builtin_constant_p(a->key);
              if (tmp___54) {
                if ((unsigned int )((void const   *)(a->key + 1)) - (unsigned int )((void const   *)a->key) ==
                    1U) {
                  __result___45 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                          0)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                 0)));
                  if (__s2_len > 0U) {
                    if (__result___45 == 0) {
                      __result___45 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                              1)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                     1)));
                      if (__s2_len > 1U) {
                        if (__result___45 == 0) {
                          __result___45 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                                  2)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                         2)));
                          if (__s2_len > 2U) {
                            if (__result___45 == 0) {
                              __result___45 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                                      3)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                             3)));
                            } else {
                              goto _L___162;
                            }
                          } else {
                            _L___162: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___163;
                        }
                      } else {
                        _L___163: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___164;
                    }
                  } else {
                    _L___164: /* CIL Label */ ;
                  }
                  tmp___31 = __result___45;
                } else {
                  goto _L___168;
                }
              } else {
                _L___168: /* CIL Label */ 
                __s1___14 = (unsigned char const   *)a->key;
                __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                           0)));
                if (__s2_len > 0U) {
                  if (__result___46 == 0) {
                    __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                               1)));
                    if (__s2_len > 1U) {
                      if (__result___46 == 0) {
                        __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                               (int const   )(*((unsigned char const   *)b->key +
                                                                2)));
                        if (__s2_len > 2U) {
                          if (__result___46 == 0) {
                            __result___46 = (int )((int const   )(*(__s1___14 + 3)) -
                                                   (int const   )(*((unsigned char const   *)b->key +
                                                                    3)));
                          } else {
                            goto _L___165;
                          }
                        } else {
                          _L___165: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___166;
                      }
                    } else {
                      _L___166: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___167;
                  }
                } else {
                  _L___167: /* CIL Label */ ;
                }
                tmp___31 = __result___46;
              }
            } else {
              goto _L___170;
            }
          } else {
            goto _L___170;
          }
        } else {
          _L___170: /* CIL Label */ 
          tmp___31 = strcmp(a->key, b->key);
        }
      }
    }
    val = tmp___31;
    break;
    case 115: ;
    if (as->st_size > bs->st_size) {
      val = 1;
    } else {
      if (as->st_size < bs->st_size) {
        val = -1;
      } else {
        val = 0;
      }
    }
    break;
    case 116: 
    tmp___61 = mode2num(as->st_mode);
    tmp___62 = mode2num(bs->st_mode);
    val = tmp___61 - tmp___62;
    break;
    case 117: ;
    if (as->st_uid > bs->st_uid) {
      val = 1;
    } else {
      if (as->st_uid < bs->st_uid) {
        val = -1;
      } else {
        val = 0;
      }
    }
    break;
    default: 
    val = 0;
    break;
    }
    if (val != 0) {
      if (reverse) {
        val = - val;
      }
      return (val);
    }
  }
  return (0);
  out: 
  tmp___121 = __builtin_constant_p(a->key);
  if (tmp___121) {
    tmp___122 = __builtin_constant_p(b->key);
    if (tmp___122) {
      __s1_len___0 = strlen(a->key);
      __s2_len___0 = strlen(b->key);
      if (! ((unsigned int )((void const   *)(a->key + 1)) - (unsigned int )((void const   *)a->key) ==
             1U)) {
        goto _L___351;
      } else {
        if (__s1_len___0 >= 4U) {
          _L___351: /* CIL Label */ 
          if (! ((unsigned int )((void const   *)(b->key + 1)) - (unsigned int )((void const   *)b->key) ==
                 1U)) {
            goto _L___350;
          } else {
            if (__s2_len___0 >= 4U) {
              _L___350: /* CIL Label */ 
              tmp___123 = 1;
            } else {
              goto _L___349;
            }
          }
        } else {
          _L___349: /* CIL Label */ 
          tmp___123 = 0;
        }
      }
      if (tmp___123) {
        if (__s1_len___0 < __s2_len___0) {
          tmp___96 = __s1_len___0;
        } else {
          tmp___96 = __s2_len___0;
        }
        tmp___95 = memcmp((void const   *)a->key, (void const   *)b->key, tmp___96 +
                                                                          1U);
      } else {
        goto _L___353;
      }
    } else {
      goto _L___353;
    }
  } else {
    _L___353: /* CIL Label */ 
    tmp___120 = __builtin_constant_p(a->key);
    if (tmp___120) {
      if ((unsigned int )((void const   *)(a->key + 1)) - (unsigned int )((void const   *)a->key) ==
          1U) {
        __s1_len___0 = strlen(a->key);
        if (__s1_len___0 < 4U) {
          tmp___111 = __builtin_constant_p(b->key);
          if (tmp___111) {
            if ((unsigned int )((void const   *)(b->key + 1)) - (unsigned int )((void const   *)b->key) ==
                1U) {
              __result___85 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                      0)) - (int const   )(*((unsigned char const   *)b->key +
                                                                             0)));
              if (__s1_len___0 > 0U) {
                if (__result___85 == 0) {
                  __result___85 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                          1)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                 1)));
                  if (__s1_len___0 > 1U) {
                    if (__result___85 == 0) {
                      __result___85 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                              2)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                     2)));
                      if (__s1_len___0 > 2U) {
                        if (__result___85 == 0) {
                          __result___85 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                                  3)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                         3)));
                        } else {
                          goto _L___312;
                        }
                      } else {
                        _L___312: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___313;
                    }
                  } else {
                    _L___313: /* CIL Label */ ;
                  }
                } else {
                  goto _L___314;
                }
              } else {
                _L___314: /* CIL Label */ ;
              }
              tmp___95 = __result___85;
            } else {
              goto _L___318;
            }
          } else {
            _L___318: /* CIL Label */ 
            __s2___14 = (unsigned char const   *)b->key;
            __result___86 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                    0)) - (int const   )(*(__s2___14 +
                                                                           0)));
            if (__s1_len___0 > 0U) {
              if (__result___86 == 0) {
                __result___86 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                        1)) - (int const   )(*(__s2___14 +
                                                                               1)));
                if (__s1_len___0 > 1U) {
                  if (__result___86 == 0) {
                    __result___86 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                            2)) - (int const   )(*(__s2___14 +
                                                                                   2)));
                    if (__s1_len___0 > 2U) {
                      if (__result___86 == 0) {
                        __result___86 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                                3)) - (int const   )(*(__s2___14 +
                                                                                       3)));
                      } else {
                        goto _L___315;
                      }
                    } else {
                      _L___315: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___316;
                  }
                } else {
                  _L___316: /* CIL Label */ ;
                }
              } else {
                goto _L___317;
              }
            } else {
              _L___317: /* CIL Label */ ;
            }
            tmp___95 = __result___86;
          }
        } else {
          goto _L___348;
        }
      } else {
        goto _L___348;
      }
    } else {
      _L___348: /* CIL Label */ 
      tmp___119 = __builtin_constant_p(b->key);
      if (tmp___119) {
        if ((unsigned int )((void const   *)(b->key + 1)) - (unsigned int )((void const   *)b->key) ==
            1U) {
          __s2_len___0 = strlen(b->key);
          if (__s2_len___0 < 4U) {
            tmp___118 = __builtin_constant_p(a->key);
            if (tmp___118) {
              if ((unsigned int )((void const   *)(a->key + 1)) - (unsigned int )((void const   *)a->key) ==
                  1U) {
                __result___93 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                        0)) - (int const   )(*((unsigned char const   *)b->key +
                                                                               0)));
                if (__s2_len___0 > 0U) {
                  if (__result___93 == 0) {
                    __result___93 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                            1)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                   1)));
                    if (__s2_len___0 > 1U) {
                      if (__result___93 == 0) {
                        __result___93 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                                2)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                       2)));
                        if (__s2_len___0 > 2U) {
                          if (__result___93 == 0) {
                            __result___93 = (int )((int const   )(*((unsigned char const   *)a->key +
                                                                    3)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                           3)));
                          } else {
                            goto _L___338;
                          }
                        } else {
                          _L___338: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___339;
                      }
                    } else {
                      _L___339: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___340;
                  }
                } else {
                  _L___340: /* CIL Label */ ;
                }
                tmp___95 = __result___93;
              } else {
                goto _L___344;
              }
            } else {
              _L___344: /* CIL Label */ 
              __s1___30 = (unsigned char const   *)a->key;
              __result___94 = (int )((int const   )(*(__s1___30 + 0)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                         0)));
              if (__s2_len___0 > 0U) {
                if (__result___94 == 0) {
                  __result___94 = (int )((int const   )(*(__s1___30 + 1)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                             1)));
                  if (__s2_len___0 > 1U) {
                    if (__result___94 == 0) {
                      __result___94 = (int )((int const   )(*(__s1___30 + 2)) - (int const   )(*((unsigned char const   *)b->key +
                                                                                                 2)));
                      if (__s2_len___0 > 2U) {
                        if (__result___94 == 0) {
                          __result___94 = (int )((int const   )(*(__s1___30 + 3)) -
                                                 (int const   )(*((unsigned char const   *)b->key +
                                                                  3)));
                        } else {
                          goto _L___341;
                        }
                      } else {
                        _L___341: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___342;
                    }
                  } else {
                    _L___342: /* CIL Label */ ;
                  }
                } else {
                  goto _L___343;
                }
              } else {
                _L___343: /* CIL Label */ ;
              }
              tmp___95 = __result___94;
            }
          } else {
            goto _L___346;
          }
        } else {
          goto _L___346;
        }
      } else {
        _L___346: /* CIL Label */ 
        tmp___95 = strcmp(a->key, b->key);
      }
    }
  }
  return (tmp___95);
}
}
__inline static char inodemode2str(mode_t mode ) 
{ 

  {
  if ((mode & 61440U) == 32768U) {
    return (config.char_file);
  } else {
    if ((mode & 61440U) == 16384U) {
      return (config.char_dir);
    } else {
      return ((char )'?');
    }
  }
}
}
static char dirperms_buf[10]  ;
__inline static void calc_dirperms(mode_t mode ) 
{ char *p ;
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;

  {
  p = dirperms_buf;
  tmp = p;
  p ++;
  if (mode & 256U) {
    (*tmp) = (char )'r';
  } else {
    (*tmp) = (char )'-';
  }
  tmp___0 = p;
  p ++;
  if (mode & 128U) {
    (*tmp___0) = (char )'w';
  } else {
    (*tmp___0) = (char )'-';
  }
  tmp___1 = p;
  p ++;
  if (mode & 64U) {
    (*tmp___1) = (char )'x';
  } else {
    (*tmp___1) = (char )'-';
  }
  tmp___2 = p;
  p ++;
  if (mode & 32U) {
    (*tmp___2) = (char )'r';
  } else {
    (*tmp___2) = (char )'-';
  }
  tmp___3 = p;
  p ++;
  if (mode & 16U) {
    (*tmp___3) = (char )'w';
  } else {
    (*tmp___3) = (char )'-';
  }
  tmp___4 = p;
  p ++;
  if (mode & 8U) {
    (*tmp___4) = (char )'x';
  } else {
    (*tmp___4) = (char )'-';
  }
  tmp___5 = p;
  p ++;
  if (mode & 4U) {
    (*tmp___5) = (char )'r';
  } else {
    (*tmp___5) = (char )'-';
  }
  tmp___6 = p;
  p ++;
  if (mode & 2U) {
    (*tmp___6) = (char )'w';
  } else {
    (*tmp___6) = (char )'-';
  }
  tmp___7 = p;
  p ++;
  if (mode & 1U) {
    (*tmp___7) = (char )'x';
  } else {
    (*tmp___7) = (char )'-';
  }
  (*p) = (char )'\000';
  return;
}
}
static char const   strParentDirectory[17]  = 
  {      (char const   )'P',      (char const   )'a',      (char const   )'r',      (char const   )'e', 
        (char const   )'n',      (char const   )'t',      (char const   )' ',      (char const   )'d', 
        (char const   )'i',      (char const   )'r',      (char const   )'e',      (char const   )'c', 
        (char const   )'t',      (char const   )'o',      (char const   )'r',      (char const   )'y', 
        (char const   )'\000'};
__inline static tBoolean fetch_local_directory(tResourceRequest *request ) 
{ char const   *path ;
  char const   *htmlpath ;
  char const   *spfbuf2 ;
  char const   *format ;
  char *spfbuf ;
  char *temp ;
  struct dirent  const  *entry ;
  unsigned int element_count ;
  unsigned int element_maxcount ;
  unsigned int i ;
  tDirSorterElement *sorter_base ;
  tResource *resource ;
  DIR *dir ;
  DIR *tmp ;
  char const   *name ;
  char const   *key ;
  char const   *htmlkey ;
  char c ;
  int err ;
  struct stat statbuf ;
  mode_t mode ;
  char const   *slash ;
  char const   *tmp___0 ;
  size_t bytes ;
  char const   *tmp___1 ;
  char tmp___2 ;
  tBoolean tmp___3 ;
  char const   *clds ;
  char const   *tmp___4 ;
  tConfigLocaldirsort *lds ;
  char const   *pattern___0 ;
  size_t len ;
  int tmp___70 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___101 ;
  size_t tmp___102 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  int tmp___117 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___124 ;
  int tmp___125 ;
  int tmp___126 ;
  int tmp___127 ;
  int tmp___128 ;
  int tmp___129 ;
  int tmp___130 ;
  int tmp___131 ;
  size_t tmp___132 ;
  int tmp___133 ;
  size_t tmp___134 ;
  size_t __s1_len___1 ;
  size_t __s2_len___1 ;
  int tmp___165 ;
  size_t tmp___166 ;
  register int __result___133 ;
  unsigned char const   *__s2___22 ;
  register int __result___134 ;
  int tmp___181 ;
  register int __result___141 ;
  unsigned char const   *__s1___46 ;
  register int __result___142 ;
  int tmp___188 ;
  int tmp___189 ;
  int tmp___190 ;
  int tmp___191 ;
  int tmp___192 ;
  int tmp___193 ;

  {
  path = (char const   *)(request->uri_data)->path;
  tmp = opendir(path);
  dir = tmp;
  if ((unsigned int )dir == (unsigned int )((void *)0)) {
    return ((unsigned char)0);
  }
  format = path2format(path);
  sorter_base = (tDirSorterElement *)((void *)0);
  element_maxcount = 0U;
  element_count = element_maxcount;
  while (1) {
    entry = readdir(dir);
    if (! ((unsigned int )entry != (unsigned int )((void *)0))) {
      break;
    }
    name = (char const   *)(entry->d_name);
    if ((unsigned int )name == (unsigned int )((void *)0)) {
      continue;
    }
    if ((int const   )(*name) == 46) {
      c = (char )(*(name + 1));
      if ((int )c == 0) {
        goto _L;
      } else {
        if ((int )c == 46) {
          if ((int const   )(*(name + 2)) == 0) {
            _L: /* CIL Label */ 
            continue;
          } else {
            goto _L___0;
          }
        } else {
          _L___0: /* CIL Label */ ;
        }
      }
    }
    if (element_maxcount <= element_count) {
      element_maxcount += 20U;
      sorter_base = (tDirSorterElement *)memory_reallocate_ll((void *)sorter_base,
                                                              element_maxcount * sizeof(tDirSorterElement ));
    }
    key = my_strdup(name);
    htmlkey = htmlify(key);
    (sorter_base + element_count)->key = key;
    my_spf(strbuf___1, 4096U, & spfbuf, strPercsPercs, path, key);
    err = my_stat((char const   *)spfbuf, & statbuf);
    while (1) {
      if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf) {
        memory_deallocate_ll((void const   *)spfbuf);
      }
      break;
    }
    if (err != 0) {
      (sorter_base + element_count)->statbuf_is_good = (unsigned char)0;
      goto just_the_name;
    } else {
      mode = statbuf.st_mode;
      if ((mode & 61440U) == 16384U) {
        tmp___0 = strSlash;
      } else {
        tmp___0 = strEmpty;
      }
      slash = tmp___0;
      if (! ((mode & 61440U) == 32768U)) {
        spfbuf2 = strEmpty;
      } else {
        bytes = (unsigned int )statbuf.st_size;
        if (bytes == 1U) {
          tmp___1 = strByte;
        } else {
          tmp___1 = strBytes;
        }
        my_spf(strbuf2___0, 4096U, & temp, strBracedNumstr, bytes, tmp___1);
        spfbuf2 = (char const   *)temp;
      }
      calc_dirperms(mode);
      tmp___2 = inodemode2str(mode);
      my_spf((char *)((void *)0), 0U, & spfbuf, "<br>%c %s <a href=\"local:%s%s%s\">%s%s</a>%s\n",
             tmp___2, dirperms_buf, path, key, slash, htmlkey, slash, spfbuf2);
      if ((unsigned int )spfbuf2 != (unsigned int )(strEmpty)) {
        while (1) {
          if ((unsigned int )(strbuf2___0) != (unsigned int )spfbuf2) {
            memory_deallocate_ll((void const   *)spfbuf2);
          }
          break;
        }
      }
      (sorter_base + element_count)->statbuf = statbuf;
      (sorter_base + element_count)->statbuf_is_good = (unsigned char)1;
    }
    if (0) {
      just_the_name: 
      my_spf((char *)((void *)0), 0U, & spfbuf, "<br><a href=\"local:%s%s\">%s</a>\n",
             path, key, htmlkey);
    }
    (sorter_base + element_count)->value = (char const   *)spfbuf;
    element_count ++;
    while (1) {
      if ((unsigned int )htmlkey != (unsigned int )key) {
        memory_deallocate_ll((void const   *)htmlkey);
      }
      break;
    }
  }
  closedir(dir);
  resource = resource_create(request, (tContentblock *)((void *)0), ~ 0U, (unsigned char)2,
                             (unsigned char)5);
  htmlpath = htmlify(path);
  my_spf(strbuf___1, 4096U, & spfbuf, "Contents of local directory \"%s\"", htmlpath);
  while (1) {
    if ((unsigned int )htmlpath != (unsigned int )path) {
      memory_deallocate_ll((void const   *)htmlpath);
    }
    break;
  }
  resource_collect_title(resource, (char const   *)spfbuf);
  while (1) {
    if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  tmp___3 = calc_parentpath(path, strbuf2___0, 4096U);
  if (tmp___3) {
    my_spf(strbuf___1, 4096U, & spfbuf, "<p><a href=\"local:%s\">%s</a></p>\n", strbuf2___0,
           strParentDirectory);
    resource_collect_str(resource, (char const   *)spfbuf);
    while (1) {
      if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf) {
        memory_deallocate_ll((void const   *)spfbuf);
      }
      break;
    }
  }
  if (element_count <= 0U) {
    resource_collect_str(resource, "This directory is empty.");
  } else {
    tmp___4 = local_query2sorting((char const   *)(request->uri_data)->query);
    clds = tmp___4;
    if ((unsigned int )clds == (unsigned int )((void *)0)) {
      lds = config.lds;
      while ((unsigned int )lds != (unsigned int )((void *)0)) {
        pattern___0 = lds->path_pattern;
        if ((unsigned int )pattern___0 == (unsigned int )((void *)0)) {
          goto _L___1;
        } else {
          if ((int const   )(*pattern___0) == 0) {
            _L___1: /* CIL Label */ 
            goto nxt;
          }
        }
        len = strlen(pattern___0);
        if ((int const   )(*(pattern___0 + (len - 1U))) == 42) {
          tmp___130 = __builtin_constant_p(len - 1U);
          if (tmp___130) {
            tmp___131 = __builtin_constant_p(pattern___0);
            if (tmp___131) {
              tmp___132 = strlen(pattern___0);
              if (tmp___132 < len - 1U) {
                goto _L___355;
              } else {
                goto _L___357;
              }
            } else {
              _L___357: /* CIL Label */ 
              tmp___133 = __builtin_constant_p(path);
              if (tmp___133) {
                tmp___134 = strlen(path);
                if (tmp___134 < len - 1U) {
                  _L___355: /* CIL Label */ 
                  tmp___127 = __builtin_constant_p(pattern___0);
                  if (tmp___127) {
                    tmp___128 = __builtin_constant_p(path);
                    if (tmp___128) {
                      __s1_len___0 = strlen(pattern___0);
                      __s2_len___0 = strlen(path);
                      if (! ((unsigned int )((void const   *)(pattern___0 + 1)) -
                             (unsigned int )((void const   *)pattern___0) == 1U)) {
                        goto _L___351;
                      } else {
                        if (__s1_len___0 >= 4U) {
                          _L___351: /* CIL Label */ 
                          if (! ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                                 1U)) {
                            goto _L___350;
                          } else {
                            if (__s2_len___0 >= 4U) {
                              _L___350: /* CIL Label */ 
                              tmp___129 = 1;
                            } else {
                              goto _L___349;
                            }
                          }
                        } else {
                          _L___349: /* CIL Label */ 
                          tmp___129 = 0;
                        }
                      }
                      if (tmp___129) {
                        if (__s1_len___0 < __s2_len___0) {
                          tmp___102 = __s1_len___0;
                        } else {
                          tmp___102 = __s2_len___0;
                        }
                        tmp___101 = memcmp((void const   *)pattern___0, (void const   *)path,
                                           tmp___102 + 1U);
                      } else {
                        goto _L___353;
                      }
                    } else {
                      goto _L___353;
                    }
                  } else {
                    _L___353: /* CIL Label */ 
                    tmp___126 = __builtin_constant_p(pattern___0);
                    if (tmp___126) {
                      if ((unsigned int )((void const   *)(pattern___0 + 1)) - (unsigned int )((void const   *)pattern___0) ==
                          1U) {
                        __s1_len___0 = strlen(pattern___0);
                        if (__s1_len___0 < 4U) {
                          tmp___117 = __builtin_constant_p(path);
                          if (tmp___117) {
                            if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                                1U) {
                              __result___85 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                      0)) - (int const   )(*((unsigned char const   *)path +
                                                                                             0)));
                              if (__s1_len___0 > 0U) {
                                if (__result___85 == 0) {
                                  __result___85 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                          1)) - (int const   )(*((unsigned char const   *)path +
                                                                                                 1)));
                                  if (__s1_len___0 > 1U) {
                                    if (__result___85 == 0) {
                                      __result___85 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                              2)) -
                                                             (int const   )(*((unsigned char const   *)path +
                                                                              2)));
                                      if (__s1_len___0 > 2U) {
                                        if (__result___85 == 0) {
                                          __result___85 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                                  3)) -
                                                                 (int const   )(*((unsigned char const   *)path +
                                                                                  3)));
                                        } else {
                                          goto _L___312;
                                        }
                                      } else {
                                        _L___312: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___313;
                                    }
                                  } else {
                                    _L___313: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___314;
                                }
                              } else {
                                _L___314: /* CIL Label */ ;
                              }
                              tmp___101 = __result___85;
                            } else {
                              goto _L___318;
                            }
                          } else {
                            _L___318: /* CIL Label */ 
                            __s2___14 = (unsigned char const   *)path;
                            __result___86 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                    0)) - (int const   )(*(__s2___14 +
                                                                                           0)));
                            if (__s1_len___0 > 0U) {
                              if (__result___86 == 0) {
                                __result___86 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                        1)) - (int const   )(*(__s2___14 +
                                                                                               1)));
                                if (__s1_len___0 > 1U) {
                                  if (__result___86 == 0) {
                                    __result___86 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                            2)) -
                                                           (int const   )(*(__s2___14 +
                                                                            2)));
                                    if (__s1_len___0 > 2U) {
                                      if (__result___86 == 0) {
                                        __result___86 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                                3)) -
                                                               (int const   )(*(__s2___14 +
                                                                                3)));
                                      } else {
                                        goto _L___315;
                                      }
                                    } else {
                                      _L___315: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___316;
                                  }
                                } else {
                                  _L___316: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___317;
                              }
                            } else {
                              _L___317: /* CIL Label */ ;
                            }
                            tmp___101 = __result___86;
                          }
                        } else {
                          goto _L___348;
                        }
                      } else {
                        goto _L___348;
                      }
                    } else {
                      _L___348: /* CIL Label */ 
                      tmp___125 = __builtin_constant_p(path);
                      if (tmp___125) {
                        if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                            1U) {
                          __s2_len___0 = strlen(path);
                          if (__s2_len___0 < 4U) {
                            tmp___124 = __builtin_constant_p(pattern___0);
                            if (tmp___124) {
                              if ((unsigned int )((void const   *)(pattern___0 + 1)) -
                                  (unsigned int )((void const   *)pattern___0) ==
                                  1U) {
                                __result___93 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                        0)) - (int const   )(*((unsigned char const   *)path +
                                                                                               0)));
                                if (__s2_len___0 > 0U) {
                                  if (__result___93 == 0) {
                                    __result___93 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                            1)) -
                                                           (int const   )(*((unsigned char const   *)path +
                                                                            1)));
                                    if (__s2_len___0 > 1U) {
                                      if (__result___93 == 0) {
                                        __result___93 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                                2)) -
                                                               (int const   )(*((unsigned char const   *)path +
                                                                                2)));
                                        if (__s2_len___0 > 2U) {
                                          if (__result___93 == 0) {
                                            __result___93 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                                    3)) -
                                                                   (int const   )(*((unsigned char const   *)path +
                                                                                    3)));
                                          } else {
                                            goto _L___338;
                                          }
                                        } else {
                                          _L___338: /* CIL Label */ ;
                                        }
                                      } else {
                                        goto _L___339;
                                      }
                                    } else {
                                      _L___339: /* CIL Label */ ;
                                    }
                                  } else {
                                    goto _L___340;
                                  }
                                } else {
                                  _L___340: /* CIL Label */ ;
                                }
                                tmp___101 = __result___93;
                              } else {
                                goto _L___344;
                              }
                            } else {
                              _L___344: /* CIL Label */ 
                              __s1___30 = (unsigned char const   *)pattern___0;
                              __result___94 = (int )((int const   )(*(__s1___30 +
                                                                      0)) - (int const   )(*((unsigned char const   *)path +
                                                                                             0)));
                              if (__s2_len___0 > 0U) {
                                if (__result___94 == 0) {
                                  __result___94 = (int )((int const   )(*(__s1___30 +
                                                                          1)) - (int const   )(*((unsigned char const   *)path +
                                                                                                 1)));
                                  if (__s2_len___0 > 1U) {
                                    if (__result___94 == 0) {
                                      __result___94 = (int )((int const   )(*(__s1___30 +
                                                                              2)) -
                                                             (int const   )(*((unsigned char const   *)path +
                                                                              2)));
                                      if (__s2_len___0 > 2U) {
                                        if (__result___94 == 0) {
                                          __result___94 = (int )((int const   )(*(__s1___30 +
                                                                                  3)) -
                                                                 (int const   )(*((unsigned char const   *)path +
                                                                                  3)));
                                        } else {
                                          goto _L___341;
                                        }
                                      } else {
                                        _L___341: /* CIL Label */ ;
                                      }
                                    } else {
                                      goto _L___342;
                                    }
                                  } else {
                                    _L___342: /* CIL Label */ ;
                                  }
                                } else {
                                  goto _L___343;
                                }
                              } else {
                                _L___343: /* CIL Label */ ;
                              }
                              tmp___101 = __result___94;
                            }
                          } else {
                            goto _L___346;
                          }
                        } else {
                          goto _L___346;
                        }
                      } else {
                        _L___346: /* CIL Label */ 
                        tmp___101 = strcmp(pattern___0, path);
                      }
                    }
                  }
                  tmp___70 = tmp___101;
                } else {
                  goto _L___356;
                }
              } else {
                _L___356: /* CIL Label */ 
                goto _L___354;
              }
            }
          } else {
            _L___354: /* CIL Label */ 
            tmp___70 = strncmp(pattern___0, path, len - 1U);
          }
          if (tmp___70) {
            goto _L___535;
          } else {
            goto _L___534;
          }
        } else {
          _L___535: /* CIL Label */ 
          tmp___191 = __builtin_constant_p(pattern___0);
          if (tmp___191) {
            tmp___192 = __builtin_constant_p(path);
            if (tmp___192) {
              __s1_len___1 = strlen(pattern___0);
              __s2_len___1 = strlen(path);
              if (! ((unsigned int )((void const   *)(pattern___0 + 1)) - (unsigned int )((void const   *)pattern___0) ==
                     1U)) {
                goto _L___531;
              } else {
                if (__s1_len___1 >= 4U) {
                  _L___531: /* CIL Label */ 
                  if (! ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                         1U)) {
                    goto _L___530;
                  } else {
                    if (__s2_len___1 >= 4U) {
                      _L___530: /* CIL Label */ 
                      tmp___193 = 1;
                    } else {
                      goto _L___529;
                    }
                  }
                } else {
                  _L___529: /* CIL Label */ 
                  tmp___193 = 0;
                }
              }
              if (tmp___193) {
                if (__s1_len___1 < __s2_len___1) {
                  tmp___166 = __s1_len___1;
                } else {
                  tmp___166 = __s2_len___1;
                }
                tmp___165 = memcmp((void const   *)pattern___0, (void const   *)path,
                                   tmp___166 + 1U);
              } else {
                goto _L___533;
              }
            } else {
              goto _L___533;
            }
          } else {
            _L___533: /* CIL Label */ 
            tmp___190 = __builtin_constant_p(pattern___0);
            if (tmp___190) {
              if ((unsigned int )((void const   *)(pattern___0 + 1)) - (unsigned int )((void const   *)pattern___0) ==
                  1U) {
                __s1_len___1 = strlen(pattern___0);
                if (__s1_len___1 < 4U) {
                  tmp___181 = __builtin_constant_p(path);
                  if (tmp___181) {
                    if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                        1U) {
                      __result___133 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                               0)) - (int const   )(*((unsigned char const   *)path +
                                                                                      0)));
                      if (__s1_len___1 > 0U) {
                        if (__result___133 == 0) {
                          __result___133 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                   1)) - (int const   )(*((unsigned char const   *)path +
                                                                                          1)));
                          if (__s1_len___1 > 1U) {
                            if (__result___133 == 0) {
                              __result___133 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                       2)) - (int const   )(*((unsigned char const   *)path +
                                                                                              2)));
                              if (__s1_len___1 > 2U) {
                                if (__result___133 == 0) {
                                  __result___133 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                           3)) - (int const   )(*((unsigned char const   *)path +
                                                                                                  3)));
                                } else {
                                  goto _L___492;
                                }
                              } else {
                                _L___492: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___493;
                            }
                          } else {
                            _L___493: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___494;
                        }
                      } else {
                        _L___494: /* CIL Label */ ;
                      }
                      tmp___165 = __result___133;
                    } else {
                      goto _L___498;
                    }
                  } else {
                    _L___498: /* CIL Label */ 
                    __s2___22 = (unsigned char const   *)path;
                    __result___134 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                             0)) - (int const   )(*(__s2___22 +
                                                                                    0)));
                    if (__s1_len___1 > 0U) {
                      if (__result___134 == 0) {
                        __result___134 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                 1)) - (int const   )(*(__s2___22 +
                                                                                        1)));
                        if (__s1_len___1 > 1U) {
                          if (__result___134 == 0) {
                            __result___134 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                     2)) - (int const   )(*(__s2___22 +
                                                                                            2)));
                            if (__s1_len___1 > 2U) {
                              if (__result___134 == 0) {
                                __result___134 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                         3)) - (int const   )(*(__s2___22 +
                                                                                                3)));
                              } else {
                                goto _L___495;
                              }
                            } else {
                              _L___495: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___496;
                          }
                        } else {
                          _L___496: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___497;
                      }
                    } else {
                      _L___497: /* CIL Label */ ;
                    }
                    tmp___165 = __result___134;
                  }
                } else {
                  goto _L___528;
                }
              } else {
                goto _L___528;
              }
            } else {
              _L___528: /* CIL Label */ 
              tmp___189 = __builtin_constant_p(path);
              if (tmp___189) {
                if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                    1U) {
                  __s2_len___1 = strlen(path);
                  if (__s2_len___1 < 4U) {
                    tmp___188 = __builtin_constant_p(pattern___0);
                    if (tmp___188) {
                      if ((unsigned int )((void const   *)(pattern___0 + 1)) - (unsigned int )((void const   *)pattern___0) ==
                          1U) {
                        __result___141 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                 0)) - (int const   )(*((unsigned char const   *)path +
                                                                                        0)));
                        if (__s2_len___1 > 0U) {
                          if (__result___141 == 0) {
                            __result___141 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                     1)) - (int const   )(*((unsigned char const   *)path +
                                                                                            1)));
                            if (__s2_len___1 > 1U) {
                              if (__result___141 == 0) {
                                __result___141 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                         2)) - (int const   )(*((unsigned char const   *)path +
                                                                                                2)));
                                if (__s2_len___1 > 2U) {
                                  if (__result___141 == 0) {
                                    __result___141 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                             3)) -
                                                            (int const   )(*((unsigned char const   *)path +
                                                                             3)));
                                  } else {
                                    goto _L___518;
                                  }
                                } else {
                                  _L___518: /* CIL Label */ ;
                                }
                              } else {
                                goto _L___519;
                              }
                            } else {
                              _L___519: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___520;
                          }
                        } else {
                          _L___520: /* CIL Label */ ;
                        }
                        tmp___165 = __result___141;
                      } else {
                        goto _L___524;
                      }
                    } else {
                      _L___524: /* CIL Label */ 
                      __s1___46 = (unsigned char const   *)pattern___0;
                      __result___142 = (int )((int const   )(*(__s1___46 + 0)) - (int const   )(*((unsigned char const   *)path +
                                                                                                  0)));
                      if (__s2_len___1 > 0U) {
                        if (__result___142 == 0) {
                          __result___142 = (int )((int const   )(*(__s1___46 + 1)) -
                                                  (int const   )(*((unsigned char const   *)path +
                                                                   1)));
                          if (__s2_len___1 > 1U) {
                            if (__result___142 == 0) {
                              __result___142 = (int )((int const   )(*(__s1___46 +
                                                                       2)) - (int const   )(*((unsigned char const   *)path +
                                                                                              2)));
                              if (__s2_len___1 > 2U) {
                                if (__result___142 == 0) {
                                  __result___142 = (int )((int const   )(*(__s1___46 +
                                                                           3)) - (int const   )(*((unsigned char const   *)path +
                                                                                                  3)));
                                } else {
                                  goto _L___521;
                                }
                              } else {
                                _L___521: /* CIL Label */ ;
                              }
                            } else {
                              goto _L___522;
                            }
                          } else {
                            _L___522: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___523;
                        }
                      } else {
                        _L___523: /* CIL Label */ ;
                      }
                      tmp___165 = __result___142;
                    }
                  } else {
                    goto _L___526;
                  }
                } else {
                  goto _L___526;
                }
              } else {
                _L___526: /* CIL Label */ 
                tmp___165 = strcmp(pattern___0, path);
              }
            }
          }
          if (! tmp___165) {
            _L___534: /* CIL Label */ 
            clds = (char const   *)lds->sorting;
            break;
          }
        }
        nxt: 
        lds = lds->next;
      }
    }
    if ((unsigned int )clds == (unsigned int )((void *)0)) {
      clds = strEmpty;
    } else {
      if ((int const   )(*clds) == 95) {
        clds = (char const   *)((void *)0);
      }
    }
    if ((unsigned int )clds != (unsigned int )((void *)0)) {
      current_localdirsort = clds;
      qsort((void *)sorter_base, element_count, sizeof(tDirSorterElement ), & directory_sorter);
    }
    i = 0U;
    while (i < element_count) {
      resource_collect_str(resource, (sorter_base + i)->value);
      memory_deallocate_ll((void const   *)(sorter_base + i)->key);
      memory_deallocate_ll((void const   *)(sorter_base + i)->value);
      i ++;
    }
  }
  resource_collect_str(resource, (strEndpNewlineEndBodyHtml + 4) + 1);
  while (1) {
    if ((unsigned int )sorter_base != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)sorter_base);
    }
    break;
  }
  return ((unsigned char)1);
}
}
__inline static void build_local_uri(tResourceRequest *request ) 
{ tUriData *uri_data ;
  char const   *path ;
  char *spfbuf ;
  char const   *query ;

  {
  uri_data = request->uri_data;
  path = (char const   *)uri_data->path;
  query = (char const   *)uri_data->query;
  if ((unsigned int )query != (unsigned int )((void *)0)) {
    my_spf((char *)((void *)0), 0U, & spfbuf, "local:%s%s%s", path, strQuerySort,
           query);
  } else {
    my_spf((char *)((void *)0), 0U, & spfbuf, "local:%s", path);
  }
  memory_deallocate_ll((void const   *)uri_data->uri);
  uri_data->uri = spfbuf;
  return;
}
}
__inline static void fetch_local(tResourceRequest *request ) 
{ tUriData *uri_data ;
  char *path ;
  struct stat statbuf ;
  mode_t mode ;
  tResource *tmp ;
  int tmp___0 ;
  size_t len ;
  size_t tmp___1 ;
  tResource *tmp___2 ;
  tBoolean tmp___3 ;
  tResource *resource ;
  tContentblock *content ;
  void *buf___2 ;
  size_t size ;
  tBoolean need_unmap ;
  tResource *tmp___4 ;
  int tmp___5 ;
  tResourceContentKind tmp___6 ;

  {
  uri_data = request->uri_data;
  path = uri_data->path;
  tmp___0 = my_stat((char const   *)path, & statbuf);
  if (tmp___0 != 0) {
    try_cache: 
    tmp = resource_lookup(request);
    if ((unsigned int )tmp != (unsigned int )((void *)0)) {
      return;
    }
    bad: 
    resource_request_set_error(request, (unsigned char)7);
    return;
  }
  mode = statbuf.st_mode;
  if ((mode & 61440U) == 16384U) {
    tmp___1 = strlen((char const   *)path);
    len = tmp___1;
    if (len > 0U) {
      if ((int )(*(path + (len - 1U))) != 47) {
        goto _L;
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      if (len == 0U) {
        _L: /* CIL Label */ 
        path = (char *)memory_reallocate_ll((void *)path, (len + 1U) + 1U);
        uri_data->path = path;
        strcat((char * __restrict  )path, (char const   * __restrict  )(strSlash));
        build_local_uri(request);
      }
    }
    tmp___2 = resource_lookup(request);
    if ((unsigned int )tmp___2 != (unsigned int )((void *)0)) {
      return;
    }
    tmp___3 = fetch_local_directory(request);
    if (! tmp___3) {
      goto bad;
    }
  } else {
    if ((mode & 61440U) == 32768U) {
      need_unmap = (tBoolean )0;
      if ((int )request->flags & 16) {
        resource_request_set_error(request, (unsigned char)8);
        return;
      }
      tmp___4 = resource_lookup(request);
      if ((unsigned int )tmp___4 != (unsigned int )((void *)0)) {
        return;
      }
      tmp___5 = (int )my_mmap_file_readonly((char const   *)path, & buf___2, & size);
      switch (tmp___5) {
      case 0: ;
      goto bad;
      break;
      case 1: 
      buf___2 = memory_allocate_ll(1U);
      size = 0U;
      need_unmap = (unsigned char)0;
      break;
      case 2: 
      need_unmap = (unsigned char)1;
      break;
      }
      content = contentblock_create(size, (unsigned char)0);
      content->used = size;
      content->data = (char *)buf___2;
      tmp___6 = filesuffix2rck((char const   *)path);
      resource = resource_create(request, content, size, tmp___6, (unsigned char)5);
      resource->bytecount = size;
      if (need_unmap) {
        (resource->cantent)->caf = (unsigned char )((int )(resource->cantent)->caf |
                                                    1);
      }
    } else {
      goto try_cache;
    }
  }
  return;
}
}
static void http_rpsd_remove(tRpsdGeneric *_rpsd ) 
{ tHttpRpsd *rpsd ;

  {
  rpsd = (tHttpRpsd *)_rpsd;
  while (1) {
    if ((unsigned int )rpsd->header != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)rpsd->header);
    }
    break;
  }
  while (1) {
    if ((unsigned int )rpsd->challenge != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)rpsd->challenge);
    }
    break;
  }
  while (1) {
    if ((unsigned int )rpsd->new_auth != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)rpsd->new_auth);
    }
    break;
  }
  return;
}
}
static void http_rpsd_prepare(tResource *resource ) 
{ 

  {
  resource->rpsd = (struct tRpsdGeneric *)memory_allocate_ll(sizeof(tHttpRpsd ));
  (resource->rpsd)->remover = & http_rpsd_remove;
  return;
}
}
static void skip_http_whitespace(char const   **_ptr ) 
{ char const   *ptr___0 ;

  {
  ptr___0 = (*_ptr);
  while ((int const   )(*ptr___0) == 32) {
    ptr___0 ++;
  }
  (*_ptr) = ptr___0;
  return;
}
}
static void parse_http_chunks(tResource *resource , char const   *src , size_t count___2 ) 
{ size_t chunksize ;
  size_t usable_left ;
  size_t usedsize ;
  size_t add ;
  char *deststart ;
  char *dest ;
  tChunkParsingState cps ;
  tBoolean do_push ;
  tBoolean want_it_back ;
  char ch ;
  char const   *tmp ;
  char *tmp___0 ;
  size_t tmp___1 ;
  int tmp___2 ;

  {
  chunksize = ((tHttpRpsd *)resource->rpsd)->chunksize_left;
  dest = (char *)((void *)0);
  cps = ((tHttpRpsd *)resource->rpsd)->cps;
  usedsize = 0U;
  usable_left = usedsize;
  do_push = (unsigned char)0;
  want_it_back = (unsigned char)1;
  while (1) {
    tmp___1 = count___2;
    count___2 --;
    if (! (tmp___1 > 0U)) {
      break;
    }
    tmp = src;
    src ++;
    ch = (char )(*tmp);
    switch ((int )cps) {
    case 1: ;
    if (chunksize > 0U) {
      if (usable_left <= 0U) {
        if (usedsize > 0U) {
          resource_record(resource, (char const   *)deststart, usedsize);
          usedsize = 0U;
        }
        resource_provide_room(resource, & deststart, & usable_left, resource->bytecount,
                              (unsigned char)2);
        dest = deststart;
      }
      tmp___0 = dest;
      dest ++;
      (*tmp___0) = ch;
      usedsize ++;
      usable_left --;
      chunksize --;
      do_push = (unsigned char)1;
    } else {
      if ((int )ch == 13) {
        cps = (unsigned char)6;
      } else {
        bad_response: 
        resource_set_error(resource, (unsigned char)14);
        goto stopnpush;
      }
    }
    break;
    case 2: ;
    if ((int )ch >= 48) {
      if ((int )ch <= 57) {
        add = (unsigned int )((int )ch - 48);
        calc: 
        chunksize = 16U * chunksize + add;
        if (chunksize > 104857600U) {
          goto bad_response;
        }
      } else {
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
      if ((int )ch >= 97) {
        if ((int )ch <= 102) {
          add = (unsigned int )(((int )ch - 97) + 10);
          goto calc;
        } else {
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
        if ((int )ch >= 65) {
          if ((int )ch <= 70) {
            add = (unsigned int )(((int )ch - 65) + 10);
            goto calc;
          } else {
            goto _L;
          }
        } else {
          _L: /* CIL Label */ 
          if ((int )ch == 13) {
            cps = (unsigned char)3;
          } else {
            cps = (unsigned char)4;
          }
        }
      }
    }
    break;
    case 3: ;
    if ((int )ch == 10) {
      if (chunksize == 0U) {
        cps = (unsigned char)9;
      } else {
        cps = (unsigned char)1;
      }
    } else {
      goto bad_response;
    }
    break;
    case 4: ;
    if ((int )ch == 13) {
      cps = (unsigned char)3;
    }
    break;
    case 5: ;
    if ((int )ch == 13) {
      cps = (unsigned char)6;
    } else {
      goto bad_response;
    }
    break;
    case 6: ;
    if ((int )ch == 10) {
      cps = (unsigned char)2;
    } else {
      goto bad_response;
    }
    break;
    case 7: ;
    if ((int )ch == 13) {
      cps = (unsigned char)8;
    }
    break;
    case 8: ;
    if ((int )ch == 10) {
      cps = (unsigned char)9;
    } else {
      cps = (unsigned char)7;
    }
    break;
    case 9: ;
    if ((int )ch == 13) {
      cps = (unsigned char)10;
    } else {
      cps = (unsigned char)7;
    }
    break;
    case 10: ;
    if ((int )ch == 10) {
      while (1) {
        break;
      }
      resource->state = (unsigned char)5;
      stopnpush: 
      conn_remove(& resource->cconn);
      do_push = (unsigned char)1;
      want_it_back = (unsigned char)0;
      goto out;
    } else {
      cps = (unsigned char)7;
    }
    break;
    }
  }
  out: 
  if (usedsize > 0U) {
    resource_record(resource, (char const   *)deststart, usedsize);
  }
  ((tHttpRpsd *)resource->rpsd)->cps = cps;
  ((tHttpRpsd *)resource->rpsd)->chunksize_left = chunksize;
  if (do_push) {
    if ((int )want_it_back == 0) {
      tmp___2 = 0;
    } else {
      tmp___2 = 1;
    }
    push_to_main_res(resource, (unsigned char )tmp___2);
  }
  return;
}
}
__inline static tMbsIndex do_lookup_hhps(char const   *str ) 
{ tMbsIndex min ;
  tMbsIndex max ;
  tMbsIndex idx ;
  int res ;

  {
  min = (tMbsIndex )0;
  max = (tMbsIndex )10;
  while (1) {
    idx = (short )(((int )min + (int )max) / 2);
    res = strneqcase3(str, (char const   *)strHhps[idx], (unsigned int )hhpslen[idx]);
    if (res < 0) {
      max = (short )((int )idx - 1);
    } else {
      if (res > 0) {
        min = (short )((int )idx + 1);
      } else {
        perform_action: 
        return (idx);
      }
    }
    if (! ((int )min <= (int )max)) {
      break;
    }
  }
  idx = (short)-1;
  goto perform_action;
}
}
__inline static tHttpHeaderParsingState lookup_hhps(char const   **_ptr ) 
{ char const   *ptr___0 ;
  tMbsIndex idx ;
  tMbsIndex tmp ;

  {
  ptr___0 = (*_ptr);
  tmp = do_lookup_hhps(ptr___0);
  idx = tmp;
  if ((int )idx < 0) {
    idx = (short)0;
  } else {
    if ((int )idx > 0) {
      (*_ptr) += (int const   )hhpslen[idx];
      skip_http_whitespace(_ptr);
    }
  }
  return ((unsigned char )idx);
}
}
static void http_header_cleanup(tHttpHeaderContext *context ) 
{ 

  {
  if ((unsigned int )context->n != (unsigned int )((void *)0)) {
    (*(context->n)) = (char )'\n';
    context->n = (char *)((void *)0);
  }
  if ((unsigned int )context->r != (unsigned int )((void *)0)) {
    (*(context->r)) = (char )'\r';
    context->r = (char *)((void *)0);
  }
  return;
}
}
static char const   *http_header_next(tHttpHeaderContext *context ) 
{ char *retval ;
  char *current ;
  char *n ;
  char *tmp___0 ;
  char *r ;
  char *minpos ;
  unsigned char u ;
  unsigned char *x ;

  {
  retval = (char *)((void *)0);
  current = context->current;
  http_header_cleanup(context);
  if ((unsigned int )current == (unsigned int )((void *)0)) {
    goto _L;
  } else {
    if ((int )(*current) == 0) {
      _L: /* CIL Label */ 
      goto out;
    }
  }
  loop: 
  tmp___0 = strchr((char const   *)current, '\n');
  n = tmp___0;
  if ((unsigned int )n != (unsigned int )((void *)0)) {
    if ((unsigned int )n > (unsigned int )current) {
      if ((int )(*(n - 1)) == 13) {
        minpos = n - 1;
        r = minpos;
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      r = (char *)((void *)0);
      minpos = n;
    }
    if ((unsigned int )minpos <= (unsigned int )current) {
      goto out;
    }
    if ((int )(*(n + 1)) == 32) {
      goto _L___1;
    } else {
      if ((int )(*(n + 1)) == 9) {
        _L___1: /* CIL Label */ 
        (*n) = (char )' ';
        if ((unsigned int )r != (unsigned int )((void *)0)) {
          (*r) = (char )' ';
        }
        goto loop;
      }
    }
    context->n = n;
    (*n) = (char )'\000';
    if ((unsigned int )r != (unsigned int )((void *)0)) {
      context->r = r;
      (*r) = (char )'\000';
    }
  }
  retval = current;
  if ((unsigned int )n != (unsigned int )((void *)0)) {
    context->current = n + 1;
  } else {
    context->current = (char *)((void *)0);
  }
  x = (unsigned char *)retval;
  while (1) {
    u = (*x);
    if (! ((int )u != 0)) {
      break;
    }
    if ((int )u == 9) {
      (*x) = (unsigned char )' ';
    } else {
      if ((int )u < 32) {
        goto _L___2;
      } else {
        if ((int )u == 127) {
          _L___2: /* CIL Label */ 
          (*x) = (unsigned char )'X';
        }
      }
    }
    x ++;
  }
  out: 
  return ((char const   *)retval);
}
}
__inline static tBoolean finish_http_header(tResource *resource , char *header ) 
{ tCantent *cantent ;
  char const   *temp ;
  int http_major ;
  int http_minor ;
  int http_status ;
  int value ;
  tHttpHeaderContext header_context ;
  tHttpHeaderParsingState hhps ;
  tBoolean cannot_http11 ;
  tBoolean ignore_contentlength ;
  tBoolean can_keep_alive ;
  tBoolean is_chunked ;
  tBoolean accept_cookies ;
  tBoolean tmp ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_133___0 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp___0 ;
  int tmp___1 ;
  tSockaddrPortProtInfo *sppi ;
  tSockaddrPortProtInfo *tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  tResourceContentKind kind ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___8 ;
  int tmp___9 ;
  tHttpRpsd *rpsd ;

  {
  cantent = resource->cantent;
  cannot_http11 = (tBoolean )1;
  ignore_contentlength = (tBoolean )0;
  can_keep_alive = (tBoolean )0;
  is_chunked = (tBoolean )0;
  tmp = cookie_accept_any((tResource const   *)resource);
  accept_cookies = tmp;
  tmp___0 = __builtin_constant_p(sizeof(header_context));
  if (tmp___0) {
    if (sizeof(header_context) <= 16U) {
      if (sizeof(header_context) == 1U) {
        __s___1 = (void *)(& header_context);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(& header_context);
        __u = (union __anonunion___u_133___0 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(header_context)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_133___0 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_133___0 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_133___0 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_133___0 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_133___0 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_133___0 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_133___0 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_133___0 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_133___0 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_133___0 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_133___0 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_133___0 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_133___0 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = (void *)(& header_context);
    __builtin_memset(__s, '\000', (int )sizeof(header_context));
  }
  header_context.current = header;
  temp = http_header_next(& header_context);
  if ((unsigned int )temp == (unsigned int )((void *)0)) {
    goto bad;
  } else {
    tmp___1 = strneqcase3(temp, "http/", 5U);
    if (! (tmp___1 == 0)) {
      bad: 
      resource_set_error(resource, (unsigned char)14);
      http_header_cleanup(& header_context);
      return ((unsigned char)0);
    }
  }
  my_atoi(temp + 5, & http_major, & temp, 99);
  if (http_major > 1) {
    goto bad;
  }
  if ((int const   )(*temp) != 46) {
    goto bad;
  }
  my_atoi(temp + 1, & http_minor, & temp, 99);
  skip_http_whitespace(& temp);
  my_atoi(temp, & http_status, & temp, 999);
  if (http_status < 100) {
    goto _L___1;
  } else {
    if (http_status > 599) {
      _L___1: /* CIL Label */ 
      goto bad;
    }
  }
  resource->server_status_code = (unsigned short )http_status;
  if (http_major < 1) {
    goto _L___2;
  } else {
    if (http_major == 1) {
      if (http_minor < 1) {
        _L___2: /* CIL Label */ 
        tmp___2 = conn2sppi((tConnection const   *)resource->cconn, (unsigned char)1);
        sppi = tmp___2;
        if ((unsigned int )sppi != (unsigned int )((void *)0)) {
          sppi->sppif = (unsigned char )((int )sppi->sppif | 1);
        }
        cannot_http11 = (unsigned char)1;
      } else {
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ 
      cannot_http11 = (unsigned char)0;
      can_keep_alive = (unsigned char)1;
    }
  }
  header_loop: 
  temp = http_header_next(& header_context);
  if ((unsigned int )temp == (unsigned int )((void *)0)) {
    goto finish_header;
  }
  hhps = lookup_hhps(& temp);
  switch ((int )hhps) {
  case 1: 
  tmp___4 = strneqcase3(temp, "keep-alive", 10U);
  if (tmp___4 == 0) {
    can_keep_alive = (unsigned char)1;
  } else {
    tmp___3 = strneqcase3(temp, strClose, 5U);
    if (tmp___3 == 0) {
      can_keep_alive = (unsigned char)0;
    }
  }
  break;
  case 2: ;
  if (! ignore_contentlength) {
    my_atoi(temp, & value, (char const   **)((void *)0), 1048576000);
    resource->nominal_contentlength = (unsigned int )value;
  }
  break;
  case 3: 
  tmp___6 = strneqcase3(temp, "text/html", 9U);
  if (tmp___6 == 0) {
    kind = (unsigned char)2;
  } else {
    tmp___5 = strneqcase3(temp, "text/plain", 10U);
    if (tmp___5 == 0) {
      kind = (unsigned char)1;
    } else {
      kind = (unsigned char)0;
    }
  }
  cantent->kind = kind;
  break;
  case 4: ;
  while (1) {
    if ((unsigned int )cantent->redirection != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)cantent->redirection);
    }
    break;
  }
  if ((int const   )(*temp) != 0) {
    cantent->redirection = my_strdup(temp);
  } else {
    cantent->redirection = (char const   *)((void *)0);
  }
  break;
  case 5: 
  conn_set_software_id(resource->cconn, temp);
  break;
  case 7: ;
  case 6: ;
  if (accept_cookies) {
    if ((int )hhps == 6) {
      tmp___8 = 1;
    } else {
      tmp___8 = 0;
    }
    cookie_handle_text(resource, temp, (unsigned char )tmp___8);
  }
  break;
  case 9: 
  ignore_contentlength = (unsigned char)1;
  if (! cannot_http11) {
    tmp___9 = strneqcase3(temp, "chunked", 7U);
    if (tmp___9 == 0) {
      is_chunked = (unsigned char)1;
    } else {
      goto _L___4;
    }
  } else {
    _L___4: /* CIL Label */ ;
  }
  break;
  case 10: 
  rpsd = (tHttpRpsd *)resource->rpsd;
  while (1) {
    if ((unsigned int )rpsd->challenge != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)rpsd->challenge);
    }
    break;
  }
  if ((int const   )(*temp) != 0) {
    rpsd->challenge = my_strdup(temp);
  } else {
    rpsd->challenge = (char const   *)((void *)0);
  }
  while (1) {
    break;
  }
  while (1) {
    break;
  }
  while (1) {
    break;
  }
  break;
  }
  goto header_loop;
  finish_header: 
  if (ignore_contentlength) {
    resource->nominal_contentlength = ~ 0U;
  }
  if ((int )(resource->cantent)->kind == 0) {
    (resource->cantent)->kind = filesuffix2rck((char const   *)(resource->uri_data)->path);
  }
  if (is_chunked) {
    ((tHttpRpsd *)resource->rpsd)->flags = (unsigned char )((int )((tHttpRpsd *)resource->rpsd)->flags |
                                                            1);
    ((tHttpRpsd *)resource->rpsd)->chunksize_left = 0U;
    ((tHttpRpsd *)resource->rpsd)->cps = (unsigned char)2;
  }
  if (resource->nominal_contentlength == 4294967295U) {
    goto _L___5;
  } else {
    if (! can_keep_alive) {
      _L___5: /* CIL Label */ 
      (resource->cconn)->flags = (unsigned short )((int )(resource->cconn)->flags |
                                                   64);
    }
  }
  while (1) {
    break;
  }
  while (1) {
    break;
  }
  while (1) {
    break;
  }
  return ((unsigned char)1);
}
}
static char const   *http_build_basic_authorization(char const   *prefix___0 , char const   *username ,
                                                    char const   *password ) 
{ char *spfbuf ;
  char *spfbuf_enc ;
  char const   *enc ;

  {
  my_spf(strbuf___1, 4096U, & spfbuf_enc, strPercsColonPercs, username, password);
  enc = base64_encode((unsigned char const   *)spfbuf_enc);
  while (1) {
    if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf_enc) {
      memory_deallocate_ll((void const   *)spfbuf_enc);
    }
    break;
  }
  my_spf((char *)((void *)0), 0U, & spfbuf, "%sAuthorization: Basic %s\r\n", prefix___0,
         enc);
  memory_deallocate_ll((void const   *)enc);
  return ((char const   *)spfbuf);
}
}
__inline static char const   *http_calc_version(tResource const   *resource ) 
{ char const   *version ;
  tConfigProtocolVersion const   *v ;
  char const   *hostname ;
  tPortnumber resport ;
  tPortnumber hp ;
  char const   *pattern___0 ;
  tBoolean tmp ;

  {
  version = (char const   *)((void *)0);
  v = (tConfigProtocolVersion const   *)config.http_version;
  if ((unsigned int )v != (unsigned int )((void *)0)) {
    hostname = ((resource->textual_hppi)->host)->hostname;
    resport = (resource->uri_data)->portnumber;
    while ((unsigned int )v != (unsigned int )((void *)0)) {
      hp = v->hosts_portnumber;
      if ((int )hp == 0) {
        goto _L___0;
      } else {
        if ((int )hp == (int )resport) {
          _L___0: /* CIL Label */ 
          pattern___0 = (char const   *)v->hosts_pattern;
          if ((unsigned int )pattern___0 != (unsigned int )((void *)0)) {
            tmp = my_pattern_matcher(pattern___0, hostname);
            if (tmp) {
              version = (char const   *)v->protstr;
              break;
            } else {
              goto _L;
            }
          } else {
            _L: /* CIL Label */ ;
          }
        }
      }
      v = (tConfigProtocolVersion const   *)v->next;
    }
  }
  if ((unsigned int )version == (unsigned int )((void *)0)) {
    version = str1dot0;
  }
  return (version);
}
}
__inline static void http_setup_reqstr(tResource *resource ) 
{ tUriData const   *uri_data ;
  tConfigProxy const   *proxy ;
  tResourceFlags rf ;
  tPortnumber portnumber ;
  register unsigned short __v ;
  register unsigned short __x ;
  int tmp ;
  tBoolean use_post ;
  int tmp___0 ;
  char const   *uri ;
  char const   *path ;
  char const   *spfbuf_uri ;
  char const   *query ;
  char const   *post ;
  char const   *tmp___2 ;
  char const   *hostname ;
  char const   *cookies ;
  char const   *tmp___3 ;
  char const   *spfbuf_proxyauth ;
  char const   *http_version ;
  char const   *tmp___4 ;
  tBoolean use_query ;
  int tmp___5 ;
  tBoolean use_proxy ;
  int tmp___6 ;
  char portbuf[100] ;
  char *spfbuf ;
  size_t tmp___7 ;
  char const   *auth_user ;
  char const   *auth_pass ;
  char const   *tmp___8 ;
  char const   *tmp___9 ;
  char const   *tmp___10 ;

  {
  uri_data = (tUriData const   *)resource->uri_data;
  proxy = resource->proxy;
  rf = resource->flags;
  __x = (resource->uri_data)->portnumber;
  tmp = __builtin_constant_p(__x);
  if (tmp) {
    __v = (unsigned short )((((int )__x >> 8) & 255) | (((int )__x & 255) << 8));
  } else {
    __asm__  ("rorw $8, %w0": "=r" (__v): "0" (__x): "cc");
  }
  portnumber = __v;
  if (rf & 2U) {
    tmp___0 = 1;
  } else {
    tmp___0 = 0;
  }
  use_post = (tBoolean )tmp___0;
  uri = (char const   *)uri_data->uri;
  path = (char const   *)uri_data->path;
  query = (char const   *)uri_data->query;
  if (use_post) {
    if ((unsigned int )uri_data->post == (unsigned int )((void *)0)) {
      tmp___2 = strEmpty;
    } else {
      tmp___2 = (char const   *)uri_data->post;
    }
  } else {
    tmp___2 = strEmpty;
  }
  post = tmp___2;
  hostname = ((resource->textual_hppi)->host)->hostname;
  tmp___3 = cookie_collect(resource);
  cookies = tmp___3;
  spfbuf_proxyauth = strEmpty;
  tmp___4 = http_calc_version((tResource const   *)resource);
  http_version = tmp___4;
  if ((unsigned int )query != (unsigned int )((void *)0)) {
    if ((int const   )(*query) != 0) {
      tmp___5 = 1;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    tmp___5 = 0;
  }
  use_query = (tBoolean )tmp___5;
  if ((unsigned int )proxy != (unsigned int )((void *)0)) {
    if ((unsigned int )proxy->proxy_hostname != (unsigned int )((void *)0)) {
      tmp___6 = 1;
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ 
    tmp___6 = 0;
  }
  use_proxy = (tBoolean )tmp___6;
  if (use_post) {
    tmp___7 = strlen(post);
    sprintf((char * __restrict  )(strbuf2___0), (char const   * __restrict  )"Content-Type: %s\r\nContent-Length: %d\r\n",
            strAxwfu, tmp___7);
    resource->flags = resource->flags | 2U;
    rf = resource->flags;
  }
  if (use_proxy) {
    auth_user = (char const   *)proxy->auth_user;
    auth_pass = (char const   *)proxy->auth_pass;
    if ((unsigned int )auth_user != (unsigned int )((void *)0)) {
      if ((unsigned int )auth_pass != (unsigned int )((void *)0)) {
        spfbuf_proxyauth = http_build_basic_authorization("Proxy-", auth_user, auth_pass);
      } else {
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ ;
    }
  }
  if (use_proxy) {
    spfbuf_uri = uri;
  } else {
    if (! use_query) {
      spfbuf_uri = path;
    } else {
      my_spf((char *)((void *)0), 0U, & spfbuf, "%s?%s", path, query);
      spfbuf_uri = (char const   *)spfbuf;
    }
  }
  if (! ((int )uri_data->udf & 2)) {
    portbuf[0] = (char )'\000';
  } else {
    sprintf((char * __restrict  )(portbuf), (char const   * __restrict  )":%d", portnumber);
  }
  if (use_post) {
    tmp___8 = (char const   *)(strbuf2___0);
  } else {
    tmp___8 = strEmpty;
  }
  if (rf & 16U) {
    tmp___9 = "Pragma: no-cache\r\nCache-Control: no-cache\r\n";
  } else {
    tmp___9 = strEmpty;
  }
  if (use_post) {
    tmp___10 = strPost;
  } else {
    tmp___10 = strGet;
  }
  my_spf((char *)((void *)0), 0U, & spfbuf, "%s %s HTTP/%s\r\nHost: %s%s\r\nUser-Agent: %s\r\n%s%s%s%s%sAccept: */*\r\nAccept-Language: %s\r\nAccept-Charset: iso-8859-1\r\n\r\n%s",
         tmp___10, spfbuf_uri, http_version, hostname, portbuf, config.user_agent,
         spfbuf_proxyauth, strEmpty, tmp___9, cookies, tmp___8, config.languages,
         post);
  conn_set_writestr(resource->cconn, (char const   *)spfbuf);
  while (1) {
    if ((unsigned int )(strEmpty) != (unsigned int )spfbuf_proxyauth) {
      memory_deallocate_ll((void const   *)spfbuf_proxyauth);
    }
    break;
  }
  if ((unsigned int )spfbuf_uri != (unsigned int )uri) {
    if ((unsigned int )spfbuf_uri != (unsigned int )path) {
      memory_deallocate_ll((void const   *)spfbuf_uri);
    } else {
      goto _L___2;
    }
  } else {
    _L___2: /* CIL Label */ ;
  }
  while (1) {
    if ((unsigned int )cookies != (unsigned int )(strEmpty)) {
      memory_deallocate_ll((void const   *)cookies);
    }
    break;
  }
  return;
}
}
static void http_read(tResource *resource ) 
{ tConnection *conn ;
  int err ;
  tBoolean want_it_back ;
  tBoolean is_chunked ;
  tServerStatusCode ssc ;
  tTlHeaderState ths ;
  char *dest ;
  size_t size ;
  size_t ncl ;
  tHttpRpsd *rpsd ;
  char *header ;
  char *temp ;
  size_t usable ;
  size_t used ;
  size_t count___2 ;
  char ch ;
  char *tmp ;
  tBoolean tmp___0 ;
  size_t tmp___1 ;
  char temp___0[15] ;
  size_t desired_size ;
  size_t bytecount ;
  unsigned char rprflags ;
  size_t max ;
  int tmp___3 ;

  {
  conn = resource->cconn;
  want_it_back = (tBoolean )1;
  ths = resource->tlheaderstate;
  if ((int )ths >= 0) {
    rpsd = (tHttpRpsd *)resource->rpsd;
    header = rpsd->header;
    usable = rpsd->usable;
    used = rpsd->used;
    if (usable <= used) {
      if (usable >= 65536U) {
        resource_set_error(resource, (unsigned char)14);
        goto do_stop_reading;
      } else {
        if (usable <= 0U) {
          usable = 1024U;
        } else {
          usable <<= 1;
        }
      }
      rpsd->usable = usable;
      header = (char *)memory_reallocate_ll((void *)header, usable);
      rpsd->header = header;
    }
    temp = header + used;
    err = my_read(conn->fd, (void *)temp, usable - used);
    while (1) {
      break;
    }
    if (err <= 0) {
      stop_reading: 
      if (err == 0) {
        resource->state = (unsigned char)5;
      } else {
        resource_set_error(resource, (unsigned char)9);
      }
      do_stop_reading: 
      want_it_back = (unsigned char)0;
      conn_remove(& resource->cconn);
      goto finish;
    }
    rpsd->used += (size_t )err;
    count___2 = (unsigned int )err;
    while (1) {
      tmp___1 = count___2;
      count___2 --;
      if (! (tmp___1 > 0U)) {
        break;
      }
      tmp = temp;
      temp ++;
      ch = (*tmp);
      switch ((int )ths) {
      case 0: ;
      if ((int )ch == 13) {
        ths = (signed char)1;
      }
      break;
      case 1: ;
      if ((int )ch == 10) {
        ths = (signed char)2;
      } else {
        if (! ((int )ch == 13)) {
          ths = (signed char)0;
        }
      }
      break;
      case 2: ;
      if ((int )ch == 13) {
        ths = (signed char)3;
      } else {
        ths = (signed char)0;
      }
      break;
      case 3: ;
      if ((int )ch == 10) {
        (*(temp - 2)) = (char )'\000';
        tmp___0 = finish_http_header(resource, header);
        if (! tmp___0) {
          goto do_stop_reading;
        }
        ssc = resource->server_status_code;
        if ((int )ssc >= 100) {
          if ((int )ssc <= 199) {
            rpsd->used -= (size_t )(temp - header);
            if (count___2 > 0U) {
              memcpy((void * __restrict  )header, (void const   * __restrict  )temp,
                     count___2);
              temp = header;
            }
            ths = (signed char)0;
            goto next_char;
          } else {
            goto _L;
          }
        } else {
          _L: /* CIL Label */ ;
        }
        resource->state = (unsigned char)4;
        ths = (signed char)-1;
        if (count___2 > 0U) {
          if ((int )((tHttpRpsd *)resource->rpsd)->flags & 1) {
            parse_http_chunks(resource, (char const   *)temp, count___2);
            resource->tlheaderstate = ths;
            return;
          } else {
            resource_collect(resource, (char const   *)temp, count___2);
          }
        }
        goto header_done;
      } else {
        if ((int )ch == 13) {
          ths = (signed char)1;
        } else {
          ths = (signed char)0;
        }
      }
      break;
      }
      next_char: ;
    }
    header_done: 
    resource->tlheaderstate = ths;
    goto prefinish;
  }
  if ((int )((tHttpRpsd *)resource->rpsd)->flags & 1) {
    is_chunked = (unsigned char)1;
  } else {
    is_chunked = (unsigned char)0;
  }
  if (is_chunked) {
    if ((int )((tHttpRpsd *)resource->rpsd)->cps != 1) {
      err = my_read(conn->fd, (void *)(temp___0), sizeof(temp___0));
      while (1) {
        break;
      }
      if (err > 0) {
        parse_http_chunks(resource, (char const   *)(temp___0), (unsigned int )err);
        return;
      } else {
        goto stop_reading;
      }
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  bytecount = resource->bytecount;
  ncl = resource->nominal_contentlength;
  if (ncl != 4294967295U) {
    if (bytecount < ncl) {
      ncl -= bytecount;
      if (ncl > 131072U) {
        ncl = 131072U;
      }
      desired_size = ncl;
      rprflags = (unsigned char)0;
    } else {
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ 
    desired_size = bytecount;
    rprflags = (unsigned char)2;
  }
  resource_provide_room(resource, & dest, & size, desired_size, rprflags);
  if (is_chunked) {
    max = ((tHttpRpsd *)resource->rpsd)->chunksize_left;
    if (size > max) {
      size = max;
    }
  }
  err = my_read(conn->fd, (void *)dest, size);
  while (1) {
    break;
  }
  if (err <= 0) {
    goto stop_reading;
  }
  resource_record(resource, (char const   *)dest, (unsigned int )err);
  if (is_chunked) {
    ((tHttpRpsd *)resource->rpsd)->chunksize_left = ((tHttpRpsd *)resource->rpsd)->chunksize_left -
                                                    (size_t )err;
    if (((tHttpRpsd *)resource->rpsd)->chunksize_left == 0U) {
      ((tHttpRpsd *)resource->rpsd)->cps = (unsigned char)5;
    }
  }
  prefinish: 
  ncl = resource->nominal_contentlength;
  if (ncl != 4294967295U) {
    if (resource->bytecount >= ncl) {
      err = 0;
      goto stop_reading;
    } else {
      goto _L___2;
    }
  } else {
    _L___2: /* CIL Label */ ;
  }
  finish: 
  if (! want_it_back) {
    if ((int )resource->server_status_code == 401) {
      goto _L___6;
    } else {
      goto _L___6;
    }
  } else {
    _L___6: /* CIL Label */ ;
  }
  if (! want_it_back) {
    goto _L___7;
  } else {
    if ((int )resource->state == 4) {
      _L___7: /* CIL Label */ 
      if ((int )want_it_back == 0) {
        tmp___3 = 0;
      } else {
        tmp___3 = 1;
      }
      push_to_main_res(resource, (unsigned char )tmp___3);
    }
  }
  return;
}
}
static void http_callback(tConnection *conn , tConnCbEventKind ccek ) 
{ tResource *resource ;
  tResourceError tmp ;
  int tmp___0 ;

  {
  resource = (tResource *)conn->data;
  switch ((int )ccek) {
  case 0: 
  conn_set_readwrite(conn, (unsigned char)2);
  if ((int )conn->flags & 1) {
    goto do_setup;
  } else {
    push_to_main_res(resource, (unsigned char)1);
  }
  break;
  case 1: ;
  do_setup: 
  http_rpsd_prepare(resource);
  http_setup_reqstr(resource);
  resource->state = (unsigned char)3;
  push_to_main_res(resource, (unsigned char)1);
  break;
  case 2: 
  tmp = conn_get_failre(conn);
  resource_set_error(resource, tmp);
  stopnpush: 
  conn_remove(& resource->cconn);
  push_to_main_res(resource, (unsigned char)0);
  break;
  case 3: 
  http_read(resource);
  break;
  case 4: 
  tmp___0 = (int )conn_write_writedata(conn);
  switch (tmp___0) {
  case 0: 
  resource_set_error(resource, (unsigned char)9);
  goto stopnpush;
  break;
  case 1: ;
  break;
  case 2: 
  conn_set_readwrite(conn, (unsigned char)1);
  break;
  }
  break;
  default: ;
  while (1) {
    break;
  }
  break;
  }
}
}
static void ftp_rpsd_remove(tRpsdGeneric *_rpsd ) 
{ tFtpRpsd *rpsd ;

  {
  rpsd = (tFtpRpsd *)_rpsd;
  while (1) {
    if ((unsigned int )rpsd->reply_snippet != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)rpsd->reply_snippet);
    }
    break;
  }
  while (1) {
    if ((unsigned int )rpsd->text != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)rpsd->text);
    }
    break;
  }
  return;
}
}
__inline static void ftp_data_handle_dirline(tResource *resource , char *text ) 
{ char const   *filename ;
  char const   *htmlfilename ;
  char const   *info ;
  char const   *htmlinfo ;
  char const   *path ;
  char *spfbuf ;
  char *ws ;
  tBoolean found_ws ;
  tBoolean need_pathslash ;
  size_t pathlen ;
  char const   *temp ;
  int tmp ;
  size_t tmp___0 ;
  char ch ;
  char *tmp___1 ;
  char const   *tmp___2 ;
  register unsigned short __v ;
  register unsigned short __x ;
  int tmp___3 ;
  char const   *tmp___4 ;

  {
  tmp = strneqcase3((char const   *)text, "total", 5U);
  if (tmp == 0) {
    temp = (char const   *)(text + 5);
    if ((int const   )(*temp) == 32) {
      goto _L___2;
    } else {
      if ((int const   )(*temp) == 9) {
        _L___2: /* CIL Label */ 
        while (1) {
          if ((int const   )(*temp) == 32) {
            goto _L;
          } else {
            if ((int const   )(*temp) == 9) {
              _L: /* CIL Label */ ;
            } else {
              break;
            }
          }
          temp ++;
        }
        if ((int const   )(*temp) >= 48) {
          if ((int const   )(*temp) <= 57) {
            while (1) {
              if ((int const   )(*temp) >= 48) {
                if (! ((int const   )(*temp) <= 57)) {
                  goto _L___0;
                }
              } else {
                _L___0: /* CIL Label */ 
                break;
              }
              temp ++;
            }
            if ((int const   )(*temp) == 0) {
              my_spf(strbuf___1, 4096U, & spfbuf, "<br>%s\n", text);
              goto do_collect;
            }
          } else {
            goto _L___1;
          }
        } else {
          _L___1: /* CIL Label */ ;
        }
      }
    }
  }
  found_ws = (unsigned char)0;
  tmp___0 = strlen((char const   *)text);
  ws = (text + tmp___0) - 1;
  while ((unsigned int )ws >= (unsigned int )text) {
    ch = (*ws);
    if ((int )ch == 32) {
      goto _L___3;
    } else {
      if ((int )ch == 9) {
        _L___3: /* CIL Label */ 
        found_ws = (unsigned char)1;
        break;
      }
    }
    ws --;
  }
  if (found_ws) {
    tmp___1 = ws;
    ws ++;
    (*tmp___1) = (char )'\000';
    filename = (char const   *)ws;
    info = (char const   *)text;
  } else {
    filename = (char const   *)text;
    info = strEmpty;
  }
  htmlfilename = htmlify(filename);
  htmlinfo = htmlify(info);
  path = (char const   *)(resource->uri_data)->path;
  pathlen = strlen(path);
  if (pathlen <= 0U) {
    goto _L___4;
  } else {
    if ((int const   )(*(path + (pathlen - 1U))) != 47) {
      _L___4: /* CIL Label */ 
      need_pathslash = (unsigned char)1;
    } else {
      need_pathslash = (unsigned char)0;
    }
  }
  if (need_pathslash) {
    tmp___2 = strSlash;
  } else {
    tmp___2 = strEmpty;
  }
  __x = (resource->uri_data)->portnumber;
  tmp___3 = __builtin_constant_p(__x);
  if (tmp___3) {
    __v = (unsigned short )((((int )__x >> 8) & 255) | (((int )__x & 255) << 8));
  } else {
    __asm__  ("rorw $8, %w0": "=r" (__v): "0" (__x): "cc");
  }
  if ((int const   )(*htmlinfo) != 0) {
    tmp___4 = strSpacedDash + 2;
  } else {
    tmp___4 = strEmpty;
  }
  my_spf(strbuf___1, 4096U, & spfbuf, "<br>%s%s<a href=\"%s://%s:%d%s%s%s\">%s</a>\n",
         htmlinfo, tmp___4, rp_data[resource->protocol].scheme, ((resource->textual_hppi)->host)->hostname,
         __v, path, tmp___2, filename, htmlfilename);
  while (1) {
    if ((unsigned int )htmlfilename != (unsigned int )filename) {
      memory_deallocate_ll((void const   *)htmlfilename);
    }
    break;
  }
  while (1) {
    if ((unsigned int )htmlinfo != (unsigned int )info) {
      memory_deallocate_ll((void const   *)htmlinfo);
    }
    break;
  }
  do_collect: 
  resource_collect_str(resource, (char const   *)spfbuf);
  while (1) {
    if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  return;
}
}
__inline static void ftp_data_dirstart(tResource *resource ) 
{ tUriData const   *uri_data ;
  char const   *path ;
  char *spfbuf ;
  register unsigned short __v ;
  register unsigned short __x ;
  int tmp ;
  tBoolean tmp___0 ;

  {
  uri_data = (tUriData const   *)resource->uri_data;
  path = (char const   *)uri_data->path;
  my_spf(strbuf___1, 4096U, & spfbuf, "Contents of FTP directory \"%s\"", path);
  (resource->cantent)->kind = (unsigned char)2;
  resource_collect_title(resource, (char const   *)spfbuf);
  while (1) {
    if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  tmp___0 = calc_parentpath(path, strbuf2___0, 4096U);
  if (tmp___0) {
    __x = uri_data->portnumber;
    tmp = __builtin_constant_p(__x);
    if (tmp) {
      __v = (unsigned short )((((int )__x >> 8) & 255) | (((int )__x & 255) << 8));
    } else {
      __asm__  ("rorw $8, %w0": "=r" (__v): "0" (__x): "cc");
    }
    my_spf(strbuf___1, 4096U, & spfbuf, "<p><a href=\"%s://%s:%d%s\">%s</a></p>\n",
           rp_data[resource->protocol].scheme, ((resource->textual_hppi)->host)->hostname,
           __v, strbuf2___0, strParentDirectory);
    resource_collect_str(resource, (char const   *)spfbuf);
    while (1) {
      if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf) {
        memory_deallocate_ll((void const   *)spfbuf);
      }
      break;
    }
  }
  return;
}
}
__inline static unsigned char ftp_data_read(tResource *resource ) 
{ tFtpRpsd *rpsd ;
  tConnection *conn ;
  int err ;
  tBoolean is_cc ;
  int tmp ;
  tResourceFlags resflags ;
  char ccdirbuf[4096] ;
  int *tmp___0 ;
  tResourceError tmp___1 ;
  char *dest ;
  size_t size ;
  char *text ;
  char *temp ;
  char *remainder ;
  char *end ;
  size_t usable ;
  size_t used ;
  tBoolean near_r ;
  char ch ;
  char *tmp___2 ;
  char const   *src ;
  char *dest___0 ;
  char *tmp___3 ;
  char const   *tmp___4 ;
  char *dest___1 ;
  size_t size___0 ;
  int *tmp___5 ;
  tResourceError tmp___6 ;

  {
  rpsd = (tFtpRpsd *)resource->rpsd;
  conn = resource->dconn;
  if (resource->flags & 2048U) {
    tmp = 1;
  } else {
    tmp = 0;
  }
  is_cc = (tBoolean )tmp;
  resflags = resource->flags;
  if (is_cc) {
    if (resflags & 8192U) {
      while (1) {
        err = my_read(conn->fd, (void *)(ccdirbuf), sizeof(ccdirbuf));
        while (1) {
          break;
        }
        break;
      }
      if (err > 0) {
        __custom_conn_print(resource, (char const   *)(ccdirbuf), (unsigned int )err,
                            (unsigned char)3);
      } else {
        finish_cc_data: 
        resource->flags = resource->flags | 16384U;
        if (err == -1) {
          tmp___0 = __errno_location();
          tmp___1 = conn_err2error((*tmp___0));
          custom_conn_tell_error(resource, tmp___1);
        }
        conn_remove(& resource->dconn);
        if ((resource->flags & 49152U) == 49152U) {
          custom_conn_unbusify(resource);
        }
        return ((unsigned char)4);
      }
    } else {
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ 
    if (is_cc) {
      if (resflags & 128U) {
        resource_provide_room(resource, & dest, & size, resource->bytecount, (unsigned char)2);
        while (1) {
          err = my_read(conn->fd, (void *)dest, size);
          while (1) {
            break;
          }
          break;
        }
        if (err <= 0) {
          goto finish_cc_data;
        }
        resource_record(resource, (char const   *)dest, (unsigned int )err);
        custom_conn_tell_hash(resource);
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      if ((int )rpsd->flags & 4) {
        text = rpsd->text;
        usable = rpsd->usable;
        used = rpsd->used;
        if (usable <= used) {
          usable += 4096U;
          rpsd->usable = usable;
          rpsd->text = (char *)memory_reallocate_ll((void *)text, usable);
          text = rpsd->text;
        }
        while (1) {
          err = my_read(conn->fd, (void *)(text + used), usable - used);
          while (1) {
            break;
          }
          break;
        }
        if (err <= 0) {
          resource_collect_str(resource, (strEndpNewlineEndBodyHtml + 4) + 1);
          goto stop_reading;
        }
        used += (size_t )err;
        rpsd->used = used;
        remainder = text;
        temp = remainder;
        end = (text + used) - 1;
        near_r = (unsigned char)0;
        while ((unsigned int )temp <= (unsigned int )end) {
          tmp___2 = temp;
          temp ++;
          ch = (*tmp___2);
          if ((int )ch == 13) {
            near_r = (unsigned char)1;
          } else {
            if ((int )ch == 10) {
              if (near_r) {
                (*(temp - 2)) = (char )'\000';
                ftp_data_handle_dirline(resource, remainder);
                remainder = temp;
              } else {
                goto _L;
              }
            } else {
              _L: /* CIL Label */ ;
            }
            near_r = (unsigned char)0;
          }
        }
        if ((unsigned int )remainder > (unsigned int )text) {
          if ((unsigned int )remainder > (unsigned int )end) {
            rpsd->used = 0U;
          } else {
            src = (char const   *)remainder;
            dest___0 = text;
            while ((unsigned int )src <= (unsigned int )end) {
              tmp___3 = dest___0;
              dest___0 ++;
              tmp___4 = src;
              src ++;
              (*tmp___3) = (char )(*tmp___4);
            }
            rpsd->used = rpsd->used - (size_t )(remainder - text);
          }
        }
      } else {
        resource_provide_room(resource, & dest___1, & size___0, resource->bytecount,
                              (unsigned char)2);
        while (1) {
          err = my_read(conn->fd, (void *)dest___1, size___0);
          while (1) {
            break;
          }
          break;
        }
        if (err <= 0) {
          stop_reading: 
          if (err == 0) {
            resource->state = (unsigned char)5;
            return ((unsigned char)1);
          } else {
            tmp___5 = __errno_location();
            tmp___6 = conn_err2error((*tmp___5));
            resource_set_error(resource, tmp___6);
            return ((unsigned char)0);
          }
        } else {
          resource_record(resource, (char const   *)dest___1, (unsigned int )err);
        }
      }
    }
  }
  return ((unsigned char)2);
}
}
static void ftp_data_callback(tConnection *conn , tConnCbEventKind ccek ) 
{ tResource *resource ;
  tResourceError tmp ;
  int tmp___0 ;

  {
  resource = (tResource *)conn->data;
  switch ((int )ccek) {
  case 0: ;
  if ((int )conn->flags & 1) {
    goto do_setup;
  } else {
    conn_set_readwrite(conn, (unsigned char)2);
    push_to_main_res(resource, (unsigned char)1);
  }
  break;
  case 1: ;
  do_setup: 
  if ((int )((tFtpRpsd *)resource->rpsd)->flags & 4) {
    ftp_data_dirstart(resource);
  }
  conn_set_readwrite(conn, (unsigned char)1);
  resource->state = (unsigned char)4;
  push_to_main_res(resource, (unsigned char)1);
  break;
  case 2: 
  tmp = conn_get_failre(conn);
  resource_set_error(resource, tmp);
  stopnpush: 
  conn_remove(& resource->dconn);
  conn_remove(& resource->cconn);
  push_to_main_res(resource, (unsigned char)0);
  break;
  case 3: 
  tmp___0 = (int )ftp_data_read(resource);
  switch (tmp___0) {
  case 1: 
  resource->server_status_code = (unsigned short)226;
  case 0: ;
  goto stopnpush;
  break;
  case 2: 
  push_to_main_res(resource, (unsigned char)1);
  break;
  }
  break;
  default: ;
  while (1) {
    break;
  }
  break;
  }
}
}
static char const   *ftp_prepare_snippet(tResource const   *resource ) 
{ char const   *retval ;
  char const   *ptr___0 ;
  unsigned char count___2 ;
  char ch ;
  char const   *tmp ;

  {
  retval = (char const   *)((void *)0);
  ptr___0 = ((tFtpRpsd *)resource->rpsd)->reply_snippet;
  if ((unsigned int )ptr___0 == (unsigned int )((void *)0)) {
    goto out;
  }
  count___2 = (unsigned char)0;
  while ((int )count___2 <= 2) {
    tmp = ptr___0;
    ptr___0 ++;
    ch = (char )(*tmp);
    if ((int )ch >= 48) {
      if (! ((int )ch <= 57)) {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      goto out;
    }
    count___2 = (unsigned char )((int )count___2 + 1);
  }
  if ((int const   )(*ptr___0) != 32) {
    if ((int const   )(*ptr___0) != 45) {
      goto out;
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  ptr___0 ++;
  retval = ptr___0;
  out: 
  return (retval);
}
}
__inline static tBoolean ftp_setup_dconn(tResource *resource , tResourceError *error ) 
{ char const   *ptr___0 ;
  char const   *tmp ;
  char const   *ptr2 ;
  char const   *path ;
  char ch ;
  tConnection *conn ;
  tBoolean is_epsv ;
  int tmp___0 ;
  tBoolean is_connected ;
  tSockaddr addr ;
  size_t addrlen ;
  int data_fd ;
  int err ;
  int address_family ;
  char const   *tmp___3 ;
  tSockaddrEntry const   *sockaddr_entry ;
  char dc ;
  char const   *tmp___4 ;
  int _portnumber ;
  register unsigned short __v ;
  register unsigned short __x ;
  int tmp___5 ;
  int a ;
  int b ;
  int c ;
  int d ;
  int p ;
  int q ;
  unsigned int hostlong ;
  unsigned short hostshort ;
  char format[30] ;
  int tmp___6 ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_136 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp___7 ;
  register unsigned int __v___0 ;
  register unsigned int __x___0 ;
  int tmp___8 ;
  register unsigned short __v___1 ;
  register unsigned short __x___1 ;
  int tmp___9 ;
  int *tmp___10 ;
  int *tmp___11 ;

  {
  tmp = ftp_prepare_snippet((tResource const   *)resource);
  ptr___0 = tmp;
  if ((int )((tFtpRpsd *)resource->rpsd)->flags & 8) {
    tmp___0 = 1;
  } else {
    tmp___0 = 0;
  }
  is_epsv = (tBoolean )tmp___0;
  if ((unsigned int )ptr___0 == (unsigned int )((void *)0)) {
    bad_ftp: 
    (*error) = (unsigned char)14;
    failed: 
    return ((unsigned char)0);
  }
  ptr2 = strchr(ptr___0, '(');
  if ((unsigned int )ptr2 != (unsigned int )((void *)0)) {
    ptr2 ++;
    if ((int const   )(*ptr2) != 0) {
      if (is_epsv) {
        goto _L___0;
      } else {
        if ((int const   )(*ptr2) >= 48) {
          if ((int const   )(*ptr2) <= 57) {
            _L___0: /* CIL Label */ 
            ptr___0 = ptr2;
            goto snipfin;
          } else {
            goto _L___1;
          }
        } else {
          _L___1: /* CIL Label */ 
          goto _L;
        }
      }
    } else {
      _L: /* CIL Label */ ;
    }
  }
  if (is_epsv) {
    goto bad_ftp;
  }
  while (1) {
    tmp___3 = ptr___0;
    ptr___0 ++;
    ch = (char )(*tmp___3);
    if (! ((int )ch != 0)) {
      break;
    }
    if ((int )ch >= 48) {
      if ((int )ch <= 57) {
        ptr___0 --;
        goto snipfin;
      } else {
        goto _L___2;
      }
    } else {
      _L___2: /* CIL Label */ ;
    }
  }
  goto bad_ftp;
  snipfin: 
  if (is_epsv) {
    tmp___4 = ptr___0;
    ptr___0 ++;
    dc = (char )(*tmp___4);
    if ((int const   )(*ptr___0) != (int const   )dc) {
      goto _L___3;
    } else {
      if ((int const   )(*(ptr___0 + 1)) != (int const   )dc) {
        _L___3: /* CIL Label */ 
        goto bad_ftp;
      }
    }
    ptr___0 += 2;
    if ((int const   )(*ptr___0) >= 48) {
      if (! ((int const   )(*ptr___0) <= 57)) {
        goto _L___4;
      }
    } else {
      _L___4: /* CIL Label */ 
      goto bad_ftp;
    }
    my_atoi(ptr___0, & _portnumber, & ptr___0, 99999);
    if (_portnumber < 0) {
      goto _L___6;
    } else {
      if (_portnumber > 65535) {
        _L___6: /* CIL Label */ 
        goto _L___5;
      } else {
        if ((int const   )(*ptr___0) != (int const   )dc) {
          _L___5: /* CIL Label */ 
          goto bad_ftp;
        }
      }
    }
    sockaddr_entry = conn2sockaddr((tConnection const   *)resource->cconn);
    if ((unsigned int )sockaddr_entry == (unsigned int )((void *)0)) {
      (*error) = (unsigned char)10;
      goto failed;
    }
    addr = sockaddr_entry->addr;
    address_family = sockaddr_entry->address_family;
    __x = (unsigned short )_portnumber;
    tmp___5 = __builtin_constant_p(__x);
    if (tmp___5) {
      __v = (unsigned short )((((int )__x >> 8) & 255) | (((int )__x & 255) << 8));
    } else {
      __asm__  ("rorw $8, %w0": "=r" (__v): "0" (__x): "cc");
    }
    set_portnumber(& addr, address_family, __v);
    addrlen = sockaddr_entry->addrlen;
  } else {
    strcpy((char * __restrict  )(format), (char const   * __restrict  )"%d,%d,%d,%d,%d,%d");
    tmp___6 = sscanf((char const   * __restrict  )ptr___0, (char const   * __restrict  )(format),
                     & a, & b, & c, & d, & p, & q);
    if (tmp___6 != 6) {
      goto bad_ftp;
    }
    if (a < 0) {
      goto _L___17;
    } else {
      if (a > 255) {
        _L___17: /* CIL Label */ 
        goto _L___16;
      } else {
        if (b < 0) {
          _L___16: /* CIL Label */ 
          goto _L___15;
        } else {
          if (b > 255) {
            _L___15: /* CIL Label */ 
            goto _L___14;
          } else {
            if (c < 0) {
              _L___14: /* CIL Label */ 
              goto _L___13;
            } else {
              if (c > 255) {
                _L___13: /* CIL Label */ 
                goto _L___12;
              } else {
                if (d < 0) {
                  _L___12: /* CIL Label */ 
                  goto _L___11;
                } else {
                  if (d > 255) {
                    _L___11: /* CIL Label */ 
                    goto _L___10;
                  } else {
                    if (p < 0) {
                      _L___10: /* CIL Label */ 
                      goto _L___9;
                    } else {
                      if (p > 255) {
                        _L___9: /* CIL Label */ 
                        goto _L___8;
                      } else {
                        if (q < 0) {
                          _L___8: /* CIL Label */ 
                          goto _L___7;
                        } else {
                          if (q > 255) {
                            _L___7: /* CIL Label */ 
                            goto bad_ftp;
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    hostlong = (unsigned int )((((a << 24) | (b << 16)) | (c << 8)) | d);
    hostshort = (unsigned short )((p << 8) | q);
    tmp___7 = __builtin_constant_p(sizeof(addr));
    if (tmp___7) {
      if (sizeof(addr) <= 16U) {
        if (sizeof(addr) == 1U) {
          __s___1 = (void *)(& addr);
          (*((__uint8_t *)__s___1)) = (unsigned char)0;
        } else {
          __s___0 = (void *)(& addr);
          __u = (union __anonunion___u_136 *)__s___0;
          __c = (unsigned char)0;
          switch ((int )sizeof(addr)) {
          case 15: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_136 *)((void *)__u + 4);
          case 11: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_136 *)((void *)__u + 4);
          case 7: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_136 *)((void *)__u + 4);
          case 3: 
          __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
          __u = (union __anonunion___u_136 *)((void *)__u + 2);
          __u->__uc = __c;
          break;
          case 14: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_136 *)((void *)__u + 4);
          case 10: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_136 *)((void *)__u + 4);
          case 6: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_136 *)((void *)__u + 4);
          case 2: 
          __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
          break;
          case 13: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_136 *)((void *)__u + 4);
          case 9: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_136 *)((void *)__u + 4);
          case 5: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_136 *)((void *)__u + 4);
          case 1: 
          __u->__uc = __c;
          break;
          case 16: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_136 *)((void *)__u + 4);
          case 12: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_136 *)((void *)__u + 4);
          case 8: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          __u = (union __anonunion___u_136 *)((void *)__u + 4);
          case 4: 
          __u->__ui = (unsigned int )((int )__c * 16843009);
          case 0: ;
          break;
          }
        }
      } else {
        goto _L___18;
      }
    } else {
      _L___18: /* CIL Label */ 
      __s = (void *)(& addr);
      __builtin_memset(__s, '\000', (int )sizeof(addr));
    }
    address_family = 2;
    ((struct sockaddr_in *)(& addr))->sin_family = (unsigned short )address_family;
    __x___0 = hostlong;
    tmp___8 = __builtin_constant_p(__x___0);
    if (tmp___8) {
      __v___0 = ((((__x___0 & 4278190080U) >> 24) | ((__x___0 & 16711680U) >> 8)) |
                 ((__x___0 & 65280U) << 8)) | ((__x___0 & 255U) << 24);
    } else {
      __asm__  ("rorw $8, %w0;"
                "rorl $16, %0;"
                "rorw $8, %w0": "=r" (__v___0): "0" (__x___0): "cc");
    }
    ((struct sockaddr_in *)(& addr))->sin_addr.s_addr = __v___0;
    __x___1 = hostshort;
    tmp___9 = __builtin_constant_p(__x___1);
    if (tmp___9) {
      __v___1 = (unsigned short )((((int )__x___1 >> 8) & 255) | (((int )__x___1 &
                                                                   255) << 8));
    } else {
      __asm__  ("rorw $8, %w0": "=r" (__v___1): "0" (__x___1): "cc");
    }
    set_portnumber(& addr, 2, __v___1);
    addrlen = sizeof(struct sockaddr_in );
  }
  data_fd = create_socket(address_family);
  if (data_fd < 0) {
    if (data_fd == -2) {
      (*error) = (unsigned char)26;
    } else {
      (*error) = (unsigned char)2;
    }
    goto failed;
  }
  err = my_do_connect(data_fd, (tSockaddr const   *)(& addr), addrlen);
  if (err == 0) {
    is_connected = (unsigned char)1;
  } else {
    tmp___11 = __errno_location();
    if ((*tmp___11) == 115) {
      is_connected = (unsigned char)0;
    } else {
      tmp___10 = __errno_location();
      (*error) = conn_err2error((*tmp___10));
      my_close(data_fd);
      goto failed;
    }
  }
  path = (char const   *)(resource->uri_data)->path;
  if ((unsigned int )path != (unsigned int )((void *)0)) {
    (resource->cantent)->kind = filesuffix2rck(path);
  }
  if ((unsigned int )resource->dconn != (unsigned int )((void *)0)) {
    conn_remove(& resource->dconn);
  }
  resource->dconn = conn_create(data_fd, & ftp_data_callback, (void *)resource, (unsigned char)1,
                                (tHostPortProtInfo const   *)((void *)0), resource->protocol);
  conn = resource->dconn;
  if (is_connected) {
    conn->flags = (unsigned short )((int )conn->flags | 1);
  }
  while (1) {
    while (1) {
      break;
    }
    ((*(conn->callback)))(conn, (unsigned char)0);
    break;
  }
  return ((unsigned char)1);
}
}
__inline static tBoolean resource_ask_username(tResource *resource , void (*callback)(struct tUserQuery * ) ,
                                               unsigned char flags ) 
{ tBoolean tmp ;

  {
  tmp = resource_ask_anything(resource, callback, (unsigned short)32, flags);
  return (tmp);
}
}
__inline static tBoolean resource_ask_password(tResource *resource , void (*callback)(struct tUserQuery * ) ,
                                               unsigned char flags ) 
{ tBoolean tmp ;

  {
  tmp = resource_ask_anything(resource, callback, (unsigned short)64, flags);
  return (tmp);
}
}
static void ftp_user_callback(tUserQuery *query ) ;
static void ftp_control_do_start_command(tResource *resource , char const   *str ) 
{ tConnection *conn ;

  {
  conn = resource->cconn;
  if (resource->flags & 2048U) {
    custom_conn_print(resource, str, (unsigned char)2);
  }
  conn_set_writestr(conn, str);
  conn_set_readwrite(conn, (unsigned char)2);
  return;
}
}
static unsigned char ftp_control_start_command(tResource *resource , tResourceError *_ftp_error ) 
{ unsigned char retval ;
  tSockaddrPortProtInfo const   *sppi ;
  char const   *path ;
  char const   *temp ;
  char *spfbuf ;
  size_t pathlen ;
  tBoolean tmp ;
  tBoolean tmp___0 ;
  int tmp___46 ;
  size_t __s1_len___0 ;
  size_t __s2_len___0 ;
  int tmp___68 ;
  size_t tmp___69 ;
  register int __result___85 ;
  unsigned char const   *__s2___14 ;
  register int __result___86 ;
  register int __result___93 ;
  unsigned char const   *__s1___30 ;
  register int __result___94 ;
  int tmp___84 ;
  int tmp___85 ;
  int tmp___86 ;
  int tmp___87 ;
  int tmp___88 ;
  size_t tmp___89 ;
  size_t tmp___90 ;
  char const   *tmp___91 ;
  char const   *tmp___92 ;

  {
  switch ((int )resource->handshake) {
  case 2: 
  temp = (char const   *)(resource->uri_data)->username;
  if ((unsigned int )temp != (unsigned int )((void *)0)) {
    my_spf((char *)((void *)0), 0U, & spfbuf, strNetcmdUser, temp);
  } else {
    tmp = resource_ask_username(resource, & ftp_user_callback, (unsigned char)0);
    if (tmp) {
      susp: 
      while (1) {
        retval = (unsigned char)1;
        goto out;
        break;
      }
    } else {
      login_failure: 
      (*_ftp_error) = (unsigned char)15;
      failed: 
      while (1) {
        retval = (unsigned char)0;
        goto out;
        break;
      }
    }
  }
  break;
  case 3: 
  temp = (char const   *)(resource->uri_data)->password;
  if ((unsigned int )temp != (unsigned int )((void *)0)) {
    my_spf((char *)((void *)0), 0U, & spfbuf, strNetcmdPass, temp);
  } else {
    tmp___0 = resource_ask_password(resource, & ftp_user_callback, (unsigned char)0);
    if (tmp___0) {
      goto susp;
    } else {
      goto login_failure;
    }
  }
  break;
  case 5: 
  sppi = conn2sppi((tConnection const   *)resource->cconn, (unsigned char)0);
  if ((unsigned int )sppi == (unsigned int )((void *)0)) {
    goto _L;
  } else {
    if (! ((int )sppi->sppif & 2)) {
      _L: /* CIL Label */ 
      ((tFtpRpsd *)resource->rpsd)->flags = (unsigned char )((int )((tFtpRpsd *)resource->rpsd)->flags |
                                                             8);
      spfbuf = my_strdup("EPSV\r\n");
    } else {
      spfbuf = my_strdup("PASV\r\n");
    }
  }
  break;
  case 6: 
  path = (char const   *)(resource->uri_data)->path;
  pathlen = strlen(path);
  if (pathlen > 0U) {
    if ((int const   )(*(path + (pathlen - 1U))) == 47) {
      ((tFtpRpsd *)resource->rpsd)->flags = (unsigned char )((int )((tFtpRpsd *)resource->rpsd)->flags |
                                                             4);
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  tmp___88 = __builtin_constant_p(path);
  if (tmp___88) {
    tmp___89 = strlen(path);
    if (tmp___89 < 3U) {
      goto _L___337;
    } else {
      goto _L___338;
    }
  } else {
    _L___338: /* CIL Label */ 
    tmp___90 = strlen("/~/");
    if (tmp___90 < 3U) {
      _L___337: /* CIL Label */ 
      tmp___86 = __builtin_constant_p(path);
      if (tmp___86) {
        __s1_len___0 = strlen(path);
        __s2_len___0 = strlen("/~/");
        if (! ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
               1U)) {
          goto _L___334;
        } else {
          if (__s1_len___0 >= 4U) {
            _L___334: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)("/~/" + 1)) - (unsigned int )((void const   *)"/~/") ==
                   1U)) {
              goto _L___333;
            } else {
              if (__s2_len___0 >= 4U) {
                _L___333: /* CIL Label */ 
                tmp___87 = 1;
              } else {
                goto _L___332;
              }
            }
          } else {
            _L___332: /* CIL Label */ 
            tmp___87 = 0;
          }
        }
        if (tmp___87) {
          if (__s1_len___0 < __s2_len___0) {
            tmp___69 = __s1_len___0;
          } else {
            tmp___69 = __s2_len___0;
          }
          tmp___68 = memcmp((void const   *)path, (void const   *)"/~/", tmp___69 +
                                                                         1U);
        } else {
          goto _L___336;
        }
      } else {
        _L___336: /* CIL Label */ 
        tmp___85 = __builtin_constant_p(path);
        if (tmp___85) {
          if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
              1U) {
            __s1_len___0 = strlen(path);
            if (__s1_len___0 < 4U) {
              if ((unsigned int )((void const   *)("/~/" + 1)) - (unsigned int )((void const   *)"/~/") ==
                  1U) {
                __result___85 = (int )((int const   )(*((unsigned char const   *)path +
                                                        0)) - (int const   )(*((unsigned char const   *)"/~/" +
                                                                               0)));
                if (__s1_len___0 > 0U) {
                  if (__result___85 == 0) {
                    __result___85 = (int )((int const   )(*((unsigned char const   *)path +
                                                            1)) - (int const   )(*((unsigned char const   *)"/~/" +
                                                                                   1)));
                    if (__s1_len___0 > 1U) {
                      if (__result___85 == 0) {
                        __result___85 = (int )((int const   )(*((unsigned char const   *)path +
                                                                2)) - (int const   )(*((unsigned char const   *)"/~/" +
                                                                                       2)));
                        if (__s1_len___0 > 2U) {
                          if (__result___85 == 0) {
                            __result___85 = (int )((int const   )(*((unsigned char const   *)path +
                                                                    3)) - (int const   )(*((unsigned char const   *)"/~/" +
                                                                                           3)));
                          } else {
                            goto _L___297;
                          }
                        } else {
                          _L___297: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___298;
                      }
                    } else {
                      _L___298: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___299;
                  }
                } else {
                  _L___299: /* CIL Label */ ;
                }
                tmp___68 = __result___85;
              } else {
                __s2___14 = (unsigned char const   *)"/~/";
                __result___86 = (int )((int const   )(*((unsigned char const   *)path +
                                                        0)) - (int const   )(*(__s2___14 +
                                                                               0)));
                if (__s1_len___0 > 0U) {
                  if (__result___86 == 0) {
                    __result___86 = (int )((int const   )(*((unsigned char const   *)path +
                                                            1)) - (int const   )(*(__s2___14 +
                                                                                   1)));
                    if (__s1_len___0 > 1U) {
                      if (__result___86 == 0) {
                        __result___86 = (int )((int const   )(*((unsigned char const   *)path +
                                                                2)) - (int const   )(*(__s2___14 +
                                                                                       2)));
                        if (__s1_len___0 > 2U) {
                          if (__result___86 == 0) {
                            __result___86 = (int )((int const   )(*((unsigned char const   *)path +
                                                                    3)) - (int const   )(*(__s2___14 +
                                                                                           3)));
                          } else {
                            goto _L___300;
                          }
                        } else {
                          _L___300: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___301;
                      }
                    } else {
                      _L___301: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___302;
                  }
                } else {
                  _L___302: /* CIL Label */ ;
                }
                tmp___68 = __result___86;
              }
            } else {
              goto _L___331;
            }
          } else {
            goto _L___331;
          }
        } else {
          _L___331: /* CIL Label */ 
          if ((unsigned int )((void const   *)("/~/" + 1)) - (unsigned int )((void const   *)"/~/") ==
              1U) {
            __s2_len___0 = strlen("/~/");
            if (__s2_len___0 < 4U) {
              tmp___84 = __builtin_constant_p(path);
              if (tmp___84) {
                if ((unsigned int )((void const   *)(path + 1)) - (unsigned int )((void const   *)path) ==
                    1U) {
                  __result___93 = (int )((int const   )(*((unsigned char const   *)path +
                                                          0)) - (int const   )(*((unsigned char const   *)"/~/" +
                                                                                 0)));
                  if (__s2_len___0 > 0U) {
                    if (__result___93 == 0) {
                      __result___93 = (int )((int const   )(*((unsigned char const   *)path +
                                                              1)) - (int const   )(*((unsigned char const   *)"/~/" +
                                                                                     1)));
                      if (__s2_len___0 > 1U) {
                        if (__result___93 == 0) {
                          __result___93 = (int )((int const   )(*((unsigned char const   *)path +
                                                                  2)) - (int const   )(*((unsigned char const   *)"/~/" +
                                                                                         2)));
                          if (__s2_len___0 > 2U) {
                            if (__result___93 == 0) {
                              __result___93 = (int )((int const   )(*((unsigned char const   *)path +
                                                                      3)) - (int const   )(*((unsigned char const   *)"/~/" +
                                                                                             3)));
                            } else {
                              goto _L___322;
                            }
                          } else {
                            _L___322: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___323;
                        }
                      } else {
                        _L___323: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___324;
                    }
                  } else {
                    _L___324: /* CIL Label */ ;
                  }
                  tmp___68 = __result___93;
                } else {
                  goto _L___328;
                }
              } else {
                _L___328: /* CIL Label */ 
                __s1___30 = (unsigned char const   *)path;
                __result___94 = (int )((int const   )(*(__s1___30 + 0)) - (int const   )(*((unsigned char const   *)"/~/" +
                                                                                           0)));
                if (__s2_len___0 > 0U) {
                  if (__result___94 == 0) {
                    __result___94 = (int )((int const   )(*(__s1___30 + 1)) - (int const   )(*((unsigned char const   *)"/~/" +
                                                                                               1)));
                    if (__s2_len___0 > 1U) {
                      if (__result___94 == 0) {
                        __result___94 = (int )((int const   )(*(__s1___30 + 2)) -
                                               (int const   )(*((unsigned char const   *)"/~/" +
                                                                2)));
                        if (__s2_len___0 > 2U) {
                          if (__result___94 == 0) {
                            __result___94 = (int )((int const   )(*(__s1___30 + 3)) -
                                                   (int const   )(*((unsigned char const   *)"/~/" +
                                                                    3)));
                          } else {
                            goto _L___325;
                          }
                        } else {
                          _L___325: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___326;
                      }
                    } else {
                      _L___326: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___327;
                  }
                } else {
                  _L___327: /* CIL Label */ ;
                }
                tmp___68 = __result___94;
              }
            } else {
              goto _L___329;
            }
          } else {
            _L___329: /* CIL Label */ 
            tmp___68 = strcmp(path, "/~/");
          }
        }
      }
      tmp___46 = tmp___68;
    } else {
      tmp___46 = strncmp(path, "/~/", 3U);
    }
  }
  if (! tmp___46) {
    path += 3;
  }
  if ((int const   )(*path) != 0) {
    tmp___91 = strSpacedDash + 2;
  } else {
    tmp___91 = strEmpty;
  }
  if ((int )((tFtpRpsd *)resource->rpsd)->flags & 4) {
    tmp___92 = strList;
  } else {
    tmp___92 = strRetr;
  }
  my_spf((char *)((void *)0), 0U, & spfbuf, "%s%s%s\r\n", tmp___92, tmp___91, path);
  break;
  default: 
  (*_ftp_error) = (unsigned char)10;
  goto failed;
  break;
  }
  ftp_control_do_start_command(resource, (char const   *)spfbuf);
  while (1) {
    retval = (unsigned char)2;
    goto out;
    break;
  }
  out: 
  return (retval);
}
}
static struct __anonstruct_ftp_handshake_data_138 ftp_handshake_data  ;
__inline static unsigned char ftp_control_handshake(tResource *resource ) 
{ unsigned char retval ;
  tServerStatusCode status ;
  tResourceCommandHandshake next ;
  tConnection *conn ;
  char const   *ptr___0 ;
  char const   *tmp ;
  tBoolean tmp___0 ;
  tUriData const   *u ;
  tBoolean tmp___1 ;
  tBoolean tmp___2 ;
  tSockaddrPortProtInfo *sppi ;
  tSockaddrPortProtInfo *tmp___3 ;

  {
  status = resource->server_status_code;
  next = (tResourceCommandHandshake )0;
  conn = resource->cconn;
  switch ((int )resource->handshake) {
  case 1: ;
  if ((int )status == 220) {
    tmp = ftp_prepare_snippet((tResource const   *)resource);
    ptr___0 = tmp;
    if ((unsigned int )ptr___0 != (unsigned int )((void *)0)) {
      conn_set_software_id(conn, ptr___0);
    }
    conn_set_dissolver(conn, & quitcmd_dissolver);
    next = (unsigned char)2;
  }
  break;
  case 2: ;
  if ((int )status == 230) {
    prepare_epsv_pasv: 
    next = (unsigned char)5;
  } else {
    if ((int )status == 331) {
      next = (unsigned char)3;
    } else {
      if ((int )status == 332) {
        goto _L___0;
      } else {
        if ((int )status == 532) {
          _L___0: /* CIL Label */ 
          next = (unsigned char)3;
        } else {
          if ((int )status == 530) {
            tmp___0 = resource_ask_username(resource, & ftp_user_callback, (unsigned char)1);
            if (tmp___0) {
              drp_susp: 
              while (1) {
                if ((unsigned int )(resource->uri_data)->password != (unsigned int )((void *)0)) {
                  memory_deallocate_ll((void const   *)(resource->uri_data)->password);
                  (resource->uri_data)->password = (char *)((void *)0);
                }
                break;
              }
              while (1) {
                retval = (unsigned char)2;
                goto out;
                break;
              }
            } else {
              goto _L;
            }
          } else {
            _L: /* CIL Label */ ;
          }
          login_failed: 
          ftp_handshake_data.re = (unsigned char)15;
          failed: 
          while (1) {
            retval = (unsigned char)0;
            goto out;
            break;
          }
        }
      }
    }
  }
  break;
  case 3: ;
  if ((int )status == 230) {
    u = (tUriData const   *)resource->uri_data;
    hppi_login_set(resource->textual_hppi, (char const   *)u->username, (char const   *)u->password);
    goto prepare_epsv_pasv;
  } else {
    if ((int )status == 202) {
      goto prepare_epsv_pasv;
    } else {
      if ((int )status == 332) {
        goto _L___2;
      } else {
        if ((int )status == 532) {
          _L___2: /* CIL Label */ 
          goto prepare_epsv_pasv;
        } else {
          if ((int )status == 530) {
            tmp___1 = resource_ask_password(resource, & ftp_user_callback, (unsigned char)1);
            if (tmp___1) {
              goto drp_susp;
            } else {
              goto _L___1;
            }
          } else {
            _L___1: /* CIL Label */ ;
          }
          goto login_failed;
        }
      }
    }
  }
  break;
  case 5: ;
  if ((int )((tFtpRpsd *)resource->rpsd)->flags & 8) {
    if ((int )status == 229) {
      epsv_pasv_worked: 
      tmp___2 = ftp_setup_dconn(resource, & ftp_handshake_data.re);
      if (! tmp___2) {
        goto failed;
      }
      next = (unsigned char)6;
    } else {
      tmp___3 = conn2sppi((tConnection const   *)conn, (unsigned char)1);
      sppi = tmp___3;
      if ((unsigned int )sppi != (unsigned int )((void *)0)) {
        sppi->sppif = (unsigned char )((int )sppi->sppif | 2);
      }
      ((tFtpRpsd *)resource->rpsd)->flags = (unsigned char )((int )((tFtpRpsd *)resource->rpsd)->flags &
                                                             -9);
      goto prepare_epsv_pasv;
    }
  } else {
    if ((int )status == 227) {
      goto epsv_pasv_worked;
    }
  }
  break;
  case 6: ;
  if ((int )status == 226) {
    while (1) {
      retval = (unsigned char)1;
      goto out;
      break;
    }
  } else {
    if ((int )status / 10 == 55) {
      if (! (resource->flags & 2048U)) {
        if (! ((int )((tFtpRpsd *)resource->rpsd)->flags & 4)) {
          if ((unsigned int )resource->dconn != (unsigned int )((void *)0)) {
            conn_remove(& resource->dconn);
          }
          ((tFtpRpsd *)resource->rpsd)->flags = (unsigned char )((int )((tFtpRpsd *)resource->rpsd)->flags |
                                                                 4);
          while (1) {
            break;
          }
          goto prepare_epsv_pasv;
        }
      } else {
        goto _L___3;
      }
    } else {
      _L___3: /* CIL Label */ ;
    }
  }
  break;
  default: 
  ftp_handshake_data.re = (unsigned char)10;
  goto failed;
  break;
  }
  ftp_handshake_data.next_rch = next;
  while (1) {
    retval = (unsigned char)3;
    goto out;
    break;
  }
  out: 
  return (retval);
}
}
__inline static unsigned char ftp_control_handshake_proceed(tResource *resource ) 
{ unsigned char retval ;
  unsigned char handshake_result ;
  tResourceCommandHandshake next ;
  tResourceError re ;
  tBoolean is_cc ;
  int tmp ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_139___0 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
  retval = (unsigned char)1;
  if (resource->flags & 2048U) {
    tmp = 1;
  } else {
    tmp = 0;
  }
  is_cc = (tBoolean )tmp;
  if (is_cc) {
    if ((int )resource->handshake == 11) {
      if (resource->flags & 73728U) {
        resource->flags = resource->flags | 32768U;
        if ((int )resource->server_status_code != 226) {
          if ((unsigned int )resource->dconn != (unsigned int )((void *)0)) {
            conn_remove(& resource->dconn);
            resource->flags = resource->flags | 16384U;
          } else {
            goto _L;
          }
        } else {
          _L: /* CIL Label */ 
          if ((unsigned int )resource->dconn == (unsigned int )((void *)0)) {
            resource->flags = resource->flags | 16384U;
          }
        }
        if (! ((resource->flags & 49152U) == 49152U)) {
          goto out;
        }
      }
      do_unbusify: 
      custom_conn_unbusify(resource);
      goto out;
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ ;
  }
  tmp___0 = __builtin_constant_p(sizeof(ftp_handshake_data));
  if (tmp___0) {
    if (sizeof(ftp_handshake_data) <= 16U) {
      if (sizeof(ftp_handshake_data) == 1U) {
        __s___1 = (void *)(& ftp_handshake_data);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(& ftp_handshake_data);
        __u = (union __anonunion___u_139___0 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(ftp_handshake_data)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139___0 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139___0 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139___0 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_139___0 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139___0 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139___0 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139___0 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139___0 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139___0 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139___0 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139___0 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139___0 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_139___0 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ 
    __s = (void *)(& ftp_handshake_data);
    __builtin_memset(__s, '\000', (int )sizeof(ftp_handshake_data));
  }
  handshake_result = ftp_control_handshake(resource);
  if (is_cc) {
    if ((int )handshake_result == 0) {
      resource->flags = resource->flags | 4096U;
      custom_conn_tell_error(resource, ftp_handshake_data.re);
    } else {
      if ((int )handshake_result == 3) {
        if ((int )resource->handshake == (int )ftp_handshake_data.next_rch) {
          tmp___1 = (int )ftp_control_start_command(resource, & re);
          switch (tmp___1) {
          case 0: ;
          goto failed;
          break;
          case 1: 
          re = (unsigned char)10;
          goto failed;
          break;
          case 2: ;
          break;
          }
          goto out;
        }
      } else {
        if ((int )handshake_result == 2) {
          goto out;
        }
      }
    }
    goto do_unbusify;
  }
  switch ((int )handshake_result) {
  case 0: 
  re = ftp_handshake_data.re;
  failed: 
  resource_set_error(resource, re);
  retval = (unsigned char)0;
  break;
  case 1: ;
  case 2: ;
  break;
  case 3: 
  next = ftp_handshake_data.next_rch;
  if ((int )next == 0) {
    re = (unsigned char)14;
    goto failed;
  }
  resource->handshake = next;
  tmp___2 = (int )ftp_control_start_command(resource, & re);
  switch (tmp___2) {
  case 0: ;
  goto failed;
  break;
  case 1: ;
  break;
  case 2: 
  push_to_main_res(resource, (unsigned char)1);
  break;
  }
  break;
  }
  out: 
  return (retval);
}
}
static unsigned char ftp_control_read(tResource *resource ) 
{ char buf___2[4097] ;
  char *ptr___0 ;
  tTlHeaderState ths ;
  tResourceCommandHandshake handshake ;
  tResourceError ftp_error ;
  tConnection *conn ;
  tServerStatusCode status ;
  int err ;
  int count___2 ;
  tFtpRpsd *rpsd ;
  char const   *ptrr ;
  char const   *ptrn ;
  size_t len ;
  size_t rrslen ;
  size_t tmp___3 ;
  char *s ;
  char *tmp___4 ;
  char ch ;
  char *tmp___5 ;
  int tmp___6 ;

  {
  ths = resource->tlheaderstate;
  ftp_error = (tResourceError )9;
  conn = resource->cconn;
  err = my_read(conn->fd, (void *)(buf___2), 4096U);
  if (err <= 0) {
    failed: 
    resource_set_error(resource, ftp_error);
    resource->tlheaderstate = ths;
    return ((unsigned char)0);
  }
  buf___2[err] = (char )'\000';
  if (resource->flags & 2048U) {
    custom_conn_print(resource, (char const   *)(buf___2), (unsigned char)3);
  }
  ptr___0 = buf___2;
  count___2 = err;
  handshake = resource->handshake;
  if ((int )handshake == 1) {
    goto _L___1;
  } else {
    if ((int )handshake == 5) {
      _L___1: /* CIL Label */ 
      rpsd = (tFtpRpsd *)resource->rpsd;
      if ((int )ths == 0) {
        while (1) {
          if ((unsigned int )rpsd->reply_snippet != (unsigned int )((void *)0)) {
            memory_deallocate_ll((void const   *)rpsd->reply_snippet);
            rpsd->reply_snippet = (char const   *)((void *)0);
          }
          break;
        }
        rpsd->flags = (unsigned char )((int )rpsd->flags & -3);
      } else {
        if ((int )rpsd->flags & 2) {
          goto skipsnip;
        }
      }
      ptrr = strchr((char const   *)(buf___2), '\r');
      ptrn = strchr((char const   *)(buf___2), '\n');
      if ((unsigned int )ptrr == (unsigned int )((void *)0)) {
        goto _L;
      } else {
        if ((unsigned int )ptrn != (unsigned int )((void *)0)) {
          if ((unsigned int )ptrr > (unsigned int )ptrn) {
            _L: /* CIL Label */ 
            ptrr = ptrn;
          } else {
            goto _L___0;
          }
        } else {
          _L___0: /* CIL Label */ ;
        }
      }
      if ((unsigned int )ptrr == (unsigned int )((void *)0)) {
        len = strlen((char const   *)(buf___2));
      } else {
        len = (unsigned int )(ptrr - (char const   *)(buf___2));
        rpsd->flags = (unsigned char )((int )rpsd->flags | 2);
      }
      if (len <= 0U) {
        goto skipsnip;
      }
      if ((unsigned int )rpsd->reply_snippet == (unsigned int )((void *)0)) {
        rpsd->reply_snippet = my_strndup((char const   *)(buf___2), len);
      } else {
        tmp___3 = strlen(rpsd->reply_snippet);
        rrslen = tmp___3;
        tmp___4 = (char *)__memory_allocate_ll((rrslen + len) + 1U);
        s = tmp___4;
        memcpy((void * __restrict  )s, (void const   * __restrict  )rpsd->reply_snippet,
               rrslen);
        memcpy((void * __restrict  )(s + rrslen), (void const   * __restrict  )(buf___2),
               len);
        (*(s + (rrslen + len))) = (char )'\000';
        memory_deallocate_ll((void const   *)rpsd->reply_snippet);
        rpsd->reply_snippet = (char const   *)s;
      }
      skipsnip: ;
    }
  }
  while (1) {
    tmp___6 = count___2;
    count___2 --;
    if (! (tmp___6 > 0)) {
      break;
    }
    tmp___5 = ptr___0;
    ptr___0 ++;
    ch = (*tmp___5);
    switch ((int )ths) {
    case 0: 
    resource->server_status_code = (unsigned short)0;
    case 1: ;
    case 2: ;
    if ((int )ch >= 48) {
      if (! ((int )ch <= 57)) {
        goto bad_ftp;
      }
    } else {
      bad_ftp: 
      ftp_error = (unsigned char)14;
      goto failed;
    }
    status = resource->server_status_code;
    status = (unsigned short )(10 * (int )status + (int )((unsigned short )((int )ch -
                                                                            48)));
    resource->server_status_code = status;
    ths = (tTlHeaderState )((int )ths + 1);
    if ((int )ths == 3) {
      if ((int )status < 100) {
        goto _L___4;
      } else {
        if ((int )status > 699) {
          _L___4: /* CIL Label */ 
          goto bad_ftp;
        } else {
          goto _L___3;
        }
      }
    } else {
      _L___3: /* CIL Label */ ;
    }
    break;
    case 3: ;
    if ((int )ch == 32) {
      ((tFtpRpsd *)resource->rpsd)->flags = (unsigned char )((int )((tFtpRpsd *)resource->rpsd)->flags |
                                                             1);
    } else {
      if ((int )ch == 45) {
        ((tFtpRpsd *)resource->rpsd)->flags = (unsigned char )((int )((tFtpRpsd *)resource->rpsd)->flags &
                                                               -2);
      } else {
        goto bad_ftp;
      }
    }
    ths = (tTlHeaderState )((int )ths + 1);
    break;
    case 4: ;
    if ((int )ch == 13) {
      ths = (tTlHeaderState )((int )ths + 1);
    }
    break;
    case 5: ;
    if ((int )ch == 10) {
      ths = (tTlHeaderState )((int )ths + 1);
      if ((int )((tFtpRpsd *)resource->rpsd)->flags & 1) {
        ths = (signed char)0;
        resource->tlheaderstate = ths;
        status = resource->server_status_code;
        if ((int )status / 100 == 1) {
          continue;
        }
        return ((unsigned char)2);
      }
    } else {
      if (! ((int )ch == 13)) {
        ths = (signed char)4;
      }
    }
    break;
    case 6: ;
    case 7: ;
    case 8: ;
    if ((int )ch >= 48) {
      if ((int )ch <= 57) {
        ths = (tTlHeaderState )((int )ths + 1);
      } else {
        goto _L___5;
      }
    } else {
      _L___5: /* CIL Label */ 
      if ((int )ch == 13) {
        ths = (signed char)5;
      } else {
        ths = (signed char)4;
      }
    }
    break;
    default: ;
    if ((int )ch == 32) {
      ((tFtpRpsd *)resource->rpsd)->flags = (unsigned char )((int )((tFtpRpsd *)resource->rpsd)->flags |
                                                             1);
    }
    if ((int )ch == 13) {
      ths = (signed char)5;
    } else {
      ths = (signed char)4;
    }
    break;
    }
  }
  resource->tlheaderstate = ths;
  return ((unsigned char)1);
}
}
static void ftp_user_callback(tUserQuery *query ) 
{ tMissingInformationFlags mif ;
  tResource *resource ;
  tResourceError re ;

  {
  mif = query->mif;
  if ((int )mif & 4) {
    goto out;
  }
  resource = query->resource;
  resource_unsuspend((tResource const   *)resource);
  if ((int )mif & 1) {
    do_bug: 
    resource_set_error(resource, (unsigned char)15);
    do_push: 
    resource_stop(resource);
    push_to_main_res(resource, (unsigned char)0);
    goto out;
  }
  if ((int )mif & 2) {
    goto do_push;
  }
  if ((int )mif & 32) {
    resource->handshake = (unsigned char)2;
  } else {
    if ((int )mif & 64) {
      resource->handshake = (unsigned char)3;
    } else {
      goto do_bug;
    }
  }
  ftp_control_start_command(resource, & re);
  out: 
  resource_ask_finish(query);
  return;
}
}
static void ftp_control_callback(tConnection *conn , tConnCbEventKind ccek ) 
{ tResource *resource ;
  tResourceError ftp_error ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  resource = (tResource *)conn->data;
  switch ((int )ccek) {
  case 0: ;
  if (resource->flags & 2048U) {
    custom_conn_tell_msg(resource);
  }
  if ((int )conn->flags & 1) {
    goto do_setup;
  } else {
    conn_set_readwrite(conn, (unsigned char)2);
    push_to_main_res(resource, (unsigned char)1);
  }
  break;
  case 1: ;
  do_setup: 
  resource->state = (unsigned char)3;
  resource->handshake = (unsigned char)1;
  resource->rpsd = (struct tRpsdGeneric *)memory_allocate_ll(sizeof(tFtpRpsd ));
  (resource->rpsd)->remover = & ftp_rpsd_remove;
  conn_set_readwrite(conn, (unsigned char)1);
  push_to_main_res(resource, (unsigned char)1);
  break;
  case 2: 
  ftp_error = conn_get_failre(conn);
  resource_set_error(resource, ftp_error);
  stopnpush: 
  conn_remove(& resource->cconn);
  if ((unsigned int )resource->dconn != (unsigned int )((void *)0)) {
    conn_remove(& resource->dconn);
  }
  push_to_main_res(resource, (unsigned char)0);
  break;
  case 3: 
  tmp = (int )ftp_control_read(resource);
  switch (tmp) {
  case 0: ;
  goto stopnpush;
  break;
  case 1: ;
  break;
  case 2: 
  tmp___0 = (int )ftp_control_handshake_proceed(resource);
  switch (tmp___0) {
  case 0: ;
  goto stopnpush;
  break;
  case 1: ;
  break;
  }
  break;
  }
  break;
  case 4: 
  tmp___1 = (int )conn_write_writedata(conn);
  switch (tmp___1) {
  case 0: 
  resource_set_error(resource, (unsigned char)9);
  goto stopnpush;
  break;
  case 1: ;
  break;
  case 2: 
  conn_set_readwrite(conn, (unsigned char)1);
  break;
  }
  break;
  default: ;
  while (1) {
    break;
  }
  break;
  }
}
}
static void news_rpsd_remove(tRpsdGeneric *_rpsd ) 
{ tNntpRpsd *rpsd ;

  {
  rpsd = (tNntpRpsd *)_rpsd;
  while (1) {
    if ((unsigned int )rpsd->text != (unsigned int )((void *)0)) {
      memory_deallocate_ll((void const   *)rpsd->text);
    }
    break;
  }
  return;
}
}
__inline static void news_rpsd_prepare(tResource *resource ) 
{ tNntpRpsd *rpsd ;
  void *x ;
  void *tmp ;

  {
  rpsd = (tNntpRpsd *)resource->rpsd;
  if ((unsigned int )rpsd == (unsigned int )((void *)0)) {
    tmp = memory_allocate_ll(sizeof(tNntpRpsd ));
    x = tmp;
    rpsd = (tNntpRpsd *)x;
    resource->rpsd = (struct tRpsdGeneric *)x;
    rpsd->remover = & news_rpsd_remove;
  } else {
    rpsd->used = 0U;
  }
  return;
}
}
static tNewsGroupInformation *news_ngi_create(tCachedHostInformation *hostinfo , char const   *name ) 
{ tNewsGroupInformation *retval ;
  tNewsGroupInformation *tmp ;

  {
  tmp = (tNewsGroupInformation *)memory_allocate_ll(sizeof(tNewsGroupInformation ));
  retval = tmp;
  retval->next = hostinfo->ngi;
  retval->name = my_strdup(name);
  hostinfo->ngi = retval;
  return (retval);
}
}
static tNewsGroupInformation *news_ngi_lookup(tCachedHostInformation *hostinfo , char const   *desired_name ,
                                              tBoolean do_create_if_null ) 
{ tNewsGroupInformation *retval ;
  char const   *name ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___29 ;
  size_t tmp___30 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___45 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;

  {
  retval = hostinfo->ngi;
  while ((unsigned int )retval != (unsigned int )((void *)0)) {
    name = (char const   *)retval->name;
    if ((unsigned int )name != (unsigned int )((void *)0)) {
      tmp___55 = __builtin_constant_p(name);
      if (tmp___55) {
        tmp___56 = __builtin_constant_p(desired_name);
        if (tmp___56) {
          __s1_len = strlen(name);
          __s2_len = strlen(desired_name);
          if (! ((unsigned int )((void const   *)(name + 1)) - (unsigned int )((void const   *)name) ==
                 1U)) {
            goto _L___172;
          } else {
            if (__s1_len >= 4U) {
              _L___172: /* CIL Label */ 
              if (! ((unsigned int )((void const   *)(desired_name + 1)) - (unsigned int )((void const   *)desired_name) ==
                     1U)) {
                goto _L___171;
              } else {
                if (__s2_len >= 4U) {
                  _L___171: /* CIL Label */ 
                  tmp___57 = 1;
                } else {
                  goto _L___170;
                }
              }
            } else {
              _L___170: /* CIL Label */ 
              tmp___57 = 0;
            }
          }
          if (tmp___57) {
            if (__s1_len < __s2_len) {
              tmp___30 = __s1_len;
            } else {
              tmp___30 = __s2_len;
            }
            tmp___29 = memcmp((void const   *)name, (void const   *)desired_name,
                              tmp___30 + 1U);
          } else {
            goto _L___174;
          }
        } else {
          goto _L___174;
        }
      } else {
        _L___174: /* CIL Label */ 
        tmp___54 = __builtin_constant_p(name);
        if (tmp___54) {
          if ((unsigned int )((void const   *)(name + 1)) - (unsigned int )((void const   *)name) ==
              1U) {
            __s1_len = strlen(name);
            if (__s1_len < 4U) {
              tmp___45 = __builtin_constant_p(desired_name);
              if (tmp___45) {
                if ((unsigned int )((void const   *)(desired_name + 1)) - (unsigned int )((void const   *)desired_name) ==
                    1U) {
                  __result___37 = (int )((int const   )(*((unsigned char const   *)name +
                                                          0)) - (int const   )(*((unsigned char const   *)desired_name +
                                                                                 0)));
                  if (__s1_len > 0U) {
                    if (__result___37 == 0) {
                      __result___37 = (int )((int const   )(*((unsigned char const   *)name +
                                                              1)) - (int const   )(*((unsigned char const   *)desired_name +
                                                                                     1)));
                      if (__s1_len > 1U) {
                        if (__result___37 == 0) {
                          __result___37 = (int )((int const   )(*((unsigned char const   *)name +
                                                                  2)) - (int const   )(*((unsigned char const   *)desired_name +
                                                                                         2)));
                          if (__s1_len > 2U) {
                            if (__result___37 == 0) {
                              __result___37 = (int )((int const   )(*((unsigned char const   *)name +
                                                                      3)) - (int const   )(*((unsigned char const   *)desired_name +
                                                                                             3)));
                            } else {
                              goto _L___133;
                            }
                          } else {
                            _L___133: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___134;
                        }
                      } else {
                        _L___134: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___135;
                    }
                  } else {
                    _L___135: /* CIL Label */ ;
                  }
                  tmp___29 = __result___37;
                } else {
                  goto _L___139;
                }
              } else {
                _L___139: /* CIL Label */ 
                __s2___6 = (unsigned char const   *)desired_name;
                __result___38 = (int )((int const   )(*((unsigned char const   *)name +
                                                        0)) - (int const   )(*(__s2___6 +
                                                                               0)));
                if (__s1_len > 0U) {
                  if (__result___38 == 0) {
                    __result___38 = (int )((int const   )(*((unsigned char const   *)name +
                                                            1)) - (int const   )(*(__s2___6 +
                                                                                   1)));
                    if (__s1_len > 1U) {
                      if (__result___38 == 0) {
                        __result___38 = (int )((int const   )(*((unsigned char const   *)name +
                                                                2)) - (int const   )(*(__s2___6 +
                                                                                       2)));
                        if (__s1_len > 2U) {
                          if (__result___38 == 0) {
                            __result___38 = (int )((int const   )(*((unsigned char const   *)name +
                                                                    3)) - (int const   )(*(__s2___6 +
                                                                                           3)));
                          } else {
                            goto _L___136;
                          }
                        } else {
                          _L___136: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___137;
                      }
                    } else {
                      _L___137: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___138;
                  }
                } else {
                  _L___138: /* CIL Label */ ;
                }
                tmp___29 = __result___38;
              }
            } else {
              goto _L___169;
            }
          } else {
            goto _L___169;
          }
        } else {
          _L___169: /* CIL Label */ 
          tmp___53 = __builtin_constant_p(desired_name);
          if (tmp___53) {
            if ((unsigned int )((void const   *)(desired_name + 1)) - (unsigned int )((void const   *)desired_name) ==
                1U) {
              __s2_len = strlen(desired_name);
              if (__s2_len < 4U) {
                tmp___52 = __builtin_constant_p(name);
                if (tmp___52) {
                  if ((unsigned int )((void const   *)(name + 1)) - (unsigned int )((void const   *)name) ==
                      1U) {
                    __result___45 = (int )((int const   )(*((unsigned char const   *)name +
                                                            0)) - (int const   )(*((unsigned char const   *)desired_name +
                                                                                   0)));
                    if (__s2_len > 0U) {
                      if (__result___45 == 0) {
                        __result___45 = (int )((int const   )(*((unsigned char const   *)name +
                                                                1)) - (int const   )(*((unsigned char const   *)desired_name +
                                                                                       1)));
                        if (__s2_len > 1U) {
                          if (__result___45 == 0) {
                            __result___45 = (int )((int const   )(*((unsigned char const   *)name +
                                                                    2)) - (int const   )(*((unsigned char const   *)desired_name +
                                                                                           2)));
                            if (__s2_len > 2U) {
                              if (__result___45 == 0) {
                                __result___45 = (int )((int const   )(*((unsigned char const   *)name +
                                                                        3)) - (int const   )(*((unsigned char const   *)desired_name +
                                                                                               3)));
                              } else {
                                goto _L___159;
                              }
                            } else {
                              _L___159: /* CIL Label */ ;
                            }
                          } else {
                            goto _L___160;
                          }
                        } else {
                          _L___160: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___161;
                      }
                    } else {
                      _L___161: /* CIL Label */ ;
                    }
                    tmp___29 = __result___45;
                  } else {
                    goto _L___165;
                  }
                } else {
                  _L___165: /* CIL Label */ 
                  __s1___14 = (unsigned char const   *)name;
                  __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)desired_name +
                                                                                             0)));
                  if (__s2_len > 0U) {
                    if (__result___46 == 0) {
                      __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)desired_name +
                                                                                                 1)));
                      if (__s2_len > 1U) {
                        if (__result___46 == 0) {
                          __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                                 (int const   )(*((unsigned char const   *)desired_name +
                                                                  2)));
                          if (__s2_len > 2U) {
                            if (__result___46 == 0) {
                              __result___46 = (int )((int const   )(*(__s1___14 +
                                                                      3)) - (int const   )(*((unsigned char const   *)desired_name +
                                                                                             3)));
                            } else {
                              goto _L___162;
                            }
                          } else {
                            _L___162: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___163;
                        }
                      } else {
                        _L___163: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___164;
                    }
                  } else {
                    _L___164: /* CIL Label */ ;
                  }
                  tmp___29 = __result___46;
                }
              } else {
                goto _L___167;
              }
            } else {
              goto _L___167;
            }
          } else {
            _L___167: /* CIL Label */ 
            tmp___29 = strcmp(name, desired_name);
          }
        }
      }
      if (tmp___29) {
        goto _L___175;
      } else {
        break;
      }
    } else {
      _L___175: /* CIL Label */ ;
    }
    retval = retval->next;
  }
  if ((unsigned int )retval == (unsigned int )((void *)0)) {
    if (do_create_if_null) {
      retval = news_ngi_create(hostinfo, desired_name);
    } else {
      goto _L___176;
    }
  } else {
    _L___176: /* CIL Label */ ;
  }
  return (retval);
}
}
static void news_resource2path(tResource const   *resource , char const   **_path ,
                               tBoolean *_has_at ) 
{ char const   *path ;
  char *tmp___0 ;

  {
  path = (char const   *)(resource->uri_data)->path;
  (*_has_at) = (unsigned char)0;
  if ((unsigned int )path != (unsigned int )((void *)0)) {
    if ((int const   )(*path) == 47) {
      path ++;
    }
    if ((int const   )(*path) == 0) {
      path = (char const   *)((void *)0);
    } else {
      tmp___0 = strchr(path, '@');
      if (tmp___0) {
        (*_has_at) = (unsigned char)1;
      }
    }
  }
  (*_path) = path;
  return;
}
}
static void news_resource2group(tResource const   *resource , char const   **_group ,
                                tBoolean *_must_dealloc ) 
{ char const   *path ;
  tBoolean has_at ;
  char const   *temp ;

  {
  (*_group) = (char const   *)((void *)0);
  (*_must_dealloc) = (unsigned char)0;
  news_resource2path(resource, & path, & has_at);
  if ((unsigned int )path != (unsigned int )((void *)0)) {
    if (! has_at) {
      temp = strchr(path, '/');
      if ((unsigned int )temp == (unsigned int )((void *)0)) {
        (*_group) = path;
      } else {
        if (! ((unsigned int )temp == (unsigned int )path)) {
          (*_group) = my_strndup(path, (unsigned int )(temp - path));
          (*_must_dealloc) = (unsigned char)1;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ ;
  }
  return;
}
}
static void news_resource2article(tResource const   *resource , char const   **_article ,
                                  tBoolean *_is_numerical ) 
{ char const   *path ;
  tBoolean has_at ;
  char const   *temp ;

  {
  (*_article) = (char const   *)((void *)0);
  (*_is_numerical) = (unsigned char)0;
  news_resource2path(resource, & path, & has_at);
  if ((unsigned int )path != (unsigned int )((void *)0)) {
    if (has_at) {
      (*_article) = path;
    } else {
      temp = strchr(path, '/');
      if ((unsigned int )temp != (unsigned int )((void *)0)) {
        if ((int const   )(*(temp + 1)) == 0) {
          temp = (char const   *)((void *)0);
        } else {
          goto _L;
        }
      } else {
        _L: /* CIL Label */ ;
      }
      if ((unsigned int )temp != (unsigned int )((void *)0)) {
        (*_article) = temp + 1;
        (*_is_numerical) = (unsigned char)1;
      }
    }
  }
  return;
}
}
static tBoolean news_fetch_next_header(tResource *resource ) 
{ tNntpRpsd *rpsd ;
  tBoolean retval ;
  tNewsArticleNumber currnum ;
  char *spfbuf ;

  {
  rpsd = (tNntpRpsd *)resource->rpsd;
  rpsd->curr_artnum --;
  currnum = rpsd->curr_artnum;
  if (currnum >= rpsd->end_artnum) {
    my_spf((char *)((void *)0), 0U, & spfbuf, "HEAD %d\r\n", currnum);
    conn_set_writestr(resource->cconn, (char const   *)spfbuf);
    retval = (unsigned char)1;
  } else {
    retval = (unsigned char)0;
  }
  return (retval);
}
}
__inline static unsigned char news_handshake(tResource *resource , char const   **_valueptr ) 
{ tResourceCommandHandshake handshake ;
  tServerStatusCode ssc ;
  char const   *valueptr ;
  char const   *group ;
  char const   *article ;
  char *spfbuf ;
  tConnection *conn ;
  tBoolean is_numerical ;
  tBoolean must_dealloc ;
  tSockaddrPortProtInfo *sppi ;
  tSockaddrPortProtInfo *tmp ;
  char const   *tmp___0 ;
  char const   *tmp___1 ;
  char const   *hostname ;
  char *spfbuf2 ;
  tBoolean tmp___2 ;
  tNewsArticleNumber estnum ;
  tNewsArticleNumber firstnum ;
  tNewsArticleNumber lastnum ;
  tBoolean need_valuedata ;
  char format[20] ;
  int tmp___3 ;
  tNewsGroupInformation *ngi ;
  tNewsGroupInformation *tmp___4 ;
  char const   *groupstr ;
  char const   *hostname___0 ;
  char *spfbuf2___0 ;
  tNntpRpsd *rpsd ;
  tBoolean tmp___5 ;
  char const   *temp ;

  {
  handshake = resource->handshake;
  ssc = resource->server_status_code;
  valueptr = (*_valueptr);
  conn = resource->cconn;
  switch ((int )handshake) {
  case 1: ;
  if ((int )ssc == 200) {
    prepare_mode_reader: 
    if ((unsigned int )valueptr != (unsigned int )((void *)0)) {
      while (1) {
        if ((int const   )(*valueptr) == 32) {
          goto _L;
        } else {
          if ((int const   )(*valueptr) == 9) {
            _L: /* CIL Label */ ;
          } else {
            break;
          }
        }
        valueptr ++;
      }
      conn_set_software_id(conn, valueptr);
    }
    conn_set_dissolver(conn, & quitcmd_dissolver);
    handshake = (unsigned char)12;
    spfbuf = my_strdup("MODE READER\r\n");
    switch_to_writing: 
    conn_set_writestr(conn, (char const   *)spfbuf);
    start_writing: 
    resource->handshake = handshake;
    do_start_writing: 
    return ((unsigned char)2);
  } else {
    if ((int )ssc == 201) {
      tmp = conn2sppi((tConnection const   *)conn, (unsigned char)1);
      sppi = tmp;
      if ((unsigned int )sppi != (unsigned int )((void *)0)) {
        sppi->sppif = (unsigned char )((int )sppi->sppif | 4);
      }
      goto prepare_mode_reader;
    }
  }
  break;
  case 12: 
  news_resource2article((tResource const   *)resource, & article, & is_numerical);
  if ((unsigned int )article != (unsigned int )((void *)0)) {
    if (! is_numerical) {
      prepare_fetch_article: 
      handshake = (unsigned char)14;
      if (is_numerical) {
        tmp___0 = strEmpty;
      } else {
        tmp___0 = strGt;
      }
      if (is_numerical) {
        tmp___1 = strEmpty;
      } else {
        tmp___1 = strLt;
      }
      my_spf((char *)((void *)0), 0U, & spfbuf, "ARTICLE %s%s%s\r\n", tmp___1, article,
             tmp___0);
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ 
    news_resource2group((tResource const   *)resource, & group, & must_dealloc);
    if ((unsigned int )group == (unsigned int )((void *)0)) {
      handshake = (unsigned char)13;
      spfbuf = my_strdup("LIST\r\n");
    } else {
      handshake = (unsigned char)16;
      my_spf((char *)((void *)0), 0U, & spfbuf, "GROUP %s\r\n", group);
    }
    if (must_dealloc) {
      memory_deallocate_ll((void const   *)group);
    }
  }
  goto switch_to_writing;
  break;
  case 13: ;
  if ((int )ssc == 215) {
    hostname = ((resource->textual_hppi)->host)->hostname;
    (resource->cantent)->kind = (unsigned char)2;
    my_spf(strbuf___1, 4096U, & spfbuf, "News groups on %s", hostname);
    my_spf(strbuf2___0, 4096U, & spfbuf2, "List of available news groups on the server %s",
           hostname);
    resource_collect_title2(resource, (char const   *)spfbuf, (char const   *)spfbuf2);
    while (1) {
      if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf) {
        memory_deallocate_ll((void const   *)spfbuf);
      }
      break;
    }
    while (1) {
      if ((unsigned int )(strbuf2___0) != (unsigned int )spfbuf2) {
        memory_deallocate_ll((void const   *)spfbuf2);
      }
      break;
    }
    continue_reading: 
    ((tNntpRpsd *)resource->rpsd)->used = 0U;
    return ((unsigned char)1);
  }
  break;
  case 14: ;
  if ((int )ssc == 220) {
    goto continue_reading;
  }
  break;
  case 15: ;
  if ((int )ssc == 221) {
    goto continue_reading;
  } else {
    if ((int )((tNntpRpsd *)resource->rpsd)->flags & 1) {
      if ((int )ssc == 423) {
        goto _L___2;
      } else {
        if ((int )ssc == 430) {
          _L___2: /* CIL Label */ 
          tmp___2 = news_fetch_next_header(resource);
          if (tmp___2) {
            goto do_start_writing;
          } else {
            goto completed;
          }
        } else {
          goto _L___1;
        }
      }
    } else {
      _L___1: /* CIL Label */ ;
    }
  }
  break;
  case 16: ;
  if ((int )ssc == 211) {
    news_resource2group((tResource const   *)resource, & group, & must_dealloc);
    news_resource2article((tResource const   *)resource, & article, & is_numerical);
    if ((unsigned int )article == (unsigned int )((void *)0)) {
      goto _L___3;
    } else {
      if (! is_numerical) {
        _L___3: /* CIL Label */ 
        need_valuedata = (unsigned char)1;
      } else {
        need_valuedata = (unsigned char)0;
      }
    }
    if (need_valuedata) {
      if ((unsigned int )valueptr == (unsigned int )((void *)0)) {
        bad_valueptr: 
        if (must_dealloc) {
          memory_deallocate_ll((void const   *)group);
        }
        bad_news: 
        resource_set_error(resource, (unsigned char)14);
        found_error: 
        return ((unsigned char)0);
      }
      while ((int const   )(*valueptr) == 32) {
        valueptr ++;
      }
      strcpy((char * __restrict  )(format), (char const   * __restrict  )"%d %d %d ");
      tmp___3 = sscanf((char const   * __restrict  )valueptr, (char const   * __restrict  )(format),
                       & estnum, & firstnum, & lastnum);
      if (tmp___3 != 3) {
        goto bad_valueptr;
      }
      (*_valueptr) = (char const   *)((void *)0);
      if ((unsigned int )group != (unsigned int )((void *)0)) {
        tmp___4 = news_ngi_lookup((resource->textual_hppi)->host, group, (unsigned char)1);
        ngi = tmp___4;
        ngi->estnum = estnum;
        ngi->firstnum = firstnum;
        ngi->lastnum = lastnum;
      }
    }
    if (need_valuedata) {
      prepare_article_index: 
      if ((unsigned int )group != (unsigned int )((void *)0)) {
        groupstr = group;
      } else {
        groupstr = strUnknown;
      }
      hostname___0 = ((resource->textual_hppi)->host)->hostname;
      (resource->cantent)->kind = (unsigned char)2;
      my_spf(strbuf___1, 4096U, & spfbuf, "News group %s, articles %d-%d, server %s",
             groupstr, firstnum, lastnum, hostname___0);
      my_spf(strbuf2___0, 4096U, & spfbuf2___0, "Index of news articles %d-%d in the group %s on the server %s, latest first",
             firstnum, lastnum, groupstr, hostname___0);
      resource_collect_title2(resource, (char const   *)spfbuf, (char const   *)spfbuf2___0);
      while (1) {
        if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf) {
          memory_deallocate_ll((void const   *)spfbuf);
        }
        break;
      }
      while (1) {
        if ((unsigned int )(strbuf2___0) != (unsigned int )spfbuf2___0) {
          memory_deallocate_ll((void const   *)spfbuf2___0);
        }
        break;
      }
      rpsd = (tNntpRpsd *)resource->rpsd;
      rpsd->curr_artnum = lastnum + 1;
      rpsd->end_artnum = firstnum;
      rpsd->flags = (unsigned char )((int )rpsd->flags | 1);
      handshake = (unsigned char)15;
      if (must_dealloc) {
        memory_deallocate_ll((void const   *)group);
      }
      tmp___5 = news_fetch_next_header(resource);
      if (tmp___5) {
        goto start_writing;
      } else {
        completed: 
        return ((unsigned char)3);
      }
    } else {
      if ((unsigned int )article != (unsigned int )((void *)0)) {
        if (is_numerical) {
          if ((int const   )(*article) >= 48) {
            if ((int const   )(*article) <= 57) {
              temp = strchr(article, '-');
              if ((unsigned int )temp != (unsigned int )((void *)0)) {
                if ((int const   )(*(temp + 1)) >= 48) {
                  if ((int const   )(*(temp + 1)) <= 57) {
                    my_atoi(article, & firstnum, & temp, 195225786);
                    if ((int const   )(*temp) == 45) {
                      my_atoi(temp + 1, & lastnum, & temp, 195225786);
                      if ((int const   )(*temp) == 0) {
                        goto prepare_article_index;
                      }
                    }
                  } else {
                    goto _L___5;
                  }
                } else {
                  _L___5: /* CIL Label */ 
                  goto _L___9;
                }
              } else {
                goto _L___9;
              }
            } else {
              goto _L___8;
            }
          } else {
            _L___8: /* CIL Label */ 
            goto _L___9;
          }
        } else {
          goto _L___9;
        }
      } else {
        _L___9: /* CIL Label */ ;
      }
      if (must_dealloc) {
        memory_deallocate_ll((void const   *)group);
      }
      goto prepare_fetch_article;
    }
    goto switch_to_writing;
  }
  break;
  default: 
  resource_set_error(resource, (unsigned char)10);
  goto found_error;
  break;
  }
  goto bad_news;
}
}
static char const   *__news_lookup_header_line(char const   **lines , size_t linenum ,
                                               char const   *which ) 
{ char const   *retval ;
  size_t len ;
  size_t tmp ;
  size_t count___2 ;
  char const   *line ;
  char const   *temp ;
  int tmp___0 ;

  {
  retval = (char const   *)((void *)0);
  tmp = strlen(which);
  len = tmp;
  count___2 = 0U;
  while (count___2 < linenum) {
    line = (*(lines + count___2));
    tmp___0 = strneqcase3(line, which, len);
    if (tmp___0 == 0) {
      temp = line + len;
      while (1) {
        if ((int const   )(*temp) == 32) {
          goto _L;
        } else {
          if ((int const   )(*temp) == 9) {
            _L: /* CIL Label */ ;
          } else {
            break;
          }
        }
        temp ++;
      }
      if ((int const   )(*temp) == 58) {
        temp ++;
        while (1) {
          if ((int const   )(*temp) == 32) {
            goto _L___0;
          } else {
            if ((int const   )(*temp) == 9) {
              _L___0: /* CIL Label */ ;
            } else {
              break;
            }
          }
          temp ++;
        }
        if ((int const   )(*temp) != 0) {
          retval = temp;
        }
        break;
      }
    }
    count___2 ++;
  }
  return (retval);
}
}
__inline static void news_handle_article_index(tResource *resource ) 
{ tNntpRpsd *rpsd ;
  char ch ;
  char *text ;
  char *temp ;
  char *linestart ;
  char const   *subject ;
  char const   *htmlsubject ;
  char const   *sender ;
  char const   *htmlsender ;
  char const   *date ;
  char const   *htmldate ;
  char const   *bodylinenum ;
  char const   *htmlbodylinenum ;
  char const   *bodylinenote ;
  char const   *group ;
  size_t used ;
  size_t linenum ;
  size_t maxlinenum ;
  char const   **lines ;
  char *spfbuf ;
  tBoolean near_r ;
  tBoolean must_dealloc_group ;
  size_t tmp ;
  char *tmp___0 ;
  size_t tmp___1 ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___23 ;
  size_t tmp___24 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___39 ;
  int tmp___40 ;
  int tmp___41 ;
  int tmp___42 ;
  char const   *tmp___46 ;
  char const   *tmp___47 ;
  char const   *tmp___48 ;
  char const   *tmp___49 ;
  char const   *tmp___50 ;
  char const   *tmp___51 ;
  char const   *tmp___52 ;

  {
  rpsd = (tNntpRpsd *)resource->rpsd;
  if ((unsigned int )rpsd == (unsigned int )((void *)0)) {
    return;
  }
  text = rpsd->text;
  used = rpsd->used;
  if ((unsigned int )text == (unsigned int )((void *)0)) {
    goto _L___0;
  } else {
    if ((int )(*text) == 0) {
      _L___0: /* CIL Label */ 
      goto _L;
    } else {
      if (used <= 0U) {
        _L: /* CIL Label */ 
        goto out;
      }
    }
  }
  temp = text;
  linestart = temp;
  near_r = (unsigned char)0;
  maxlinenum = 0U;
  linenum = maxlinenum;
  lines = (char const   **)((void *)0);
  while (1) {
    tmp___0 = temp;
    temp ++;
    ch = (*tmp___0);
    if (! ((int )ch != 0)) {
      break;
    }
    if ((int )ch == 13) {
      near_r = (unsigned char)1;
    } else {
      if ((int )ch == 10) {
        if (near_r) {
          if ((int )(*temp) == 32) {
            goto _L___1;
          } else {
            if ((int )(*temp) == 9) {
              _L___1: /* CIL Label */ 
              (*(temp - 1)) = (char )' ';
              (*(temp - 2)) = (*(temp - 1));
            } else {
              (*(temp - 2)) = (char )'\000';
              if (linenum >= maxlinenum) {
                maxlinenum += 20U;
                lines = (char const   **)memory_reallocate_ll((void *)lines, maxlinenum *
                                                                             sizeof(char *));
              }
              tmp = linenum;
              linenum ++;
              (*(lines + tmp)) = (char const   *)linestart;
              linestart = temp;
            }
          }
        } else {
          goto _L___2;
        }
      } else {
        _L___2: /* CIL Label */ ;
      }
      near_r = (unsigned char)0;
    }
  }
  if (linenum >= maxlinenum) {
    maxlinenum += 20U;
    lines = (char const   **)memory_reallocate_ll((void *)lines, maxlinenum * sizeof(char *));
  }
  tmp___1 = linenum;
  linenum ++;
  (*(lines + tmp___1)) = (char const   *)linestart;
  subject = __news_lookup_header_line(lines, linenum, "subject");
  if ((unsigned int )subject == (unsigned int )((void *)0)) {
    subject = "(no subject)";
  }
  sender = __news_lookup_header_line(lines, linenum, "from");
  if ((unsigned int )sender == (unsigned int )((void *)0)) {
    sender = __news_lookup_header_line(lines, linenum, "sender");
  }
  date = __news_lookup_header_line(lines, linenum, "date");
  bodylinenum = __news_lookup_header_line(lines, linenum, "lines");
  if ((unsigned int )bodylinenum == (unsigned int )((void *)0)) {
    bodylinenote = strEmpty;
  } else {
    tmp___41 = __builtin_constant_p(bodylinenum);
    if (tmp___41) {
      __s1_len = strlen(bodylinenum);
      __s2_len = strlen("1");
      if (! ((unsigned int )((void const   *)(bodylinenum + 1)) - (unsigned int )((void const   *)bodylinenum) ==
             1U)) {
        goto _L___168;
      } else {
        if (__s1_len >= 4U) {
          _L___168: /* CIL Label */ 
          if (! ((unsigned int )((void const   *)("1" + 1)) - (unsigned int )((void const   *)"1") ==
                 1U)) {
            goto _L___167;
          } else {
            if (__s2_len >= 4U) {
              _L___167: /* CIL Label */ 
              tmp___42 = 1;
            } else {
              goto _L___166;
            }
          }
        } else {
          _L___166: /* CIL Label */ 
          tmp___42 = 0;
        }
      }
      if (tmp___42) {
        if (__s1_len < __s2_len) {
          tmp___24 = __s1_len;
        } else {
          tmp___24 = __s2_len;
        }
        tmp___23 = memcmp((void const   *)bodylinenum, (void const   *)"1", tmp___24 +
                                                                            1U);
      } else {
        goto _L___170;
      }
    } else {
      _L___170: /* CIL Label */ 
      tmp___40 = __builtin_constant_p(bodylinenum);
      if (tmp___40) {
        if ((unsigned int )((void const   *)(bodylinenum + 1)) - (unsigned int )((void const   *)bodylinenum) ==
            1U) {
          __s1_len = strlen(bodylinenum);
          if (__s1_len < 4U) {
            if ((unsigned int )((void const   *)("1" + 1)) - (unsigned int )((void const   *)"1") ==
                1U) {
              __result___37 = (int )((int const   )(*((unsigned char const   *)bodylinenum +
                                                      0)) - (int const   )(*((unsigned char const   *)"1" +
                                                                             0)));
              if (__s1_len > 0U) {
                if (__result___37 == 0) {
                  __result___37 = (int )((int const   )(*((unsigned char const   *)bodylinenum +
                                                          1)) - (int const   )(*((unsigned char const   *)"1" +
                                                                                 1)));
                  if (__s1_len > 1U) {
                    if (__result___37 == 0) {
                      __result___37 = (int )((int const   )(*((unsigned char const   *)bodylinenum +
                                                              2)) - (int const   )(*((unsigned char const   *)"1" +
                                                                                     2)));
                      if (__s1_len > 2U) {
                        if (__result___37 == 0) {
                          __result___37 = (int )((int const   )(*((unsigned char const   *)bodylinenum +
                                                                  3)) - (int const   )(*((unsigned char const   *)"1" +
                                                                                         3)));
                        } else {
                          goto _L___131;
                        }
                      } else {
                        _L___131: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___132;
                    }
                  } else {
                    _L___132: /* CIL Label */ ;
                  }
                } else {
                  goto _L___133;
                }
              } else {
                _L___133: /* CIL Label */ ;
              }
              tmp___23 = __result___37;
            } else {
              __s2___6 = (unsigned char const   *)"1";
              __result___38 = (int )((int const   )(*((unsigned char const   *)bodylinenum +
                                                      0)) - (int const   )(*(__s2___6 +
                                                                             0)));
              if (__s1_len > 0U) {
                if (__result___38 == 0) {
                  __result___38 = (int )((int const   )(*((unsigned char const   *)bodylinenum +
                                                          1)) - (int const   )(*(__s2___6 +
                                                                                 1)));
                  if (__s1_len > 1U) {
                    if (__result___38 == 0) {
                      __result___38 = (int )((int const   )(*((unsigned char const   *)bodylinenum +
                                                              2)) - (int const   )(*(__s2___6 +
                                                                                     2)));
                      if (__s1_len > 2U) {
                        if (__result___38 == 0) {
                          __result___38 = (int )((int const   )(*((unsigned char const   *)bodylinenum +
                                                                  3)) - (int const   )(*(__s2___6 +
                                                                                         3)));
                        } else {
                          goto _L___134;
                        }
                      } else {
                        _L___134: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___135;
                    }
                  } else {
                    _L___135: /* CIL Label */ ;
                  }
                } else {
                  goto _L___136;
                }
              } else {
                _L___136: /* CIL Label */ ;
              }
              tmp___23 = __result___38;
            }
          } else {
            goto _L___165;
          }
        } else {
          goto _L___165;
        }
      } else {
        _L___165: /* CIL Label */ 
        if ((unsigned int )((void const   *)("1" + 1)) - (unsigned int )((void const   *)"1") ==
            1U) {
          __s2_len = strlen("1");
          if (__s2_len < 4U) {
            tmp___39 = __builtin_constant_p(bodylinenum);
            if (tmp___39) {
              if ((unsigned int )((void const   *)(bodylinenum + 1)) - (unsigned int )((void const   *)bodylinenum) ==
                  1U) {
                __result___45 = (int )((int const   )(*((unsigned char const   *)bodylinenum +
                                                        0)) - (int const   )(*((unsigned char const   *)"1" +
                                                                               0)));
                if (__s2_len > 0U) {
                  if (__result___45 == 0) {
                    __result___45 = (int )((int const   )(*((unsigned char const   *)bodylinenum +
                                                            1)) - (int const   )(*((unsigned char const   *)"1" +
                                                                                   1)));
                    if (__s2_len > 1U) {
                      if (__result___45 == 0) {
                        __result___45 = (int )((int const   )(*((unsigned char const   *)bodylinenum +
                                                                2)) - (int const   )(*((unsigned char const   *)"1" +
                                                                                       2)));
                        if (__s2_len > 2U) {
                          if (__result___45 == 0) {
                            __result___45 = (int )((int const   )(*((unsigned char const   *)bodylinenum +
                                                                    3)) - (int const   )(*((unsigned char const   *)"1" +
                                                                                           3)));
                          } else {
                            goto _L___156;
                          }
                        } else {
                          _L___156: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___157;
                      }
                    } else {
                      _L___157: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___158;
                  }
                } else {
                  _L___158: /* CIL Label */ ;
                }
                tmp___23 = __result___45;
              } else {
                goto _L___162;
              }
            } else {
              _L___162: /* CIL Label */ 
              __s1___14 = (unsigned char const   *)bodylinenum;
              __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)"1" +
                                                                                         0)));
              if (__s2_len > 0U) {
                if (__result___46 == 0) {
                  __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)"1" +
                                                                                             1)));
                  if (__s2_len > 1U) {
                    if (__result___46 == 0) {
                      __result___46 = (int )((int const   )(*(__s1___14 + 2)) - (int const   )(*((unsigned char const   *)"1" +
                                                                                                 2)));
                      if (__s2_len > 2U) {
                        if (__result___46 == 0) {
                          __result___46 = (int )((int const   )(*(__s1___14 + 3)) -
                                                 (int const   )(*((unsigned char const   *)"1" +
                                                                  3)));
                        } else {
                          goto _L___159;
                        }
                      } else {
                        _L___159: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___160;
                    }
                  } else {
                    _L___160: /* CIL Label */ ;
                  }
                } else {
                  goto _L___161;
                }
              } else {
                _L___161: /* CIL Label */ ;
              }
              tmp___23 = __result___46;
            }
          } else {
            goto _L___163;
          }
        } else {
          _L___163: /* CIL Label */ 
          tmp___23 = strcmp(bodylinenum, "1");
        }
      }
    }
    if (tmp___23) {
      bodylinenote = " lines";
    } else {
      bodylinenote = " line";
    }
  }
  news_resource2group((tResource const   *)resource, & group, & must_dealloc_group);
  htmlsubject = htmlify(subject);
  if ((unsigned int )sender != (unsigned int )((void *)0)) {
    htmlsender = htmlify(sender);
  } else {
    htmlsender = (char const   *)((void *)0);
  }
  if ((unsigned int )date != (unsigned int )((void *)0)) {
    htmldate = htmlify(date);
  } else {
    htmldate = (char const   *)((void *)0);
  }
  if ((unsigned int )bodylinenum != (unsigned int )((void *)0)) {
    htmlbodylinenum = htmlify(bodylinenum);
  } else {
    htmlbodylinenum = (char const   *)((void *)0);
  }
  if ((unsigned int )htmlbodylinenum != (unsigned int )((void *)0)) {
    tmp___46 = htmlbodylinenum;
  } else {
    tmp___46 = strEmpty;
  }
  if ((unsigned int )htmlbodylinenum != (unsigned int )((void *)0)) {
    tmp___47 = strSpacedDash;
  } else {
    tmp___47 = strEmpty;
  }
  if ((unsigned int )htmldate != (unsigned int )((void *)0)) {
    tmp___48 = htmldate;
  } else {
    tmp___48 = strEmpty;
  }
  if ((unsigned int )htmldate != (unsigned int )((void *)0)) {
    tmp___49 = strSpacedDash;
  } else {
    tmp___49 = strEmpty;
  }
  if ((unsigned int )htmlsender != (unsigned int )((void *)0)) {
    tmp___50 = htmlsender;
  } else {
    tmp___50 = strEmpty;
  }
  if ((unsigned int )htmlsender != (unsigned int )((void *)0)) {
    tmp___51 = strSpacedDash;
  } else {
    tmp___51 = strEmpty;
  }
  if ((unsigned int )group != (unsigned int )((void *)0)) {
    tmp___52 = group;
  } else {
    tmp___52 = "BUG";
  }
  my_spf(strbuf___1, 4096U, & spfbuf, "<br><a href=\"news://%s/%s/%d\">%s</a>%s%s%s%s%s%s%s\n",
         ((resource->textual_hppi)->host)->hostname, tmp___52, ((tNntpRpsd *)resource->rpsd)->curr_artnum,
         htmlsubject, tmp___51, tmp___50, tmp___49, tmp___48, tmp___47, tmp___46,
         bodylinenote);
  resource_collect_str(resource, (char const   *)spfbuf);
  while (1) {
    if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  if ((unsigned int )subject != (unsigned int )((void *)0)) {
    while (1) {
      if ((unsigned int )htmlsubject != (unsigned int )subject) {
        memory_deallocate_ll((void const   *)htmlsubject);
      }
      break;
    }
  }
  if ((unsigned int )sender != (unsigned int )((void *)0)) {
    while (1) {
      if ((unsigned int )htmlsender != (unsigned int )sender) {
        memory_deallocate_ll((void const   *)htmlsender);
      }
      break;
    }
  }
  if ((unsigned int )date != (unsigned int )((void *)0)) {
    while (1) {
      if ((unsigned int )htmldate != (unsigned int )date) {
        memory_deallocate_ll((void const   *)htmldate);
      }
      break;
    }
  }
  if ((unsigned int )bodylinenum != (unsigned int )((void *)0)) {
    while (1) {
      if ((unsigned int )htmlbodylinenum != (unsigned int )bodylinenum) {
        memory_deallocate_ll((void const   *)htmlbodylinenum);
      }
      break;
    }
  }
  if (must_dealloc_group) {
    memory_deallocate_ll((void const   *)group);
  }
  memory_deallocate_ll((void const   *)lines);
  out: 
  rpsd->used = 0U;
  return;
}
}
__inline static void news_handle_groupline(tResource *resource , char *text ) 
{ char *pos ;
  char *tmp___0 ;
  char *spfbuf ;
  char const   *info ;
  char const   *name ;
  char const   *htmlname ;
  char *tmp___1 ;
  char const   *tmp___2 ;
  char const   *tmp___3 ;

  {
  tmp___0 = strchr((char const   *)text, ' ');
  pos = tmp___0;
  if ((unsigned int )pos == (unsigned int )((void *)0)) {
    info = (char const   *)((void *)0);
  } else {
    tmp___1 = pos;
    pos ++;
    (*tmp___1) = (char )'\000';
    info = (char const   *)pos;
  }
  name = (char const   *)text;
  htmlname = htmlify(name);
  if ((unsigned int )info == (unsigned int )((void *)0)) {
    tmp___2 = strEmpty;
  } else {
    tmp___2 = info;
  }
  if ((unsigned int )info != (unsigned int )((void *)0)) {
    tmp___3 = strSpacedDash + 2;
  } else {
    tmp___3 = strEmpty;
  }
  my_spf(strbuf___1, 4096U, & spfbuf, "<br><a href=\"news://%s/%s\">%s</a>%s%s\n",
         ((resource->textual_hppi)->host)->hostname, name, htmlname, tmp___3, tmp___2);
  resource_collect_str(resource, (char const   *)spfbuf);
  while (1) {
    if ((unsigned int )(strbuf___1) != (unsigned int )spfbuf) {
      memory_deallocate_ll((void const   *)spfbuf);
    }
    break;
  }
  while (1) {
    if ((unsigned int )htmlname != (unsigned int )name) {
      memory_deallocate_ll((void const   *)htmlname);
    }
    break;
  }
  return;
}
}
static void news_collect(tResource *resource , char const   *src , size_t size ) 
{ tResourceCommandHandshake handshake ;
  tNntpRpsd *rpsd ;
  char *text ;
  size_t used ;
  size_t usable ;
  size_t needed ;
  size_t tmp ;
  int tmp___0 ;
  char *temp ;
  char *remainder ;
  tBoolean near_r ;
  char ch ;
  size_t len ;
  char *tmp___1 ;
  char *dest ;
  char *tmp___2 ;
  char *tmp___3 ;

  {
  handshake = resource->handshake;
  rpsd = (tNntpRpsd *)resource->rpsd;
  if ((int )handshake == 13) {
    goto _L___0;
  } else {
    if ((int )handshake == 15) {
      if ((int )rpsd->flags & 1) {
        _L___0: /* CIL Label */ 
        if ((unsigned int )rpsd == (unsigned int )((void *)0)) {
          goto res_coll;
        }
        text = rpsd->text;
        used = rpsd->used;
        usable = rpsd->usable;
        if (used == 0U) {
          tmp = 1U;
        } else {
          tmp = used;
        }
        needed = tmp + size;
        if (needed > usable) {
          rpsd->text = (char *)memory_reallocate_ll((void *)text, needed);
          text = rpsd->text;
          rpsd->usable = needed;
        }
        if (used > 0U) {
          tmp___0 = 1;
        } else {
          tmp___0 = 0;
        }
        memcpy((void * __restrict  )((text + used) - tmp___0), (void const   * __restrict  )src,
               size);
        (*(text + (needed - 1U))) = (char )'\000';
        rpsd->used = needed;
        if ((int )handshake == 13) {
          temp = text;
          remainder = text;
          near_r = (tBoolean )0;
          while (1) {
            tmp___1 = temp;
            temp ++;
            ch = (*tmp___1);
            if (! ((int )ch != 0)) {
              break;
            }
            if ((int )ch == 13) {
              near_r = (unsigned char)1;
            } else {
              if ((int )ch == 10) {
                if (near_r) {
                  len = (size_t )((temp - remainder) - 2);
                  if (len > 0U) {
                    (*(remainder + len)) = (char )'\000';
                    news_handle_groupline(resource, remainder);
                  }
                  remainder = temp;
                } else {
                  goto _L;
                }
              } else {
                _L: /* CIL Label */ ;
              }
              near_r = (unsigned char)0;
            }
          }
          if ((unsigned int )remainder > (unsigned int )text) {
            if ((int )(*remainder) == 0) {
              rpsd->used = 0U;
            } else {
              dest = text;
              rpsd->used = rpsd->used - (size_t )(remainder - text);
              while (1) {
                tmp___2 = remainder;
                remainder ++;
                ch = (*tmp___2);
                tmp___3 = dest;
                dest ++;
                (*tmp___3) = ch;
                if (! ((int )ch != 0)) {
                  break;
                }
              }
            }
            push_to_main_res(resource, (unsigned char)1);
          }
        }
      } else {
        goto res_coll;
      }
    } else {
      res_coll: 
      resource_collect(resource, src, size);
    }
  }
  return;
}
}
__inline static void news_read(tResource *resource ) ;
static char const   strDotMarker[6]  = {      (char const   )'\r',      (char const   )'\n',      (char const   )'.',      (char const   )'\r', 
        (char const   )'\n',      (char const   )'\000'};
__inline static void news_read(tResource *resource ) 
{ char buf___2[4097] ;
  char *ptr___0 ;
  char const   *valueptr ;
  char read_buf[2048] ;
  tTlHeaderState ths ;
  tResourceError news_error ;
  int fd ;
  int err ;
  int tmp ;
  size_t count___2 ;
  size_t read_buf_used ;
  tBoolean do_push ;
  char ch ;
  char *tmp___0 ;
  tServerStatusCode status ;
  int tmp___1 ;
  tBoolean tmp___2 ;
  char const   *a ;
  size_t c ;
  char x ;
  char const   *tmp___3 ;
  size_t tmp___4 ;
  size_t tmp___5 ;
  size_t tmp___6 ;
  char const   *a___0 ;
  size_t c___0 ;
  char x___0 ;
  char const   *tmp___7 ;
  size_t tmp___8 ;
  size_t tmp___9 ;
  size_t tmp___10 ;

  {
  ths = resource->tlheaderstate;
  news_error = (tResourceError )9;
  fd = (resource->cconn)->fd;
  tmp = my_read(fd, (void *)(buf___2), 4096U);
  err = tmp;
  read_buf_used = (size_t )0;
  do_push = (tBoolean )0;
  if (err <= 0) {
    stop_reading: 
    resource_set_error(resource, news_error);
    do_stop_reading: 
    conn_remove(& resource->cconn);
    resource->tlheaderstate = ths;
    if (read_buf_used > 0U) {
      news_collect(resource, (char const   *)(read_buf), read_buf_used);
      read_buf_used = 0U;
    }
    rpsd_remove(resource);
    push_to_main_res(resource, (unsigned char)0);
    return;
  }
  buf___2[err] = (char )'\000';
  ptr___0 = buf___2;
  valueptr = (char const   *)((void *)0);
  count___2 = (unsigned int )err;
  while (1) {
    tmp___10 = count___2;
    count___2 --;
    if (! (tmp___10 > 0U)) {
      break;
    }
    tmp___0 = ptr___0;
    ptr___0 ++;
    ch = (*tmp___0);
    switch ((int )ths) {
    case 0: 
    resource->server_status_code = (unsigned short)0;
    case 1: ;
    case 2: ;
    if ((int )ch >= 48) {
      if ((int )ch <= 57) {
        status = resource->server_status_code;
        status = (unsigned short )(10 * (int )status + (int )((unsigned short )((int )ch -
                                                                                48)));
        resource->server_status_code = status;
        ths = (tTlHeaderState )((int )ths + 1);
        if ((int )ths == 3) {
          if ((int )status < 100) {
            goto bad_news;
          } else {
            if ((int )status > 599) {
              bad_news: 
              news_error = (unsigned char)14;
              goto stop_reading;
            }
          }
          valueptr = (char const   *)ptr___0;
        }
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      goto bad_news;
    }
    break;
    case 3: ;
    if ((int )ch == 13) {
      ths = (signed char)4;
    }
    break;
    case 4: ;
    if (! ((int )ch == 13)) {
      if ((int )ch != 10) {
        ths = (signed char)3;
      } else {
        ths = (signed char)0;
        tmp___1 = (int )news_handshake(resource, & valueptr);
        switch (tmp___1) {
        case 0: ;
        goto bad_news;
        break;
        case 1: 
        resource->state = (unsigned char)4;
        ths = (signed char)7;
        break;
        case 2: ;
        start_writing: 
        conn_set_readwrite(resource->cconn, (unsigned char)2);
        goto out;
        break;
        case 3: ;
        resource_complete: 
        resource->state = (unsigned char)5;
        goto do_stop_reading;
        break;
        }
        valueptr = (char const   *)((void *)0);
      }
    }
    break;
    case 5: ;
    case 6: ;
    case 7: ;
    case 8: ;
    case 9: ;
    if ((int )ch == (int )strDotMarker[(int )ths - 5]) {
      ths = (tTlHeaderState )((int )ths + 1);
      if ((int )ths == 10) {
        ths = (signed char)0;
        if (read_buf_used > 0U) {
          news_collect(resource, (char const   *)(read_buf), read_buf_used);
          read_buf_used = 0U;
        }
        if ((int )resource->handshake == 15) {
          if ((int )((tNntpRpsd *)resource->rpsd)->flags & 1) {
            news_handle_article_index(resource);
            tmp___2 = news_fetch_next_header(resource);
            if (tmp___2) {
              goto start_writing;
            }
          } else {
            goto _L___1;
          }
        } else {
          _L___1: /* CIL Label */ ;
        }
        goto resource_complete;
      }
    } else {
      if ((int )ths > 5) {
        if ((int )ths == 8) {
          if ((int )ch == 46) {
            ths = (signed char)7;
          } else {
            goto _L___2;
          }
        } else {
          _L___2: /* CIL Label */ ;
        }
        while (1) {
          a = strDotMarker;
          c = (size_t )((int )ths - 5);
          while (1) {
            tmp___5 = c;
            c --;
            if (! (tmp___5 > 0U)) {
              break;
            }
            tmp___3 = a;
            a ++;
            x = (char )(*tmp___3);
            while (1) {
              if (read_buf_used >= 2043U) {
                if (read_buf_used > 0U) {
                  news_collect(resource, (char const   *)(read_buf), read_buf_used);
                  read_buf_used = 0U;
                }
              }
              tmp___4 = read_buf_used;
              read_buf_used ++;
              read_buf[tmp___4] = x;
              break;
            }
          }
          break;
        }
        if ((int )ch == 13) {
          ths = (signed char)6;
        } else {
          ths = (signed char)5;
          goto append_ch;
        }
      } else {
        append_ch: 
        do_push = (unsigned char)1;
        while (1) {
          if (read_buf_used >= 2043U) {
            if (read_buf_used > 0U) {
              news_collect(resource, (char const   *)(read_buf), read_buf_used);
              read_buf_used = 0U;
            }
          }
          tmp___6 = read_buf_used;
          read_buf_used ++;
          read_buf[tmp___6] = ch;
          break;
        }
        if ((int )ch == 10) {
          if ((int )(resource->cantent)->kind == 2) {
            while (1) {
              a___0 = strNewlineBr + 1;
              c___0 = (size_t )4;
              while (1) {
                tmp___9 = c___0;
                c___0 --;
                if (! (tmp___9 > 0U)) {
                  break;
                }
                tmp___7 = a___0;
                a___0 ++;
                x___0 = (char )(*tmp___7);
                while (1) {
                  if (read_buf_used >= 2043U) {
                    if (read_buf_used > 0U) {
                      news_collect(resource, (char const   *)(read_buf), read_buf_used);
                      read_buf_used = 0U;
                    }
                  }
                  tmp___8 = read_buf_used;
                  read_buf_used ++;
                  read_buf[tmp___8] = x___0;
                  break;
                }
              }
              break;
            }
          } else {
            goto _L___3;
          }
        } else {
          _L___3: /* CIL Label */ ;
        }
      }
    }
    break;
    }
  }
  out: 
  resource->tlheaderstate = ths;
  if (read_buf_used > 0U) {
    news_collect(resource, (char const   *)(read_buf), read_buf_used);
    read_buf_used = 0U;
  }
  if (do_push) {
    push_to_main_res(resource, (unsigned char)1);
  }
  return;
}
}
static void news_callback(tConnection *conn , tConnCbEventKind ccek ) 
{ tResource *resource ;
  tResourceError tmp ;
  int tmp___0 ;

  {
  resource = (tResource *)conn->data;
  switch ((int )ccek) {
  case 0: ;
  if ((int )conn->flags & 1) {
    goto do_setup;
  } else {
    conn_set_readwrite(conn, (unsigned char)2);
    push_to_main_res(resource, (unsigned char)1);
  }
  break;
  case 1: ;
  do_setup: 
  resource->state = (unsigned char)3;
  resource->handshake = (unsigned char)1;
  start_reading: 
  conn_set_readwrite(conn, (unsigned char)1);
  news_rpsd_prepare(resource);
  push_to_main_res(resource, (unsigned char)1);
  break;
  case 2: 
  tmp = conn_get_failre(conn);
  resource_set_error(resource, tmp);
  stopnpush: 
  conn_remove(& resource->cconn);
  push_to_main_res(resource, (unsigned char)0);
  break;
  case 3: 
  news_read(resource);
  break;
  case 4: 
  tmp___0 = (int )conn_write_writedata(conn);
  switch (tmp___0) {
  case 0: 
  resource_set_error(resource, (unsigned char)9);
  goto stopnpush;
  break;
  case 1: ;
  break;
  case 2: ;
  goto start_reading;
  break;
  }
  break;
  default: ;
  while (1) {
    break;
  }
  break;
  }
}
}
__inline static void finger_read(tResource *resource ) 
{ int fd ;
  char *dest ;
  size_t size ;
  int err ;

  {
  fd = (resource->cconn)->fd;
  resource_provide_room(resource, & dest, & size, resource->bytecount, (unsigned char)2);
  err = my_read(fd, (void *)dest, size);
  if (err <= 0) {
    conn_remove(& resource->cconn);
    if (err == 0) {
      resource->state = (unsigned char)5;
    } else {
      resource_set_error(resource, (unsigned char)9);
    }
    push_to_main_res(resource, (unsigned char)0);
  } else {
    resource_record(resource, (char const   *)dest, (unsigned int )err);
    push_to_main_res(resource, (unsigned char)1);
  }
  return;
}
}
static void finger_callback(tConnection *conn , tConnCbEventKind ccek ) 
{ tResource *resource ;
  char const   *username ;
  char const   *tmp ;
  char *spfbuf ;
  tResourceError tmp___0 ;
  int tmp___1 ;

  {
  resource = (tResource *)conn->data;
  switch ((int )ccek) {
  case 0: 
  conn_set_readwrite(conn, (unsigned char)2);
  if ((int )conn->flags & 1) {
    goto set_req;
  } else {
    push_to_main_res(resource, (unsigned char)1);
  }
  break;
  case 1: ;
  set_req: 
  resource->state = (unsigned char)3;
  username = (char const   *)(resource->uri_data)->username;
  if ((unsigned int )username == (unsigned int )((void *)0)) {
    tmp = my_strdup(strCrlf);
    conn_set_writestr(conn, tmp);
  } else {
    my_spf((char *)((void *)0), 0U, & spfbuf, "%s\r\n", username);
    conn_set_writestr(conn, (char const   *)spfbuf);
  }
  push_to_main_res(resource, (unsigned char)1);
  break;
  case 2: 
  tmp___0 = conn_get_failre(conn);
  resource_set_error(resource, tmp___0);
  stopnpush: 
  conn_remove(& resource->cconn);
  push_to_main_res(resource, (unsigned char)0);
  break;
  case 3: 
  finger_read(resource);
  break;
  case 4: 
  tmp___1 = (int )conn_write_writedata(conn);
  switch (tmp___1) {
  case 0: 
  resource_set_error(resource, (unsigned char)9);
  goto stopnpush;
  break;
  case 1: ;
  break;
  case 2: 
  conn_set_readwrite(conn, (unsigned char)1);
  resource->state = (unsigned char)4;
  push_to_main_res(resource, (unsigned char)1);
  break;
  }
  break;
  default: ;
  while (1) {
    break;
  }
  break;
  }
}
}
static tBoolean start_request(tResourceRequest *request , tCachedHostInformation *hostinfo ) 
{ tUriData const   *uri_data ;
  tResourceProtocol protocol ;
  tConfigProxy const   *proxy ;
  tResourceRequestFlags rrf ;
  tResource *resource ;
  tPortnumber connport ;
  tPortnumber textual_portnumber ;
  tConnection *conn ;
  void (*cb)(struct tConnection * , tConnCbEventKind  ) ;
  char const   *hostname ;
  tCachedHostInformation *textual_host ;
  tCachedHostInformation *tmp ;
  tResourceError re ;
  int tmp___0 ;
  tBoolean tmp___1 ;

  {
  uri_data = (tUriData const   *)request->uri_data;
  protocol = uri_data->rp;
  proxy = request->proxy;
  rrf = request->flags;
  switch ((int )protocol) {
  case 2: 
  cb = & http_callback;
  break;
  case 3: 
  cb = & ftp_control_callback;
  break;
  case 8: 
  cb = & news_callback;
  break;
  case 6: 
  cb = & finger_callback;
  break;
  default: 
  resource_request_set_error(request, (unsigned char)12);
  failed: 
  return ((unsigned char)0);
  break;
  }
  textual_portnumber = (request->uri_data)->portnumber;
  if ((unsigned int )proxy != (unsigned int )((void *)0)) {
    if ((unsigned int )proxy->proxy_hostname != (unsigned int )((void *)0)) {
      connport = proxy->proxy_portnumber;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    connport = textual_portnumber;
  }
  resource = resource_create(request, (tContentblock *)((void *)0), ~ 0U, (unsigned char)0,
                             (unsigned char)2);
  resource->proxy = proxy;
  resource->actual_hppi = hppi_lookup(hostinfo, connport, protocol, (unsigned char)1);
  hostname = (char const   *)(request->uri_data)->hostname;
  tmp = hostinfo_lookup(hostname);
  textual_host = tmp;
  if ((unsigned int )textual_host == (unsigned int )((void *)0)) {
    textual_host = hostinfo_create(hostname);
  }
  resource->textual_hppi = hppi_lookup(textual_host, textual_portnumber, protocol,
                                       (unsigned char)1);
  if ((int )rrf & 2) {
    resource->flags = resource->flags | 2U;
  }
  if ((int )rrf & 4) {
    resource->flags = resource->flags | 4U;
  }
  if ((int )rrf & 8) {
    resource->flags = resource->flags | 8U;
  }
  if ((int )request->action == 2) {
    resource->flags = resource->flags | 16U;
  }
  resource->cconn = conn_create(-1, cb, (void *)resource, (unsigned char)1, (tHostPortProtInfo const   *)resource->actual_hppi,
                                protocol);
  conn = resource->cconn;
  tmp___1 = conn_connect(conn);
  if (tmp___1) {
    while (1) {
      while (1) {
        break;
      }
      ((*(conn->callback)))(conn, (unsigned char)0);
      break;
    }
  } else {
    re = conn->prelire;
    if (re) {
      tmp___0 = (int )re;
    } else {
      tmp___0 = 3;
    }
    resource_request_set_error(request, (unsigned char )tmp___0);
    goto failed;
  }
  return ((unsigned char)1);
}
}
static void request_dns_callback(void *_request , tDhmNotificationFlags flags ) ;
static void request_dns_vanisher(void *_request , tDhmNotificationFlags flags ) 
{ tResourceRequest *request ;
  tCachedHostInformation *hostinfo ;
  tDhmNotificationSetup _dns ;

  {
  if ((int )flags & 1) {
    request = (tResourceRequest *)_request;
    hostinfo = request->lookup;
    if ((unsigned int )hostinfo != (unsigned int )((void *)0)) {
      while (1) {
        _dns.callback = & request_dns_callback;
        _dns.callback_data = (void *)request;
        _dns.flags = (tDhmNotificationFlags )15;
        _dns.mode = (tDhmNotimode )2;
        dhm_generic_handler(& hostinfo->dhm_data, (void const   *)(& _dns), (unsigned char)3);
        break;
      }
    }
  }
  return;
}
}
static void request_dns_callback(void *_request , tDhmNotificationFlags flags ) 
{ tResourceRequest *request ;
  tCachedHostInformation *hostinfo ;
  tBoolean want_it_back ;
  tDhmNotificationSetup _dns ;
  int tmp ;

  {
  if ((int )flags & 2) {
    request = (tResourceRequest *)_request;
    hostinfo = request->lookup;
    while (1) {
      _dns.callback = & request_dns_vanisher;
      _dns.callback_data = (void *)request;
      _dns.flags = (tDhmNotificationFlags )15;
      _dns.mode = (tDhmNotimode )2;
      dhm_generic_handler(& request->dhm_data, (void const   *)(& _dns), (unsigned char)3);
      break;
    }
    if ((unsigned int )hostinfo == (unsigned int )((void *)0)) {
      dns_failed: 
      resource_request_set_error(request, (unsigned char)6);
      want_it_back = (unsigned char)0;
      goto out_once;
    }
    request->lookup = (struct tCachedHostInformation *)((void *)0);
    if ((int )hostinfo->num_sockaddrs <= 0) {
      goto dns_failed;
    }
    want_it_back = start_request(request, hostinfo);
    out_once: 
    if ((int )want_it_back == 0) {
      tmp = 0;
    } else {
      tmp = 1;
    }
    push_to_main_req(request, (unsigned char )tmp);
  }
  return;
}
}
static tDnsLookup *dns_lookup___0  ;
static void resource_dns_handler(void *data  __attribute__((__unused__)) , tFdObservationFlags flags  __attribute__((__unused__)) ) ;
static unsigned char count___1  =    (unsigned char)0;
static void resource_dns_handler(void *data  __attribute__((__unused__)) , tFdObservationFlags flags  __attribute__((__unused__)) ) 
{ tCachedHostInformation *hostinfo ;
  int err ;
  int tmp ;
  tDhmNotificationFlags _df ;

  {
  tmp = my_read(fd_dns2resource_read, (void *)((char *)(& dns_lookup___0) + (int )count___1),
                sizeof(dns_lookup___0) - (unsigned int )count___1);
  err = tmp;
  if (err <= 0) {
    return;
  }
  count___1 = (unsigned char )((int )count___1 + err);
  if ((unsigned int )count___1 < sizeof(dns_lookup___0)) {
    return;
  }
  count___1 = (unsigned char)0;
  hostinfo = dns_lookup___0->hostinfo;
  hostinfo->flags = (unsigned char )((int )hostinfo->flags & -2);
  postprocess_dns_lookup(dns_lookup___0);
  while (1) {
    _df = (tDhmNotificationFlags )2;
    dhm_generic_handler(& hostinfo->dhm_data, (void const   *)(& _df), (unsigned char)4);
    break;
  }
  return;
}
}
void resource_request_start(tResourceRequest *request ) 
{ tBoolean want_it_back ;
  tResourceProtocol rp ;
  tCachedHostInformation *hostinfo ;
  tResourceRequestAction action ;
  tHostAddressLookupFlags half ;
  int tmp ;
  tHostAddressLookupResult res ;
  tHostAddressLookupResult tmp___0 ;
  tDhmNotificationSetup _dns ;
  tDhmNotificationSetup _dns___0 ;
  tResource *tmp___1 ;
  int tmp___2 ;

  {
  want_it_back = (tBoolean )0;
  rp = (request->uri_data)->rp;
  switch ((int )rp) {
  case 4: 
  fetch_local(request);
  break;
  case 5: 
  fetch_about(request);
  break;
  default: 
  tmp___1 = resource_lookup(request);
  if (! ((unsigned int )tmp___1 != (unsigned int )((void *)0))) {
    action = request->action;
    if ((int )action == 2) {
      goto _L;
    } else {
      if ((int )action == 3) {
        _L: /* CIL Label */ 
        tmp = 2;
      } else {
        tmp = 0;
      }
    }
    half = (tHostAddressLookupFlags )tmp;
    tmp___0 = lookup_hostaddress(request, & hostinfo, half);
    res = tmp___0;
    if ((int )res == 0) {
      want_it_back = start_request(request, hostinfo);
    } else {
      if ((int )res == 3) {
        request->state = (unsigned char)5;
        request->lookup = hostinfo;
        while (1) {
          _dns.callback = & request_dns_callback;
          _dns.callback_data = (void *)request;
          _dns.flags = (tDhmNotificationFlags )2;
          _dns.mode = (tDhmNotimode )0;
          dhm_generic_handler(& hostinfo->dhm_data, (void const   *)(& _dns), (unsigned char)3);
          break;
        }
        while (1) {
          _dns___0.callback = & request_dns_vanisher;
          _dns___0.callback_data = (void *)request;
          _dns___0.flags = (tDhmNotificationFlags )1;
          _dns___0.mode = (tDhmNotimode )0;
          dhm_generic_handler(& request->dhm_data, (void const   *)(& _dns___0), (unsigned char)3);
          break;
        }
        want_it_back = (unsigned char)1;
      } else {
        resource_request_set_error(request, (unsigned char)6);
      }
    }
  }
  break;
  }
  if ((int )want_it_back == 0) {
    tmp___2 = 0;
  } else {
    tmp___2 = 1;
  }
  push_to_main_req(request, (unsigned char )tmp___2);
}
}
static void stop_request_dns_lookup(tResourceRequest *request ) 
{ tCachedHostInformation *hostinfo ;
  tDhmNotificationSetup _dns ;
  tDhmNotificationSetup _dns___0 ;

  {
  if ((int )request->state == 5) {
    hostinfo = request->lookup;
    if ((unsigned int )hostinfo != (unsigned int )((void *)0)) {
      while (1) {
        _dns.callback = & request_dns_callback;
        _dns.callback_data = (void *)request;
        _dns.flags = (tDhmNotificationFlags )15;
        _dns.mode = (tDhmNotimode )2;
        dhm_generic_handler(& hostinfo->dhm_data, (void const   *)(& _dns), (unsigned char)3);
        break;
      }
      while (1) {
        _dns___0.callback = & request_dns_vanisher;
        _dns___0.callback_data = (void *)request;
        _dns___0.flags = (tDhmNotificationFlags )15;
        _dns___0.mode = (tDhmNotimode )2;
        dhm_generic_handler(& request->dhm_data, (void const   *)(& _dns___0), (unsigned char)3);
        break;
      }
      request->lookup = (struct tCachedHostInformation *)((void *)0);
    }
    request->state = (unsigned char)4;
  }
  return;
}
}
void resource_request_stop(tResourceRequest *request ) 
{ tResource *resource ;

  {
  resource = request->resource;
  stop_request_dns_lookup(request);
  if ((unsigned int )resource != (unsigned int )((void *)0)) {
    resource_stop(resource);
  }
  push_to_main_req(request, (unsigned char)0);
  return;
}
}
void resource_custom_conn_start(tResource *resource , unsigned char what , void const   *whatever ) 
{ char const   *cmd ;
  unsigned char x ;
  tResourceError ftp_error ;
  tResourceCommandHandshake handshake ;
  char const   *tmp ;

  {
  switch ((int )what) {
  case 0: 
  resource->handshake = (unsigned char)11;
  cmd = (char const   *)whatever;
  tmp = my_strdup(cmd);
  ftp_control_do_start_command(resource, tmp);
  break;
  case 1: 
  handshake = (unsigned char )((int )whatever);
  resource->handshake = handshake;
  x = ftp_control_start_command(resource, & ftp_error);
  if (0) {

  }
  break;
  }
  return;
}
}
static tPortnumber __calculate_portnumber(char const   *name , tPortnumber defaultport ) 
{ struct servent  const  *ent ;
  struct servent  const  *tmp ;
  register unsigned short __v ;
  register unsigned short __x ;
  int tmp___0 ;

  {
  tmp = getservbyname(name, strTcp);
  ent = tmp;
  if ((unsigned int )ent != (unsigned int )((void *)0)) {
    return ((unsigned short )ent->s_port);
  } else {
    __x = defaultport;
    tmp___0 = __builtin_constant_p(__x);
    if (tmp___0) {
      __v = (unsigned short )((((int )__x >> 8) & 255) | (((int )__x & 255) << 8));
    } else {
      __asm__  ("rorw $8, %w0": "=r" (__v): "0" (__x): "cc");
    }
    return (__v);
  }
}
}
static void setup_pipe(int *reader , int *writer ) 
{ int fd_pair[2] ;
  unsigned char count___2 ;
  int *tmp ;
  int tmp___0 ;
  int fd ;
  tBoolean tmp___1 ;

  {
  tmp___0 = pipe(fd_pair);
  if (tmp___0 != 0) {
    tmp = __errno_location();
    fatal_error((*tmp), (char const   *)strResourceError[20]);
  }
  count___2 = (unsigned char)0;
  while ((int )count___2 <= 1) {
    fd = fd_pair[count___2];
    tmp___1 = fd_is_observable(fd);
    if (! tmp___1) {
      fatal_tmofd(fd);
    }
    while (1) {
      break;
    }
    count___2 = (unsigned char )((int )count___2 + 1);
  }
  (*reader) = fd_pair[0];
  (*writer) = fd_pair[1];
  return;
}
}
__inline static  __attribute__((__noreturn__)) void fatal_threading(int err ) ;
__inline static void fatal_threading(int err ) 
{ 

  {
  fatal_error(err, "can\'t create thread");
}
}
static void create_thread(void *(*fn)(void *dummy ) , void *data ) 
{ pthread_t dummy_id ;
  pthread_attr_t thread_attr ;
  int err ;

  {
  err = pthread_attr_init(& thread_attr);
  if (err != 0) {
    goto _L___0;
  } else {
    err = pthread_attr_setdetachstate(& thread_attr, 1);
    if (err != 0) {
      _L___0: /* CIL Label */ 
      goto _L;
    } else {
      err = pthread_create((pthread_t * __restrict  )(& dummy_id), (pthread_attr_t const   * __restrict  )(& thread_attr),
                           fn, (void * __restrict  )data);
      if (err != 0) {
        _L: /* CIL Label */ 
        fatal_threading(err);
      }
    }
  }
  return;
}
}
static tDnsThreadData dns_thread_data  ;
void resource_initialize(void) 
{ struct protoent  const  *proto ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_145___0 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;
  void *__s___2 ;
  void *__s___3 ;
  union __anonunion___u_146 *__u___0 ;
  __uint8_t __c___0 ;
  void *__s___4 ;
  int tmp___0 ;
  void *__s___5 ;
  void *__s___6 ;
  union __anonunion___u_147 *__u___1 ;
  __uint8_t __c___1 ;
  void *__s___7 ;
  int tmp___1 ;

  {
  proto = getprotobyname(strTcp);
  if ((unsigned int )proto != (unsigned int )((void *)0)) {
    ipprotocolnumber_tcp = proto->p_proto;
  }
  setservent(1);
  portnumber_http = __calculate_portnumber(rp_data[2].scheme, (unsigned short)80);
  portnumber_ftp = __calculate_portnumber(rp_data[3].scheme, (unsigned short)21);
  portnumber_finger = __calculate_portnumber(rp_data[6].scheme, (unsigned short)79);
  portnumber_cvs = __calculate_portnumber("cvspserver", (unsigned short)2401);
  portnumber_gopher = __calculate_portnumber(rp_data[12].scheme, (unsigned short)70);
  portnumber_nntp = __calculate_portnumber(strNntp, (unsigned short)119);
  portnumber_pop3 = __calculate_portnumber(strPop3, (unsigned short)110);
  portnumber_https = __calculate_portnumber(rp_data[16].scheme, (unsigned short)443);
  endservent();
  tmp = __builtin_constant_p(sizeof(rc_head));
  if (tmp) {
    if (sizeof(rc_head) <= 16U) {
      if (sizeof(rc_head) == 1U) {
        __s___1 = (void *)(rc_head);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(rc_head);
        __u = (union __anonunion___u_145___0 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(rc_head)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145___0 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145___0 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145___0 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_145___0 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145___0 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145___0 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145___0 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145___0 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145___0 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145___0 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145___0 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145___0 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_145___0 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = (void *)(rc_head);
    __builtin_memset(__s, '\000', (int )sizeof(rc_head));
  }
  tmp___0 = __builtin_constant_p(sizeof(chi_head));
  if (tmp___0) {
    if (sizeof(chi_head) <= 16U) {
      if (sizeof(chi_head) == 1U) {
        __s___4 = (void *)(chi_head);
        (*((__uint8_t *)__s___4)) = (unsigned char)0;
      } else {
        __s___3 = (void *)(chi_head);
        __u___0 = (union __anonunion___u_146 *)__s___3;
        __c___0 = (unsigned char)0;
        switch ((int )sizeof(chi_head)) {
        case 15: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_146 *)((void *)__u___0 + 4);
        case 11: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_146 *)((void *)__u___0 + 4);
        case 7: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_146 *)((void *)__u___0 + 4);
        case 3: 
        __u___0->__usi = (unsigned short )((int )((unsigned short )__c___0) * 257);
        __u___0 = (union __anonunion___u_146 *)((void *)__u___0 + 2);
        __u___0->__uc = __c___0;
        break;
        case 14: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_146 *)((void *)__u___0 + 4);
        case 10: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_146 *)((void *)__u___0 + 4);
        case 6: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_146 *)((void *)__u___0 + 4);
        case 2: 
        __u___0->__usi = (unsigned short )((int )((unsigned short )__c___0) * 257);
        break;
        case 13: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_146 *)((void *)__u___0 + 4);
        case 9: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_146 *)((void *)__u___0 + 4);
        case 5: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_146 *)((void *)__u___0 + 4);
        case 1: 
        __u___0->__uc = __c___0;
        break;
        case 16: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_146 *)((void *)__u___0 + 4);
        case 12: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_146 *)((void *)__u___0 + 4);
        case 8: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        __u___0 = (union __anonunion___u_146 *)((void *)__u___0 + 4);
        case 4: 
        __u___0->__ui = (unsigned int )((int )__c___0 * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ 
    __s___2 = (void *)(chi_head);
    __builtin_memset(__s___2, '\000', (int )sizeof(chi_head));
  }
  tmp___1 = __builtin_constant_p(sizeof(sockaddr_entry_head));
  if (tmp___1) {
    if (sizeof(sockaddr_entry_head) <= 16U) {
      if (sizeof(sockaddr_entry_head) == 1U) {
        __s___7 = (void *)(sockaddr_entry_head);
        (*((__uint8_t *)__s___7)) = (unsigned char)0;
      } else {
        __s___6 = (void *)(sockaddr_entry_head);
        __u___1 = (union __anonunion___u_147 *)__s___6;
        __c___1 = (unsigned char)0;
        switch ((int )sizeof(sockaddr_entry_head)) {
        case 15: 
        __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
        __u___1 = (union __anonunion___u_147 *)((void *)__u___1 + 4);
        case 11: 
        __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
        __u___1 = (union __anonunion___u_147 *)((void *)__u___1 + 4);
        case 7: 
        __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
        __u___1 = (union __anonunion___u_147 *)((void *)__u___1 + 4);
        case 3: 
        __u___1->__usi = (unsigned short )((int )((unsigned short )__c___1) * 257);
        __u___1 = (union __anonunion___u_147 *)((void *)__u___1 + 2);
        __u___1->__uc = __c___1;
        break;
        case 14: 
        __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
        __u___1 = (union __anonunion___u_147 *)((void *)__u___1 + 4);
        case 10: 
        __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
        __u___1 = (union __anonunion___u_147 *)((void *)__u___1 + 4);
        case 6: 
        __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
        __u___1 = (union __anonunion___u_147 *)((void *)__u___1 + 4);
        case 2: 
        __u___1->__usi = (unsigned short )((int )((unsigned short )__c___1) * 257);
        break;
        case 13: 
        __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
        __u___1 = (union __anonunion___u_147 *)((void *)__u___1 + 4);
        case 9: 
        __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
        __u___1 = (union __anonunion___u_147 *)((void *)__u___1 + 4);
        case 5: 
        __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
        __u___1 = (union __anonunion___u_147 *)((void *)__u___1 + 4);
        case 1: 
        __u___1->__uc = __c___1;
        break;
        case 16: 
        __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
        __u___1 = (union __anonunion___u_147 *)((void *)__u___1 + 4);
        case 12: 
        __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
        __u___1 = (union __anonunion___u_147 *)((void *)__u___1 + 4);
        case 8: 
        __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
        __u___1 = (union __anonunion___u_147 *)((void *)__u___1 + 4);
        case 4: 
        __u___1->__ui = (unsigned int )((int )__c___1 * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ 
    __s___5 = (void *)(sockaddr_entry_head);
    __builtin_memset(__s___5, '\000', (int )sizeof(sockaddr_entry_head));
  }
  cookie_initialize();
  setup_pipe(& fd_dns2resource_read, & fd_dns2resource_write);
  setup_pipe(& fd_resource2dns_read, & fd_resource2dns_write);
  fd_observe(fd_dns2resource_read, & resource_dns_handler, (void *)0, (unsigned char)1);
  dns_thread_data.reader = fd_resource2dns_read;
  dns_thread_data.writer = fd_dns2resource_write;
  setup_pipe(& fd_any2main_read, & fd_any2main_write);
  create_thread(& dns_handler_thread, (void *)(& dns_thread_data));
  return;
}
}
void resource_quit(void) 
{ 

  {
  return;
}
}
#pragma merger(0,"/tmp/cil-usQlIjuT.i","-O2")
extern int select(int __nfds , fd_set * __restrict  __readfds , fd_set * __restrict  __writefds ,
                  fd_set * __restrict  __exceptfds , struct timeval * __restrict  __timeout ) ;
extern void *malloc(size_t __size )  __attribute__((__malloc__)) ;
extern void *realloc(void *__ptr , size_t __size )  __attribute__((__malloc__)) ;
extern void free(void *__ptr ) ;
extern  __attribute__((__noreturn__)) void exit(int __status ) ;
extern char *strncpy(char * __restrict  __dest , char const   * __restrict  __src ,
                     size_t __n ) ;
extern void *__rawmemchr(void const   *__s , int __c ) ;
extern int close(int __fd ) ;
extern int open(char const   *__file , int __oflag  , ...) ;
extern int __fxstat(int __ver , int __fildes , struct stat *__stat_buf ) ;
extern int __xstat(int __ver , char const   *__filename , struct stat *__stat_buf ) ;
__inline static int stat__extinline(char const   *__path , struct stat *__statbuf ) 
{ int tmp ;

  {
  tmp = __xstat(3, __path, __statbuf);
  return (tmp);
}
}
__inline static int fstat__extinline(int __fd , struct stat *__statbuf ) 
{ int tmp ;

  {
  tmp = __fxstat(3, __fd, __statbuf);
  return (tmp);
}
}
char const   strGraphics[9] ;
extern int endwin(void) ;
struct termios saved_termios  ;
tColorBitmask color_bitmask[6]  ;
char const   *launch_uri[2]  ;
tConfiguration config  ;
unsigned char is_time_valid ;
void fd_unobserve(int fd ) ;
extern time_t time(time_t *__timer ) ;
int fd_stdin  =    -1;
int fd_stdout  =    -1;
int fd_stderr  =    -1;
int fd_keyboard_input  =    -1;
unsigned char program_mode  =    (tProgramMode )0;
char const   *initial_messages  =    (char const   *)((void *)0);
char const   *initial_console_msgs  =    (char const   *)((void *)0);
unsigned char launch_uri_count  =    (unsigned char)0;
unsigned char do_restore_termios  =    (tBoolean )0;
unsigned char need_tglib_cleanup  =    (tBoolean )0;
unsigned char __lfdmbs  =    (unsigned char)0;
unsigned char use_colors  =    (tBoolean )0;
char const   strRetawq[7]  = {      (char const   )'r',      (char const   )'e',      (char const   )'t',      (char const   )'a', 
        (char const   )'w',      (char const   )'q',      (char const   )'\000'};
char const   strCopyright[81]  = 
  {      (char const   )'r',      (char const   )'e',      (char const   )'t',      (char const   )'a', 
        (char const   )'w',      (char const   )'q',      (char const   )' ',      (char const   )'0', 
        (char const   )'.',      (char const   )'2',      (char const   )'.',      (char const   )'6', 
        (char const   )'b',      (char const   )' ',      (char const   )'-',      (char const   )' ', 
        (char const   )'C',      (char const   )'o',      (char const   )'p',      (char const   )'y', 
        (char const   )'r',      (char const   )'i',      (char const   )'g',      (char const   )'h', 
        (char const   )'t',      (char const   )' ',      (char const   )'(',      (char const   )'C', 
        (char const   )')',      (char const   )' ',      (char const   )'2',      (char const   )'0', 
        (char const   )'0',      (char const   )'1',      (char const   )'-',      (char const   )'2', 
        (char const   )'0',      (char const   )'0',      (char const   )'5',      (char const   )' ', 
        (char const   )'A',      (char const   )'r',      (char const   )'n',      (char const   )'e', 
        (char const   )' ',      (char const   )'T',      (char const   )'h',      (char const   )'o', 
        (char const   )'m',      (char const   )'a',      (char const   )'s',      (char const   )'s', 
        (char const   )'e',      (char const   )'n',      (char const   )' ',      (char const   )'<', 
        (char const   )'a',      (char const   )'r',      (char const   )'n',      (char const   )'e', 
        (char const   )'@',      (char const   )'a',      (char const   )'r',      (char const   )'n', 
        (char const   )'e',      (char const   )'-',      (char const   )'t',      (char const   )'h', 
        (char const   )'o',      (char const   )'m',      (char const   )'a',      (char const   )'s', 
        (char const   )'s',      (char const   )'e',      (char const   )'n',      (char const   )'.', 
        (char const   )'d',      (char const   )'e',      (char const   )'>',      (char const   )'\n', 
        (char const   )'\000'};
char const   strProgramVersion[14]  = 
  {      (char const   )'r',      (char const   )'e',      (char const   )'t',      (char const   )'a', 
        (char const   )'w',      (char const   )'q',      (char const   )' ',      (char const   )'0', 
        (char const   )'.',      (char const   )'2',      (char const   )'.',      (char const   )'6', 
        (char const   )'b',      (char const   )'\000'};
char const   strProgramLegalese[172]  = 
  {      (char const   )'r',      (char const   )'e',      (char const   )'t',      (char const   )'a', 
        (char const   )'w',      (char const   )'q',      (char const   )' ',      (char const   )'i', 
        (char const   )'s',      (char const   )' ',      (char const   )'b',      (char const   )'a', 
        (char const   )'s',      (char const   )'i',      (char const   )'c',      (char const   )'a', 
        (char const   )'l',      (char const   )'l',      (char const   )'y',      (char const   )' ', 
        (char const   )'r',      (char const   )'e',      (char const   )'l',      (char const   )'e', 
        (char const   )'a',      (char const   )'s',      (char const   )'e',      (char const   )'d', 
        (char const   )' ',      (char const   )'u',      (char const   )'n',      (char const   )'d', 
        (char const   )'e',      (char const   )'r',      (char const   )' ',      (char const   )'c', 
        (char const   )'e',      (char const   )'r',      (char const   )'t',      (char const   )'a', 
        (char const   )'i',      (char const   )'n',      (char const   )' ',      (char const   )'v', 
        (char const   )'e',      (char const   )'r',      (char const   )'s',      (char const   )'i', 
        (char const   )'o',      (char const   )'n',      (char const   )'s',      (char const   )' ', 
        (char const   )'o',      (char const   )'f',      (char const   )' ',      (char const   )'t', 
        (char const   )'h',      (char const   )'e',      (char const   )'\n',      (char const   )'G', 
        (char const   )'N',      (char const   )'U',      (char const   )' ',      (char const   )'G', 
        (char const   )'e',      (char const   )'n',      (char const   )'e',      (char const   )'r', 
        (char const   )'a',      (char const   )'l',      (char const   )' ',      (char const   )'P', 
        (char const   )'u',      (char const   )'b',      (char const   )'l',      (char const   )'i', 
        (char const   )'c',      (char const   )' ',      (char const   )'L',      (char const   )'i', 
        (char const   )'c',      (char const   )'e',      (char const   )'n',      (char const   )'s', 
        (char const   )'e',      (char const   )' ',      (char const   )'a',      (char const   )'n', 
        (char const   )'d',      (char const   )' ',      (char const   )'W',      (char const   )'I', 
        (char const   )'T',      (char const   )'H',      (char const   )'O',      (char const   )'U', 
        (char const   )'T',      (char const   )' ',      (char const   )'A',      (char const   )'N', 
        (char const   )'Y',      (char const   )' ',      (char const   )'W',      (char const   )'A', 
        (char const   )'R',      (char const   )'R',      (char const   )'A',      (char const   )'N', 
        (char const   )'T',      (char const   )'Y',      (char const   )'.',      (char const   )'\n', 
        (char const   )'T',      (char const   )'h',      (char const   )'e',      (char const   )' ', 
        (char const   )'p',      (char const   )'r',      (char const   )'o',      (char const   )'j', 
        (char const   )'e',      (char const   )'c',      (char const   )'t',      (char const   )' ', 
        (char const   )'h',      (char const   )'o',      (char const   )'m',      (char const   )'e', 
        (char const   )' ',      (char const   )'p',      (char const   )'a',      (char const   )'g', 
        (char const   )'e',      (char const   )' ',      (char const   )'i',      (char const   )'s', 
        (char const   )' ',      (char const   )'<',      (char const   )'h',      (char const   )'t', 
        (char const   )'t',      (char const   )'p',      (char const   )':',      (char const   )'/', 
        (char const   )'/',      (char const   )'r',      (char const   )'e',      (char const   )'t', 
        (char const   )'a',      (char const   )'w',      (char const   )'q',      (char const   )'.', 
        (char const   )'s',      (char const   )'o',      (char const   )'u',      (char const   )'r', 
        (char const   )'c',      (char const   )'e',      (char const   )'f',      (char const   )'o', 
        (char const   )'r',      (char const   )'g',      (char const   )'e',      (char const   )'.', 
        (char const   )'n',      (char const   )'e',      (char const   )'t',      (char const   )'/', 
        (char const   )'>',      (char const   )'.',      (char const   )'\n',      (char const   )'\000'};
char const   strEmpty[1]  = {      (char const   )'\000'};
char const   strNewline[2]  = {      (char const   )'\n',      (char const   )'\000'};
char const   strMinus[2]  = {      (char const   )'-',      (char const   )'\000'};
char const   strSlash[2]  = {      (char const   )'/',      (char const   )'\000'};
char const   strAsterisk[2]  = {      (char const   )'*',      (char const   )'\000'};
char const   strLt[2]  = {      (char const   )'<',      (char const   )'\000'};
char const   strGt[2]  = {      (char const   )'>',      (char const   )'\000'};
char const   strHm[2]  = {      (char const   )'#',      (char const   )'\000'};
char const   strQm[2]  = {      (char const   )'?',      (char const   )'\000'};
char const   strDoubleQuote[2]  = {      (char const   )'\"',      (char const   )'\000'};
char const   strSpacedDash[4]  = {      (char const   )' ',      (char const   )'-',      (char const   )' ',      (char const   )'\000'};
char const   strDoubleDot[3]  = {      (char const   )'.',      (char const   )'.',      (char const   )'\000'};
char const   str1dot0[4]  = {      (char const   )'1',      (char const   )'.',      (char const   )'0',      (char const   )'\000'};
char const   str1dot1[4]  = {      (char const   )'1',      (char const   )'.',      (char const   )'1',      (char const   )'\000'};
char const   strHexnum[17]  = 
  {      (char const   )'0',      (char const   )'1',      (char const   )'2',      (char const   )'3', 
        (char const   )'4',      (char const   )'5',      (char const   )'6',      (char const   )'7', 
        (char const   )'8',      (char const   )'9',      (char const   )'a',      (char const   )'b', 
        (char const   )'c',      (char const   )'d',      (char const   )'e',      (char const   )'f', 
        (char const   )'\000'};
static char const   strPercld[4]  = {      (char const   )'%',      (char const   )'l',      (char const   )'d',      (char const   )'\000'};
char const   strPercsPercs[5]  = {      (char const   )'%',      (char const   )'s',      (char const   )'%',      (char const   )'s', 
        (char const   )'\000'};
char const   strPercd[3]  = {      (char const   )'%',      (char const   )'d',      (char const   )'\000'};
char const   strBracedNumstr[9]  = 
  {      (char const   )' ',      (char const   )'(',      (char const   )'%',      (char const   )'d', 
        (char const   )' ',      (char const   )'%',      (char const   )'s',      (char const   )')', 
        (char const   )'\000'};
char const   strA[2]  = {      (char const   )'a',      (char const   )'\000'};
char const   strShtml[6]  = {      (char const   )'s',      (char const   )'h',      (char const   )'t',      (char const   )'m', 
        (char const   )'l',      (char const   )'\000'};
char const   strReset[6]  = {      (char const   )'r',      (char const   )'e',      (char const   )'s',      (char const   )'e', 
        (char const   )'t',      (char const   )'\000'};
char const   strSelect[7]  = {      (char const   )'s',      (char const   )'e',      (char const   )'l',      (char const   )'e', 
        (char const   )'c',      (char const   )'t',      (char const   )'\000'};
char const   strSubmit[7]  = {      (char const   )'s',      (char const   )'u',      (char const   )'b',      (char const   )'m', 
        (char const   )'i',      (char const   )'t',      (char const   )'\000'};
char const   strOn[3]  = {      (char const   )'o',      (char const   )'n',      (char const   )'\000'};
char const   strClose[6]  = {      (char const   )'c',      (char const   )'l',      (char const   )'o',      (char const   )'s', 
        (char const   )'e',      (char const   )'\000'};
char const   strQuit[5]  = {      (char const   )'q',      (char const   )'u',      (char const   )'i',      (char const   )'t', 
        (char const   )'\000'};
char const   strGet[4]  = {      (char const   )'G',      (char const   )'E',      (char const   )'T',      (char const   )'\000'};
char const   strPost[5]  = {      (char const   )'P',      (char const   )'O',      (char const   )'S',      (char const   )'T', 
        (char const   )'\000'};
char const   strLocalhost[10]  = 
  {      (char const   )'l',      (char const   )'o',      (char const   )'c',      (char const   )'a', 
        (char const   )'l',      (char const   )'h',      (char const   )'o',      (char const   )'s', 
        (char const   )'t',      (char const   )'\000'};
char const   strOptHelp[7]  = {      (char const   )'-',      (char const   )'-',      (char const   )'h',      (char const   )'e', 
        (char const   )'l',      (char const   )'p',      (char const   )'\000'};
char const   strOptVersion[10]  = 
  {      (char const   )'-',      (char const   )'-',      (char const   )'v',      (char const   )'e', 
        (char const   )'r',      (char const   )'s',      (char const   )'i',      (char const   )'o', 
        (char const   )'n',      (char const   )'\000'};
char const   strText[5]  = {      (char const   )'t',      (char const   )'e',      (char const   )'x',      (char const   )'t', 
        (char const   )'\000'};
char const   strGraphics[9]  = 
  {      (char const   )'g',      (char const   )'r',      (char const   )'a',      (char const   )'p', 
        (char const   )'h',      (char const   )'i',      (char const   )'c',      (char const   )'s', 
        (char const   )'\000'};
char const   strUnknown[10]  = 
  {      (char const   )'(',      (char const   )'u',      (char const   )'n',      (char const   )'k', 
        (char const   )'n',      (char const   )'o',      (char const   )'w',      (char const   )'n', 
        (char const   )')',      (char const   )'\000'};
char const   strCheckbox[9]  = 
  {      (char const   )'c',      (char const   )'h',      (char const   )'e',      (char const   )'c', 
        (char const   )'k',      (char const   )'b',      (char const   )'o',      (char const   )'x', 
        (char const   )'\000'};
char const   strBracedDisabled[11]  = 
  {      (char const   )'(',      (char const   )'d',      (char const   )'i',      (char const   )'s', 
        (char const   )'a',      (char const   )'b',      (char const   )'l',      (char const   )'e', 
        (char const   )'d',      (char const   )')',      (char const   )'\000'};
char const   strButton[7]  = {      (char const   )'b',      (char const   )'u',      (char const   )'t',      (char const   )'t', 
        (char const   )'o',      (char const   )'n',      (char const   )'\000'};
char const   strImage[6]  = {      (char const   )'i',      (char const   )'m',      (char const   )'a',      (char const   )'g', 
        (char const   )'e',      (char const   )'\000'};
char const   strYes[4]  = {      (char const   )'y',      (char const   )'e',      (char const   )'s',      (char const   )'\000'};
char const   strNo[3]  = {      (char const   )'n',      (char const   )'o',      (char const   )'\000'};
char const   strFileUc[5]  = {      (char const   )'F',      (char const   )'i',      (char const   )'l',      (char const   )'e', 
        (char const   )'\000'};
char const   strDirectoryUc[10]  = 
  {      (char const   )'D',      (char const   )'i',      (char const   )'r',      (char const   )'e', 
        (char const   )'c',      (char const   )'t',      (char const   )'o',      (char const   )'r', 
        (char const   )'y',      (char const   )'\000'};
char const   strLink[5]  = {      (char const   )'l',      (char const   )'i',      (char const   )'n',      (char const   )'k', 
        (char const   )'\000'};
char const   strLoginFailed[13]  = 
  {      (char const   )'L',      (char const   )'o',      (char const   )'g',      (char const   )'i', 
        (char const   )'n',      (char const   )' ',      (char const   )'f',      (char const   )'a', 
        (char const   )'i',      (char const   )'l',      (char const   )'e',      (char const   )'d', 
        (char const   )'\000'};
char const   strFwdact[44]  = 
  {      (char const   )'f',      (char const   )'e',      (char const   )'a',      (char const   )'t', 
        (char const   )'u',      (char const   )'r',      (char const   )'e',      (char const   )' ', 
        (char const   )'\"',      (char const   )'%',      (char const   )'s',      (char const   )'\"', 
        (char const   )' ',      (char const   )'w',      (char const   )'a',      (char const   )'s', 
        (char const   )' ',      (char const   )'d',      (char const   )'i',      (char const   )'s', 
        (char const   )'a',      (char const   )'b',      (char const   )'l',      (char const   )'e', 
        (char const   )'d',      (char const   )' ',      (char const   )'a',      (char const   )'t', 
        (char const   )' ',      (char const   )'c',      (char const   )'o',      (char const   )'m', 
        (char const   )'p',      (char const   )'i',      (char const   )'l',      (char const   )'e', 
        (char const   )'-',      (char const   )'t',      (char const   )'i',      (char const   )'m', 
        (char const   )'e',      (char const   )'%',      (char const   )'s',      (char const   )'\000'};
char const   strByte[5]  = {      (char const   )'b',      (char const   )'y',      (char const   )'t',      (char const   )'e', 
        (char const   )'\000'};
char const   strBytes[6]  = {      (char const   )'b',      (char const   )'y',      (char const   )'t',      (char const   )'e', 
        (char const   )'s',      (char const   )'\000'};
char const   strOff[4]  = {      (char const   )'o',      (char const   )'f',      (char const   )'f',      (char const   )'\000'};
char const   strBadValue[10]  = 
  {      (char const   )'b',      (char const   )'a',      (char const   )'d',      (char const   )' ', 
        (char const   )'v',      (char const   )'a',      (char const   )'l',      (char const   )'u', 
        (char const   )'e',      (char const   )'\000'};
char const   strErrorTrail[17]  = 
  {      (char const   )';',      (char const   )' ',      (char const   )'e',      (char const   )'r', 
        (char const   )'r',      (char const   )'o',      (char const   )'r',      (char const   )' ', 
        (char const   )'#',      (char const   )'%',      (char const   )'d',      (char const   )',', 
        (char const   )' ',      (char const   )'%',      (char const   )'s',      (char const   )'\n', 
        (char const   )'\000'};
char const   strFexecext[47]  = 
  {      (char const   )'F',      (char const   )'(',      (char const   )'t',      (char const   )'h', 
        (char const   )'i',      (char const   )'s',      (char const   )' ',      (char const   )'k', 
        (char const   )'i',      (char const   )'n',      (char const   )'d',      (char const   )' ', 
        (char const   )'o',      (char const   )'f',      (char const   )')',      (char const   )' ', 
        (char const   )'e',      (char const   )'x',      (char const   )'e',      (char const   )'c', 
        (char const   )'u',      (char const   )'t',      (char const   )'i',      (char const   )'o', 
        (char const   )'n',      (char const   )' ',      (char const   )'o',      (char const   )'f', 
        (char const   )' ',      (char const   )'e',      (char const   )'x',      (char const   )'t', 
        (char const   )'e',      (char const   )'r',      (char const   )'n',      (char const   )'a', 
        (char const   )'l',      (char const   )' ',      (char const   )'p',      (char const   )'r', 
        (char const   )'o',      (char const   )'g',      (char const   )'r',      (char const   )'a', 
        (char const   )'m',      (char const   )'s',      (char const   )'\000'};
char const   strConsoleDiscard[5]  = {      (char const   )'c',      (char const   )'d',      (char const   )'i',      (char const   )'s', 
        (char const   )'\000'};
char const   strHttp[5]  = {      (char const   )'h',      (char const   )'t',      (char const   )'t',      (char const   )'p', 
        (char const   )'\000'};
char const   strFtp[4]  = {      (char const   )'f',      (char const   )'t',      (char const   )'p',      (char const   )'\000'};
char const   strLocal[6]  = {      (char const   )'l',      (char const   )'o',      (char const   )'c',      (char const   )'a', 
        (char const   )'l',      (char const   )'\000'};
char const   strFile[5]  = {      (char const   )'f',      (char const   )'i',      (char const   )'l',      (char const   )'e', 
        (char const   )'\000'};
char const   strAbout[6]  = {      (char const   )'a',      (char const   )'b',      (char const   )'o',      (char const   )'u', 
        (char const   )'t',      (char const   )'\000'};
char const   strFinger[7]  = {      (char const   )'f',      (char const   )'i',      (char const   )'n',      (char const   )'g', 
        (char const   )'e',      (char const   )'r',      (char const   )'\000'};
char const   strLocalCgi[10]  = 
  {      (char const   )'l',      (char const   )'o',      (char const   )'c',      (char const   )'a', 
        (char const   )'l',      (char const   )'-',      (char const   )'c',      (char const   )'g', 
        (char const   )'i',      (char const   )'\000'};
char const   strNntp[5]  = {      (char const   )'n',      (char const   )'n',      (char const   )'t',      (char const   )'p', 
        (char const   )'\000'};
char const   strNews[5]  = {      (char const   )'n',      (char const   )'e',      (char const   )'w',      (char const   )'s', 
        (char const   )'\000'};
char const   strCvs[4]  = {      (char const   )'c',      (char const   )'v',      (char const   )'s',      (char const   )'\000'};
char const   strGopher[7]  = {      (char const   )'g',      (char const   )'o',      (char const   )'p',      (char const   )'h', 
        (char const   )'e',      (char const   )'r',      (char const   )'\000'};
char const   strInfo[5]  = {      (char const   )'i',      (char const   )'n',      (char const   )'f',      (char const   )'o', 
        (char const   )'\000'};
char const   strMailto[7]  = {      (char const   )'m',      (char const   )'a',      (char const   )'i',      (char const   )'l', 
        (char const   )'t',      (char const   )'o',      (char const   )'\000'};
char const   strJavascript[11]  = 
  {      (char const   )'j',      (char const   )'a',      (char const   )'v',      (char const   )'a', 
        (char const   )'s',      (char const   )'c',      (char const   )'r',      (char const   )'i', 
        (char const   )'p',      (char const   )'t',      (char const   )'\000'};
char const   strHttps[6]  = {      (char const   )'h',      (char const   )'t',      (char const   )'t',      (char const   )'p', 
        (char const   )'s',      (char const   )'\000'};
char const   strFtps[5]  = {      (char const   )'f',      (char const   )'t',      (char const   )'p',      (char const   )'s', 
        (char const   )'\000'};
char const   strPop[4]  = {      (char const   )'p',      (char const   )'o',      (char const   )'p',      (char const   )'\000'};
char const   strPops[5]  = {      (char const   )'p',      (char const   )'o',      (char const   )'p',      (char const   )'s', 
        (char const   )'\000'};
char const   strExecextShell[14]  = 
  {      (char const   )'e',      (char const   )'x',      (char const   )'e',      (char const   )'c', 
        (char const   )'e',      (char const   )'x',      (char const   )'t',      (char const   )'-', 
        (char const   )'s',      (char const   )'h',      (char const   )'e',      (char const   )'l', 
        (char const   )'l',      (char const   )'\000'};
int streqcase3(char const   *_str1 , char const   *_str2 ) 
{ unsigned char const   *str1 ;
  unsigned char const   *str2 ;
  unsigned char ch1 ;
  unsigned char ch2 ;
  unsigned char const   *tmp ;
  unsigned char const   *tmp___0 ;
  int tmp___1 ;

  {
  str1 = (unsigned char const   *)_str1;
  str2 = (unsigned char const   *)_str2;
  while (1) {
    tmp = str1;
    str1 ++;
    ch1 = (unsigned char )(*tmp);
    tmp___0 = str2;
    str2 ++;
    ch2 = (unsigned char )(*tmp___0);
    if ((int )ch1 == 0) {
      break;
    }
    if ((int )ch1 >= 65) {
      if ((int )ch1 <= 90) {
        tmp___1 = (int )ch1 + 32;
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      tmp___1 = (int )ch1;
    }
    ch1 = (unsigned char )tmp___1;
    if (! ((int )ch1 == (int )ch2)) {
      break;
    }
  }
  return ((int )ch1 - (int )ch2);
}
}
int strneqcase3(char const   *_str1 , char const   *_str2 , size_t maxlen ) 
{ int retval ;
  unsigned char const   *str1 ;
  unsigned char const   *str2 ;
  unsigned char ch1 ;
  unsigned char ch2 ;
  unsigned char const   *tmp ;
  unsigned char const   *tmp___0 ;
  int tmp___1 ;

  {
  if (maxlen <= 0U) {
    retval = 0;
  } else {
    str1 = (unsigned char const   *)_str1;
    str2 = (unsigned char const   *)_str2;
    while (1) {
      tmp = str1;
      str1 ++;
      ch1 = (unsigned char )(*tmp);
      tmp___0 = str2;
      str2 ++;
      ch2 = (unsigned char )(*tmp___0);
      if ((int )ch1 == 0) {
        break;
      }
      if ((int )ch1 >= 65) {
        if ((int )ch1 <= 90) {
          tmp___1 = (int )ch1 + 32;
        } else {
          goto _L;
        }
      } else {
        _L: /* CIL Label */ 
        tmp___1 = (int )ch1;
      }
      ch1 = (unsigned char )tmp___1;
      if ((int )ch1 == (int )ch2) {
        maxlen --;
        if (! (maxlen > 0U)) {
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
        break;
      }
    }
    retval = (int )ch1 - (int )ch2;
  }
  return (retval);
}
}
void my_atoi(char const   *src , int *value , char const   **next , int maxvalue ) 
{ int v ;
  char ch ;

  {
  v = 0;
  while (1) {
    ch = (char )(*src);
    if ((int )ch >= 48) {
      if ((int )ch <= 57) {
        v = 10 * v + ((int )ch - 48);
        src ++;
        if (v > maxvalue) {
          v = maxvalue;
          while (1) {
            if ((int const   )(*src) >= 48) {
              if (! ((int const   )(*src) <= 57)) {
                goto _L;
              }
            } else {
              _L: /* CIL Label */ 
              break;
            }
            src ++;
          }
          goto done;
        }
      } else {
        goto done;
      }
    } else {
      done: 
      (*value) = v;
      if ((unsigned int )next != (unsigned int )((void *)0)) {
        (*next) = src;
      }
      return;
    }
  }
  return;
}
}
char *my_strnchr(char const   *str , int _ch , int count___2 ) 
{ char ch ;
  char c ;
  char const   *tmp ;
  int tmp___0 ;

  {
  ch = (char )_ch;
  while (1) {
    tmp___0 = count___2;
    count___2 --;
    if (! (tmp___0 > 0)) {
      break;
    }
    tmp = str;
    str ++;
    c = (char )(*tmp);
    if ((int )c == 0) {
      break;
    } else {
      if ((int )c == (int )ch) {
        return ((char *)str - 1);
      }
    }
  }
  return ((char *)((void *)0));
}
}
char *my_strncasestr(char const   *haystack , char const   *needle , size_t hlen ) 
{ size_t nlen ;
  size_t tmp ;
  size_t h___0 ;
  size_t n ;
  int tmp___0 ;
  int tmp___1 ;

  {
  tmp = strlen(needle);
  nlen = tmp;
  h___0 = (size_t )0;
  n = (size_t )0;
  while (1) {
    if ((int const   )(*(haystack + h___0)) >= 65) {
      if ((int const   )(*(haystack + h___0)) <= 90) {
        tmp___0 = (int const   )(*(haystack + h___0)) + 32;
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      tmp___0 = (int const   )(*(haystack + h___0));
    }
    if ((int const   )(*(needle + n)) >= 65) {
      if ((int const   )(*(needle + n)) <= 90) {
        tmp___1 = (int const   )(*(needle + n)) + 32;
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      tmp___1 = (int const   )(*(needle + n));
    }
    if (tmp___0 == tmp___1) {
      n ++;
    } else {
      h___0 -= n;
      n = 0U;
    }
    h___0 ++;
    if (n < nlen) {
      if (! (h___0 < hlen)) {
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
      break;
    }
  }
  if (n >= nlen) {
    return ((((char *)haystack + h___0) - nlen) - 1);
  } else {
    return ((char *)((void *)0));
  }
}
}
tBoolean is_suffix(char const   *str , char const   *suff ) 
{ size_t str_len ;
  size_t tmp ;
  size_t suff_len ;
  size_t tmp___0 ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___31 ;
  size_t tmp___32 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___47 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;
  int tmp___58 ;
  int tmp___59 ;

  {
  tmp = strlen(str);
  str_len = tmp;
  tmp___0 = strlen(suff);
  suff_len = tmp___0;
  if (str_len >= suff_len) {
    tmp___57 = __builtin_constant_p(str + (str_len - suff_len));
    if (tmp___57) {
      tmp___58 = __builtin_constant_p(suff);
      if (tmp___58) {
        __s1_len = strlen(str + (str_len - suff_len));
        __s2_len = strlen(suff);
        if (! ((unsigned int )((void const   *)((str + (str_len - suff_len)) + 1)) -
               (unsigned int )((void const   *)(str + (str_len - suff_len))) == 1U)) {
          goto _L___172;
        } else {
          if (__s1_len >= 4U) {
            _L___172: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)(suff + 1)) - (unsigned int )((void const   *)suff) ==
                   1U)) {
              goto _L___171;
            } else {
              if (__s2_len >= 4U) {
                _L___171: /* CIL Label */ 
                tmp___59 = 1;
              } else {
                goto _L___170;
              }
            }
          } else {
            _L___170: /* CIL Label */ 
            tmp___59 = 0;
          }
        }
        if (tmp___59) {
          if (__s1_len < __s2_len) {
            tmp___32 = __s1_len;
          } else {
            tmp___32 = __s2_len;
          }
          tmp___31 = memcmp((void const   *)(str + (str_len - suff_len)), (void const   *)suff,
                            tmp___32 + 1U);
        } else {
          goto _L___174;
        }
      } else {
        goto _L___174;
      }
    } else {
      _L___174: /* CIL Label */ 
      tmp___56 = __builtin_constant_p(str + (str_len - suff_len));
      if (tmp___56) {
        if ((unsigned int )((void const   *)((str + (str_len - suff_len)) + 1)) -
            (unsigned int )((void const   *)(str + (str_len - suff_len))) == 1U) {
          __s1_len = strlen(str + (str_len - suff_len));
          if (__s1_len < 4U) {
            tmp___47 = __builtin_constant_p(suff);
            if (tmp___47) {
              if ((unsigned int )((void const   *)(suff + 1)) - (unsigned int )((void const   *)suff) ==
                  1U) {
                __result___37 = (int )((int const   )(*((unsigned char const   *)(str +
                                                                                  (str_len -
                                                                                   suff_len)) +
                                                        0)) - (int const   )(*((unsigned char const   *)suff +
                                                                               0)));
                if (__s1_len > 0U) {
                  if (__result___37 == 0) {
                    __result___37 = (int )((int const   )(*((unsigned char const   *)(str +
                                                                                      (str_len -
                                                                                       suff_len)) +
                                                            1)) - (int const   )(*((unsigned char const   *)suff +
                                                                                   1)));
                    if (__s1_len > 1U) {
                      if (__result___37 == 0) {
                        __result___37 = (int )((int const   )(*((unsigned char const   *)(str +
                                                                                          (str_len -
                                                                                           suff_len)) +
                                                                2)) - (int const   )(*((unsigned char const   *)suff +
                                                                                       2)));
                        if (__s1_len > 2U) {
                          if (__result___37 == 0) {
                            __result___37 = (int )((int const   )(*((unsigned char const   *)(str +
                                                                                              (str_len -
                                                                                               suff_len)) +
                                                                    3)) - (int const   )(*((unsigned char const   *)suff +
                                                                                           3)));
                          } else {
                            goto _L___133;
                          }
                        } else {
                          _L___133: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___134;
                      }
                    } else {
                      _L___134: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___135;
                  }
                } else {
                  _L___135: /* CIL Label */ ;
                }
                tmp___31 = __result___37;
              } else {
                goto _L___139;
              }
            } else {
              _L___139: /* CIL Label */ 
              __s2___6 = (unsigned char const   *)suff;
              __result___38 = (int )((int const   )(*((unsigned char const   *)(str +
                                                                                (str_len -
                                                                                 suff_len)) +
                                                      0)) - (int const   )(*(__s2___6 +
                                                                             0)));
              if (__s1_len > 0U) {
                if (__result___38 == 0) {
                  __result___38 = (int )((int const   )(*((unsigned char const   *)(str +
                                                                                    (str_len -
                                                                                     suff_len)) +
                                                          1)) - (int const   )(*(__s2___6 +
                                                                                 1)));
                  if (__s1_len > 1U) {
                    if (__result___38 == 0) {
                      __result___38 = (int )((int const   )(*((unsigned char const   *)(str +
                                                                                        (str_len -
                                                                                         suff_len)) +
                                                              2)) - (int const   )(*(__s2___6 +
                                                                                     2)));
                      if (__s1_len > 2U) {
                        if (__result___38 == 0) {
                          __result___38 = (int )((int const   )(*((unsigned char const   *)(str +
                                                                                            (str_len -
                                                                                             suff_len)) +
                                                                  3)) - (int const   )(*(__s2___6 +
                                                                                         3)));
                        } else {
                          goto _L___136;
                        }
                      } else {
                        _L___136: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___137;
                    }
                  } else {
                    _L___137: /* CIL Label */ ;
                  }
                } else {
                  goto _L___138;
                }
              } else {
                _L___138: /* CIL Label */ ;
              }
              tmp___31 = __result___38;
            }
          } else {
            goto _L___169;
          }
        } else {
          goto _L___169;
        }
      } else {
        _L___169: /* CIL Label */ 
        tmp___55 = __builtin_constant_p(suff);
        if (tmp___55) {
          if ((unsigned int )((void const   *)(suff + 1)) - (unsigned int )((void const   *)suff) ==
              1U) {
            __s2_len = strlen(suff);
            if (__s2_len < 4U) {
              tmp___54 = __builtin_constant_p(str + (str_len - suff_len));
              if (tmp___54) {
                if ((unsigned int )((void const   *)((str + (str_len - suff_len)) +
                                                     1)) - (unsigned int )((void const   *)(str +
                                                                                            (str_len -
                                                                                             suff_len))) ==
                    1U) {
                  __result___45 = (int )((int const   )(*((unsigned char const   *)(str +
                                                                                    (str_len -
                                                                                     suff_len)) +
                                                          0)) - (int const   )(*((unsigned char const   *)suff +
                                                                                 0)));
                  if (__s2_len > 0U) {
                    if (__result___45 == 0) {
                      __result___45 = (int )((int const   )(*((unsigned char const   *)(str +
                                                                                        (str_len -
                                                                                         suff_len)) +
                                                              1)) - (int const   )(*((unsigned char const   *)suff +
                                                                                     1)));
                      if (__s2_len > 1U) {
                        if (__result___45 == 0) {
                          __result___45 = (int )((int const   )(*((unsigned char const   *)(str +
                                                                                            (str_len -
                                                                                             suff_len)) +
                                                                  2)) - (int const   )(*((unsigned char const   *)suff +
                                                                                         2)));
                          if (__s2_len > 2U) {
                            if (__result___45 == 0) {
                              __result___45 = (int )((int const   )(*((unsigned char const   *)(str +
                                                                                                (str_len -
                                                                                                 suff_len)) +
                                                                      3)) - (int const   )(*((unsigned char const   *)suff +
                                                                                             3)));
                            } else {
                              goto _L___159;
                            }
                          } else {
                            _L___159: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___160;
                        }
                      } else {
                        _L___160: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___161;
                    }
                  } else {
                    _L___161: /* CIL Label */ ;
                  }
                  tmp___31 = __result___45;
                } else {
                  goto _L___165;
                }
              } else {
                _L___165: /* CIL Label */ 
                __s1___14 = (unsigned char const   *)(str + (str_len - suff_len));
                __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)suff +
                                                                                           0)));
                if (__s2_len > 0U) {
                  if (__result___46 == 0) {
                    __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)suff +
                                                                                               1)));
                    if (__s2_len > 1U) {
                      if (__result___46 == 0) {
                        __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                               (int const   )(*((unsigned char const   *)suff +
                                                                2)));
                        if (__s2_len > 2U) {
                          if (__result___46 == 0) {
                            __result___46 = (int )((int const   )(*(__s1___14 + 3)) -
                                                   (int const   )(*((unsigned char const   *)suff +
                                                                    3)));
                          } else {
                            goto _L___162;
                          }
                        } else {
                          _L___162: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___163;
                      }
                    } else {
                      _L___163: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___164;
                  }
                } else {
                  _L___164: /* CIL Label */ ;
                }
                tmp___31 = __result___46;
              }
            } else {
              goto _L___167;
            }
          } else {
            goto _L___167;
          }
        } else {
          _L___167: /* CIL Label */ 
          tmp___31 = strcmp(str + (str_len - suff_len), suff);
        }
      }
    }
    if (tmp___31) {
      goto _L___175;
    } else {
      return ((unsigned char)1);
    }
  } else {
    _L___175: /* CIL Label */ 
    return ((unsigned char)0);
  }
}
}
tBoolean my_pattern_matcher(char const   *pattern___0 , char const   *str ) 
{ tBoolean tmp ;
  size_t __s1_len ;
  size_t __s2_len ;
  int tmp___30 ;
  size_t tmp___31 ;
  register int __result___37 ;
  unsigned char const   *__s2___6 ;
  register int __result___38 ;
  int tmp___46 ;
  register int __result___45 ;
  unsigned char const   *__s1___14 ;
  register int __result___46 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;
  int tmp___58 ;

  {
  if ((int const   )(*pattern___0) == 42) {
    tmp = is_suffix(str, pattern___0 + 1);
    return (tmp);
  } else {
    tmp___56 = __builtin_constant_p(pattern___0);
    if (tmp___56) {
      tmp___57 = __builtin_constant_p(str);
      if (tmp___57) {
        __s1_len = strlen(pattern___0);
        __s2_len = strlen(str);
        if (! ((unsigned int )((void const   *)(pattern___0 + 1)) - (unsigned int )((void const   *)pattern___0) ==
               1U)) {
          goto _L___172;
        } else {
          if (__s1_len >= 4U) {
            _L___172: /* CIL Label */ 
            if (! ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                   1U)) {
              goto _L___171;
            } else {
              if (__s2_len >= 4U) {
                _L___171: /* CIL Label */ 
                tmp___58 = 1;
              } else {
                goto _L___170;
              }
            }
          } else {
            _L___170: /* CIL Label */ 
            tmp___58 = 0;
          }
        }
        if (tmp___58) {
          if (__s1_len < __s2_len) {
            tmp___31 = __s1_len;
          } else {
            tmp___31 = __s2_len;
          }
          tmp___30 = memcmp((void const   *)pattern___0, (void const   *)str, tmp___31 +
                                                                              1U);
        } else {
          goto _L___174;
        }
      } else {
        goto _L___174;
      }
    } else {
      _L___174: /* CIL Label */ 
      tmp___55 = __builtin_constant_p(pattern___0);
      if (tmp___55) {
        if ((unsigned int )((void const   *)(pattern___0 + 1)) - (unsigned int )((void const   *)pattern___0) ==
            1U) {
          __s1_len = strlen(pattern___0);
          if (__s1_len < 4U) {
            tmp___46 = __builtin_constant_p(str);
            if (tmp___46) {
              if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
                  1U) {
                __result___37 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                        0)) - (int const   )(*((unsigned char const   *)str +
                                                                               0)));
                if (__s1_len > 0U) {
                  if (__result___37 == 0) {
                    __result___37 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                            1)) - (int const   )(*((unsigned char const   *)str +
                                                                                   1)));
                    if (__s1_len > 1U) {
                      if (__result___37 == 0) {
                        __result___37 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                2)) - (int const   )(*((unsigned char const   *)str +
                                                                                       2)));
                        if (__s1_len > 2U) {
                          if (__result___37 == 0) {
                            __result___37 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                    3)) - (int const   )(*((unsigned char const   *)str +
                                                                                           3)));
                          } else {
                            goto _L___133;
                          }
                        } else {
                          _L___133: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___134;
                      }
                    } else {
                      _L___134: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___135;
                  }
                } else {
                  _L___135: /* CIL Label */ ;
                }
                tmp___30 = __result___37;
              } else {
                goto _L___139;
              }
            } else {
              _L___139: /* CIL Label */ 
              __s2___6 = (unsigned char const   *)str;
              __result___38 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                      0)) - (int const   )(*(__s2___6 +
                                                                             0)));
              if (__s1_len > 0U) {
                if (__result___38 == 0) {
                  __result___38 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                          1)) - (int const   )(*(__s2___6 +
                                                                                 1)));
                  if (__s1_len > 1U) {
                    if (__result___38 == 0) {
                      __result___38 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                              2)) - (int const   )(*(__s2___6 +
                                                                                     2)));
                      if (__s1_len > 2U) {
                        if (__result___38 == 0) {
                          __result___38 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                  3)) - (int const   )(*(__s2___6 +
                                                                                         3)));
                        } else {
                          goto _L___136;
                        }
                      } else {
                        _L___136: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___137;
                    }
                  } else {
                    _L___137: /* CIL Label */ ;
                  }
                } else {
                  goto _L___138;
                }
              } else {
                _L___138: /* CIL Label */ ;
              }
              tmp___30 = __result___38;
            }
          } else {
            goto _L___169;
          }
        } else {
          goto _L___169;
        }
      } else {
        _L___169: /* CIL Label */ 
        tmp___54 = __builtin_constant_p(str);
        if (tmp___54) {
          if ((unsigned int )((void const   *)(str + 1)) - (unsigned int )((void const   *)str) ==
              1U) {
            __s2_len = strlen(str);
            if (__s2_len < 4U) {
              tmp___53 = __builtin_constant_p(pattern___0);
              if (tmp___53) {
                if ((unsigned int )((void const   *)(pattern___0 + 1)) - (unsigned int )((void const   *)pattern___0) ==
                    1U) {
                  __result___45 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                          0)) - (int const   )(*((unsigned char const   *)str +
                                                                                 0)));
                  if (__s2_len > 0U) {
                    if (__result___45 == 0) {
                      __result___45 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                              1)) - (int const   )(*((unsigned char const   *)str +
                                                                                     1)));
                      if (__s2_len > 1U) {
                        if (__result___45 == 0) {
                          __result___45 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                  2)) - (int const   )(*((unsigned char const   *)str +
                                                                                         2)));
                          if (__s2_len > 2U) {
                            if (__result___45 == 0) {
                              __result___45 = (int )((int const   )(*((unsigned char const   *)pattern___0 +
                                                                      3)) - (int const   )(*((unsigned char const   *)str +
                                                                                             3)));
                            } else {
                              goto _L___159;
                            }
                          } else {
                            _L___159: /* CIL Label */ ;
                          }
                        } else {
                          goto _L___160;
                        }
                      } else {
                        _L___160: /* CIL Label */ ;
                      }
                    } else {
                      goto _L___161;
                    }
                  } else {
                    _L___161: /* CIL Label */ ;
                  }
                  tmp___30 = __result___45;
                } else {
                  goto _L___165;
                }
              } else {
                _L___165: /* CIL Label */ 
                __s1___14 = (unsigned char const   *)pattern___0;
                __result___46 = (int )((int const   )(*(__s1___14 + 0)) - (int const   )(*((unsigned char const   *)str +
                                                                                           0)));
                if (__s2_len > 0U) {
                  if (__result___46 == 0) {
                    __result___46 = (int )((int const   )(*(__s1___14 + 1)) - (int const   )(*((unsigned char const   *)str +
                                                                                               1)));
                    if (__s2_len > 1U) {
                      if (__result___46 == 0) {
                        __result___46 = (int )((int const   )(*(__s1___14 + 2)) -
                                               (int const   )(*((unsigned char const   *)str +
                                                                2)));
                        if (__s2_len > 2U) {
                          if (__result___46 == 0) {
                            __result___46 = (int )((int const   )(*(__s1___14 + 3)) -
                                                   (int const   )(*((unsigned char const   *)str +
                                                                    3)));
                          } else {
                            goto _L___162;
                          }
                        } else {
                          _L___162: /* CIL Label */ ;
                        }
                      } else {
                        goto _L___163;
                      }
                    } else {
                      _L___163: /* CIL Label */ ;
                    }
                  } else {
                    goto _L___164;
                  }
                } else {
                  _L___164: /* CIL Label */ ;
                }
                tmp___30 = __result___46;
              }
            } else {
              goto _L___167;
            }
          } else {
            goto _L___167;
          }
        } else {
          _L___167: /* CIL Label */ 
          tmp___30 = strcmp(pattern___0, str);
        }
      }
    }
    if (tmp___30) {
      return ((unsigned char)0);
    } else {
      return ((unsigned char)1);
    }
  }
}
}
static  __attribute__((__noreturn__)) void do_quit_msg(int exitcode , char const   *msg ) ;
static void do_quit_msg(int exitcode , char const   *msg ) 
{ int err ;
  unsigned char loopcount ;
  int *tmp ;
  int fd ;
  int tmp___0 ;
  char const   *_x ;
  size_t tmp___1 ;

  {
  if (need_tglib_cleanup) {
    endwin();
  }
  if (do_restore_termios) {
    loopcount = (unsigned char)0;
    while (1) {
      err = tcsetattr(0, 2, (struct termios  const  *)(& saved_termios));
      if (err == -1) {
        tmp = __errno_location();
        if ((*tmp) == 4) {
          loopcount = (unsigned char )((int )loopcount + 1);
          if (! (loopcount < 100)) {
            goto _L___0;
          }
        } else {
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
        break;
      }
    }
  }
  if ((unsigned int )msg != (unsigned int )((void *)0)) {
    if (exitcode != 0) {
      tmp___0 = fd_stderr;
    } else {
      tmp___0 = fd_stdout;
    }
    fd = tmp___0;
    while (1) {
      _x = msg;
      tmp___1 = strlen(_x);
      my_write(fd, (void const   *)_x, tmp___1);
      break;
    }
    while (1) {
      break;
    }
  }
  resource_quit();
  exit(exitcode);
}
}
 __attribute__((__noreturn__)) void do_quit(void) ;
void do_quit(void) 
{ 

  {
  do_quit_msg(0, (char const   *)((void *)0));
}
}
 __attribute__((__noreturn__)) void do_quit_sig(void) ;
void do_quit_sig(void) 
{ 

  {
  do_quit_msg(2, "retawq: terminated by a signal\n");
}
}
static char const   prefix[22]  = 
  {      (char const   )'r',      (char const   )'e',      (char const   )'t',      (char const   )'a', 
        (char const   )'w',      (char const   )'q',      (char const   )':',      (char const   )' ', 
        (char const   )'f',      (char const   )'a',      (char const   )'t',      (char const   )'a', 
        (char const   )'l',      (char const   )' ',      (char const   )'e',      (char const   )'r', 
        (char const   )'r',      (char const   )'o',      (char const   )'r',      (char const   )':', 
        (char const   )' ',      (char const   )'\000'};
static unsigned char is_recursive  =    (tBoolean )0;
 __attribute__((__noreturn__)) void fatal_error(int err , char const   *str ) ;
void fatal_error(int err , char const   *str ) 
{ tBoolean is_rec ;
  char buf___2[1000] ;
  char const   *ptr___0 ;
  char const   *p ;
  char const   *tmp ;
  char const   *_x ;
  size_t tmp___0 ;
  char const   *_x___0 ;
  size_t tmp___1 ;
  char const   *errstr ;
  char *tmp___4 ;
  tBoolean too_long ;
  int tmp___6 ;
  size_t tmp___7 ;
  char const   *tmp___9 ;
  char const   *tmp___10 ;

  {
  is_rec = is_recursive;
  is_recursive = (unsigned char)1;
  if (is_rec) {
    tmp = prefix;
  } else {
    tmp = prefix;
  }
  p = tmp;
  while (1) {
    _x = p;
    tmp___0 = strlen(_x);
    my_write(fd_stderr, (void const   *)_x, tmp___0);
    break;
  }
  while (1) {
    _x___0 = str;
    tmp___1 = strlen(_x___0);
    my_write(fd_stderr, (void const   *)_x___0, tmp___1);
    break;
  }
  while (1) {
    break;
  }
  while (1) {
    break;
  }
  if (err <= 0) {
    ptr___0 = strNewline;
  } else {
    if (is_rec) {
      tmp___4 = strerror(err);
    } else {
      tmp___4 = strerror(err);
    }
    errstr = (char const   *)tmp___4;
    tmp___7 = strlen(errstr);
    if (tmp___7 > 200U) {
      tmp___6 = 1;
    } else {
      tmp___6 = 0;
    }
    too_long = (tBoolean )tmp___6;
    if (too_long) {
      if (is_rec) {
        tmp___9 = strUnknown;
      } else {
        tmp___9 = strUnknown;
      }
    } else {
      tmp___9 = errstr;
    }
    if (is_rec) {
      tmp___10 = strErrorTrail;
    } else {
      tmp___10 = strErrorTrail;
    }
    sprintf((char * __restrict  )(buf___2), (char const   * __restrict  )tmp___10,
            err, tmp___9);
    ptr___0 = (char const   *)(buf___2);
  }
  do_quit_msg(1, ptr___0);
}
}
static  __attribute__((__noreturn__)) void out_of_memory(void) ;
static void out_of_memory(void) 
{ 

  {
  fatal_error(12, "out of memory");
}
}
void *__memory_allocate_ll(size_t size ) 
{ void *ptr___0 ;
  void *tmp ;

  {
  tmp = malloc(size);
  ptr___0 = tmp;
  if ((unsigned int )ptr___0 == (unsigned int )((void *)0)) {
    out_of_memory();
  }
  return (ptr___0);
}
}
void *memory_allocate_ll(size_t size ) 
{ void *ptr___0 ;
  void *tmp ;
  void *__s ;
  void *__s___0 ;
  union __anonunion___u_65 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp___0 ;

  {
  tmp = __memory_allocate_ll(size);
  ptr___0 = tmp;
  tmp___0 = __builtin_constant_p(size);
  if (tmp___0) {
    if (size <= 16U) {
      if (size == 1U) {
        __s___1 = ptr___0;
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = ptr___0;
        __u = (union __anonunion___u_65 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )size) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_65 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_65 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_65 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_65 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_65 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_65 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_65 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_65 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_65 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_65 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_65 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_65 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_65 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = ptr___0;
    __builtin_memset(__s, '\000', (int )size);
  }
  return (ptr___0);
}
}
void *memory_reallocate_ll(void *ptr___0 , size_t size ) 
{ void *ptr2 ;
  void *tmp ;

  {
  tmp = realloc(ptr___0, size);
  ptr2 = tmp;
  if ((unsigned int )ptr2 == (unsigned int )((void *)0)) {
    out_of_memory();
  }
  return (ptr2);
}
}
void memory_deallocate_ll(void const   *ptr___0 ) 
{ 

  {
  free((void *)ptr___0);
  return;
}
}
char *my_strdup(char const   *str ) 
{ size_t size ;
  size_t tmp ;
  char *retval ;
  char *tmp___0 ;

  {
  tmp = strlen(str);
  size = tmp + 1U;
  tmp___0 = (char *)__memory_allocate_ll(size);
  retval = tmp___0;
  memcpy((void * __restrict  )retval, (void const   * __restrict  )str, size);
  return (retval);
}
}
char *my_strndup(char const   *str , size_t len ) 
{ char *retval ;
  char *tmp ;
  size_t tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
  tmp = (char *)__memory_allocate_ll(len + 1U);
  retval = tmp;
  tmp___1 = __builtin_constant_p(str);
  if (tmp___1) {
    tmp___2 = __builtin_constant_p(len);
    if (tmp___2) {
      tmp___0 = strlen(str);
      if (tmp___0 + 1U >= len) {
        memcpy((void * __restrict  )retval, (void const   * __restrict  )str, len);
      } else {
        strncpy((char * __restrict  )retval, (char const   * __restrict  )str, len);
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    strncpy((char * __restrict  )retval, (char const   * __restrict  )str, len);
  }
  (*(retval + len)) = (char )'\000';
  return (retval);
}
}
char *my_strdup_tolower(char const   *str ) 
{ char *retval ;
  size_t tmp ;
  char *tmp___0 ;
  char const   *_src ;
  char ch ;
  char *_dest ;
  char const   *tmp___1 ;
  char *tmp___2 ;

  {
  tmp = strlen(str);
  tmp___0 = (char *)__memory_allocate_ll(tmp + 1U);
  retval = tmp___0;
  while (1) {
    _src = str;
    _dest = retval;
    while (1) {
      tmp___1 = _src;
      _src ++;
      ch = (char )(*tmp___1);
      tmp___2 = _dest;
      _dest ++;
      if ((int )ch >= 65) {
        if ((int )ch <= 90) {
          (*tmp___2) = (char )((int )ch + 32);
        } else {
          goto _L;
        }
      } else {
        _L: /* CIL Label */ 
        (*tmp___2) = ch;
      }
      if (! ((int )ch != 0)) {
        break;
      }
    }
    break;
  }
  return (retval);
}
}
char *my_strndup_tolower(char const   *str , size_t len ) 
{ char *retval ;
  char *tmp ;
  char *ptr___0 ;
  char ch ;
  char const   *tmp___0 ;
  char *tmp___1 ;
  size_t tmp___2 ;

  {
  tmp = (char *)__memory_allocate_ll(len + 1U);
  retval = tmp;
  ptr___0 = retval;
  while (1) {
    tmp___2 = len;
    len --;
    if (! (tmp___2 > 0U)) {
      break;
    }
    tmp___0 = str;
    str ++;
    ch = (char )(*tmp___0);
    tmp___1 = ptr___0;
    ptr___0 ++;
    if ((int )ch >= 65) {
      if ((int )ch <= 90) {
        (*tmp___1) = (char )((int )ch + 32);
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      (*tmp___1) = ch;
    }
  }
  (*ptr___0) = (char )'\000';
  return (retval);
}
}
unsigned char is_time_valid  =    (tBoolean )0;
static long current_time  =    (time_t )0;
time_t my_time(void) 
{ time_t t ;
  time_t tmp ;

  {
  if (! is_time_valid) {
    tmp = time((time_t *)((void *)0));
    t = tmp;
    if (t != -1L) {
      current_time = t;
      is_time_valid = (unsigned char)1;
    }
  }
  return (current_time);
}
}
tBoolean my_memdiff(void const   *_a , void const   *_b , size_t count___2 ) 
{ tBoolean retval ;
  char const   *a ;
  char const   *b ;
  char const   *tmp ;
  char const   *tmp___0 ;
  size_t tmp___1 ;

  {
  retval = (tBoolean )0;
  a = (char const   *)_a;
  b = (char const   *)_b;
  while (1) {
    tmp___1 = count___2;
    count___2 --;
    if (! (tmp___1 > 0U)) {
      break;
    }
    tmp = a;
    a ++;
    tmp___0 = b;
    b ++;
    if ((int const   )(*tmp) != (int const   )(*tmp___0)) {
      retval = (unsigned char)1;
      break;
    }
  }
  return (retval);
}
}
static char const   *homepath  =    (char const   *)((void *)0);
char const   *get_homepath(void) 
{ char const   *env ;
  char const   *tmp ;
  tBoolean has_trailslash ;
  int tmp___1 ;
  size_t tmp___2 ;
  char *spfbuf ;
  char const   *tmp___3 ;

  {
  if ((unsigned int )homepath == (unsigned int )((void *)0)) {
    tmp = getenv("HOME");
    env = tmp;
    if ((unsigned int )env == (unsigned int )((void *)0)) {
      goto _L;
    } else {
      if ((int const   )(*env) == 0) {
        _L: /* CIL Label */ 
        homepath = strEmpty;
      } else {
        tmp___2 = strlen(env);
        if ((int const   )(*(env + (tmp___2 - 1U))) == 47) {
          tmp___1 = 1;
        } else {
          tmp___1 = 0;
        }
        has_trailslash = (tBoolean )tmp___1;
        if (has_trailslash) {
          tmp___3 = strEmpty;
        } else {
          tmp___3 = strSlash;
        }
        my_spf((char *)((void *)0), 0U, & spfbuf, strPercsPercs, env, tmp___3);
        homepath = (char const   *)spfbuf;
      }
    }
  }
  return (homepath);
}
}
static char const   allowed[8]  = 
  {      (char const   )'g',      (char const   )'i',      (char const   )'m',      (char const   )'n', 
        (char const   )'s',      (char const   )'t',      (char const   )'u',      (char const   )'\000'};
void check_localdirsort(char *str ) 
{ char const   *src ;
  char ch ;
  char *dest ;
  unsigned char bits ;
  char lch ;
  int tmp ;
  char const   *pos ;
  char *tmp___3 ;
  int tmp___5 ;
  char val ;
  char *tmp___6 ;
  char const   *tmp___7 ;

  {
  bits = (unsigned char)0;
  if ((int )(*str) == 95) {
    (*(str + 1)) = (char )'\000';
    return;
  }
  dest = str;
  src = (char const   *)dest;
  while (1) {
    tmp___7 = src;
    src ++;
    ch = (char )(*tmp___7);
    if (! ((int )ch != 0)) {
      break;
    }
    if ((int )ch >= 65) {
      if ((int )ch <= 90) {
        tmp = (int )ch + 32;
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      tmp = (int )ch;
    }
    lch = (char )tmp;
    tmp___5 = __builtin_constant_p(lch);
    if (tmp___5) {
      if ((int )lch == 0) {
        tmp___3 = (char *)__rawmemchr((void const   *)(allowed), (int )lch);
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      tmp___3 = strchr(allowed, (int )lch);
    }
    pos = (char const   *)tmp___3;
    if ((unsigned int )pos != (unsigned int )((void *)0)) {
      val = (char )(pos - allowed);
      if (! ((int )(*(& bits + (int )val / 8)) & (1 << (int )val % 8))) {
        (*(& bits + (int )val / 8)) = (unsigned char )((int )(*(& bits + (int )val /
                                                                         8)) | (1 <<
                                                                                (int )val %
                                                                                8));
        tmp___6 = dest;
        dest ++;
        (*tmp___6) = ch;
      }
    }
  }
  (*dest) = (char )'\000';
  return;
}
}
static unsigned int fd_observatory_trashcount  =    (size_t )0;
static fd_set fds_read  ;
static fd_set fds_write  ;
static fd_set fds_r  ;
static fd_set fds_w  ;
static fd_set fds_e  ;
static int highest_select_fd  =    0;
tBoolean fd_is_observable(int fd ) 
{ tBoolean retval ;

  {
  if (fd < 1024) {
    retval = (unsigned char)1;
  } else {
    retval = (unsigned char)0;
  }
  return (retval);
}
}
static tFdObservationData *fd_observatory[8]  ;
void fd_observe_init(void) 
{ void *__s ;
  void *__s___0 ;
  union __anonunion___u_66 *__u ;
  __uint8_t __c ;
  void *__s___1 ;
  int tmp ;
  int __d0 ;
  int __d1 ;
  int __d0___0 ;
  int __d1___0 ;

  {
  tmp = __builtin_constant_p(sizeof(fd_observatory));
  if (tmp) {
    if (sizeof(fd_observatory) <= 16U) {
      if (sizeof(fd_observatory) == 1U) {
        __s___1 = (void *)(fd_observatory);
        (*((__uint8_t *)__s___1)) = (unsigned char)0;
      } else {
        __s___0 = (void *)(fd_observatory);
        __u = (union __anonunion___u_66 *)__s___0;
        __c = (unsigned char)0;
        switch ((int )sizeof(fd_observatory)) {
        case 15: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_66 *)((void *)__u + 4);
        case 11: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_66 *)((void *)__u + 4);
        case 7: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_66 *)((void *)__u + 4);
        case 3: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        __u = (union __anonunion___u_66 *)((void *)__u + 2);
        __u->__uc = __c;
        break;
        case 14: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_66 *)((void *)__u + 4);
        case 10: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_66 *)((void *)__u + 4);
        case 6: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_66 *)((void *)__u + 4);
        case 2: 
        __u->__usi = (unsigned short )((int )((unsigned short )__c) * 257);
        break;
        case 13: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_66 *)((void *)__u + 4);
        case 9: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_66 *)((void *)__u + 4);
        case 5: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_66 *)((void *)__u + 4);
        case 1: 
        __u->__uc = __c;
        break;
        case 16: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_66 *)((void *)__u + 4);
        case 12: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_66 *)((void *)__u + 4);
        case 8: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        __u = (union __anonunion___u_66 *)((void *)__u + 4);
        case 4: 
        __u->__ui = (unsigned int )((int )__c * 16843009);
        case 0: ;
        break;
        }
      }
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    __s = (void *)(fd_observatory);
    __builtin_memset(__s, '\000', (int )sizeof(fd_observatory));
  }
  while (1) {
    __asm__  volatile   ("cld; rep; stosl": "=c" (__d0), "=D" (__d1): "a" (0), "0" (sizeof(fd_set ) /
                                                                                    sizeof(__fd_mask )),
                         "1" (& fds_read.__fds_bits[0]): "memory");
    break;
  }
  while (1) {
    __asm__  volatile   ("cld; rep; stosl": "=c" (__d0___0), "=D" (__d1___0): "a" (0),
                         "0" (sizeof(fd_set ) / sizeof(__fd_mask )), "1" (& fds_write.__fds_bits[0]): "memory");
    break;
  }
  fds_e = fds_read;
  fds_r = fds_e;
  fds_w = fds_write;
  return;
}
}
static void fd_observatory_cleanup(void) 
{ unsigned char cnt ;
  tFdObservationData *data ;
  tFdObservationData **headaddr0 ;
  tFdObservationData *head0 ;
  tFdObservationData *entry ;

  {
  if (fd_observatory_trashcount > 0U) {
    cnt = (unsigned char)0;
    while ((int )cnt < 8) {
      recheck_list: 
      data = fd_observatory[cnt];
      while ((unsigned int )data != (unsigned int )((void *)0)) {
        if (data->is_trashed) {
          while (1) {
            headaddr0 = & fd_observatory[cnt];
            head0 = (*headaddr0);
            entry = data;
            if ((unsigned int )head0 == (unsigned int )((void *)0)) {
              goto _L;
            } else {
              if ((unsigned int )entry == (unsigned int )((void *)0)) {
                _L: /* CIL Label */ ;
              } else {
                if ((unsigned int )head0 == (unsigned int )entry) {
                  (*headaddr0) = head0->next;
                } else {
                  while ((unsigned int )head0->next != (unsigned int )((void *)0)) {
                    if ((unsigned int )head0->next == (unsigned int )entry) {
                      head0->next = entry->next;
                      break;
                    }
                    head0 = head0->next;
                  }
                }
              }
            }
            break;
          }
          memory_deallocate_ll((void const   *)data);
          fd_observatory_trashcount --;
          if (fd_observatory_trashcount > 0U) {
            goto recheck_list;
          } else {
            goto trash_disposed;
          }
        }
        data = data->next;
      }
      cnt = (unsigned char )((int )cnt + 1);
    }
    trash_disposed: ;
  }
  return;
}
}
static tFdObservationData *fd_observe_lookup(int fd ) 
{ tFdObservationData *data ;

  {
  data = fd_observatory[fd & 7];
  while ((unsigned int )data != (unsigned int )((void *)0)) {
    if (data->fd == fd) {
      if (! data->is_trashed) {
        break;
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ ;
    }
    data = data->next;
  }
  return (data);
}
}
void fd_observe(int fd , void (*handler)(void * , tFdObservationFlags  ) , void *handler_data ,
                tFdObservationFlags flags ) 
{ tFdObservationData *data ;
  tFdObservationData *tmp ;
  int h___0 ;

  {
  tmp = fd_observe_lookup(fd);
  data = tmp;
  if ((unsigned int )data == (unsigned int )((void *)0)) {
    h___0 = fd & 7;
    data = (tFdObservationData *)memory_allocate_ll(sizeof(tFdObservationData ));
    data->fd = fd;
    data->next = fd_observatory[h___0];
    fd_observatory[h___0] = data;
  }
  data->handler = handler;
  data->handler_data = handler_data;
  data->flags = flags;
  if (highest_select_fd < fd) {
    highest_select_fd = fd;
  }
  if ((int )flags & 1) {
    __asm__  volatile   ("btsl %1,%0": "=m" (fds_read.__fds_bits[(unsigned int )fd /
                                                                 (8U * sizeof(__fd_mask ))]): "r" ((unsigned int )fd %
                                                                                                   (8U *
                                                                                                    sizeof(__fd_mask ))): "cc",
                         "memory");
  } else {
    __asm__  volatile   ("btrl %1,%0": "=m" (fds_read.__fds_bits[(unsigned int )fd /
                                                                 (8U * sizeof(__fd_mask ))]): "r" ((unsigned int )fd %
                                                                                                   (8U *
                                                                                                    sizeof(__fd_mask ))): "cc",
                         "memory");
    __asm__  volatile   ("btrl %1,%0": "=m" (fds_r.__fds_bits[(unsigned int )fd /
                                                              (8U * sizeof(__fd_mask ))]): "r" ((unsigned int )fd %
                                                                                                (8U *
                                                                                                 sizeof(__fd_mask ))): "cc",
                         "memory");
    __asm__  volatile   ("btrl %1,%0": "=m" (fds_e.__fds_bits[(unsigned int )fd /
                                                              (8U * sizeof(__fd_mask ))]): "r" ((unsigned int )fd %
                                                                                                (8U *
                                                                                                 sizeof(__fd_mask ))): "cc",
                         "memory");
  }
  if ((int )flags & 2) {
    __asm__  volatile   ("btsl %1,%0": "=m" (fds_write.__fds_bits[(unsigned int )fd /
                                                                  (8U * sizeof(__fd_mask ))]): "r" ((unsigned int )fd %
                                                                                                    (8U *
                                                                                                     sizeof(__fd_mask ))): "cc",
                         "memory");
  } else {
    __asm__  volatile   ("btrl %1,%0": "=m" (fds_write.__fds_bits[(unsigned int )fd /
                                                                  (8U * sizeof(__fd_mask ))]): "r" ((unsigned int )fd %
                                                                                                    (8U *
                                                                                                     sizeof(__fd_mask ))): "cc",
                         "memory");
    __asm__  volatile   ("btrl %1,%0": "=m" (fds_w.__fds_bits[(unsigned int )fd /
                                                              (8U * sizeof(__fd_mask ))]): "r" ((unsigned int )fd %
                                                                                                (8U *
                                                                                                 sizeof(__fd_mask ))): "cc",
                         "memory");
  }
}
}
void fd_unobserve(int fd ) 
{ tFdObservationData *data ;
  tFdObservationData *tmp ;

  {
  tmp = fd_observe_lookup(fd);
  data = tmp;
  if ((unsigned int )data != (unsigned int )((void *)0)) {
    data->is_trashed = (unsigned char)1;
    fd_observatory_trashcount ++;
    __asm__  volatile   ("btrl %1,%0": "=m" (fds_read.__fds_bits[(unsigned int )fd /
                                                                 (8U * sizeof(__fd_mask ))]): "r" ((unsigned int )fd %
                                                                                                   (8U *
                                                                                                    sizeof(__fd_mask ))): "cc",
                         "memory");
    __asm__  volatile   ("btrl %1,%0": "=m" (fds_r.__fds_bits[(unsigned int )fd /
                                                              (8U * sizeof(__fd_mask ))]): "r" ((unsigned int )fd %
                                                                                                (8U *
                                                                                                 sizeof(__fd_mask ))): "cc",
                         "memory");
    __asm__  volatile   ("btrl %1,%0": "=m" (fds_e.__fds_bits[(unsigned int )fd /
                                                              (8U * sizeof(__fd_mask ))]): "r" ((unsigned int )fd %
                                                                                                (8U *
                                                                                                 sizeof(__fd_mask ))): "cc",
                         "memory");
    __asm__  volatile   ("btrl %1,%0": "=m" (fds_write.__fds_bits[(unsigned int )fd /
                                                                  (8U * sizeof(__fd_mask ))]): "r" ((unsigned int )fd %
                                                                                                    (8U *
                                                                                                     sizeof(__fd_mask ))): "cc",
                         "memory");
    __asm__  volatile   ("btrl %1,%0": "=m" (fds_w.__fds_bits[(unsigned int )fd /
                                                              (8U * sizeof(__fd_mask ))]): "r" ((unsigned int )fd %
                                                                                                (8U *
                                                                                                 sizeof(__fd_mask ))): "cc",
                         "memory");
    while (1) {
      break;
    }
  }
  return;
}
}
void fd_multiplex(void) 
{ unsigned short loopcount ;
  int count___2 ;
  unsigned char cnt ;
  int tmp___0 ;
  int *tmp___1 ;
  int *tmp___2 ;
  tFdObservationData const   *data ;
  int fd ;
  tFdObservationFlags flags ;
  register char __result ;
  register char __result___0 ;
  register char __result___1 ;
  void (*handler)(void * , tFdObservationFlags  ) ;
  void *handler_data ;

  {
  loopcount = (unsigned short)0;
  fd_observatory_cleanup();
  loop: 
  fds_e = fds_read;
  fds_r = fds_e;
  fds_w = fds_write;
  count___2 = select(highest_select_fd + 1, (fd_set * __restrict  )(& fds_r), (fd_set * __restrict  )(& fds_w),
                     (fd_set * __restrict  )(& fds_e), (struct timeval * __restrict  )((void *)0));
  is_time_valid = (unsigned char)0;
  if (count___2 <= 0) {
    if (count___2 == -1) {
      tmp___2 = __errno_location();
      if ((*tmp___2) == 4) {
        loopcount = (unsigned short )((int )loopcount + 1);
        if (loopcount < 10000) {
          goto loop;
        } else {
          goto _L___0;
        }
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      if (count___2 == -1) {
        tmp___1 = __errno_location();
        tmp___0 = (*tmp___1);
      } else {
        tmp___0 = 0;
      }
      fatal_error(tmp___0, "I/O multiplexing failed");
    }
  }
  resource_preplex();
  cnt = (unsigned char)0;
  while ((int )cnt < 8) {
    data = (tFdObservationData const   *)fd_observatory[cnt];
    while ((unsigned int )data != (unsigned int )((void *)0)) {
      if (data->is_trashed) {
        goto do_next;
      }
      fd = data->fd;
      flags = data->flags;
      __asm__  volatile   ("btl %1,%2 ; setcb %b0": "=q" (__result): "r" ((unsigned int )fd %
                                                                          (8U * sizeof(__fd_mask ))),
                           "m" (fds_r.__fds_bits[(unsigned int )fd / (8U * sizeof(__fd_mask ))]): "cc");
      if (__result) {
        goto _L___1;
      } else {
        __asm__  volatile   ("btl %1,%2 ; setcb %b0": "=q" (__result___0): "r" ((unsigned int )fd %
                                                                                (8U *
                                                                                 sizeof(__fd_mask ))),
                             "m" (fds_e.__fds_bits[(unsigned int )fd / (8U * sizeof(__fd_mask ))]): "cc");
        if (__result___0) {
          _L___1: /* CIL Label */ ;
        } else {
          flags = (unsigned char )((int )flags & -2);
        }
      }
      __asm__  volatile   ("btl %1,%2 ; setcb %b0": "=q" (__result___1): "r" ((unsigned int )fd %
                                                                              (8U *
                                                                               sizeof(__fd_mask ))),
                           "m" (fds_w.__fds_bits[(unsigned int )fd / (8U * sizeof(__fd_mask ))]): "cc");
      if (! __result___1) {
        flags = (unsigned char )((int )flags & -3);
      }
      if (flags) {
        handler = data->handler;
        handler_data = data->handler_data;
        ((*handler))(handler_data, flags);
        count___2 --;
        if (count___2 <= 0) {
          goto finish;
        }
      }
      do_next: 
      data = (tFdObservationData const   *)data->next;
    }
    cnt = (unsigned char )((int )cnt + 1);
  }
  finish: 
  fd_observatory_cleanup();
  resource_postplex();
  return;
}
}
 __attribute__((__noreturn__)) void fatal_tmofd(int fd ) ;
void fatal_tmofd(int fd ) 
{ char buf___2[1024] ;

  {
  sprintf((char * __restrict  )(buf___2), (char const   * __restrict  )"%s (given value is %d, highest select()-able value is %d)",
          strResourceError[26], fd, 1023);
  fatal_error(0, (char const   *)(buf___2));
  fatal_error(0, (char const   *)strResourceError[26]);
}
}
int my_create(char const   *path , int flags , mode_t mode ) 
{ int retval ;
  unsigned char loopcount ;
  int *tmp ;

  {
  loopcount = (unsigned char)0;
  while (1) {
    retval = open(path, flags | 256, mode);
    if (retval == -1) {
      tmp = __errno_location();
      if ((*tmp) == 4) {
        loopcount = (unsigned char )((int )loopcount + 1);
        if (! (loopcount < 100)) {
          goto _L___0;
        }
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      break;
    }
  }
  if (retval >= 0) {
    while (1) {
      break;
    }
  }
  return (retval);
}
}
int my_open(char const   *path , int flags ) 
{ int retval ;
  unsigned char loopcount ;
  int *tmp ;

  {
  loopcount = (unsigned char)0;
  while (1) {
    retval = open(path, flags | 256);
    if (retval == -1) {
      tmp = __errno_location();
      if ((*tmp) == 4) {
        loopcount = (unsigned char )((int )loopcount + 1);
        if (! (loopcount < 100)) {
          goto _L___0;
        }
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      break;
    }
  }
  if (retval >= 0) {
    while (1) {
      break;
    }
  }
  return (retval);
}
}
void my_close(int fd ) 
{ int err ;
  unsigned short loopcount ;
  int *tmp ;

  {
  fd_unobserve(fd);
  loopcount = (unsigned short)0;
  while (1) {
    err = close(fd);
    if (err == -1) {
      tmp = __errno_location();
      if ((*tmp) == 4) {
        loopcount = (unsigned short )((int )loopcount + 1);
        if (! (loopcount < 10000)) {
          goto _L___0;
        }
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      break;
    }
  }
  return;
}
}
ssize_t my_read(int fd , void *buf___2 , size_t count___2 ) 
{ ssize_t retval ;
  unsigned char loopcount ;
  int *tmp ;

  {
  loopcount = (unsigned char)0;
  while (1) {
    retval = read(fd, buf___2, count___2);
    if (retval == -1) {
      tmp = __errno_location();
      if ((*tmp) == 4) {
        loopcount = (unsigned char )((int )loopcount + 1);
        if (! (loopcount < 100)) {
          goto _L___0;
        }
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      break;
    }
  }
  return (retval);
}
}
ssize_t __my_write(int fd , void const   *buf___2 , size_t count___2 ) 
{ ssize_t retval ;
  unsigned char loopcount ;
  int *tmp ;

  {
  loopcount = (unsigned char)0;
  while (1) {
    retval = write(fd, buf___2, count___2);
    if (retval == -1) {
      tmp = __errno_location();
      if ((*tmp) == 4) {
        loopcount = (unsigned char )((int )loopcount + 1);
        if (! (loopcount < 100)) {
          goto _L___0;
        }
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      break;
    }
  }
  return (retval);
}
}
ssize_t my_write(int fd , void const   *buf___2 , size_t count___2 ) 
{ size_t countleft ;
  ssize_t err ;
  ssize_t tmp ;
  int *tmp___0 ;

  {
  countleft = count___2;
  while (countleft > 0U) {
    tmp = __my_write(fd, buf___2, countleft);
    err = tmp;
    if (err == 0) {
      err = -1;
      tmp___0 = __errno_location();
      (*tmp___0) = 5;
    }
    if (err < 0) {
      return (err);
    } else {
      if (err > (int )countleft) {
        break;
      }
    }
    countleft -= (size_t )err;
    buf___2 = (void const   *)((char *)buf___2 + err);
  }
  return ((int )count___2);
}
}
void my_write_crucial(int fd , void const   *buf___2 , size_t count___2 ) 
{ ssize_t err ;
  ssize_t tmp ;
  int tmp___1 ;
  int *tmp___2 ;

  {
  tmp = my_write(fd, buf___2, count___2);
  err = tmp;
  if (err != (int )count___2) {
    if (err == -1) {
      tmp___2 = __errno_location();
      tmp___1 = (*tmp___2);
    } else {
      tmp___1 = 0;
    }
    fatal_error(tmp___1, "write() failed");
  }
  return;
}
}
unsigned char my_mmap_file_readonly(char const   *filename , void **_b , size_t *_s ) 
{ unsigned char retval ;
  int fd ;
  int tmp ;
  struct stat statbuf ;
  size_t size ;
  void *filebuf ;
  int tmp___0 ;
  int *tmp___1 ;
  int e ;
  int *tmp___2 ;
  int *tmp___3 ;

  {
  retval = (unsigned char)0;
  tmp = my_open(filename, 0);
  fd = tmp;
  if (fd < 0) {
    goto out;
  }
  tmp___0 = my_fstat(fd, & statbuf);
  if (tmp___0 != 0) {
    goto cleanup;
  }
  if (! ((statbuf.st_mode & 61440U) == 32768U)) {
    if ((statbuf.st_mode & 61440U) == 16384U) {
      tmp___1 = __errno_location();
      (*tmp___1) = 21;
    }
    goto cleanup;
  }
  size = (unsigned int )statbuf.st_size;
  if (size <= 0U) {
    retval = (unsigned char)1;
    goto cleanup;
  }
  filebuf = mmap((void *)0, size, 1, 2, fd, 0L);
  if ((unsigned int )filebuf == (unsigned int )((void *)-1)) {
    goto cleanup;
  }
  madvise(filebuf, size, 2);
  (*_b) = filebuf;
  (*_s) = size;
  retval = (unsigned char)2;
  cleanup: 
  tmp___2 = __errno_location();
  e = (*tmp___2);
  my_close(fd);
  tmp___3 = __errno_location();
  (*tmp___3) = e;
  out: 
  return (retval);
}
}
int my_stat(char const   *filename , struct stat *sb ) 
{ int retval ;
  unsigned char loopcount ;
  int *tmp ;

  {
  loopcount = (unsigned char)0;
  while (1) {
    retval = stat__extinline(filename, sb);
    if (retval == -1) {
      tmp = __errno_location();
      if ((*tmp) == 4) {
        loopcount = (unsigned char )((int )loopcount + 1);
        if (! (loopcount < 100)) {
          goto _L___0;
        }
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      break;
    }
  }
  return (retval);
}
}
int my_fstat(int fd , struct stat *sb ) 
{ int retval ;
  unsigned char loopcount ;
  int *tmp ;

  {
  loopcount = (unsigned char)0;
  while (1) {
    retval = fstat__extinline(fd, sb);
    if (retval == -1) {
      tmp = __errno_location();
      if ((*tmp) == 4) {
        loopcount = (unsigned char )((int )loopcount + 1);
        if (! (loopcount < 100)) {
          goto _L___0;
        }
      } else {
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      break;
    }
  }
  return (retval);
}
}
void dhm_generic_handler(tDhmGenericData **_dhm_data , void const   *cmddata , tDhmCommand cmd ) 
{ tDhmGenericData *data ;
  tDhmNotificationFlags old_flags ;
  tDhmNotificationFlags new_flags ;
  tDhmNotificationFlags flags ;
  tDhmNotificationSetup const   *dns ;
  tDhmNotificationEntry *dne ;
  tDhmControlData const   *dcd ;
  tDhmControlCode dcc ;
  void *dcdd ;
  tDhmNotificationEntry **headaddr0 ;
  tDhmNotificationEntry *head0 ;
  tDhmNotificationEntry *entry ;
  tDhmNotificationEntry *next ;

  {
  data = (*_dhm_data);
  switch ((int )cmd) {
  case 0: 
  (*_dhm_data) = (tDhmGenericData *)memory_allocate_ll(sizeof(tDhmGenericData ));
  data = (*_dhm_data);
  data->object = (void *)cmddata;
  break;
  case 1: 
  data->refcount = data->refcount + 1U;
  break;
  case 2: ;
  if (data->refcount > 0U) {
    data->refcount = data->refcount - 1U;
  }
  if (data->refcount <= 0U) {
    dcc = (unsigned char)0;
    dcdd = (void *)0;
    goto do_control;
  }
  break;
  case 3: 
  dns = (tDhmNotificationSetup const   *)cmddata;
  dne = data->notifications;
  while ((unsigned int )dne != (unsigned int )((void *)0)) {
    if ((unsigned int )dne->callback == (unsigned int )dns->callback) {
      if ((unsigned int )dne->callback_data == (unsigned int )dns->callback_data) {
        break;
      } else {
        goto _L;
      }
    } else {
      _L: /* CIL Label */ ;
    }
    dne = dne->next;
  }
  if ((unsigned int )dne != (unsigned int )((void *)0)) {
    old_flags = dne->flags;
  } else {
    old_flags = (unsigned char)0;
  }
  flags = dns->flags;
  switch ((int )dns->mode) {
  case 0: 
  new_flags = flags;
  break;
  case 1: 
  new_flags = (unsigned char )((int )old_flags | (int )flags);
  break;
  case 2: 
  new_flags = (unsigned char )((int )old_flags & ~ ((int )flags));
  break;
  case 3: 
  new_flags = (unsigned char )((int )old_flags ^ (int )flags);
  break;
  default: ;
  while (1) {
    break;
  }
  new_flags = (unsigned char)0;
  break;
  }
  if ((unsigned int )dne != (unsigned int )((void *)0)) {
    if ((int )new_flags != 0) {
      dne->flags = new_flags;
    } else {
      while (1) {
        headaddr0 = & data->notifications;
        head0 = (*headaddr0);
        entry = dne;
        if ((unsigned int )head0 == (unsigned int )((void *)0)) {
          goto _L___0;
        } else {
          if ((unsigned int )entry == (unsigned int )((void *)0)) {
            _L___0: /* CIL Label */ ;
          } else {
            if ((unsigned int )head0 == (unsigned int )entry) {
              (*headaddr0) = head0->next;
            } else {
              while ((unsigned int )head0->next != (unsigned int )((void *)0)) {
                if ((unsigned int )head0->next == (unsigned int )entry) {
                  head0->next = entry->next;
                  break;
                }
                head0 = head0->next;
              }
            }
          }
        }
        break;
      }
      memory_deallocate_ll((void const   *)dne);
    }
  } else {
    if ((int )new_flags != 0) {
      dne = (tDhmNotificationEntry *)__memory_allocate_ll(sizeof(tDhmNotificationEntry ));
      dne->next = data->notifications;
      data->notifications = dne;
      dne->callback = dns->callback;
      dne->callback_data = dns->callback_data;
      dne->flags = new_flags;
    }
  }
  break;
  case 4: 
  flags = (*((tDhmNotificationFlags const   *)cmddata));
  dne = data->notifications;
  while ((unsigned int )dne != (unsigned int )((void *)0)) {
    new_flags = (unsigned char )((int )flags & (int )dne->flags);
    if ((int )new_flags != 0) {
      ((*(dne->callback)))(dne->callback_data, new_flags);
    }
    dne = dne->next;
  }
  if ((int )flags & 3) {
    dne = data->notifications;
    while ((unsigned int )dne != (unsigned int )((void *)0)) {
      next = dne->next;
      memory_deallocate_ll((void const   *)dne);
      dne = next;
    }
    memory_deallocate_ll((void const   *)data);
    (*_dhm_data) = (tDhmGenericData *)((void *)0);
  }
  break;
  case 5: 
  dcd = (tDhmControlData const   *)cmddata;
  dcc = dcd->code;
  dcdd = dcd->data;
  do_control: 
  if ((unsigned int )data->control_handler != (unsigned int )((void *)0)) {
    ((*(data->control_handler)))(data->object, dcdd, dcc);
  }
  break;
  }
  return;
}
}
void ( /* format attribute */  my_spf)(char *staticbuf , size_t staticbufsize , char **spfbuf ,
                                       char const   *format  , ...) 
{ va_list vl ;
  char numbuf[50] ;
  char ch ;
  char *dest ;
  char *desttmp ;
  char const   *tmp ;
  size_t destlen ;
  tBoolean inside ;
  tBoolean is_long ;
  size_t tmp___0 ;
  char const   *s ;
  char *tmp___1 ;
  size_t tmp___2 ;
  long num ;
  long tmp___3 ;
  int num___0 ;
  int tmp___4 ;
  size_t tmp___5 ;
  int tmp___6 ;
  void *tmp___7 ;
  char const   *tmp___8 ;
  char const   *s___0 ;
  char *tmp___9 ;
  char ch0 ;
  char *tmp___10 ;
  char const   *tmp___11 ;
  char ch0___0 ;
  char *s___1 ;
  long num___1 ;
  long tmp___12 ;
  int num___2 ;
  int tmp___13 ;
  char *tmp___14 ;
  char *tmp___15 ;
  char ch0___1 ;
  int tmp___16 ;
  char *tmp___17 ;
  void *p ;
  void *tmp___18 ;
  unsigned long l ;
  unsigned short count___2 ;
  char *t ;
  char *tmp___19 ;
  char *tmp___20 ;
  unsigned short tmp___21 ;
  char *tmp___22 ;
  char const   *tmp___23 ;

  {
  is_long = (tBoolean )0;
  tmp___0 = strlen(format);
  destlen = tmp___0 + 1U;
  tmp = format;
  inside = (unsigned char)0;
  __builtin_stdarg_start(vl, format);
  while (1) {
    tmp___8 = tmp;
    tmp ++;
    ch = (char )(*tmp___8);
    if (! ((int )ch != 0)) {
      break;
    }
    if (inside) {
      inside = (unsigned char)0;
      if ((int )ch == 115) {
        tmp___1 = __builtin_va_arg(vl, char *);
        s = (char const   *)tmp___1;
        if ((unsigned int )s != (unsigned int )((void *)0)) {
          tmp___2 = strlen(s);
          destlen += tmp___2;
        }
      } else {
        if ((int )ch == 100) {
          if (is_long) {
            tmp___3 = __builtin_va_arg(vl, long );
            num = tmp___3;
            sprintf((char * __restrict  )(numbuf), (char const   * __restrict  )(strPercld),
                    num);
          } else {
            tmp___4 = __builtin_va_arg(vl, int );
            num___0 = tmp___4;
            sprintf((char * __restrict  )(numbuf), (char const   * __restrict  )(strPercd),
                    num___0);
          }
          tmp___5 = strlen((char const   *)(numbuf));
          destlen += tmp___5;
        } else {
          if ((int )ch == 99) {
            tmp___6 = __builtin_va_arg(vl, int );
            destlen ++;
          } else {
            if ((int )ch == 112) {
              tmp___7 = __builtin_va_arg(vl, void *);
              destlen += 2U + 2U * sizeof(void *);
            } else {
              if ((int )ch == 108) {
                is_long = (unsigned char)1;
                inside = is_long;
                destlen --;
                goto dontdec;
              } else {
                goto dontdec;
              }
            }
          }
        }
      }
      destlen -= 2U;
      dontdec: ;
    } else {
      if ((int )ch == 37) {
        inside = (unsigned char)1;
        is_long = (unsigned char)0;
      }
    }
  }
  __builtin_va_end(vl);
  if ((unsigned int )staticbuf != (unsigned int )((void *)0)) {
    if (staticbufsize >= destlen) {
      dest = staticbuf;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    dest = (char *)__memory_allocate_ll(destlen);
  }
  desttmp = dest;
  tmp = format;
  inside = (unsigned char)0;
  __builtin_stdarg_start(vl, format);
  while (1) {
    tmp___23 = tmp;
    tmp ++;
    ch = (char )(*tmp___23);
    if (! ((int )ch != 0)) {
      break;
    }
    if (inside) {
      inside = (unsigned char)0;
      if ((int )ch == 115) {
        tmp___9 = __builtin_va_arg(vl, char *);
        s___0 = (char const   *)tmp___9;
        if ((unsigned int )s___0 != (unsigned int )((void *)0)) {
          while (1) {
            tmp___11 = s___0;
            s___0 ++;
            ch0 = (char )(*tmp___11);
            if (! ((int )ch0 != 0)) {
              break;
            }
            tmp___10 = desttmp;
            desttmp ++;
            (*tmp___10) = ch0;
          }
        }
      } else {
        if ((int )ch == 100) {
          s___1 = numbuf;
          if (is_long) {
            tmp___12 = __builtin_va_arg(vl, long );
            num___1 = tmp___12;
            sprintf((char * __restrict  )(numbuf), (char const   * __restrict  )(strPercld),
                    num___1);
          } else {
            tmp___13 = __builtin_va_arg(vl, int );
            num___2 = tmp___13;
            sprintf((char * __restrict  )(numbuf), (char const   * __restrict  )(strPercd),
                    num___2);
          }
          while (1) {
            tmp___15 = s___1;
            s___1 ++;
            ch0___0 = (*tmp___15);
            if (! ((int )ch0___0 != 0)) {
              break;
            }
            tmp___14 = desttmp;
            desttmp ++;
            (*tmp___14) = ch0___0;
          }
        } else {
          if ((int )ch == 99) {
            tmp___16 = __builtin_va_arg(vl, int );
            ch0___1 = (char )tmp___16;
            if ((int )ch0___1 != 0) {
              tmp___17 = desttmp;
              desttmp ++;
              (*tmp___17) = ch0___1;
            }
          } else {
            if ((int )ch == 112) {
              tmp___18 = __builtin_va_arg(vl, void *);
              p = tmp___18;
              l = (unsigned long )p;
              count___2 = (unsigned short )(2U * sizeof(void *));
              tmp___19 = desttmp;
              desttmp ++;
              (*tmp___19) = (char )'0';
              tmp___20 = desttmp;
              desttmp ++;
              (*tmp___20) = (char )'x';
              desttmp = desttmp + (int )count___2;
              t = desttmp;
              while (1) {
                tmp___21 = count___2;
                count___2 = (unsigned short )((int )count___2 - 1);
                if (! (tmp___21 > 0)) {
                  break;
                }
                t --;
                (*t) = (char )strHexnum[l & 15UL];
                l >>= 4;
              }
            } else {
              if ((int )ch == 108) {
                is_long = (unsigned char)1;
                inside = is_long;
              } else {
                goto append;
              }
            }
          }
        }
      }
    } else {
      if ((int )ch == 37) {
        inside = (unsigned char)1;
        is_long = (unsigned char)0;
      } else {
        append: 
        tmp___22 = desttmp;
        desttmp ++;
        (*tmp___22) = ch;
      }
    }
  }
  __builtin_va_end(vl);
  (*desttmp) = (char )'\000';
  (*spfbuf) = dest;
  return;
}
}
